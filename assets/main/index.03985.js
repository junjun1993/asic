window.__require=function e(t,n,o){function a(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return a(t[r][1][e]||e)},u,u.exports,e,t,n,o)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<o.length;r++)a(o[r]);return a}({AlertView:[function(e,t){"use strict";cc._RF.push(t,"f728bYNFEZGxpE0Z85NpgJi","AlertView");var n=o(e("SharedFunction"));function o(e){return e&&e.__esModule?e:{default:e}}o(e("SharedData")),cc.Class({extends:cc.Component,properties:{mCallBack:null,mBackground:{default:null,type:cc.Node},mAlertContainer:{default:null,type:cc.Node},mAlertTitle:{default:null,type:cc.Node},mAlertDescription:{default:null,type:cc.Node},mAlertButton:{default:null,type:cc.Node},mText:""},onLoad:function(){this.mAlertButton&&this.mAlertButton.on(cc.Node.EventType.TOUCH_END,this.onButtonClicked,this)},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground&&(this.mBackground.width=n,this.mBackground.height=o)},setText:function(e){if(void 0===e&&(e=""),this.mText=e,this.mAlertDescription){var t=this.mAlertDescription.getComponent(cc.Label);t&&(t.string=e)}},setTitle:function(e){if(void 0===e&&(e=""),this.mAlertTitle){var t=this.mAlertTitle.getComponent(cc.Label);t&&(t.string=e)}},onButtonClicked:function(){n.default.playButtonClickSound(),this.mCallBack&&"function"==typeof this.mCallBack&&this.mCallBack(),this.node&&this.node.parent&&this.node.parent.removeChild(this.node)},setCallback:function(e){this.mCallBack=e},show:function(){this.node&&(this.node.active=!0)},hide:function(){this.node&&(this.node.active=!1)},onDestroy:function(){this.mAlertButton&&this.mAlertButton.off(cc.Node.EventType.TOUCH_END,this.onButtonClicked,this)}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],Announcement:[function(e,t){"use strict";cc._RF.push(t,"2f1c8zT11NHB45v0Yx8gu3V","Announcement");var n=e("SharedData");cc.Class({extends:cc.Component,properties:{announcementLabel:{default:null,type:cc.Node},announcementContentView:{default:null,type:cc.Node},announcementView:{default:null,type:cc.Node},announcementScrollView:cc.ScrollView},onLoad:function(){},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o},updateView:function(e,t,o,a){var i=this;this.node.x=e,this.node.y=t,this.node.width=o,this.node.height=a;for(var r=n.getAnnouncement(),s="",c=0;c<r.length;c++)s+=" "+r[c].title;this.announcementLabel.getComponent(cc.Label).string=s.replace(/<[^>]+>/g,"").replace(/\n/g," "),setTimeout(function(){var e=i.announcementLabel.parent.width;i.announcementLabel.x=i.announcementLabel.width>e?0:e;var t=i.calculateDuration(),n=i.announcementLabel.width>e?-i.announcementLabel.width+e:-i.announcementLabel.width;cc.tween(i.announcementLabel).repeatForever(cc.tween().to(t,{position:cc.v2(n,i.announcementLabel.y)}).call(function(){i.announcementLabel.x=i.announcementLabel.width>e?0:e})).start()},500)},calculateDuration:function(){return(this.announcementLabel.parent.width+this.announcementLabel.width)/100}}),cc._RF.pop()},{SharedData:"SharedData"}],AuthServices:[function(e,t,n){"use strict";cc._RF.push(t,"0c5dbFAbnlHlp3l7wZP+QbG","AuthServices");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(s){i=[6,s],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.AuthServices=void 0;var i=e("./NetworkService"),r=function(){function e(){}return e.login=function(e,t,n,r){var s,c,l,u;return void 0===e&&(e=""),void 0===t&&(t=""),void 0===r&&(r=""),o(this,void 0,Promise,function(){var e,o,r;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e={username:t,password:n},[4,i.NetworkService.post(this.LOGIN_ENDPOINT,e,{headers:{"Content-Type":"application/json"}})];case 1:return[2,{status:(o=a.sent()).status,success:null===(s=o.data)||void 0===s?void 0:s.success,message:(null===(c=o.data)||void 0===c?void 0:c.message)||o.message,token:null===(l=o.data)||void 0===l?void 0:l.token,player:null===(u=o.data)||void 0===u?void 0:u.player,data:o.data}];case 2:throw r=a.sent(),console.error("AuthServices.login error:",r),{status:r.status||500,data:r.data||null,message:r.message||"Login failed",error:r};case 3:return[2]}})})},e.register=function(e){var t,n,r,s;return o(this,void 0,Promise,function(){var o,c,l;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={fullName:e.fullName,username:e.username,password:e.password,phone:e.phone},void 0!==e.email&&null!==e.email&&""!==e.email&&(o.email=e.email),void 0!==e.referralCode&&null!==e.referralCode&&(o.referralCode=e.referralCode),void 0!==e.phoneOtp&&null!==e.phoneOtp&&""!==e.phoneOtp&&(o.phoneOtp=e.phoneOtp),void 0!==e.emailOtp&&null!==e.emailOtp&&""!==e.emailOtp&&(o.emailOtp=e.emailOtp),console.log(o),[4,i.NetworkService.post(this.REGISTER_ENDPOINT,o,{headers:{"Content-Type":"application/json"}})];case 1:return[2,{status:(c=a.sent()).status,success:null===(t=c.data)||void 0===t?void 0:t.success,message:(null===(n=c.data)||void 0===n?void 0:n.message)||c.message,token:null===(r=c.data)||void 0===r?void 0:r.token,player:null===(s=c.data)||void 0===s?void 0:s.player,data:c.data}];case 2:throw l=a.sent(),console.error("AuthServices.register error:",l),{status:l.status||500,data:l.data||null,message:l.message||"Registration failed",error:l};case 3:return[2]}})})},e.sendOtp=function(e){var t,n,r;return o(this,void 0,Promise,function(){var o,s,c;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={identifier:e.identifier,type:e.type,purpose:e.purpose},[4,i.NetworkService.post(this.SEND_OTP_ENDPOINT,o,{headers:{"Content-Type":"application/json"}})];case 1:return[2,{status:(s=a.sent()).status,success:null===(t=s.data)||void 0===t?void 0:t.success,message:(null===(n=s.data)||void 0===n?void 0:n.message)||s.message,expiresIn:null===(r=s.data)||void 0===r?void 0:r.expiresIn,data:s.data}];case 2:throw c=a.sent(),console.error("AuthServices.sendOtp error:",c),{status:c.status||500,data:c.data||null,message:c.message||"Send OTP failed",error:c};case 3:return[2]}})})},e.verifyOtp=function(e){var t,n;return o(this,void 0,Promise,function(){var o,r,s;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={identifier:e.identifier,type:e.type,code:e.code,testOnly:e.testOnly},[4,i.NetworkService.post(this.VERIFY_OTP_ENDPOINT,o,{headers:{"Content-Type":"application/json"}})];case 1:return[2,{status:(r=a.sent()).status,success:null===(t=r.data)||void 0===t?void 0:t.success,message:(null===(n=r.data)||void 0===n?void 0:n.message)||r.message,data:r.data}];case 2:throw s=a.sent(),console.error("AuthServices.verifyOtp error:",s),{status:s.status||500,data:s.data||null,message:s.message||"OTP verification failed",error:s};case 3:return[2]}})})},e.forgotPassword=function(e){var t,n,r,s,c,l;return o(this,void 0,Promise,function(){var o,u,d;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={username:e.username},[4,i.NetworkService.post(this.FORGOT_PASSWORD_ENDPOINT,o,{headers:{"Content-Type":"application/json"}})];case 1:return u=a.sent(),[2,{success:null===(t=u.data)||void 0===t?void 0:t.success,message:(null===(n=u.data)||void 0===n?void 0:n.message)||u.message,type:null===(r=u.data)||void 0===r?void 0:r.type,method:null===(s=u.data)||void 0===s?void 0:s.method,contact:null===(c=u.data)||void 0===c?void 0:c.contact,expiresIn:null===(l=u.data)||void 0===l?void 0:l.expiresIn,data:u.data}];case 2:throw d=a.sent(),console.error("AuthServices.forgotPassword error:",d),{status:d.status||500,data:d.data||null,message:d.message||"Failed to process forgot password request",error:d};case 3:return[2]}})})},e.resetPassword=function(e){var t,n;return o(this,void 0,Promise,function(){var o,r,s;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={username:e.username,otp:e.otp,newPassword:e.newPassword,type:e.type},[4,i.NetworkService.post(this.RESET_PASSWORD_ENDPOINT,o,{headers:{"Content-Type":"application/json"}})];case 1:return[2,{status:(r=a.sent()).status,success:null===(t=r.data)||void 0===t?void 0:t.success,message:(null===(n=r.data)||void 0===n?void 0:n.message)||r.message,data:r.data}];case 2:throw s=a.sent(),console.error("AuthServices.resetPassword error:",s),{status:s.status||500,data:s.data||null,message:s.message||"Failed to reset password",error:s};case 3:return[2]}})})},e.LOGIN_ENDPOINT="/api/public/v1/players/login",e.REGISTER_ENDPOINT="/api/public/v1/players/register",e.SEND_OTP_ENDPOINT="/api/public/v1/verification/send-otp",e.VERIFY_OTP_ENDPOINT="/api/public/v1/verification/verify-otp",e.FORGOT_PASSWORD_ENDPOINT="/api/public/v1/players/forgot-password",e.RESET_PASSWORD_ENDPOINT="/api/public/v1/players/reset-password",e}();n.AuthServices=r,n.default=r,cc._RF.pop()},{"./NetworkService":"NetworkService"}],AvatarList:[function(e,t){"use strict";cc._RF.push(t,"4fcf3Q+o4pIhojY/0U+qXmf","AvatarList");var n=a(e("SharedFunction")),o=a(e("SharedData"));function a(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{mCallBack:null,mAvatarList:[],createdAvatars:[],mBackground:{default:null,type:cc.Node},myScrollView:{default:null,type:cc.Node},myScrollContent:{default:null,type:cc.Node},myConfirmBtn:{default:null,type:cc.Node},myAvatarPrefab:{default:null,type:cc.Prefab},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node},mConfirmLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},updateView:function(e){this.localizeUI(),this.mCallBack=e,this.mBackground.active=!0,this.node.opacity=255,this.selectedAvatar=o.default.getSelectedAvatar(),this.drawAvatar();var t=this.mBackground.getChildByName("card_bg");t.setScale(0),cc.tween(t).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},setCallBack:function(e){this.mCallBack=e},drawAvatar:function(){for(var e=-130,t=1;t<=10;t++){var n=204*((t%5==0?5:t%5)-1)-409,o=-130-216*(Math.ceil(t/5)-1),a=new cc.instantiate(this.myAvatarPrefab).getComponent("Avatar");a.init(n,o,t,this),e=o,this.myScrollContent.addChild(a.node),this.createdAvatars.push(a)}this.myConfirmBtn.y=e-157,this.myScrollContent.height=-1*(e-157)+47,this.myScrollView.getComponent(cc.ScrollView).scrollToTop(0)},onAvatarDidPressed:function(e){this.selectedAvatar!=e&&(this.createdAvatars[this.selectedAvatar-1].hideBorder(),this.selectedAvatar=e)},onCloseButtonDidPressed:function(e,t,o){var a=this;o||n.default.playButtonClickSound();var i=this.mBackground.getChildByName("card_bg");cc.tween(i).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){a.createdAvatars[a.selectedAvatar-1].hideBorder(),a.createdAvatars.forEach(function(e){e&&e.isValid&&e.node.removeFromParent()}),a.createdAvatars=[],a.mCallBack&&a.mCallBack.myCloseChangeAvatarDidPressed()}).start()},onConfirmButtonDidPressed:function(){o.default.setSelectedAvatar(this.selectedAvatar),this.onCloseButtonDidPressed()},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"title"),this.mConfirmLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirm")},updatePrefabSize:function(){cc.view.getVisibleSize()}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],Avatar:[function(e,t){"use strict";var n;cc._RF.push(t,"0b963BfVctDZ5b1Ieqs9iL5","Avatar"),(n=e("SharedFunction"))&&n.__esModule;var o=e("SharedData");cc.Class({extends:cc.Component,properties:{myBorder:{default:null,type:cc.Node},myAvatarImg:{default:null,type:cc.Node}},onLoad:function(){},init:function(e,t,n,a){this.node.x=e,this.node.y=t,this.imgNumber=n,this.mCallBack=a;var i=this;cc.loader.loadRes("images/profile/Avatar"+(n%10==0?10:n%10)+".png",cc.SpriteFrame,function(e,t){i.myAvatarImg.getComponent(cc.Sprite).spriteFrame=t}),n==o.getSelectedAvatar()&&(this.myBorder.active=!0)},onclick:function(){this.myBorder.active=!0,this.mCallBack.onAvatarDidPressed(this.imgNumber)},hideBorder:function(){this.myBorder.active=!1}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],Banner:[function(e,t){"use strict";cc._RF.push(t,"8eea9J7WABNeLjz902Gn64y","Banner"),cc.Class({extends:cc.Component,properties:{bannerPageView:{default:null,type:cc.PageView},closeButton:{default:null,type:cc.Node},indicator:{default:null,type:cc.Node},autoScrollInterval:{default:5,type:cc.Float,tooltip:"Auto scroll interval in seconds"}},onLoad:function(){if(this.closeButton)this.closeButton.on(cc.Node.EventType.TOUCH_END,this.onCloseButtonClicked,this);else{var e=this.node.getChildByName("background");if(e&&(e=e.getChildByName("BannerPageView"))){var t=e.getChildByName("close_btn");t&&(this.closeButton=t,t.on(cc.Node.EventType.TOUCH_END,this.onCloseButtonClicked,this))}}if(!this.indicator&&this.bannerPageView){var n=this.bannerPageView.node.getChildByName("view");if(n){var o=n.getChildByName("indicator");o&&(this.indicator=o)}}this.autoScrollTimer=0,this.isAutoScrolling=!1,this.isScrolling=!1},start:function(){},init:function(e){if(e&&Array.isArray(e)&&0!==e.length)if(this.bannersData=e,this.bannerPageView){this.bannerPageView.removeAllPages();for(var t=0;t<e.length;t++){var n=e[t];this.createBannerPage(n,t)}if(1===e.length){this.bannerPageView.enabled=!1;var o=this.bannerPageView.getComponent(cc.ScrollView);o&&(o.enabled=!1),this.indicator&&(this.indicator.active=!1),this.stopAutoScroll()}else{this.bannerPageView.enabled=!0;var a=this.bannerPageView.getComponent(cc.ScrollView);a&&(a.enabled=!0),this.indicator&&(this.indicator.active=!0)}this.bannerPageView.getPages().length>0&&this.bannerPageView.setCurrentPageIndex(0)}else console.error("Banner PageView is not set");else console.error("Banner data array is missing or empty")},createBannerPage:function(e,t){var n=this,o=new cc.Node("BannerPage_"+t),a=o.addComponent(cc.Sprite);a.type=cc.Sprite.Type.SIMPLE;var i=this.bannerPageView.node,r=i.getContentSize();if(0===r.width||0===r.height){var s=i.getChildByName("view");s&&(r=s.getContentSize())}0!==r.width&&0!==r.height||(r=cc.view.getVisibleSize()),o.setContentSize(r.width,r.height),o.setAnchorPoint(.5,.5),o.bannerData=e,e.isClickable&&e.url&&o.on(cc.Node.EventType.TOUCH_END,function(){n.onBannerClicked(e)},this),this.loadBannerImageForPage(e.image,a,o),this.bannerPageView.addPage(o)},loadBannerImageForPage:function(e,t,n){if(t&&e){var o=this,a="https://api.codetabs.com/v1/proxy?quest="+encodeURIComponent(e);cc.assetManager.loadRemote(a,function(a,i){if(a)return console.warn("Failed to load image with proxy, trying direct URL:",a),void cc.assetManager.loadRemote(e,function(e,a){e?console.error("Failed to load banner image:",e):o.setBannerSpriteFrameForPage(a,t,n)});o.setBannerSpriteFrameForPage(i,t,n)})}else console.error("Sprite or image URL is missing")},setBannerSpriteFrameForPage:function(e,t,n){if(t&&n){var o=new cc.SpriteFrame(e);t.spriteFrame=o,t.type=cc.Sprite.Type.SIMPLE;var a=this.bannerPageView.node,i=a.getContentSize();if(0===i.width||0===i.height){var r=a.getChildByName("view");r&&(i=r.getContentSize())}0!==i.width&&0!==i.height||(i=cc.view.getVisibleSize()),n.setContentSize(i.width,i.height),n.active=!0}},onBannerClicked:function(e){e&&e.url&&(e.openNewTab?window.open(e.url,"_blank"):window.location.href=e.url)},onCloseButtonClicked:function(){this.hide()},show:function(){this.node.active=!0,this.bannersData&&this.bannersData.length>1&&this.startAutoScroll()},hide:function(){this.node.active=!1,this.stopAutoScroll()},startAutoScroll:function(){!this.bannerPageView||!this.bannersData||this.bannersData.length<=1||(this.isAutoScrolling=!0,this.autoScrollTimer=0)},stopAutoScroll:function(){this.isAutoScrolling=!1,this.autoScrollTimer=0},scrollToNextPage:function(){var e=this;if(this.bannerPageView){var t=this.bannerPageView.getCurrentPageIndex(),n=this.bannerPageView.getPages().length;if(!(n<=1)){var o=(t+1)%n;this.isScrolling||(this.isScrolling=!0,this.bannerPageView.scrollToPage(o,.8),this.scheduleOnce(function(){e.isScrolling=!1},.85))}}},update:function(e){this.isAutoScrolling&&this.node.active&&!this.isScrolling&&(this.autoScrollTimer+=e,this.autoScrollTimer>=this.autoScrollInterval&&(this.scrollToNextPage(),this.autoScrollTimer=0))},setCallBack:function(e){this.mCallBack=e}}),cc._RF.pop()},{}],CalendarManager:[function(e,t){"use strict";cc._RF.push(t,"d0776k7wvBJTrRS0YyA+BjM","CalendarManager"),cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label,currentMonthLabel:cc.Label,prevButton:cc.Button,nextButton:cc.Button,daysGrid:cc.Node,selectedDateLabel:cc.Label,confirmButton:cc.Button,cancelButton:cc.Button,dayCellPrefab:cc.Prefab,weekDays:{default:[],type:cc.Label},normalDayColor:cc.Color.WHITE,weekendColor:cc.Color.RED,todayColor:cc.Color.GREEN,selectedColor:cc.Color.BLUE,otherMonthColor:cc.Color.GRAY},onLoad:function(){this.currentDate=new Date,this.selectedDate=null,this.today=new Date,this.initWeekDays(),this.updateCalendar(),this.setupEventListeners()},initWeekDays:function(){for(var e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t=0;t<this.weekDays.length;t++)this.weekDays[t].string=e[t]},setupEventListeners:function(){this.prevButton.node.on("click",this.onPrevMonth,this),this.nextButton.node.on("click",this.onNextMonth,this),this.confirmButton.node.on("click",this.onConfirm,this),this.cancelButton.node.on("click",this.onCancel,this)},updateCalendar:function(){var e=this;this.daysGrid.removeAllChildren(),this.updateMonthLabel();for(var t=this.currentDate.getFullYear(),n=this.currentDate.getMonth(),o=new Date(t,n,1),a=new Date(t,n+1,0).getDate(),i=o.getDay(),r=1,s=function(o){var s=cc.instantiate(e.dayCellPrefab),c=s.getComponentInChildren(cc.Label),l=s.getComponent(cc.Button);if(o>=i&&r<=a){c.string=r.toString();var u=new Date(t,n,r);e.styleDayCell(s,u,r),l.node.on("click",function(){e.onDaySelected(u,s)}),r++}else if(o<i){var d=new Date(t,n,0).getDate()-i+o+1;c.string=d.toString(),c.node.color=e.otherMonthColor,l.interactable=!1}else{var h=o-i-a+1;c.string=h.toString(),c.node.color=e.otherMonthColor,l.interactable=!1}e.daysGrid.addChild(s)},c=0;c<42;c++)s(c)},styleDayCell:function(e,t){var n=e.getComponentInChildren(cc.Label),o=e.getComponent(cc.Button);n.node.color=this.normalDayColor,o.node.color=cc.Color.WHITE;var a=t.getDay();0!==a&&6!==a||(n.node.color=this.weekendColor),this.isSameDay(t,this.today)&&(o.node.color=this.todayColor),this.selectedDate&&this.isSameDay(t,this.selectedDate)&&(o.node.color=this.selectedColor)},isSameDay:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},updateMonthLabel:function(){var e=this.currentDate.getFullYear(),t=["January","February","March","April","May","June","July","August","September","October","November","December"][this.currentDate.getMonth()];this.currentMonthLabel.string=t+" "+e},onPrevMonth:function(){this.currentDate.setMonth(this.currentDate.getMonth()-1),this.updateCalendar()},onNextMonth:function(){this.currentDate.setMonth(this.currentDate.getMonth()+1),this.updateCalendar()},onDaySelected:function(e){this.selectedDate=e,this.updateCalendar();var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.selectedDateLabel.string="Selected: "+t},onConfirm:function(){if(this.selectedDate){var e=new cc.Event.EventCustom("date-selected",!0);e.detail={date:this.selectedDate,year:this.selectedDate.getFullYear(),month:this.selectedDate.getMonth()+1,day:this.selectedDate.getDate()},this.node.dispatchEvent(e),this.node.active=!1}else cc.log("Please select a date first")},onCancel:function(){var e=new cc.Event.EventCustom("date-cancel",!0);this.node.dispatchEvent(e),this.node.active=!1},show:function(e){void 0===e&&(e=null),this.node.active=!0,e?(this.currentDate=new Date(e),this.selectedDate=new Date(e)):(this.currentDate=new Date,this.selectedDate=null),this.updateCalendar(),this.selectedDate?this.onDaySelected(this.selectedDate,null):this.selectedDateLabel.string="Selected: "},hide:function(){this.node.active=!1}}),cc._RF.pop()},{}],DDLSelect:[function(e,t){"use strict";var n;cc._RF.push(t,"e1dbfgsSAhIV4cgujQ36WuJ","DDLSelect"),(n=e("SharedFunction"))&&n.__esModule,e("SharedData"),cc.Class({extends:cc.Component,properties:{myLabel:{default:null,type:cc.Node}},onLoad:function(){},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.status=n,this.mCallBack=o,this.myLabel.getComponent(cc.Label).string=n},onclick:function(e){this.mCallBack.onDDLOptionDidPressed(e)}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],Deposit:[function(e,t){"use strict";cc._RF.push(t,"1ae6bOf641LSov89cA4P55t","Deposit");var n=a(e("SharedFunction")),o=a(e("SharedData"));function a(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{mCallBack:null,myManageCardView:null,mCurrentFocusTab:"SureTech",mCardList:[],mySureTechTabBtn:{default:null,type:cc.Node},myDpayTabBtn:{default:null,type:cc.Node},myHistoryTabBtn:{default:null,type:cc.Node},myPlayerNameLabel:{default:null,type:cc.Node},myBalanceBG:{default:null,type:cc.Node},myCardContainer:{default:null,type:cc.Node},myNoCardContainer:{default:null,type:cc.Node},myHistoryContainer:{default:null,type:cc.Node},myTrxDateSelect:{default:null,type:cc.Node},myTrxDateDDL:{default:null,type:cc.Node},myStatusSelect:{default:null,type:cc.Node},myStatusDDL:{default:null,type:cc.Node},mFocusTabImg:{default:null,type:cc.SpriteFrame},mNormalTabImg:{default:null,type:cc.SpriteFrame},myHeaderProfileImg:{default:null,type:cc.Sprite},i18nJson:{default:null,type:cc.JsonAsset},mDepositLabel:{default:null,type:cc.Node},mSureTechTabLabel:{default:null,type:cc.Node},mDpayTabLabel:{default:null,type:cc.Node},mHistoryTabLabel:{default:null,type:cc.Node},mSupportTabLabel:{default:null,type:cc.Node},mDescLabel:{default:null,type:cc.Node},mClickHereLabel:{default:null,type:cc.Node},mSetupLabel:{default:null,type:cc.Node},mTrxDateLabel:{default:null,type:cc.Node},mTrxDateSelectLabel:{default:null,type:cc.Node},mStatusLabel:{default:null,type:cc.Node},mStatusSelectLabel:{default:null,type:cc.Node},mDateLabel:{default:null,type:cc.Node},mTrxIDLabel:{default:null,type:cc.Node},mBankLabel:{default:null,type:cc.Node},mAmtLabel:{default:null,type:cc.Node},mStatusHeaderLabel:{default:null,type:cc.Node},mReasonLabel:{default:null,type:cc.Node},mTodayLabel:{default:null,type:cc.Node},mYesterdayLabel:{default:null,type:cc.Node},m7DaysLabel:{default:null,type:cc.Node},m30DaysLabel:{default:null,type:cc.Node},mAllLabel:{default:null,type:cc.Node},mPendingLabel:{default:null,type:cc.Node},mApprovedLabel:{default:null,type:cc.Node},mRejectedLabel:{default:null,type:cc.Node},mInProgressLabel:{default:null,type:cc.Node},mModifiedLabel:{default:null,type:cc.Node},mModifiedStatusLabel:{default:null,type:cc.Node},mFailedLabel:{default:null,type:cc.Node},mSuccessLabel:{default:null,type:cc.Node},mCancelledLabel:{default:null,type:cc.Node},mUnknownLabel:{default:null,type:cc.Node},mExpiredLabel:{default:null,type:cc.Node},mNoRecordsLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o},updateView:function(e){var t=this;this.localizeUI(),this.mCallBack=e,this.mCurrentFocusTab="SureTech";var a=o.default.getUserObject();this.myPlayerNameLabel.getComponent(cc.Label).string=a.fullName,this.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string=n.default.showNumberWithDecimalAndComma("credit"==a.settlementMode?a.creditBalance:a.balance,2),o.default.getSelectedAvatar()==localStorage.getItem("selected_avatar")&&cc.loader.loadRes("images/profile/Avatar"+o.default.getSelectedAvatar()+".png",cc.SpriteFrame,function(e,n){t.myHeaderProfileImg.getComponent(cc.Sprite).spriteFrame=n}),this.node.active=!0,this.onDepositTabDidPressed("","SureTech",!0),this.myHistoryContainer.active=!1,this.myCardContainer.active=!0,0==Object.keys(this.mCardList).length?this.myNoCardContainer.active=!0:this.myNoCardContainer.active=!1;var i=this.node.getComponent(cc.Widget);i.left=this.node.width,i.right=-1*this.node.width,cc.tween(i).to(1/6,{left:0,right:0}).start()},setCallBack:function(e){this.mCallBack=e},myBackButtonDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=this.node.getComponent(cc.Widget);cc.tween(a).to(1/6,{left:this.node.width,right:-1*this.node.width}).start(),this.mCallBack&&this.mCallBack.onDepositBackButtonDidPressed()},onDepositTabDidPressed:function(e,t,o){o||n.default.playButtonClickSound(),this.mySureTechTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myDpayTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myHistoryTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.mySureTechTabBtn.getChildByName("lblSureTech").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.mySureTechTabBtn.getChildByName("lblSureTech").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myDpayTabBtn.getChildByName("lblDpay").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myDpayTabBtn.getChildByName("lblDpay").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myCardContainer.active=!1,this.myHistoryContainer.active=!1,"SureTech"==t?(this.mySureTechTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.mySureTechTabBtn.getChildByName("lblSureTech").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.mySureTechTabBtn.getChildByName("lblSureTech").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myCardContainer.active=!0):"Dpay"==t?(this.myDpayTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myDpayTabBtn.getChildByName("lblDpay").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myDpayTabBtn.getChildByName("lblDpay").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myCardContainer.active=!0):"History"==t&&(this.myHistoryTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myHistoryContainer.active=!0),this.mCurrentFocusTab=t},onManageCardDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=this;n.default.showLoadingView("",a),cc.resources.load("prefabs/deposit/manageCard",cc.Prefab,function(e,t){if(e)return console.error("Failed to load prefab:",e),void n.default.hideLoadingView(a);null==a.myManageCardView&&(a.myManageCardView=cc.instantiate(t).getComponent("ManageCard"),a.updatePrefabSize()),a.myManageCardView.updateView(a),a.node.addChild(a.myManageCardView.node),n.default.hideLoadingView(a)})},myCloseManageCardDidPressed:function(){this.node.removeChild(this.myManageCardView.node)},onDDLDidPressed:function(e,t,o){if(o||n.default.playButtonClickSound(),"trxDate"==t){var a=this.myTrxDateSelect.getChildByName("iconTriangle");this.myTrxDateDDL.active?a.angle=90:a.angle=-90,this.myTrxDateDDL.active=!this.myTrxDateDDL.active}else"status"==t&&(a=this.myStatusSelect.getChildByName("iconTriangle"),this.myStatusDDL.active?a.angle=90:a.angle=-90,this.myStatusDDL.active=!this.myStatusDDL.active)},onDDLOptionDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=e.target.parent.name,i=e.target.getChildByName("label").getComponent(cc.Label).string;"ddl_trxDate_bg"==a?(this.myTrxDateSelect.getChildByName("lblTrxDate").getComponent(cc.Label).string=i,this.myTrxDateSelect.getChildByName("iconTriangle").angle=90,this.myTrxDateDDL.active=!1):(this.myStatusSelect.getChildByName("lblStatus").getComponent(cc.Label).string=i,this.myStatusSelect.getChildByName("iconTriangle").angle=90,this.myStatusDDL.active=!1)},localizeUI:function(){this.mDepositLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"deposit"),this.mSureTechTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"suretech"),this.mDpayTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"dpay"),this.mHistoryTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"history"),this.mSupportTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"support"),this.mDescLabel.getComponent(cc.RichText).string=n.default.getLocalizedString(this.i18nJson,"desc"),this.mClickHereLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"clickHere"),this.mSetupLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"setup"),this.mTrxDateLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"trxDate"),this.mTrxDateSelectLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"last7Days"),this.mStatusLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"status"),this.mStatusSelectLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"all"),this.mDateLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"date"),this.mTrxIDLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"trxID"),this.mBankLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"bank"),this.mAmtLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"amount"),this.mStatusHeaderLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"status"),this.mReasonLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"reason"),this.mTodayLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"today"),this.mYesterdayLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"yesterday"),this.m7DaysLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"last7Days"),this.m30DaysLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"last30Days"),this.mAllLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"all"),this.mPendingLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"pending"),this.mApprovedLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"approved"),this.mRejectedLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"rejected"),this.mInProgressLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"progress"),this.mModifiedLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"mofified"),this.mModifiedStatusLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"modifiedStatus"),this.mFailedLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"failed"),this.mSuccessLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"success"),this.mCancelledLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"cancel"),this.mUnknownLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"unknown"),this.mExpiredLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"expired"),this.mNoRecordsLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"noRecords")},updatePrefabSize:function(){var e=cc.view.getVisibleSize();this.myManageCardView&&this.myManageCardView.init(0,0,e.width,e.height)}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],DeveloperLogo:[function(e,t){"use strict";cc._RF.push(t,"9f2b4rIap9MIpCRKPuNhqDY","DeveloperLogo");var n=o(e("SharedFunction"));function o(e){return e&&e.__esModule?e:{default:e}}o(e("SharedData")),cc.Class({extends:cc.Component,properties:{logoBG:{default:null,type:cc.Node},providerLogo:{default:null,type:cc.Node},mFocusTabImg:{default:null,type:cc.SpriteFrame},mNormalTabImg:{default:null,type:cc.SpriteFrame}},onLoad:function(){},init:function(e,t,n,o){var a=this;this.node.x=e,this.node.y=t,this.data=n,this.mCallBack=o,this.node.name=n.code,cc.loader.loadRes("images/providers/logo/"+this.data.code+"Logo.png",cc.SpriteFrame,function(e,t){a.providerLogo.getComponent(cc.Sprite).spriteFrame=t}),this.data.code==this.mCallBack.developerData.code&&this.onClick(null,null,!0)},onClick:function(e,t,o){var a=this;o||n.default.playButtonClickSound(),this.mCallBack.onDeveloperLogoButtonDidPressed(null,null,!0,this.data),this.logoBG.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.mCallBack.myDeveloperLabel.getComponent(cc.Label).string=this.data.name,setTimeout(function(){a.mCallBack.myTotalLabel.x=a.mCallBack.myDeveloperLabel.x+a.mCallBack.myDeveloperLabel.width+22},0)},unClick:function(){this.logoBG.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],EditBasicInfo:[function(e,t){"use strict";cc._RF.push(t,"0181ba1PaZK4oPX2++76PgN","EditBasicInfo");var n=a(e("SharedFunction")),o=a(e("SharedData"));function a(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{mCallBack:null,mBackground:{default:null,type:cc.Node},myEmailInput:{default:null,type:cc.Node},myGenderSelect:{default:null,type:cc.Node},myGenderDDL:{default:null,type:cc.Node},myScrollView:{default:null,type:cc.Node},birthdayPicker:{type:e("SimpleBirthdayPicker"),default:null},calendarPicker:cc.Node,openCalendarButton:cc.Button,myBirthdayLabel:{default:null,type:cc.Node},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node},mEmailLabel:{default:null,type:cc.Node},mGenderLabel:{default:null,type:cc.Node},mBirthdayLabel:{default:null,type:cc.Node},mConfirmLabel:{default:null,type:cc.Node},myError1Label:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI();var e=this;cc.resources.load("prefabs/calendar/CalendarPicker",cc.Prefab,function(t,n){t?console.error("Failed to load prefab:",t):(null==e.calendarPicker&&(e.calendarPicker=cc.instantiate(n),e.updatePrefabSize()),e.node.addChild(e.calendarPicker.getComponent("CalendarManager").node),e.calendarPicker.on("date-selected",e.onDateSelected,e),e.calendarPicker.on("date-cancel",e.onDateCancel,e))})},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},updateView:function(e){this.localizeUI(),this.mCallBack=e,this.mBackground.active=!0,this.node.opacity=255,this.myError1Label.active=!1,this.myGenderDDL.active=!1,this.myScrollView.active=!0;var t=o.default.getUserObject();this.myEmailInput.getComponent(cc.EditBox).string=t.email,this.openCalendarButton.node.on("click",this.openCalendar,this),null!=this.calendarPicker&&(this.calendarPicker.getComponent("CalendarManager").hide(),this.calendarPicker.on("date-selected",this.onDateSelected,this),this.calendarPicker.on("date-cancel",this.onDateCancel,this));var n=this.mBackground.getChildByName("card_bg");n.setScale(0),cc.tween(n).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},setCallBack:function(e){this.mCallBack=e},openCalendar:function(){var e=this.calendarPicker.getComponent("CalendarManager");this.myScrollView.active=!1,e.show()},onDateSelected:function(e){var t=e.detail;this.myBirthdayLabel.getComponent(cc.Label).string=t.year+"-"+t.month+"-"+t.day,this.calendarPicker.getComponent("CalendarManager").hide(),this.myScrollView.active=!0;var n=t.date;cc.log("Selected date:",n.toString())},onDateCancel:function(){this.myScrollView.active=!0,cc.log("Calendar cancelled")},onBackButtonDidPressed:function(e,t,o){var a=this;o||n.default.playButtonClickSound();var i=this.mBackground.getChildByName("card_bg");cc.tween(i).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){a.mCallBack&&a.mCallBack.myCloseEditBasicInfoDidPressed()}).start()},onConfirmButtonDidPressed:function(e,t,o){o||n.default.playButtonClickSound(),0!=this.myEmailInput.getComponent(cc.EditBox).string.length||this.showLableError(this.myError1Label,n.default.getLocalizedString(this.i18nJson,"emailHolder"))},onDDLDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=this.myGenderSelect.getChildByName("iconTriangle");this.myGenderDDL.active?a.angle=90:a.angle=-90,this.myGenderDDL.active=!this.myGenderDDL.active},onDDLOptionDidPressed:function(e,t,o){o||n.default.playButtonClickSound(),e.target.parent.name;var a=e.target.getChildByName("label").getComponent(cc.Label).string;this.myGenderSelect.getChildByName("lblGenderSelect").getComponent(cc.Label).string=a,this.myGenderSelect.getChildByName("iconTriangle").angle=90,this.myGenderDDL.active=!1},showLableError:function(e,t){this.myError1Label.active=!1,e&&(e.getComponent(cc.Label).string=t,e.active=!0,cc.tween(e).to(1/12,{scale:1.1}).to(1/12,{scale:1}).start())},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"title"),this.mEmailLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"email"),this.mGenderLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"gender"),this.mBirthdayLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"birthday"),this.mConfirmLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirm")},updatePrefabSize:function(){cc.view.getVisibleSize()}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction",SimpleBirthdayPicker:"SimpleBirthdayPicker"}],ForgotPassword:[function(e,t){"use strict";cc._RF.push(t,"5e1d4+qqeBLU7JbxWEKE4A/","ForgotPassword");var n=a(e("SharedFunction")),o=a(e("../Services/AuthServices"));function a(e){return e&&e.__esModule?e:{default:e}}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(V){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var s=L(r,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=u(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(V){return{type:"throw",arg:V}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};c(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function w(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){function o(a,i,r,s){var c=u(e[a],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,s)},function(e){o("throw",e,r,s)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,s)})}s(c.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=f,c(v,"constructor",f),c(f,"constructor",m),m.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,r,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new b(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},w(v),c(v,s,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=P,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function r(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(error){return void n(error)}s.done?t(c):Promise.resolve(c).then(o,a)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function s(e){r(i,o,a,s,c,"next",e)}function c(e){r(i,o,a,s,c,"throw",e)}s(void 0)})}}a(e("SharedData")),cc.Class({extends:cc.Component,properties:{mCallBack:null,myVerificationView:null,myResetPasswordView:null,mBackground:{default:null,type:cc.Node},mPhoneNumber:{default:null,type:cc.Node},myErrorLabel:{default:null,type:cc.Node},mPasswordInput:{default:null,type:cc.Node},mConfirmPasswordInput:{default:null,type:cc.Node},mCodeInput:{default:null,type:cc.Node},mIsRequestedTac:!1,mRequestTacButton:{default:null,type:cc.Node},mCountDownTimer:{default:60,type:cc.Float},mPhoneNoLabel:{default:null,type:cc.Node},mCodeLabel:{default:null,type:cc.Node},mCodeHolderLabel:{default:null,type:cc.Node},mPasswordLabel:{default:null,type:cc.Node},mPasswordHolderLabel:{default:null,type:cc.Node},mConfirmPasswordLabel:{default:null,type:cc.Node},mConfirmPasswordHolderLabel:{default:null,type:cc.Node},mConfirmLabel:{default:null,type:cc.Node},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node},mDescLabel:{default:null,type:cc.Node},mClickHereLabel:{default:null,type:cc.Node},mCustomerSupportLabel:{default:null,type:cc.Node},mNextLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},setCallBack:function(e,t){void 0===t&&(t="LOBBY"),this.mCallBack=e,this.isFrom=t},updateView:function(e){this.localizeUI(),this.mCallBack=e,this.mBackground.active=!0,this.myErrorLabel.active=!1,this.node.opacity=255;var t=this.mBackground.getChildByName("forgotpassword_bg");t.setScale(0),cc.tween(t).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},onRequestTacButtonDidPressed:function(){var e=this;return s(i().mark(function t(){var a,r;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.default.playButtonClickSound(),0!=(a=e.mPhoneNumber.getComponent(cc.EditBox).string).length){t.next=5;break}return e.showLableError(e.myErrorLabel,n.default.getLocalizedString(e.i18nJson,"mobileNoHolder")),t.abrupt("return");case 5:return n.default.showLoadingView("",e),t.prev=6,t.next=9,o.default.forgotPassword({username:a});case 9:(r=t.sent).success?e.showVerificationView(a,r.message,r):e.showLableError(e.myErrorLabel,r.message),n.default.hideLoadingView(e),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(6),e.showLableError(e.myErrorLabel,t.t0.message),n.default.hideLoadingView(e);case 18:case"end":return t.stop()}},t,null,[[6,14]])}))()},onVerificationCloseButtonDidPressed:function(e,t,n,o,a){this.node.removeChild(this.myVerificationView.node),console.log("callback"),"resetPassword"===e&&n?this.showResetPasswordView(n,o,a):this.mCallBack.onForgotPasswordViewCloseButtonDidPressed()},showResetPasswordView:function(e,t,o){var a=this;cc.resources.load("prefabs/resetpassword/resetpassword",cc.Prefab,function(i,r){if(i)return console.error("Failed to load resetpassword prefab:",i),void n.default.hideLoadingView(a);null==a.myResetPasswordView&&(a.myResetPasswordView=cc.instantiate(r).getComponent("ResetPassword"),a.updatePrefabSize(),a.myResetPasswordView.setCallBack(a)),a.myResetPasswordView.updateView(a,o,e,t),a.node.addChild(a.myResetPasswordView.node),a.mBackground.active=!1,n.default.hideLoadingView(a)})},showVerificationView:function(e,t,o){var a=this;cc.resources.load("prefabs/verification/verification",cc.Prefab,function(i,r){if(i)return console.error("Failed to load prefab:",i),void n.default.hideLoadingView(a);null==a.myVerificationView&&(a.myVerificationView=cc.instantiate(r).getComponent("Verification"),a.updatePrefabSize(),a.myVerificationView.setCallBack(a),a.myVerificationView.setForgetPasswordResponse(o),a.myVerificationView.setUsername(e)),a.myVerificationView.updateView(a,"forgotPasswordVerify","ForgotPassword",t),a.node.addChild(a.myVerificationView.node),a.mBackground.active=!1,n.default.hideLoadingView(a)})},onResetPasswordViewCloseButtonDidPressed:function(){this.myResetPasswordView&&this.node.removeChild(this.myResetPasswordView.node),this.mCallBack.onForgotPasswordViewCloseButtonDidPressed()},myCloseButtonDidPressed:function(){var e=this;n.default.playButtonClickSound();var t=this.mBackground.getChildByName("forgotpassword_bg");cc.tween(t).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){e.mCallBack&&e.mCallBack.onForgotPasswordViewCloseButtonDidPressed()}).start()},onSubmitButtonDidPressed:function(){var e=this;return s(i().mark(function t(){var o,a,r,s,c,l;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.default.playButtonClickSound(),o=e.mCodeInput.getChildByName("TEXT_LABEL").getComponent(cc.Label).string,a=e.mPasswordInput.getComponent(cc.EditBox).string,r=e.mConfirmPasswordInput.getComponent(cc.EditBox).string,!(o.length<4)){t.next=7;break}return n.default.showAlertView(n.default.getLocalizedString(e.i18nJson,"invalidCode"),e),t.abrupt("return");case 7:if(0!=a.length){t.next=10;break}return n.default.showAlertView(n.default.getLocalizedString(e.i18nJson,"newPasswordHolder"),e),t.abrupt("return");case 10:if(n.default.passwordRegexCheck(a)){t.next=13;break}return n.default.showAlertView(n.default.getLocalizedString(e.i18nJson,"invalidPassword"),e),t.abrupt("return");case 13:if(0!=r.length){t.next=16;break}return n.default.showAlertView(n.default.getLocalizedString(e.i18nJson,"confirmPasswordHolder"),e),t.abrupt("return");case 16:if(n.default.passwordRegexCheck(r)){t.next=19;break}return n.default.showAlertView(n.default.getLocalizedString(e.i18nJson,"invalidConfirmPassword"),e),t.abrupt("return");case 19:if(a==r){t.next=22;break}return n.default.showAlertView(n.default.getLocalizedString(e.i18nJson,"invalidBothPassword"),e),t.abrupt("return");case 22:return n.default.showLoadingView("",e),s=new ForgetPasswordScript,t.next=26,s.submitForgetPassword(e.mPhoneNumber,a,r,o);case 26:200==(c=t.sent).status&&(0==(l=c.result.submitForgetPassword).status?n.default.showAlertView(l.errorMessage,e):(e.mCodeInput.getChildByName("TEXT_LABEL").getComponent(cc.Label).string="",e.mPasswordInput.getComponent(cc.EditBox).string="",e.mConfirmPasswordInput.getComponent(cc.EditBox).string="",e.mCallBack&&e.mCallBack.callLoginApi("","",a,e.mPhoneNumber))),n.default.hideLoadingView(e);case 29:case"end":return t.stop()}},t)}))()},showLableError:function(e,t){this.myErrorLabel.active=!1,e&&(e.getComponent(cc.Label).string=t,e.active=!0,cc.tween(e).to(1/12,{scale:1.1}).to(1/12,{scale:1}).start())},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"title"),this.mDescLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"description"),this.mClickHereLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"clickHere"),this.mCustomerSupportLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"customerSupport"),this.mNextLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"next")},updatePrefabSize:function(){var e=cc.view.getVisibleSize();this.myVerificationView&&this.myVerificationView.init(0,0,e.width,e.height),this.myResetPasswordView&&this.myResetPasswordView.init(0,0,e.width,e.height)}}),cc._RF.pop()},{"../Services/AuthServices":"AuthServices",SharedData:"SharedData",SharedFunction:"SharedFunction"}],GameContainer:[function(e,t){"use strict";cc._RF.push(t,"2692f0fCG5BApiVju8pJ4Vx","GameContainer");var n=a(e("SharedFunction")),o=a(e("../Services/GameService"));function a(e){return e&&e.__esModule?e:{default:e}}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(V){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var s=L(r,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=u(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(V){return{type:"throw",arg:V}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};c(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function w(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){function o(a,i,r,s){var c=u(e[a],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,s)},function(e){o("throw",e,r,s)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,s)})}s(c.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=f,c(v,"constructor",f),c(f,"constructor",m),m.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,r,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new b(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},w(v),c(v,s,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=P,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function r(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(error){return void n(error)}s.done?t(c):Promise.resolve(c).then(o,a)}var s=e("SharedData");cc.Class({extends:cc.Component,properties:{myGameImg:{default:null,type:cc.Node},myGameLabel:{default:null,type:cc.Node},myGameWebView:null},onLoad:function(){},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.gameData=n,this.mCallBack=o;var a=this;if(this.myGameLabel.getComponent(cc.Label).string=this.gameData.name,this.gameData.thumbnailUrl){var i="https://api.codetabs.com/v1/proxy?quest="+encodeURIComponent(this.gameData.thumbnailUrl);cc.assetManager.loadRemote(i,function(e,t){if(e)console.error("Failed to load image:",e);else{var n=new cc.SpriteFrame(t),o=a.myGameImg.getComponent(cc.Sprite);o&&(o.type=cc.Sprite.Type.SIMPLE,a.myGameImg.getComponent(cc.Sprite).spriteFrame=n,a.fitImageToNode(t.width,t.height))}})}},fitImageToNode:function(e,t){var n=this.myGameImg,o=e,a=t;if(o>210||a>118){var i=210/o,r=118/a,s=Math.min(i,r);o*=s,a*=s}n.width=o,n.height=a},onclick:function(){if(console.log("GameContainer: onclick",this.gameData),n.default.playButtonClickSound(),n.default.showLoadingView("",this.mCallBack||this),!this.gameData||!this.gameData._id)return console.error("GameContainer: Game data or game ID is missing"),void n.default.hideLoadingView(this.mCallBack||this);var e=localStorage.getItem("token");if(!e)return console.error("GameContainer: User is not logged in"),n.default.hideLoadingView(this.mCallBack||this),void(this.mCallBack&&"function"==typeof this.mCallBack.onLoginButtonDidPressed&&this.mCallBack.onLoginButtonDidPressed());var t=n.default.isMobile()?"mobile":"desktop",o=s.getCurrentLanguage()||"en";this.launchGame(this.gameData._id,o,t,e)},launchGame:function(e,t,a,s){var c,l=this;return(c=i().mark(function r(){var c;return i().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,o.default.launchGame(e,{lang:t,deviceType:a},s);case 3:(c=i.sent).success&&c.launchUrl?(n.default.hideLoadingView(l.mCallBack||l),l.loadGameWebView(c.launchUrl)):(console.error("GameContainer: Failed to launch game",c.message),n.default.hideLoadingView(l.mCallBack||l)),i.next=11;break;case 7:i.prev=7,i.t0=i.catch(0),console.error("GameContainer: Error launching game",i.t0),n.default.hideLoadingView(l.mCallBack||l);case 11:case"end":return i.stop()}},r,null,[[0,7]])}),function(){var e=this,t=arguments;return new Promise(function(n,o){var a=c.apply(e,t);function i(e){r(a,n,o,i,s,"next",e)}function s(e){r(a,n,o,i,s,"throw",e)}i(void 0)})})()},loadGameWebView:function(e){var t=this;cc.resources.load("prefabs/game/GameWebView",cc.Prefab,function(n,o){if(n)console.error("GameContainer: Failed to load GameWebView prefab:",n);else{null==t.myGameWebView&&(t.myGameWebView=cc.instantiate(o).getComponent("GameWebView"),t.myGameWebView.updatePrefabSize()),t.myGameWebView.init(e,t.mCallBack||t);var a=t.mCallBack?t.mCallBack.node:t.node.parent;a?a.addChild(t.myGameWebView.node):cc.director.getScene().addChild(t.myGameWebView.node)}})}}),cc._RF.pop()},{"../Services/GameService":"GameService",SharedData:"SharedData",SharedFunction:"SharedFunction"}],GameGroup:[function(e,t){"use strict";cc._RF.push(t,"1be052pJmBPFboIz0AnBBN2","GameGroup");var n=o(e("SharedFunction"));function o(e){return e&&e.__esModule?e:{default:e}}o(e("SharedData")),cc.Class({extends:cc.Component,properties:{gameGroupIcon:{default:null,type:cc.Node},gameGroupLabel:{default:null,type:cc.Node}},onLoad:function(){},init:function(e,t,n,o){var a=this;this.node.x=e,this.node.y=t,this.data=n,this.mCallBack=o,this.node.name=n.code,this.gameGroupLabel.getComponent(cc.Label).string=n.name,-43==t?(this.onClick(null,null,!0),this.gameGroupLabel.getComponent(cc.Label).fontSize=22):cc.loader.loadRes("images/lobby/"+this.data.code+"Off.png",cc.SpriteFrame,function(e,t){a.gameGroupIcon.getComponent(cc.Sprite).spriteFrame=t})},onClick:function(e,t,o){var a=this;o||n.default.playButtonClickSound(),this.mCallBack.onGameGroupButtonDidPressed(this.data),this.gameGroupLabel.getComponent(cc.Label).fontSize=22,cc.loader.loadRes("images/lobby/"+this.data.code+"On.png",cc.SpriteFrame,function(e,t){a.gameGroupIcon.getComponent(cc.Sprite).spriteFrame=t})},unClick:function(){var e=this;this.gameGroupLabel.getComponent(cc.Label).fontSize=18,cc.loader.loadRes("images/lobby/"+this.data.code+"Off.png",cc.SpriteFrame,function(t,n){e.gameGroupIcon.getComponent(cc.Sprite).spriteFrame=n})}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],GameList:[function(e,t){"use strict";cc._RF.push(t,"17f3bscjDxFbIO34OW2kqaB","GameList");var n=i(e("SharedFunction")),o=i(e("SharedData")),a=i(e("../Services/GameService"));function i(e){return e&&e.__esModule?e:{default:e}}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(V){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var s=L(r,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=u(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(V){return{type:"throw",arg:V}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};c(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function w(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){function o(a,i,r,s){var c=u(e[a],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,s)},function(e){o("throw",e,r,s)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,s)})}s(c.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=f,c(v,"constructor",f),c(f,"constructor",m),m.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,i,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new b(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},w(v),c(v,s,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=P,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function s(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(error){return void n(error)}s.done?t(c):Promise.resolve(c).then(o,a)}cc.Class({extends:cc.Component,properties:{mCallBack:null,mCurrentDeveloper:"",mLastSearch:"",mShowingGames:[],createdLogos:[],createdGames:[],mySearchInput:{default:null,type:cc.Node},myDeveloperLabel:{default:null,type:cc.Node},myTotalLabel:{default:null,type:cc.Node},myLogoScrollView:{default:null,type:cc.Node},myLogoScrollViewContent:{default:null,type:cc.Node},myGameScrollView:{default:null,type:cc.Node},myGameScrollViewContent:{default:null,type:cc.Node},mLogoTabPrefab:{default:null,type:cc.Prefab},mGamePrefab:{default:null,type:cc.Prefab},i18nJson:{default:null,type:cc.JsonAsset}},onLoad:function(){this.localizeUI()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o},updateView:function(e,t,n){this.localizeUI(),this.mCallBack=n,this.developerData=e,this.providerData=t,this.mCurrentDeveloper="",this.mLastSearch="",this.mShowingGames=[],this.mySearchInput.getComponent(cc.EditBox).string="",this.myDeveloperLabel.getComponent(cc.Label).string=this.developerData.name,this.node.active=!0,this.drawDeveloperLogo();var o=this.node.getComponent(cc.Widget);o.left=this.node.width,o.right=-1*this.node.width,cc.tween(o).to(1/6,{left:0,right:0}).start()},setCallBack:function(e){this.mCallBack=e},drawDeveloperLogo:function(){var e=o.default.getGameCategories();for(var t in e){var n=e[t];if(n.code==this.providerData.code){var a=n.developers;for(var i in a){var r=a[i],s=new cc.instantiate(this.mLogoTabPrefab).getComponent("DeveloperLogo");s.init(0,-34-84*parseInt(i),r,this),this.myLogoScrollViewContent.addChild(s.node),this.createdLogos.push(s)}this.myLogoScrollViewContent.height=68+84*(a.length-1);break}}},myBackButtonDidPressed:function(e,t,o){var a=this;o||n.default.playButtonClickSound();var i=this.node.getComponent(cc.Widget);cc.tween(i).to(1/6,{left:this.node.width,right:-1*this.node.width}).call(function(){a.createdLogos.forEach(function(e){e&&e.isValid&&e.node.removeFromParent()}),a.createdLogos=[]}).start(),this.mCallBack&&this.mCallBack.onGameListBackButtonDidPressed()},onDeveloperLogoButtonDidPressed:function(e,t,o,a){o||n.default.playButtonClickSound(),this.createdLogos.forEach(function(e){e&&e.isValid&&e.unClick()}),this.callCategoriesWithGamesApi({status:"active",categoryId:this.providerData._id,developerId:a._id}),this.mCurrentDeveloper=t},onSearchButtonDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=this.mySearchInput.getComponent(cc.EditBox).string;if(a!=this.mLastSearch){this.createdGames.forEach(function(e){e&&e.isValid&&e.node.removeFromParent()}),this.createdGames=[];var i=this.mShowingGames.filter(function(e){return e.name.includes(a)});this.myTotalLabel.getComponent(cc.Label).string="Total "+i.length+" Games";var r=-89;for(var s in i){var c=i[s],l=226*(((parseInt(s)+1)%4==0?4:(parseInt(s)+1)%4)-1)-341,u=-89-160*(Math.ceil((parseInt(s)+1)/4)-1),d=new cc.instantiate(this.mGamePrefab).getComponent("GameContainer");d.init(l,u,c,this),r=u,this.myGameScrollViewContent.addChild(d.node),this.createdGames.push(d)}this.myGameScrollViewContent.height=-1*r+80,this.myGameScrollView.getComponent(cc.ScrollView).scrollToTop(0),this.mLastSearch=a}},callCategoriesWithGamesApi:function(e){var t,n=this;return(t=r().mark(function t(){var o,i,s,c,l,u,d,h,m,f,p;return r().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e),t.next=4,a.default.getCategoriesWithGames(e);case 4:if(o=t.sent,console.log("----------Game List getCategoriesWithGames-----------"),console.log(o),200==o.status&&0!=(i=o.data).length){for(d in n.createdGames.forEach(function(e){e&&e.isValid&&e.node.removeFromParent()}),n.createdGames=[],s=i[0],c=s.pagination,l=s.games,u=-89,n.myTotalLabel.getComponent(cc.Label).string="Total "+c.total+" Games",n.mShowingGames=l,l)h=l[d],m=226*(((parseInt(d)+1)%4==0?4:(parseInt(d)+1)%4)-1)-341,f=-89-160*(Math.ceil((parseInt(d)+1)/4)-1),(p=new cc.instantiate(n.mGamePrefab).getComponent("GameContainer")).init(m,f,h,n),u=f,n.myGameScrollViewContent.addChild(p.node),n.createdGames.push(p);n.myGameScrollViewContent.height=-1*u+80,n.myGameScrollView.getComponent(cc.ScrollView).scrollToTop(0)}t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}},t,null,[[0,10]])}),function(){var e=this,n=arguments;return new Promise(function(o,a){var i=t.apply(e,n);function r(e){s(i,o,a,r,c,"next",e)}function c(e){s(i,o,a,r,c,"throw",e)}r(void 0)})})()},localizeUI:function(){},updatePrefabSize:function(){cc.view.getVisibleSize()}}),cc._RF.pop()},{"../Services/GameService":"GameService",SharedData:"SharedData",SharedFunction:"SharedFunction"}],GameService:[function(e,t,n){"use strict";cc._RF.push(t,"362ecusv1tJiI5WAo6n6T/5","GameService");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(s){i=[6,s],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameService=void 0;var i=e("./NetworkService"),r=function(){function e(){}return e.getDashboard=function(){var e,t,n;return o(this,void 0,Promise,function(){var o,r,s;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,i.NetworkService.get(this.DASHBOARD_ENDPOINT,void 0,{headers:{"Content-Type":"application/json"}})];case 1:return o=a.sent(),r=(null===(e=o.data)||void 0===e?void 0:e.data)||o.data,[2,{status:o.status,success:null===(t=o.data)||void 0===t?void 0:t.success,message:(null===(n=o.data)||void 0===n?void 0:n.message)||o.message,data:r,tenantId:null==r?void 0:r.tenantId,tenantName:null==r?void 0:r.tenantName,settlementMode:null==r?void 0:r.settlementMode,settings:null==r?void 0:r.settings}];case 2:throw s=a.sent(),console.error("GameService.getDashboard error:",s),{status:s.status||500,data:s.data||null,message:s.message||"Failed to fetch dashboard settings",error:s};case 3:return[2]}})})},e.getDevelopers=function(e){var t,n,r,s;return o(this,void 0,Promise,function(){var o,c,l,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},(null==e?void 0:e.status)&&(o.status=e.status),[4,i.NetworkService.get(this.DEVELOPERS_ENDPOINT,Object.keys(o).length>0?o:void 0,{headers:{"Content-Type":"application/json"}})];case 1:return c=a.sent(),l=(null===(t=c.data)||void 0===t?void 0:t.data)||[],[2,{status:c.status,success:null===(n=c.data)||void 0===n?void 0:n.success,message:(null===(r=c.data)||void 0===r?void 0:r.message)||c.message,data:l,developers:l,count:null===(s=c.data)||void 0===s?void 0:s.count}];case 2:throw u=a.sent(),console.error("GameService.getDevelopers error:",u),{status:u.status||500,data:u.data||null,message:u.message||"Failed to fetch developers",error:u};case 3:return[2]}})})},e.getDeveloperById=function(e){var t,n,r;return o(this,void 0,Promise,function(){var o,s,c,l;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o=this.DEVELOPERS_ENDPOINT+"/"+e,[4,i.NetworkService.get(o,void 0,{headers:{"Content-Type":"application/json"}})];case 1:return s=a.sent(),c=null===(t=s.data)||void 0===t?void 0:t.data,[2,{status:s.status,success:null===(n=s.data)||void 0===n?void 0:n.success,message:(null===(r=s.data)||void 0===r?void 0:r.message)||s.message,data:c,developer:c}];case 2:throw l=a.sent(),console.error("GameService.getDeveloperById error:",l),{status:l.status||500,data:l.data||null,message:l.message||"Failed to fetch developer",error:l};case 3:return[2]}})})},e.getCategories=function(e){var t,n,r,s;return o(this,void 0,Promise,function(){var o,c,l,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},void 0!==(null==e?void 0:e.topLevel)&&(o.topLevel=e.topLevel),(null==e?void 0:e.status)&&(o.status=e.status),[4,i.NetworkService.get(this.CATEGORIES_ENDPOINT,Object.keys(o).length>0?o:void 0,{headers:{"Content-Type":"application/json"}})];case 1:return c=a.sent(),l=(null===(t=c.data)||void 0===t?void 0:t.data)||[],[2,{status:c.status,success:null===(n=c.data)||void 0===n?void 0:n.success,message:(null===(r=c.data)||void 0===r?void 0:r.message)||c.message,data:l,categories:l,count:null===(s=c.data)||void 0===s?void 0:s.count}];case 2:throw u=a.sent(),console.error("GameService.getCategories error:",u),{status:u.status||500,data:u.data||null,message:u.message||"Failed to fetch categories",error:u};case 3:return[2]}})})},e.getCategoriesWithProviders=function(e){var t,n,r,s;return o(this,void 0,Promise,function(){var o,c,l,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},(null==e?void 0:e.status)&&(o.status=e.status),(null==e?void 0:e.environment)&&(o.environment=e.environment),[4,i.NetworkService.get(this.CATEGORIES_WITH_PROVIDERS_ENDPOINT,Object.keys(o).length>0?o:void 0,{headers:{"Content-Type":"application/json"}})];case 1:return c=a.sent(),l=(null===(t=c.data)||void 0===t?void 0:t.data)||[],[2,{status:c.status,success:null===(n=c.data)||void 0===n?void 0:n.success,message:(null===(r=c.data)||void 0===r?void 0:r.message)||c.message,data:l,categories:l,count:null===(s=c.data)||void 0===s?void 0:s.count}];case 2:throw u=a.sent(),console.error("GameService.getCategoriesWithProviders error:",u),{status:u.status||500,data:u.data||null,message:u.message||"Failed to fetch categories with providers",error:u};case 3:return[2]}})})},e.getCategoriesWithGames=function(e){var t,n,r,s;return o(this,void 0,Promise,function(){var o,c,l,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},(null==e?void 0:e.status)&&(o.status=e.status),(null==e?void 0:e.environment)&&(o.environment=e.environment),(null==e?void 0:e.developerId)&&(o.developerId=e.developerId),(null==e?void 0:e.categoryId)&&(o.categoryId=e.categoryId),[4,i.NetworkService.get(this.CATEGORIES_WITH_GAMES_ENDPOINT,Object.keys(o).length>0?o:void 0,{headers:{"Content-Type":"application/json"}})];case 1:return c=a.sent(),l=(null===(t=c.data)||void 0===t?void 0:t.data)||[],[2,{status:c.status,success:null===(n=c.data)||void 0===n?void 0:n.success,message:(null===(r=c.data)||void 0===r?void 0:r.message)||c.message,data:l,categories:l,count:null===(s=c.data)||void 0===s?void 0:s.count}];case 2:throw u=a.sent(),console.error("GameService.getCategoriesWithGames error:",u),{status:u.status||500,data:u.data||null,message:u.message||"Failed to fetch categories with games",error:u};case 3:return[2]}})})},e.getCategoryById=function(e){var t,n,r;return o(this,void 0,Promise,function(){var o,s,c,l;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o=this.CATEGORIES_ENDPOINT+"/"+e,[4,i.NetworkService.get(o,void 0,{headers:{"Content-Type":"application/json"}})];case 1:return s=a.sent(),c=null===(t=s.data)||void 0===t?void 0:t.data,[2,{status:s.status,success:null===(n=s.data)||void 0===n?void 0:n.success,message:(null===(r=s.data)||void 0===r?void 0:r.message)||s.message,data:c,category:c}];case 2:throw l=a.sent(),console.error("GameService.getCategoryById error:",l),{status:l.status||500,data:l.data||null,message:l.message||"Failed to fetch category",error:l};case 3:return[2]}})})},e.getTags=function(e){var t,n,r,s;return o(this,void 0,Promise,function(){var o,c,l,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},void 0!==(null==e?void 0:e.code)&&(o.code=e.code),(null==e?void 0:e.status)&&(o.status=e.status),[4,i.NetworkService.get(this.TAGS_ENDPOINT,Object.keys(o).length>0?o:void 0,{headers:{"Content-Type":"application/json"}})];case 1:return c=a.sent(),l=(null===(t=c.data)||void 0===t?void 0:t.data)||[],[2,{status:c.status,success:null===(n=c.data)||void 0===n?void 0:n.success,message:(null===(r=c.data)||void 0===r?void 0:r.message)||c.message,data:l,tags:l,count:null===(s=c.data)||void 0===s?void 0:s.count}];case 2:throw u=a.sent(),console.error("GameService.getTags error:",u),{status:u.status||500,data:u.data||null,message:u.message||"Failed to fetch tags",error:u};case 3:return[2]}})})},e.getTagById=function(e){var t,n,r;return o(this,void 0,Promise,function(){var o,s,c,l;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o=this.TAGS_ENDPOINT+"/"+e,[4,i.NetworkService.get(o,void 0,{headers:{"Content-Type":"application/json"}})];case 1:return s=a.sent(),c=null===(t=s.data)||void 0===t?void 0:t.data,[2,{status:s.status,success:null===(n=s.data)||void 0===n?void 0:n.success,message:(null===(r=s.data)||void 0===r?void 0:r.message)||s.message,data:c,tag:c}];case 2:throw l=a.sent(),console.error("GameService.getTagById error:",l),{status:l.status||500,data:l.data||null,message:l.message||"Failed to fetch tag",error:l};case 3:return[2]}})})},e.getGames=function(e){var t,n,r,s;return o(this,void 0,Promise,function(){var o,c,l,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},void 0!==(null==e?void 0:e.status)&&(o.status=e.status),void 0!==(null==e?void 0:e.providerId)&&(o.providerId=e.providerId),void 0!==(null==e?void 0:e.categoryId)&&(o.categoryId=e.categoryId),void 0!==(null==e?void 0:e.developerId)&&(o.developerId=e.developerId),void 0!==(null==e?void 0:e.search)&&(o.search=e.search),void 0!==(null==e?void 0:e.page)&&(o.page=e.page),void 0!==(null==e?void 0:e.limit)&&(o.limit=e.limit),void 0!==(null==e?void 0:e.sort)&&(o.sort=e.sort),void 0!==(null==e?void 0:e.order)&&(o.order=e.order),[4,i.NetworkService.get(this.GAMES_ENDPOINT,Object.keys(o).length>0?o:void 0,{headers:{"Content-Type":"application/json"}})];case 1:return c=a.sent(),l=(null===(t=c.data)||void 0===t?void 0:t.data)||[],[2,{status:c.status,success:null===(n=c.data)||void 0===n?void 0:n.success,message:(null===(r=c.data)||void 0===r?void 0:r.message)||c.message,data:l,games:l,pagination:null===(s=c.data)||void 0===s?void 0:s.pagination}];case 2:throw u=a.sent(),console.error("GameService.getGames error:",u),{status:u.status||500,data:u.data||null,message:u.message||"Failed to fetch games",error:u};case 3:return[2]}})})},e.getGamesByCategory=function(e,t){var n,r,s,c,l;return o(this,void 0,Promise,function(){var o,u,d,h,m;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},void 0!==(null==t?void 0:t.status)&&(o.status=t.status),void 0!==(null==t?void 0:t.page)&&(o.page=t.page),void 0!==(null==t?void 0:t.limit)&&(o.limit=t.limit),u=this.GAMES_ENDPOINT+"/category/"+e,[4,i.NetworkService.get(u,Object.keys(o).length>0?o:void 0,{headers:{"Content-Type":"application/json"}})];case 1:return d=a.sent(),h=(null===(n=d.data)||void 0===n?void 0:n.data)||[],[2,{status:d.status,success:null===(r=d.data)||void 0===r?void 0:r.success,message:(null===(s=d.data)||void 0===s?void 0:s.message)||d.message,data:h,games:h,category:null===(c=d.data)||void 0===c?void 0:c.category,pagination:null===(l=d.data)||void 0===l?void 0:l.pagination}];case 2:throw m=a.sent(),console.error("GameService.getGamesByCategory error:",m),{status:m.status||500,data:m.data||null,message:m.message||"Failed to fetch games by category",error:m};case 3:return[2]}})})},e.getGamesByDeveloper=function(e,t){var n,r,s,c,l;return o(this,void 0,Promise,function(){var o,u,d,h,m;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},void 0!==(null==t?void 0:t.status)&&(o.status=t.status),void 0!==(null==t?void 0:t.page)&&(o.page=t.page),void 0!==(null==t?void 0:t.limit)&&(o.limit=t.limit),u=this.GAMES_ENDPOINT+"/developer/"+e,[4,i.NetworkService.get(u,Object.keys(o).length>0?o:void 0,{headers:{"Content-Type":"application/json"}})];case 1:return d=a.sent(),h=(null===(n=d.data)||void 0===n?void 0:n.data)||[],[2,{status:d.status,success:null===(r=d.data)||void 0===r?void 0:r.success,message:(null===(s=d.data)||void 0===s?void 0:s.message)||d.message,data:h,games:h,developer:null===(c=d.data)||void 0===c?void 0:c.developer,pagination:null===(l=d.data)||void 0===l?void 0:l.pagination}];case 2:throw m=a.sent(),console.error("GameService.getGamesByDeveloper error:",m),{status:m.status||500,data:m.data||null,message:m.message||"Failed to fetch games by developer",error:m};case 3:return[2]}})})},e.getGameById=function(e){var t,n,r;return o(this,void 0,Promise,function(){var o,s,c,l;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o=this.GAMES_ENDPOINT+"/"+e,[4,i.NetworkService.get(o,void 0,{headers:{"Content-Type":"application/json"}})];case 1:return s=a.sent(),c=null===(t=s.data)||void 0===t?void 0:t.data,[2,{status:s.status,success:null===(n=s.data)||void 0===n?void 0:n.success,message:(null===(r=s.data)||void 0===r?void 0:r.message)||s.message,data:c,game:c}];case 2:throw l=a.sent(),console.error("GameService.getGameById error:",l),{status:l.status||500,data:l.data||null,message:l.message||"Failed to fetch game",error:l};case 3:return[2]}})})},e.getHomepageData=function(){var e,t,n;return o(this,void 0,Promise,function(){var o,r,s;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,i.NetworkService.get(this.HOMEPAGE_DATA_ENDPOINT,void 0,{headers:{"Content-Type":"application/json"}})];case 1:return o=a.sent(),r=null===(e=o.data)||void 0===e?void 0:e.data,[2,{status:o.status,success:null===(t=o.data)||void 0===t?void 0:t.success,message:(null===(n=o.data)||void 0===n?void 0:n.message)||o.message,data:r,categories:null==r?void 0:r.categories,hotGames:null==r?void 0:r.hotGames}];case 2:throw s=a.sent(),console.error("GameService.getHomepageData error:",s),{status:s.status||500,data:s.data||null,message:s.message||"Failed to fetch homepage data",error:s};case 3:return[2]}})})},e.getGamesByTag=function(e,t){var n,r,s,c,l;return o(this,void 0,Promise,function(){var o,u,d,h,m;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},void 0!==(null==t?void 0:t.status)&&(o.status=t.status),void 0!==(null==t?void 0:t.page)&&(o.page=t.page),void 0!==(null==t?void 0:t.limit)&&(o.limit=t.limit),u=this.GAMES_ENDPOINT+"/tags/"+e,[4,i.NetworkService.get(u,Object.keys(o).length>0?o:void 0,{headers:{"Content-Type":"application/json"}})];case 1:return d=a.sent(),h=(null===(n=d.data)||void 0===n?void 0:n.data)||[],[2,{status:d.status,success:null===(r=d.data)||void 0===r?void 0:r.success,message:(null===(s=d.data)||void 0===s?void 0:s.message)||d.message,data:h,games:h,tag:null===(c=d.data)||void 0===c?void 0:c.tag,pagination:null===(l=d.data)||void 0===l?void 0:l.pagination}];case 2:throw m=a.sent(),console.error("GameService.getGamesByTag error:",m),{status:m.status||500,data:m.data||null,message:m.message||"Failed to fetch games by tag",error:m};case 3:return[2]}})})},e.launchGame=function(e,t,n){var r,s,c;return o(this,void 0,Promise,function(){var o,l,u,d;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o=this.GAMES_ENDPOINT+"/"+e+"/launch",[4,i.NetworkService.post(o,{lang:t.lang,deviceType:t.deviceType},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}})];case 1:return l=a.sent(),u=null===(r=l.data)||void 0===r?void 0:r.data,[2,{status:l.status,success:null===(s=l.data)||void 0===s?void 0:s.success,message:(null===(c=l.data)||void 0===c?void 0:c.message)||l.message,data:u,launchUrl:null==u?void 0:u.launchUrl,sessionId:null==u?void 0:u.sessionId,gameId:null==u?void 0:u.gameId,gameCode:null==u?void 0:u.gameCode,gameName:null==u?void 0:u.gameName,isDemo:null==u?void 0:u.isDemo,currency:null==u?void 0:u.currency}];case 2:throw d=a.sent(),console.error("GameService.launchGame error:",d),{status:d.status||500,data:d.data||null,message:d.message||"Failed to launch game",error:d};case 3:return[2]}})})},e.DASHBOARD_ENDPOINT="/api/public/v1/players/dashboard",e.DEVELOPERS_ENDPOINT="/api/public/v1/developers",e.CATEGORIES_ENDPOINT="/api/public/v1/categories",e.CATEGORIES_WITH_PROVIDERS_ENDPOINT="/api/public/v1/categories/main-with-providers",e.CATEGORIES_WITH_GAMES_ENDPOINT="/api/public/v1/categories/main-with-games",e.TAGS_ENDPOINT="/api/public/v1/tags",e.GAMES_ENDPOINT="/api/public/v1/games",e.HOMEPAGE_DATA_ENDPOINT="/api/public/v1/games/homepage-data",e}();n.GameService=r,n.default=r,cc._RF.pop()},{"./NetworkService":"NetworkService"}],GameType:[function(e,t){"use strict";cc._RF.push(t,"0c1cd/Sjj1Jf4tqOzg8SFtj","GameType");var n=a(e("SharedFunction")),o=a(e("../Services/GameService"));function a(e){return e&&e.__esModule?e:{default:e}}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(V){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var s=L(r,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=u(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(V){return{type:"throw",arg:V}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};c(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function w(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){function o(a,i,r,s){var c=u(e[a],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,s)},function(e){o("throw",e,r,s)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,s)})}s(c.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=f,c(v,"constructor",f),c(f,"constructor",m),m.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,r,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new b(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},w(v),c(v,s,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=P,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function r(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(error){return void n(error)}s.done?t(c):Promise.resolve(c).then(o,a)}var s=e("SharedData");cc.Class({extends:cc.Component,properties:{gameTypeAnimation:cc.Animation,gameTypeBG:{default:null,type:cc.Node},gameRect:{default:null,type:cc.Node},mBetNowLabel:{default:null,type:cc.Node},myGameWebView:null},onLoad:function(){},init:function(e,t,n,o,a,i){var r=this;if(this.node.x=e+10,this.node.y=t,this.node.opacity=0,this.data=n,this.isProvider=a,this.providerData=o,this.mCallBack=i,cc.tween(this.node).to(.5,{position:cc.v2(e,t)}).start(),cc.tween(this.node).to(.5,{opacity:255}).start(),this.playAnimation(),this.gameTypeBG&&this.data)if(this.isProvider&&this.data.logoUrl){var s="https://api.codetabs.com/v1/proxy?quest="+encodeURIComponent(this.data.logoUrl);cc.assetManager.loadRemote(s,function(e,t){if(e)console.error("Failed to load image:",e);else{var n=new cc.SpriteFrame(t),o=r.gameTypeBG.getComponent(cc.Sprite);o&&(o.type=cc.Sprite.Type.SIMPLE,r.gameTypeBG.getComponent(cc.Sprite).spriteFrame=n,r.fitImageToNode(t.width,t.height),r.gameRect.active=!0)}})}else if(this.data.thumbnailUrl){var c="https://api.codetabs.com/v1/proxy?quest="+encodeURIComponent(this.data.thumbnailUrl);cc.assetManager.loadRemote(c,function(e,t){if(e)console.error("Failed to load image:",e);else{var n=new cc.SpriteFrame(t),o=r.gameTypeBG.getComponent(cc.Sprite);o&&(o.type=cc.Sprite.Type.SIMPLE,r.gameTypeBG.getComponent(cc.Sprite).spriteFrame=n,r.fitImageToNode(t.width,t.height))}})}},playAnimation:function(){var e=this;if(!this.isProvider){var t=this;cc.resources.load("animations/gametype/"+this.data.game_code,cc.AnimationClip,function(n,o){if(!n){var a=t.gameTypeAnimation.getComponent(cc.Animation);a.addClip(o,t.data.game_code),a.play(t.data.game_code),t.gameTypeAnimation.on("stop",function(){t.gameTypeAnimation&&t.gameTypeAnimation.play(t.data.game_code)},e)}})}},fitImageToNode:function(e,t){var n=this.gameTypeBG,o=e,a=t;if(o>192||a>192){var i=192/o,r=192/a,s=Math.min(i,r);o*=s,a*=s}n.width=o,n.height=a},onClick:function(){if(n.default.playButtonClickSound(),this.isProvider)this.mCallBack.onDeveloperButtonDidPressed(this.data,this.providerData);else{if(n.default.showLoadingView("",this.mCallBack||this),!this.data)return console.error("GameType: Game data is missing",this.data),void n.default.hideLoadingView(this.mCallBack||this);var e=this.data.id||this.data._id;if(!e)return console.error("GameType: Game ID is missing. Data:",this.data),void n.default.hideLoadingView(this.mCallBack||this);var t=localStorage.getItem("token");if(!t)return n.default.hideLoadingView(this.mCallBack||this),void(this.mCallBack&&"function"==typeof this.mCallBack.onLoginButtonDidPressed&&this.mCallBack.onLoginButtonDidPressed());var o=n.default.isMobile()?"mobile":"desktop",a=s.getCurrentLanguage()||"en";this.launchGame(e,a,o,t)}},launchGame:function(e,t,a,s){var c,l=this;return(c=i().mark(function r(){var c;return i().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,o.default.launchGame(e,{lang:t,deviceType:a},s);case 3:(c=i.sent).success&&c.launchUrl?(n.default.hideLoadingView(l.mCallBack||l),l.loadGameWebView(c.launchUrl)):(console.error("GameType: Failed to launch game",c.message),n.default.hideLoadingView(l.mCallBack||l)),i.next=11;break;case 7:i.prev=7,i.t0=i.catch(0),console.error("GameType: Error launching game",i.t0),n.default.hideLoadingView(l.mCallBack||l);case 11:case"end":return i.stop()}},r,null,[[0,7]])}),function(){var e=this,t=arguments;return new Promise(function(n,o){var a=c.apply(e,t);function i(e){r(a,n,o,i,s,"next",e)}function s(e){r(a,n,o,i,s,"throw",e)}i(void 0)})})()},loadGameWebView:function(e){var t=this;cc.resources.load("prefabs/game/GameWebView",cc.Prefab,function(n,o){if(n)console.error("GameType: Failed to load GameWebView prefab:",n);else{null==t.myGameWebView&&(t.myGameWebView=cc.instantiate(o).getComponent("GameWebView"),t.myGameWebView.updatePrefabSize()),t.myGameWebView.init(e,t.mCallBack||t);var a=t.mCallBack?t.mCallBack.node:t.node.parent;a?a.addChild(t.myGameWebView.node):cc.director.getScene().addChild(t.myGameWebView.node)}})}}),cc._RF.pop()},{"../Services/GameService":"GameService",SharedData:"SharedData",SharedFunction:"SharedFunction"}],GameWebView:[function(e,t){"use strict";cc._RF.push(t,"bdb564BZDxHdZDb7k8PqzHp","GameWebView");var n,o,a=(n=e("SharedFunction"))&&n.__esModule?n:{default:n},i=e("SharedData");cc.Class(((o={extends:cc.Component,properties:{mCallBack:null,mJs:null,mIsLoadUrl:!1,mIsInjected:!1,mWebView:{default:null,type:cc.Node},mProgressBar:{default:null,type:cc.ProgressBar},mPercentageLabel:{default:null,type:cc.Label},i18nJson:{default:null,type:cc.JsonAsset},mStatusLabel:{default:null,type:cc.Node},progress:0,isLobbyPreloaded:!1,closeGameTriggered:!1,gameUrl:""},onLoad:function(){cc.audioEngine.setVolume(0),this.mProgressBar.node.active=!1,a.default.stopLobbyBackgroundMusic();for(var e=i.getCachedGameList(),t=0;t<e.length;t++){var n=e[t];cc.resources.release(n,cc.SpriteFrame)}i.clearCachedGameList(),i.getIsApp()||(console.log("1111111"),window.closeGameView=this.windowCloseGameView.bind(this)),cc.game.on(cc.game.EVENT_HIDE,this.onGameHide,this),cc.game.on(cc.game.EVENT_SHOW,this.onGameShow,this),this.loadUrl(this.gameUrl,0,!1)},onDestroy:function(){this.stopDotAnimation(),cc.audioEngine.setVolume(1),cc.game.off(cc.game.EVENT_HIDE,this.onGameHide,this),cc.game.off(cc.game.EVENT_SHOW,this.onGameShow,this)},update:function(e){this.mProgressBar.node.active&&(this.progress+=.1*e,this.progress=this.progress>.99?.99:this.progress,this.mProgressBar.progress=this.progress,this.mPercentageLabel.getComponent(cc.Label).string=Math.floor(100*this.progress)+"%",this.isLobbyPreloaded&&(this.progress=1,this.mProgressBar.progress=this.progress,this.mPercentageLabel.getComponent(cc.Label).string=Math.floor(100*this.progress)+"%",cc.director.loadScene("Lobby",function(){return a.default.playLobbyBackgroundMusicForExitsGame()})))},loadUrl:function(e){console.log("loadUrl",e),this.mIsLoadUrl=!0,this.mIsInjected=!1,this.mWebView.getComponent(cc.WebView).url=e,this.mWebView.getComponent(cc.WebView).node.on("loaded",this.onWebViewLoaded,this);var t=document.getElementById("Cocos2dGameContainer"),n=document.getElementById("overlay");t.appendChild(n),n.style.display="block"},onWebViewLoaded:function(){console.log("GameWebView: WebView loaded")},onWebViewMessage:function(e){console.log("GameWebView: WebView message:",e),e.type===cc.WebView.EventType.MESSAGE&&console.log("GameWebView: WebView message:",e.message)},onWebViewURLChanged:function(e){console.log("GameWebView: WebView URL changed:",e.url)},init:function(e,t){this.mCallBack=t,this.gameUrl=e},updatePrefabSize:function(){var e=cc.Canvas.instance.node;e&&(this.node.width=e.width,this.node.height=e.height)},stopLoading:function(){this.mWebView.getComponent(cc.WebView).url="about:blank"}}).onWebViewLoaded=function(){this.mIsLoadUrl?this.mWebView.opacity=255:0==this.mIsInjected&&(this.mIsInjected=!0,this.mWebView.getComponent(cc.WebView).evaluateJS(this.mJs))},o.windowCloseGameView=function(){var e=this;this.closeGameTriggered||(this.closeGameTriggered=!0,a.default.playButtonClickSound(),cc.director.preloadScene("Lobby",function(){e.isLobbyPreloaded=!0}),document.getElementById("overlay").style.display="none",this.stopLoading(),this.mProgressBar.node.active=!0,this.startDotAnimation())},o.startDotAnimation=function(){var e=this,t=0;this.dotInterval=setInterval(function(){var n=".".repeat(t=(t+1)%4);e.mStatusLabel.getComponent(cc.Label).string=""+a.default.getLocalizedString(e.i18nJson,"enter")+n},500)},o.stopDotAnimation=function(){clearInterval(this.dotInterval)},o.onGameHide=function(){setTimeout(function(){console.log("Game is hidden"),window.closeGameView=null,cc.audioEngine.setVolume(0),a.default.stopLobbyBackgroundMusic()},1)},o.onGameShow=function(){var e=this;setTimeout(function(){console.log("Game is shown"),window.closeGameView=e.windowCloseGameView.bind(e),cc.audioEngine.setVolume(0),a.default.stopLobbyBackgroundMusic()},1)},o)),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],Landing:[function(e,t){"use strict";cc._RF.push(t,"e378flsQLpOjbzAZ+r2CbnB","Landing");var n=a(e("SharedFunction")),o=a(e("SharedData"));function a(e){return e&&e.__esModule?e:{default:e}}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(V){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var s=L(r,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=u(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(V){return{type:"throw",arg:V}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};c(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function w(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){function o(a,i,r,s){var c=u(e[a],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,s)},function(e){o("throw",e,r,s)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,s)})}s(c.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=f,c(v,"constructor",f),c(f,"constructor",m),m.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,r,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new b(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},w(v),c(v,s,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=P,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function r(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(error){return void n(error)}s.done?t(c):Promise.resolve(c).then(o,a)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function s(e){r(i,o,a,s,c,"next",e)}function c(e){r(i,o,a,s,c,"throw",e)}s(void 0)})}}cc.Class({extends:cc.Component,properties:{mTickImage:{default:null,type:cc.Node},myLoginView:null,myRegisterView:null,mGuestLoginButton:{default:null,type:cc.Node},mLoginButton:{default:null,type:cc.Node},mTncLabel:{default:null,type:cc.Node},mVerifyPromoLabel:{default:null,type:cc.Node},mAgreementNode:{default:null,type:cc.Node},i18nJson:{default:null,type:cc.JsonAsset}},onLoad:function(){var e=this;cc.view.setResizeCallback(function(){e.updatePrefabSize()}),cc.sys.capabilities.opengl||(cc._renderType=cc.game.RENDER_TYPE_CANVAS,cc.game.CONFIG_KEY.renderMode=0),setTimeout(function(){""!=o.default.getLandingAlertMessage()&&(n.default.showAlertView(o.default.getLandingAlertMessage(),e),o.default.setLandingAlertMessage(""))},1)},onAgreementCheckBoxDidPressed:function(){n.default.playButtonClickSound(),this.mTickImage.active=!this.mTickImage.active},onGuestLoginButtonDidPressed:function(){if(n.default.playButtonClickSound(),this.mTickImage.active){n.default.showLoadingView("",this);var e=localStorage.getItem("username"),t=localStorage.getItem("password");e&&t?this.callLoginApi("",e,t,""):this.callRegisterApi(o.default.getReferral(),o.default.getAgentCode())}},callGetSplashDataApi:function(){var e=this;return s(i().mark(function t(){var a,r,s,c;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e,r=new SplashScript,t.next=4,r.getSplashData();case 4:if(403!=(s=t.sent).status){t.next=9;break}e.callRegisterApi(o.default.getReferral(),o.default.getAgentCode()),t.next=17;break;case 9:if(200!=s.status){t.next=17;break}return localStorage.setItem("from_index",JSON.stringify(s)),c=o.default.getCurrentLanguage(),t.next=14,r.setLocale(c);case 14:cc.director.loadScene("Lobby",function(){n.default.hideLoadingView(a)}),t.next=17;break;case 17:case"end":return t.stop()}},t)}))()},callRegisterApi:function(e,t){var o=this;return s(i().mark(function a(){var r;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,register(e,t);case 3:if(!(r=a.sent).status){a.next=11;break}return window.fbq&&window.fbq("track","CompleteRegistration",{customerId:r.account,currency:"php"}),localStorage.setItem("username",r.account),localStorage.setItem("password",r.password),a.next=10,o.callLoginApi("",r.account,r.password,"");case 10:return a.abrupt("return");case 11:if(!e&&!t){a.next=14;break}return o.callRegisterApi("",""),a.abrupt("return");case 14:if(!r.account||!r.message){a.next=17;break}return o.callLoginApi("",r.account,r.password,""),a.abrupt("return");case 17:n.default.showAlertView(r.message?r.message:"Gagal Masuk",o),a.next=23;break;case 20:a.prev=20,a.t0=a.catch(0),console.error("Landing","callRegisterApi Error:",a.t0);case 23:case"end":return a.stop()}},a,null,[[0,20]])}))()},callLoginApi:function(e,t,o,a){var r=this;return s(i().mark(function s(){return i().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,login(e,t,o,a);case 3:200==i.sent.status?(localStorage.setItem("username",t),localStorage.setItem("password",o),window.fbq&&window.fbq("trackCustom","login",{customerId:t+a}),r.callGetSplashDataApi()):(n.default.showAlertView(n.default.getLocalizedString(r.i18nJson,"invalidAccount"),r),n.default.hideLoadingView(r)),i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),console.error("Landing","callLoginApi Error:",i.t0);case 10:case"end":return i.stop()}},s,null,[[0,7]])}))()},callRegisterApi2:function(e,t){var o=this;return s(i().mark(function a(){var r;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,register(e,t);case 3:if(!(r=a.sent).status){a.next=8;break}return window.fbq&&window.fbq("track","CompleteRegistration",{customerId:r.account,currency:"php"}),o.callLoginApi2("",r.account,r.password,""),a.abrupt("return");case 8:if(!e&&!t){a.next=11;break}return o.callRegisterApi2("",""),a.abrupt("return");case 11:if(!r.account||!r.message){a.next=14;break}return o.callLoginApi2("",r.account,r.password,""),a.abrupt("return");case 14:n.default.showAlertView(r.message?r.message:"Gagal Masuk",o),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(0),console.error("Landing","callRegisterApi Error:",a.t0);case 20:case"end":return a.stop()}},a,null,[[0,17]])}))()},callLoginApi2:function(e,t,a,r){var c=this;return s(i().mark(function s(){var l,u,d,h;return i().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,login(e,t,a,r);case 3:if(200!=i.sent.status){i.next=12;break}return l=new LobbyScript,i.next=8,l.getProfile();case 8:200==(u=i.sent).status&&(localStorage.setItem("username",t),localStorage.setItem("password",a),window.fbq&&window.fbq("trackCustom","login",{customerId:t+r}),d=u.result,(h=d.getUserProfile).mainWallet=d.mainWallet,o.default.setUserObject(h)),i.next=13;break;case 12:n.default.showAlertView(n.default.getLocalizedString(c.i18nJson,"invalidAccount"),c);case 13:i.next=18;break;case 15:i.prev=15,i.t0=i.catch(0),console.error("Landing","callLoginApi Error:",i.t0);case 18:case"end":return i.stop()}},s,null,[[0,15]])}))()},onRegisterViewButtonDidPressed:function(){var e=this;return s(i().mark(function t(){var a,r,s,c;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((a=e).node.removeChild(a.myLoginView.node),n.default.showLoadingView("",a),r=localStorage.getItem("username"),s=localStorage.getItem("password"),!r||!s){t.next=10;break}return t.next=8,a.callLoginApi2("",r,s,"");case 8:t.next=12;break;case 10:return t.next=12,a.callRegisterApi2(o.default.getReferral(),o.default.getAgentCode());case 12:if(c=o.default.getUserObject(),n.default.hideLoadingView(a),c.username){t.next=17;break}return n.default.hideLoadingView(a),t.abrupt("return");case 17:cc.resources.load("prefabs/register/register",cc.Prefab,function(e,t){if(e)return console.error("Failed to load prefab:",e),void n.default.hideLoadingView(a);null==a.myRegisterView&&(a.myRegisterView=cc.instantiate(t).getComponent("Register"),a.updatePrefabSize(),a.myRegisterView.setCallBack(a)),a.myRegisterView.updateView(),a.node.addChild(a.myRegisterView.node)}),n.default.hideLoadingView(a);case 19:case"end":return t.stop()}},t)}))()},onRegisterViewDidClosed:function(){this.node.removeChild(this.myRegisterView.node),o.default.getVerificationStatus()&&(n.default.showLoadingView("",this),this.callGetSplashDataApi())},update:function(){},localizeUI:function(){this.mGuestLoginButton.getChildByName("container").getChildByName("label").getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"visitor"),this.mLoginButton.getChildByName("container").getChildByName("label").getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"account");var e=n.default.getLocalizedString(this.i18nJson,"tnc1"),t=n.default.getLocalizedString(this.i18nJson,"tnc2"),o=n.default.getLocalizedString(this.i18nJson,"tnc3");this.mTncLabel.getComponent(cc.RichText).string="<color=#ffffff>"+e+" </color><color=#196100>"+t+"</color><color=#ffffff> & </color><color=#196100>"+o+"</color>",this.mAgreementNode.getComponent(cc.Layout).updateLayout()},updatePrefabSize:function(){var e=cc.view.getVisibleSize();this.myLoginView&&this.myLoginView.init(0,0,e.width,e.height)},onCsButtonClicked:function(){window.open(o.default.getLiveChat(),"_blank").focus()}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],Language:[function(e,t){"use strict";cc._RF.push(t,"b17a6TzAq9JSLssp76FomcR","Language");var n=a(e("SharedFunction")),o=a(e("SharedData"));function a(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{mCallBack:null,defaultLanaguage:"en",createdButtons:[],mBackground:{default:null,type:cc.Node},myConfirmBtn:{default:null,type:cc.Node},myLanguageBorder:{default:null,type:cc.Node},myScrollView:{default:null,type:cc.Node},myScrollViewContent:{default:null,type:cc.Node},mLanguageLabelPrefab:{default:null,type:cc.Prefab},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node},mCountryLabel:{default:null,type:cc.Node},mLanguageLabel:{default:null,type:cc.Node},mConfirmLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},updateView:function(e){this.mCallBack=e,this.mBackground.active=!0,this.node.opacity=255,this.defaultLanaguage=o.default.getCurrentLanguage(),this.drawAvailableLanguage(),this.myScrollView.getComponent(cc.ScrollView).scrollToTop(0);var t=this.mBackground.getChildByName("language_bg");t.setScale(0),cc.tween(t).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},setCallBack:function(e){this.mCallBack=e},drawAvailableLanguage:function(){var e=JSON.parse(localStorage.getItem("from_index")).settings.languages,t=-234;for(var n in e.supportedLanguages){var o=e.supportedLanguages[n];t=this.defaultLanaguage==o.code?-76*parseInt(n)-234:t;var a=new cc.instantiate(this.mLanguageLabelPrefab);a.name=o.code,a.setPosition(cc.v2(0,-76*parseInt(n)-234)),a.getComponent(cc.Label).string=o.nativeName,this.myScrollViewContent.addChild(a);var i=a.getComponent(cc.Button);this.rebindButtonClick(i,"onLanguageDidPressed",o.code),this.createdButtons.push(a)}this.myLanguageBorder.setPosition(cc.v2(0,t)),this.myConfirmBtn.y=-76*(e.supportedLanguages.length-1)-332,this.myScrollViewContent.height=384+76*(e.supportedLanguages.length-1)},rebindButtonClick:function(e,t,n){if(e){e.clickEvents=[];var o=new cc.Component.EventHandler;o.target=this.node,o.component="Language",o.handler=t,o.customEventData=n,e.clickEvents.push(o)}},myCloseButtonDidPressed:function(e,t,a){var i=this;a||n.default.playButtonClickSound(),"confirm"==t&&(o.default.setCurrentLanguage(this.defaultLanaguage),this.localizeUI(),this.mCallBack.localizeUI());var r=this.mBackground.getChildByName("language_bg");cc.tween(r).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){i.createdButtons.forEach(function(e){e&&e.isValid&&(e.node?e.node.removeFromParent():e.removeFromParent())}),i.createdButtons=[],i.mCallBack&&i.mCallBack.onLanguageCloseButtonDidPressed()}).start()},onLanguageDidPressed:function(e,t){n.default.playButtonClickSound(),cc.tween(this.myLanguageBorder).to(.1,{position:cc.v2(0,e.target.y)}).start(),this.defaultLanaguage=t},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"title"),this.mCountryLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"country"),this.mLanguageLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"language"),this.mConfirmLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirm")},updatePrefabSize:function(){cc.view.getVisibleSize()}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],LevelInfo:[function(e,t){"use strict";cc._RF.push(t,"fd94d9uD5hCN7bsURm8jXsD","LevelInfo");var n,o=(n=e("SharedFunction"))&&n.__esModule?n:{default:n};e("SharedData"),cc.Class({extends:cc.Component,properties:{myBorder:{default:null,type:cc.Node},myLevelImg:{default:null,type:cc.Node},myLevelLabel:{default:null,type:cc.Node},myDataLabel1:{default:null,type:cc.Node},myDataLabel2:{default:null,type:cc.Node},myDataLabel3:{default:null,type:cc.Node},myDataLabel4:{default:null,type:cc.Node},myDataLabel5:{default:null,type:cc.Node},myDataLabel6:{default:null,type:cc.Node},i18nJson:{default:null,type:cc.JsonAsset},mLabel1:{default:null,type:cc.Node},mLabel2:{default:null,type:cc.Node},mLabel3:{default:null,type:cc.Node},mLabel4:{default:null,type:cc.Node},mLabel5:{default:null,type:cc.Node},mLabel6:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},init:function(e,t,n,a){this.node.x=e,this.node.y=t,this.data=n,this.mCallBack=a;var i=this;cc.loader.loadRes("images/profile/VIP"+n.level+".png",cc.SpriteFrame,function(e,t){i.myLevelImg.getComponent(cc.Sprite).spriteFrame=t}),1==n.level&&(this.myBorder.active=!0),this.myLevelLabel.getComponent(cc.Label).string=n.name,this.myDataLabel1.getComponent(cc.Label).string=o.default.showNumberWithDecimalAndComma(n.dailyLimit,2),this.myDataLabel2.getComponent(cc.Label).string=o.default.showNumberWithDecimalAndComma(n.dailyTransaction,2),this.myDataLabel3.getComponent(cc.Label).string=o.default.showNumberWithDecimalAndComma(n.upgradeBonus,2),this.myDataLabel4.getComponent(cc.Label).string=o.default.showNumberWithDecimalAndComma(n.rescueBonus,2)+"%",this.myDataLabel5.getComponent(cc.Label).string=o.default.showNumberWithDecimalAndComma(n.birthdayBonus,2),this.myDataLabel6.getComponent(cc.Label).string=n.present},onInfoButtonDidPressed:function(){o.default.playButtonClickSound(),this.mCallBack.onShowHideLevelDetail(!0,this.data.level,this.data.name)},localizeUI:function(){this.mLabel1.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"label1"),this.mLabel2.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"label2"),this.mLabel3.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"label3"),this.mLabel4.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"label4"),this.mLabel5.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"label5"),this.mLabel6.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"label6")}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],LoadingView:[function(e,t){"use strict";cc._RF.push(t,"e594cUF5ElNjrTjSJxUI7jX","LoadingView"),cc.Class({extends:cc.Component,properties:{mCallBack:null,myLabel:{default:null,type:cc.Label},loadingAnimation:cc.Animation,mStatusMessage:""},onLoad:function(){},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.loadingAnimation.play("loading_view"),this.loadingAnimation.on("stop",function(){this.loadingAnimation&&this.loadingAnimation.play("loading_view")},this)},setText:function(e){void 0===e&&(e=""),this.mStatusMessage=e,""==this.mStatusMessage||this.dotInterval||this.startDotAnimation()},startDotAnimation:function(){var e=this,t=0;this.dotInterval=setInterval(function(){var n=".".repeat(t=(t+1)%4);e.myLabel.string=""+e.mStatusMessage+n},500)},stopDotAnimation:function(){clearInterval(this.dotInterval)},onDestroy:function(){this.stopDotAnimation()}}),cc._RF.pop()},{}],Lobby:[function(e,t){"use strict";cc._RF.push(t,"b8c13I+EnNHQb/qh+U39rfM","Lobby");var n=s(e("SharedFunction")),o=s(e("SharedData")),a=s(e("../Services/AuthServices")),i=s(e("../Services/UserService")),r=s(e("../Services/GameService"));function s(e){return e&&e.__esModule?e:{default:e}}function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(V){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var s=L(r,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=u(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(V){return{type:"throw",arg:V}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};s(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function w(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){function o(a,i,r,s){var c=u(e[a],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,s)},function(e){o("throw",e,r,s)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,s)})}s(c.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=f,s(v,"constructor",f),s(f,"constructor",m),m.displayName=s(f,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,r,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),s(b.prototype,i,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new b(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},w(v),s(v,r,"Generator"),s(v,a,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=P,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function l(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(error){return void n(error)}s.done?t(c):Promise.resolve(c).then(o,a)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function r(e){l(i,o,a,r,s,"next",e)}function s(e){l(i,o,a,r,s,"throw",e)}r(void 0)})}}cc.Class({extends:cc.Component,properties:{myLoginView:null,myRegistrationView:null,myLanguageView:null,mySettingsView:null,myDepositView:null,myPersonalView:null,myGameListView:null,myAnnouncement:null,mCurrentGameGroup:"",banners:[],mGameGroupList:[],createdGameGroup:[],createdGameType:[],isDrawerOpen:!1,mBackground:{default:null,type:cc.Node},myLoginBtn:{default:null,type:cc.Node},myRegisterBtn:{default:null,type:cc.Node},myPlayerNameLabel:{default:null,type:cc.Node},myCopyIDBG:{default:null,type:cc.Node},myPlayIdLabel:{default:null,type:cc.Node},myDepositBtn:{default:null,type:cc.Node},myWithdrawBtn:{default:null,type:cc.Node},myRebateBtn:{default:null,type:cc.Node},myMessageBtn:{default:null,type:cc.Node},mySupportBtn:{default:null,type:cc.Node},myMoreBtn:{default:null,type:cc.Node},myBalanceBG:{default:null,type:cc.Node},myDrawerBG:{default:null,type:cc.Node},myGameScrollView:{default:null,type:cc.Node},myGameScrollContent:{default:null,type:cc.Node},myGameGroupScrollContent:{default:null,type:cc.Node},myLobbyFooter:{default:null,type:cc.Node},myHeaderProfileImg:{default:null,type:cc.Sprite},myNotificationBG:{default:null,type:cc.Node},myLobbyContainer:{default:null,type:cc.Node},myAnnouncementPrefab:{default:null,type:cc.Prefab},myGameGroupPrefab:{default:null,type:cc.Prefab},myBannerPrefab:{default:null,type:cc.Prefab},myBannerView:null,mSelectedTabbarIndex:0,myBannerContainer:{default:null,type:cc.Sprite},myBannerMoveTimer:{default:6,type:cc.Float},myBannerItemPrefabs:{default:null,type:cc.Prefab},myBannerCanMove:!1,myUserName:{default:null,type:cc.Node},myUserBalance:{default:null,type:cc.Node},myUserProfileImage:{default:null,type:cc.Node},myGridView:null,myGridScrollView:cc.ScrollView,myTopupView:null,myWithdrawView:null,myProfileView:null,myEventView:null,mEventPrefab:{default:null,type:cc.Prefab},myFollowUsView:null,mFollowUsPrefab:{default:null,type:cc.Prefab},myRegisterView:null,mDailyBonusView:null,mDailyBonusPrefab:{default:null,type:cc.Prefab},mWelcomeBonusView:null,mWelcomeBonusPrefab:{default:null,type:cc.Prefab},mGameView:null,mMailboxView:null,mReferralView:null,myTabbar:{default:null,type:cc.Sprite},myTabbarButtonPrefabs:{default:null,type:cc.Prefab},mVipImage:{default:null,type:cc.Node},mVipLabel:{default:null,type:cc.Node},mVipView:null,mRebateView:null,mPwaAndroidView:null,mPwaiOSView:null,mPwaButton:{default:null,type:cc.Node},mCarnivalView:null,mCarnivalPrefab:{default:null,type:cc.Prefab},mRedeemCodeView:null,mStartLabel:{default:null,type:cc.Node},mWinnerInfoView:{default:null,type:cc.Node},mWinnerInfoAvatar:{default:null,type:cc.Node},mWinnerInfoMultiplier:{default:null,type:cc.Node},mWinnerInfoName:{default:null,type:cc.Node},mWinnerInfoAmount:{default:null,type:cc.Node},mWinnerInfoGameImage:{default:null,type:cc.Node},mWinnerInfoNextShowTimer:5,mMailRedDot:{default:null,type:cc.Node},mDepositButton:{default:null,type:cc.Node},mWithdrawButton:{default:null,type:cc.Node},mVipButton:{default:null,type:cc.Node},mCsButton:{default:null,type:cc.Node},mMailButton:{default:null,type:cc.Node},mRebateButton:{default:null,type:cc.Node},mReferralButton:{default:null,type:cc.Node},mStartImage:{default:null,type:cc.Node},mMailBubble:{default:null,type:cc.Node},mEnStart:{default:null,type:cc.SpriteFrame},mIdStart:{default:null,type:cc.SpriteFrame},mTlStart:{default:null,type:cc.SpriteFrame},mLayout:{default:null,type:cc.Node},mEventButtonView:null,mEventButtonPrefab:{default:null,type:cc.Prefab},mCarnivalButtonView:null,mCarnivalButtonPrefab:{default:null,type:cc.Prefab},mFollowUsButtonView:null,mFollowUsButtonPrefab:{default:null,type:cc.Prefab},mAccumDepositButtonView:null,mAccumDepositButtonPrefab:{default:null,type:cc.Prefab},mWelcomeBonusButtonView:null,mWelcomeBonusButtonPrefab:{default:null,type:cc.Prefab},mVerifyButtonView:null,mVerifyButtonPrefab:{default:null,type:cc.Prefab},isVerifyOpen:!1,isWelcomeBonusOpen:!1,isDailyBonusOpen:!1,isFollowUsOpen:!1,isCarnivalOpen:!1,isEventOpen:!1,isDepositOpen:!1,isWithdrawOpen:!1,isVipOpen:!1,isMailboxOpen:!1,isRebateOpen:!1,isReferralOpen:!1,mNewPrizeAmount:0,mShowNewPrizeNotification:!1,i18nJson:{default:null,type:cc.JsonAsset},mLoginLabel:{default:null,type:cc.Node},mRegisterLabel:{default:null,type:cc.Node},mSettingLabel:{default:null,type:cc.Node},mDepositLabel:{default:null,type:cc.Node},mWithdrawLabel:{default:null,type:cc.Node},mNotificationLabel:{default:null,type:cc.Node}},onLoad:function(){var e=this;cc.resources.load("prefabs/LoadingView/LoadingView",cc.Prefab,function(e,t){n.default.setLoadingViewPrefabs(t)});var t=this;this.localizeUI(),document.getElementById("overlay")||cc.resources.load("images/login/close_btn",cc.SpriteFrame,function(e,t){if(!e&&t){var n=document.getElementById("Cocos2dGameContainer");(o=document.createElement("button")).id="overlay",o.style.backgroundImage="url('"+t.getTexture().nativeUrl+"')",o.style.backgroundSize="contain",o.style.backgroundRepeat="no-repeat",o.style.backgroundColor="transparent",o.style.border="none",o.style.width="50px",o.style.height="50px",o.style.position="fixed",o.style.bottom="10px",o.style.right="10px",o.style.zIndex="9999",o.style.display="none",o.onclick=function(){"function"==typeof window.closeGameView&&window.closeGameView()},n.appendChild(o)}else{var o,a=document.getElementById("Cocos2dGameContainer");(o=document.createElement("button")).id="overlay",o.innerHTML="Close Game",o.style.position="fixed",o.style.bottom="10px",o.style.right="10px",o.style.zIndex="9999",o.style.display="none",o.onclick=function(){"function"==typeof window.closeGameView&&window.closeGameView()},a.appendChild(o)}}),cc.view.setResizeCallback(function(){e.updatePrefabSize()}),this.handleSplashResponse(),o.default.getSelectedAvatar()==localStorage.getItem("selected_avatar")&&cc.loader.loadRes("images/profile/Avatar"+o.default.getSelectedAvatar()+".png",cc.SpriteFrame,function(e,n){t.myHeaderProfileImg.getComponent(cc.Sprite).spriteFrame=n}),this.mGameGroupList=[{code:"hot",name:"Hot Game",iconName:"hot"},{code:"live",name:"Live Casino",iconName:"live"},{code:"slots",name:"Slots",iconName:"slots"},{code:"fishing",name:"Fishing",iconName:"hot"},{code:"sport",name:"Sports",iconName:"hot"},{code:"crash",name:"Crash",iconName:"hot"},{code:"others",name:"Others",iconName:"hot"},{code:"fast",name:"Fast Game",iconName:"hot"}],this.configureGameGroup(),this.playBtnAnimation(),n.default.playLobbyBackgroundMusic(),n.default.isLoggedIn()&&this.callGetProfileApi()},updateHeaderIcon:function(){var e=o.default.getPopoutItem();if(null!=e&&null!=this.mLayout){this.mLayout.removeAllChildren();for(var t=0;t<e.headerList.length;t++)switch(e.headerList[t]){case"promotions":var n=cc.instantiate(this.mEventButtonPrefab);this.mLayout.addChild(n),this.mEventButtonView=n.getComponent("LobbyEventButton"),this.mEventButtonView.setCallBack(this);break;case"mission":var a=o.default.getMissionDataObject();if(1==a.status&&null!=a.data){var i=cc.instantiate(this.mCarnivalButtonPrefab);this.mLayout.addChild(i),this.mCarnivalButtonView=i.getComponent("LobbyCarnivalButton"),this.mCarnivalButtonView.setCallBack(this)}break;case"follow_us":var r=cc.instantiate(this.mFollowUsButtonPrefab);this.mLayout.addChild(r),this.mFollowUsButtonView=r.getComponent("LobbyFollowUsButton"),this.mFollowUsButtonView.setCallBack(this);break;case"accum_depo":if(null!=o.default.getAccumulateDepositObject()){var s=cc.instantiate(this.mAccumDepositButtonPrefab);this.mLayout.addChild(s),this.mAccumDepositButtonView=s.getComponent("LobbyAccumDepositButton"),this.mAccumDepositButtonView.setCallBack(this)}break;case"welcome_bonus":if(null!=o.default.getWelcomeBonusObject()){var c=cc.instantiate(this.mWelcomeBonusButtonPrefab);this.mLayout.addChild(c),this.mWelcomeBonusButtonView=c.getComponent("LobbyWelcomeBonusButton"),this.mWelcomeBonusButtonView.setCallBack(this)}break;case"official_acc":if(!o.default.getVerificationStatus()){var l=cc.instantiate(this.mVerifyButtonPrefab);this.mLayout.addChild(l),this.mVerifyButtonView=l.getComponent("LobbyVerifyButton"),this.mVerifyButtonView.setCallBack(this)}}this.mLayout.getComponent(cc.Layout).updateLayout()}},autoShowDialog:function(){if(!n.default.getQueryParam("skip")){var e=o.default.getPopoutItem();if(null!=e&&0!=e.popoutList.length){var t=e.popoutList[0];switch(t.code){case"promotions":var a=n.default.getTodayData("openPromotionCount",0);if(a>=t.times)return e.popoutList.shift(),void this.autoShowDialog();n.default.setTodayData("openPromotionCount",a+1),this.onEventButtonDidPressed(),e.popoutList.shift();break;case"mission":var i=o.default.getMissionDataObject();if(0==i.status||null==i.data)return e.popoutList.shift(),void this.autoShowDialog();var r=n.default.getTodayData("openCarnivalCount",0);if(r>=t.times)return e.popoutList.shift(),void this.autoShowDialog();n.default.setTodayData("openCarnivalCount",r+1),this.onCarnivalButtonDidPressed(),e.popoutList.shift();break;case"follow_us":var s=n.default.getTodayData("openFollowUsCount",0);if(s>=t.times)return e.popoutList.shift(),void this.autoShowDialog();n.default.setTodayData("openFollowUsCount",s+1),this.onFollowUsButtonDidPressed(),e.popoutList.shift();break;case"accum_depo":if(null==o.default.getAccumulateDepositObject())return e.popoutList.shift(),void this.autoShowDialog();var c=n.default.getTodayData("openDailyBonusCount",0);if(c>=t.times)return e.popoutList.shift(),void this.autoShowDialog();n.default.setTodayData("openDailyBonusCount",c+1),this.onDailyBonusButtonDidPressed(),e.popoutList.shift();break;case"welcome_bonus":if(null==o.default.getWelcomeBonusObject())return e.popoutList.shift(),void this.autoShowDialog();var l=n.default.getTodayData("openWelcomeBonusCount",0);if(l>=t.times)return e.popoutList.shift(),void this.autoShowDialog();n.default.setTodayData("openWelcomeBonusCount",l+1),this.onWelcomeBonusButtonDidPressed(),e.popoutList.shift();break;case"official_acc":if(o.default.getVerificationStatus())return e.popoutList.shift(),void this.autoShowDialog();var u=n.default.getTodayData("openVerifyCount",0);if(u>=t.times)return e.popoutList.shift(),void this.autoShowDialog();n.default.setTodayData("openVerifyCount",u+1),this.onRegisterViewButtonDidPressed(),e.popoutList.shift()}}}},callback:function(e,t,n){console.log(t,n)},closeGameWebView:function(e){var t=this;return u(c().mark(function o(){return c().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return void 0===e&&(e=!1),console.log("closeGameWebView: "+e),n.default.playLobbyBackgroundMusicForExitsGame(),o.next=5,t.getWallet();case 5:e&&t.goToTopUpView();case 6:case"end":return o.stop()}},o)}))()},updateDeviceToken:function(e){return u(c().mark(function t(){var n,o;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new LobbyScript,t.next=3,n.updateDeviceToken(e);case 3:o=t.sent,console.log("updateDeviceToken",o);case 5:case"end":return t.stop()}},t)}))()},handleSplashResponse:function(){var e=JSON.parse(localStorage.getItem("from_index"));if(e.settings.banners.Home)for(var t in e.settings.banners.Home.mobile)this.banners.push(e.settings.banners.Home.mobile[t]);if(e.settings.banners.Register)for(var t in e.settings.banners.Register.mobile)this.banners.push(e.settings.banners.Register.mobile[t]);this.configureAnnouncement(),n.default.hideLoadingView(this),this.showBannerPopup()},showBannerPopup:function(){if(console.log("showBannerPopup",this.banners),this.banners&&0!==this.banners.length){for(var e=[],t=new Date,n=0;n<this.banners.length;n++){var o=this.banners[n];if("active"===o.status){if(o.startDate&&t<new Date(o.startDate))continue;if(o.endDate&&t>new Date(o.endDate))continue;e.push(o)}}if(0!==e.length){var a=this;this.myBannerPrefab?this.instantiateAndShowBanner(e):cc.resources.load("prefabs/lobby/banner",cc.Prefab,function(t,n){t?console.error("Failed to load banner prefab:",t):(a.myBannerPrefab=n,a.instantiateAndShowBanner(e))})}}},instantiateAndShowBanner:function(e){if(this.myBannerPrefab){if(!this.myBannerView){var t=cc.instantiate(this.myBannerPrefab);if(this.myBannerView=t.getComponent("banner")||t.getComponent("Banner"),!this.myBannerView)return console.error("Banner component not found. Make sure banner.js is attached to the prefab root node."),void console.error("Available components:",t.getComponents(cc.Component).map(function(e){return e.constructor.name}));this.updatePrefabSize(),this.myBannerView.setCallBack(this),this.node.addChild(t)}this.myBannerView&&(this.myBannerView.init(e),this.myBannerView.show())}},onBannerCloseButtonDidPressed:function(){this.myBannerView&&this.myBannerView.hide()},configureVip:function(){var e,t=this,n=o.default.getVipList(),a=Math.min(null!=(e=n.list.findIndex(function(e){return e.isCurrentLevel}))?e:0,10),i=n.list.find(function(e){return e.isCurrentLevel});-1==a||null==i?(cc.loader.loadRes("images/lobby/vip_1.png",cc.SpriteFrame,function(e,n){t.mVipImage.getComponent(cc.Sprite).spriteFrame=n,t.mVipImage.active=!0}),this.mVipLabel.getComponent(cc.Label).string="VIP0"):(cc.loader.loadRes("images/lobby/vip_"+a+".png",cc.SpriteFrame,function(e,n){t.mVipImage.getComponent(cc.Sprite).spriteFrame=n,t.mVipImage.active=!0}),this.mVipLabel.getComponent(cc.Label).string=i.name||"VIP0")},configureUserProfile:function(){var e=this,t=o.default.getUserObject(),n=t.profilePic||"av1",a=t.username;this.myUserName.getComponent(cc.Label).string=t.fullName||a,cc.loader.loadRes("images/lobby/"+n+".png",cc.SpriteFrame,function(t,n){e.myUserProfileImage.getComponent(cc.Sprite).spriteFrame=n,e.myUserProfileImage.active=!0})},configureBanner:function(){var e=this,t=o.default.getBanner(),n=this.myBannerContainer.getComponent(cc.PageView);n.removeAllPages();for(var a=0;a<t.length;a++){var i=t[a],r=cc.instantiate(this.myBannerItemPrefabs).getComponent("LobbyBannerItem");r.setItem(i),r.setCallBack(this),n.addPage(r.node)}this.myBannerContainer.node.active=!0,this.myBannerMoveTimer=0,setTimeout(function(){e.myBannerCanMove=!0},1)},configureTabbar:function(){var e=o.default.getGameList();this.myTabbar.node.width=160*e.length-10;for(var t=0;t<e.length;t++){var n=cc.instantiate(this.myTabbarButtonPrefabs).getComponent("LobbyTabbutton");n.init(160*t-5,0,160,44),n.setCallBack(this),n.setData(t,e[t]),0==t?n.setBackground("tab_background_left"):t==e.length-1?n.setBackground("tab_background_right"):n.setBackground("tab_background_middle"),this.myTabbar.node.addChild(n.node)}this.myTabbar.node.active=!0,this.mSelectedTabbarIndex=0;var a=this;setTimeout(function(){a.onTabbarButtonDidPressed(a.mSelectedTabbarIndex,e[a.mSelectedTabbarIndex])},0)},onTabbarButtonDidPressed:function(e){this.mSelectedTabbarIndex=e;var t=this.myTabbar.node._children;if(0!=t.length){for(var n=0;n<t.length;n++){var o=t[n].getChildByName("tab_button"),a=t[n].getChildByName("image"),i=t[n].getChildByName("label");o.getComponent(cc.Sprite).spriteFrame=null,a.color=cc.color("#FBF5DA"),i.color=cc.color("#FBF5DA"),o.getComponent(cc.Button).interactable=!0}var r=t[e],s=r.getChildByName("tab_button");s.getComponent(cc.Button).interactable=!1,cc.loader.loadRes("images/lobby/tab_button.png",cc.SpriteFrame,function(e,t){s.getComponent(cc.Sprite).spriteFrame=t;var n=r.getChildByName("image"),o=r.getChildByName("label");n.color=cc.color("#FFFFFF"),o.color=cc.color("#FFFFFF")}),this.configureGridView()}},onBannerNextItem:function(){var e=this.myBannerContainer.getComponent(cc.PageView);null!=e&&e.setCurrentPageIndex((e.getCurrentPageIndex()+1)%e.getPages().length),this.myBannerMoveTimer=6},onBannerPrevItem:function(){var e=this.myBannerContainer.getComponent(cc.PageView);null!=e&&e.setCurrentPageIndex((e.getPages().length+e.getCurrentPageIndex()-1)%e.getPages().length),this.myBannerMoveTimer=6},configureGridView:function(){this.myGridView||(this.myGridView=this.myGridScrollView.getComponent("GridView"),this.myGridView.setCallBack(this),this.myGridView.init(this.mSelectedTabbarIndex)),this.myGridView.updateView(this.mSelectedTabbarIndex)},onBalanceButtonDidPressed:function(){n.default.playButtonClickSound(),this.goToTopUpView()},goToTopUpView:function(e){var t=this;return u(c().mark(function a(){var i,r,s;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0===e&&(e=0),!t.isDepositOpen){a.next=3;break}return a.abrupt("return");case 3:if(t.isDepositOpen=!0,n.default.showLoadingView("",t),window.fbq&&window.fbq("trackCustom","deposit",{currency:"PHP",customerId:o.default.getUserObject().username}),0!=o.default.getPaymentsProviderObject().length){a.next=18;break}return i=new LobbyScript,a.next=10,i.getDeposit();case 10:if(401!=(r=a.sent).status&&403!=r.status){a.next=14;break}return n.default.logout(t),a.abrupt("return");case 14:if(200==r.status&&null!=r.result.paymentsProvider){a.next=17;break}return n.default.showAlertView(r.message,t),a.abrupt("return");case 17:o.default.setPaymentsProviderObject(r.result.paymentsProvider);case 18:if(0!=o.default.getPaymentsProviderObject().length){a.next=22;break}return n.default.showAlertView(n.default.getLocalizedString(t.i18nJson,"tryAgain"),t),n.default.hideLoadingView(t),a.abrupt("return");case 22:s=t,cc.resources.load("prefabs/topup/topup",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(s);null==s.myTopupView&&(s.myTopupView=cc.instantiate(o).getComponent("TopupView"),s.updatePrefabSize(),s.myTopupView.setCallBack(s)),s.myTopupView.updateView(e),s.node.addChild(s.myTopupView.node)}),n.default.hideLoadingView(t);case 25:case"end":return a.stop()}},a)}))()},onTopupViewDidClosed:function(){this.isDepositOpen=!1,this.mPwaButton.active=o.default.getAab()?"download"==o.default.guard():!o.default.getIsApp(),this.node.removeChild(this.myTopupView.node)},onWithdrawalButtonDidPressed:function(){if(!this.isWithdrawOpen)switch(this.isWithdrawOpen=!0,n.default.playButtonClickSound(),o.default.guard()){case"verification":this.onRegisterViewButtonDidPressed();break;case"proceed":window.fbq&&window.fbq("trackCustom","withdraw",{currency:"PHP",customerId:o.default.getUserObject().username}),this.getWithdrawalApi();break;case"alert":n.default.showAlertView(n.default.getLocalizedString(this.i18nJson,"topupToUnlock"),this);break;case"download":this.onPwaButtonDidPressed()}},getWallet:function(){var e=this;return u(c().mark(function t(){var o,a;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=new LobbyScript,t.next=3,o.getWallet();case 3:if(401!=(a=t.sent).status&&403!=a.status){t.next=7;break}return n.default.logout(e),t.abrupt("return");case 7:e.updateWallet(a.result.mainWallet);case 8:case"end":return t.stop()}},t)}))()},getWithdrawalApi:function(){var e=this;return u(c().mark(function t(){var a,i;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.default.showLoadingView("",e),a=new LobbyScript,t.next=4,a.getWithdraw();case 4:if(i=t.sent,n.default.hideLoadingView(e),401!=i.status&&403!=i.status){t.next=9;break}return n.default.logout(e),t.abrupt("return");case 9:200==i.status?(o.default.setWithdrawObject(i.result),e.updateWallet(i.result.mainWallet),e.gotoWithdrawView()):n.default.showAlertView(i.message,e),n.default.hideLoadingView(e);case 11:case"end":return t.stop()}},t)}))()},gotoWithdrawView:function(){var e=this;n.default.showLoadingView("",e),cc.resources.load("prefabs/withdraw/withdraw",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);e.myWithdrawView=cc.instantiate(o).getComponent("WithdrawView"),e.updatePrefabSize(),e.myWithdrawView.setCallBack(e),e.myWithdrawView.updateView(),e.node.addChild(e.myWithdrawView.node),n.default.hideLoadingView(e)})},onWithdrawCloseButtonDidPressed:function(){this.isWithdrawOpen=!1,this.node.removeChild(this.myWithdrawView.node),this.myWithdrawView.node.destroy(),this.myWithdrawView=null},onProfileButtonDidPressed:function(){var e=this;n.default.playButtonClickSound(),n.default.showLoadingView("",e);var t="prefabs/profile/profile",a="Profile";o.default.getVerificationStatus()&&(t="prefabs/verified_profile/verified_profile",a="VerifiedProfileView"),cc.resources.load(t,cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);e.myProfileView=cc.instantiate(o).getComponent(a),e.updatePrefabSize(),e.myProfileView.setCallBack(e),e.myProfileView.updateView(),e.node.addChild(e.myProfileView.node),n.default.hideLoadingView(e)})},onProfileViewDidClosed:function(){this.node.removeChild(this.myProfileView.node),this.myProfileView.node.destroy(),this.myProfileView=null},verifyBeforeLogout:function(){this.onProfileViewDidClosed(),this.onRegisterViewButtonDidPressed()},onEventButtonDidPressed:function(){var e=this;return u(c().mark(function t(){var a,i,r,s,l,u,d,h;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isEventOpen){t.next=2;break}return t.abrupt("return");case 2:e.isEventOpen=!0,n.default.playButtonClickSound(),n.default.showLoadingView("",e),e.mEventButtonView&&e.mEventButtonView.updateRedDot(),a=o.default.getPromotionObject(),i=a.findIndex(function(e){return"signin"==e.redirectUrl}),r=a.findIndex(function(e){return"funding"==e.redirectUrl}),(s=a.findIndex(function(e){return"weekcard"==e.redirectUrl}))>-1&&(1==(l=o.default.getWeekCardDataObject()).status&&l.data.setting.length>0?(u=l.data,a[s].navigateTo="getWeekCardData",a[s].data=u):a.splice(s,1)),r>-1&&(a[r].navigateTo="getReliefFundData",a[r].data=o.default.getReliefFundDataObject()),i>-1&&((d=o.default.getSignInRecordObject()).status?(a[i].navigateTo="signInRecord",a[i].data=d):a.splice(i,1)),(h=e).myEventView=cc.instantiate(e.mEventPrefab).getComponent("Event"),h.updatePrefabSize(),h.myEventView.setPromotionList(a),h.myEventView.setCallBack(h),h.myEventView.updateView(),h.node.addChild(h.myEventView.node),n.default.hideLoadingView(e);case 21:case"end":return t.stop()}},t)}))()},onEventViewDidClosed:function(){var e=this;this.isEventOpen=!1,this.node.removeChild(this.myEventView.node),this.myEventView.node.destroy(),this.myEventView=null,setTimeout(function(){return e.autoShowDialog()},1)},onFollowUsButtonDidPressed:function(){this.isFollowUsOpen||(this.isFollowUsOpen=!0,n.default.playButtonClickSound(),n.default.showLoadingView("",this),this.mFollowUsButtonView&&this.mFollowUsButtonView.updateRedDot(),this.myFollowUsView=cc.instantiate(this.mFollowUsPrefab).getComponent("FollowUs"),this.updatePrefabSize(),this.myFollowUsView.setCallBack(this),this.myFollowUsView.updateView(),this.node.addChild(this.myFollowUsView.node),n.default.hideLoadingView(this))},onFollowUsViewDidClosed:function(){var e=this;this.isFollowUsOpen=!1,this.node.removeChild(this.myFollowUsView.node),this.myFollowUsView.node.destroy(),this.myFollowUsView=null,setTimeout(function(){return e.autoShowDialog()},1)},onRegisterViewButtonDidPressed:function(){if(!this.isVerifyOpen){this.isVerifyOpen=!0;var e=this;n.default.showLoadingView("",e),cc.resources.load("prefabs/register/register",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);e.myRegisterView=cc.instantiate(o).getComponent("Register"),e.updatePrefabSize(),e.myRegisterView.setCallBack(e),e.myRegisterView.updateView(),e.node.addChild(e.myRegisterView.node),n.default.hideLoadingView(e)})}},onRegisterViewDidClosed:function(){var e=this;this.isVerifyOpen=!1,this.isWelcomeBonusOpen=!1,this.isDailyBonusOpen=!1,this.isFollowUsOpen=!1,this.isCarnivalOpen=!1,this.isEventOpen=!1,this.isDepositOpen=!1,this.isWithdrawOpen=!1,this.isVipOpen=!1,this.isMailboxOpen=!1,this.isRebateOpen=!1,this.isReferralOpen=!1,this.myProfileView&&this.myProfileView.updateViewWithoutAnimation(),this.updateAccountButtonStatus(),this.node.removeChild(this.myRegisterView.node),this.myRegisterView.node.destroy(),this.myRegisterView=null,setTimeout(function(){return e.autoShowDialog()},1)},updateAccountButtonStatus:function(){},onOfficialAccountButtonDidPressed:function(){n.default.playButtonClickSound(),o.default.getVerificationStatus()||this.onRegisterViewButtonDidPressed()},onGameItemDidPressed:function(e,t){switch(n.default.playButtonClickSound(),o.default.gameGuard()){case"verification":this.onRegisterViewButtonDidPressed();break;case"proceed":case"alert":this.handleGameItemDidPressed(e,t);break;case"download":this.onPwaButtonDidPressed()}},handleGameItemDidPressed:function(e,t){var a=this;return u(c().mark(function i(){var r,s,l,u,d,h,m,f,p,g,y;return c().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n.default.showLoadingView("",a),r=e[t],s=r.id,l=r.platformProductId,u=r.platformProductName,d=r.isHorizontal,h=new LobbyScript,i.next=9,h.playGame(s);case 9:if(401!=(m=i.sent).status&&403!=m.status){i.next=13;break}return n.default.logout(a),i.abrupt("return");case 13:200==m.status&&(window.fbq&&window.fbq("trackCustom","gameLaunch",{customerId:o.default.getUserObject().username,gameCategory:"slot",gameId:s,vendor:u}),f=JSON.parse(localStorage.getItem("gameHistory")||"[]"),-1!==(p=f.findIndex(function(e){return e.id===r.id}))&&f.splice(p,1),f.unshift(r),f.length>20&&f.pop(),localStorage.setItem("gameHistory",JSON.stringify(f)),console.log(f),f.length>0&&(a.mStartLabel.getComponent(cc.Label).string=f[0].name),1==m.result.playGame.status?((g=m.result.playGame.form).includes("<html")?(y="\n                                document.open();\n                                document.write(`"+g.replace(/`/g,"\\`")+"`);\n                                document.close();\n                            ",a.showGameViewWithInjectJs(y,l,d)):a.showGameViewWithUrl(g,l,d),n.default.hideLoadingView(a)):(n.default.hideLoadingView(a),n.default.showAlertView(m.result.playGame.message,a)));case 14:case"end":return i.stop()}},i)}))()},showGameViewWithInjectJs:function(e,t,a){n.default.stopLobbyBackgroundMusicForGame(),o.default.setGameViewData({js:e,platformId:t,isHorizontal:a,isLoadUrl:!1,url:""}),cc.director.loadScene("GameView")},showGameViewWithUrl:function(e,t,a){n.default.stopLobbyBackgroundMusicForGame(),o.default.getIsApp()?n.default.sendToApp(JSON.stringify({gameUrl:e,isFirstPartyGame:3238==t})):(o.default.setGameViewData({js:"",platformId:t,isHorizontal:a,isLoadUrl:!0,url:e}),cc.director.loadScene("GameView"))},onLogoutButtonDidPressed:function(){var e=this;return u(c().mark(function t(){return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.default.playButtonClickSound(),n.default.showLoadingView("",e),n.default.logout(e),n.default.hideLoadingView(e);case 4:case"end":return t.stop()}},t)}))()},onProfileDidChanged:function(){this.configureUserProfile()},onDailyBonusButtonDidPressed:function(){this.isDailyBonusOpen||(this.isDailyBonusOpen=!0,n.default.playButtonClickSound(),n.default.showLoadingView("",this),this.mAccumDepositButtonView&&this.mAccumDepositButtonView.updateRedDot(),this.mDailyBonusView=cc.instantiate(this.mDailyBonusPrefab).getComponent("DailyBonus"),this.updatePrefabSize(),this.mDailyBonusView.setCallBack(this),this.mDailyBonusView.updateView(),this.node.addChild(this.mDailyBonusView.node),n.default.hideLoadingView(this))},onDailyBonusViewCloseButtonDidPressed:function(e){var t=this;this.isDailyBonusOpen=!1,this.node.removeChild(this.mDailyBonusView.node),this.mDailyBonusView.node.destroy(),this.mDailyBonusView=null,e>0?this.goToTopUpView(e):setTimeout(function(){return t.autoShowDialog()},1)},onWelcomeBonusButtonDidPressed:function(){this.isWelcomeBonusOpen||(this.isWelcomeBonusOpen=!0,n.default.playButtonClickSound(),n.default.showLoadingView("",this),this.mWelcomeBonusButtonView&&this.mWelcomeBonusButtonView.updateRedDot(),this.mWelcomeBonusView=cc.instantiate(this.mWelcomeBonusPrefab).getComponent("WelcomeBonus"),this.updatePrefabSize(),this.mWelcomeBonusView.setCallBack(this),this.mWelcomeBonusView.updateView(),this.node.addChild(this.mWelcomeBonusView.node),n.default.hideLoadingView(this))},onWelcomeBonusViewCloseButtonDidPressed:function(){var e=this;this.isWelcomeBonusOpen=!1,this.node.removeChild(this.mWelcomeBonusView.node),this.mWelcomeBonusView.node.destroy(),this.mWelcomeBonusView=null,setTimeout(function(){return e.autoShowDialog()},1)},onWelcomeBonusViewDepositButtonDidPressed:function(e){this.isWelcomeBonusOpen=!1,this.node.removeChild(this.mWelcomeBonusView.node),this.goToTopUpView(e)},callMailBoxApi:function(){var e=this;return u(c().mark(function t(){var a,i,r,s,l,u,d,h,m,f,p;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=o.default.getUserObject().username){t.next=3;break}return t.abrupt("return");case 3:return a=e,i=new LobbyScript,t.next=7,i.getMailbox();case 7:if(401!=(r=t.sent).status&&403!=r.status){t.next=11;break}return n.default.logout(a),t.abrupt("return");case 11:200==r.status&&(s=r.result,l=s.getAccumulateDepositData.data,u=s.getMissionData,d=s.getDepositPromotion,h=!1,null==l&&null!=o.default.getAccumulateDepositObject()&&(h=!0),null!=l&&null==o.default.getAccumulateDepositObject()&&(h=!0),u.status!=o.default.getMissionDataObject().status&&(h=!0),null==u.data&&null!=o.default.getMissionDataObject().data&&(h=!0),null!=u.data&&null==o.default.getMissionDataObject().data&&(h=!0),null==d&&null!=o.default.getWelcomeBonusObject()&&(h=!0),null!=d&&null==o.default.getWelcomeBonusObject()&&(h=!0),h&&e.updateHeaderIcon(),o.default.setAccumulateDepositObject(l),o.default.setReliefFundDataObject(s.getReliefFundData),o.default.setMissionDataObject(u),o.default.setPaymentsProviderObject(s.paymentsProvider),o.default.setMailBox(s.mailBox),o.default.setWelcomeBonusObject(d),(m=o.default.getUserObject()).firstPasswordUpdate=s.getUserProfile.firstPasswordUpdate,m.phoneNumber=s.getUserProfile.phoneNumber,o.default.setUserObject(m),e.updateAccountButtonStatus(),e.updateWallet(s.mainWallet),e.updateMailRedDot(),f=e.checkForNewArriveMessage(),e.mMailBubble&&f&&(e.mMailBubble.active=!0,setTimeout(function(){a.mMailBubble&&(a.mMailBubble.active=!1)},5e3)),1==(p=s.getDepositNotify).status&&p.amount>0&&window.fbq&&(window.fbq("trackCustom","firstDepositArrival",{currency:"PHP",customerId:o.default.getUserObject().username,revenue:p.amount,value:p.amount}),window.fbq("track","Purchase",{currency:"PHP",customerId:o.default.getUserObject().username,revenue:p.amount,value:p.amount}))),setTimeout(function(){"function"==typeof a.callMailBoxApi&&a.callMailBoxApi()},5e3);case 13:case"end":return t.stop()}},t)}))()},onMailboxButtonDidPressed:function(){var e=this;return u(c().mark(function t(){var o;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isMailboxOpen){t.next=2;break}return t.abrupt("return");case 2:e.isMailboxOpen=!0,o=e,n.default.playButtonClickSound(),n.default.showLoadingView("",o),cc.resources.load("prefabs/mailbox/mailbox",cc.Prefab,function(e,t){if(e)return console.error("Failed to load prefab:",e),void n.default.hideLoadingView(o);null==o.mMailboxView&&(o.mMailboxView=cc.instantiate(t).getComponent("Mailbox"),o.updatePrefabSize(),o.mMailboxView.setCallBack(o)),o.mMailboxView.updateView(),o.node.addChild(o.mMailboxView.node),n.default.hideLoadingView(o)});case 7:case"end":return t.stop()}},t)}))()},onMailboxCloseButtonDidPressed:function(){this.isMailboxOpen=!1,this.node.removeChild(this.mMailboxView.node)},onReferralButtonDidPressed:function(){if(!this.isReferralOpen)switch(this.isReferralOpen=!0,n.default.playButtonClickSound(),o.default.guard()){case"verification":this.onRegisterViewButtonDidPressed();break;case"proceed":null==o.default.getReferralObject().getInviteRewardData?this.callGetReferralApi():this.gotoReferralView();break;case"alert":n.default.showAlertView(n.default.getLocalizedString(this.i18nJson,"topupToUnlock"),this);break;case"download":this.onPwaButtonDidPressed()}},gotoReferralView:function(){var e=this;n.default.showLoadingView("",e),cc.resources.load("prefabs/referral/referral",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);null==e.mReferralView&&(e.mReferralView=cc.instantiate(o).getComponent("ReferralView"),e.updatePrefabSize(),e.mReferralView.setCallBack(e)),e.mReferralView.updateView(),e.node.addChild(e.mReferralView.node),n.default.hideLoadingView(e)})},onReferralViewCloseButtonDidPressed:function(){this.isReferralOpen=!1,this.node.removeChild(this.mReferralView.node)},onCsButtonDidPressed:function(){n.default.playButtonClickSound(),window.open(o.default.getLiveChat(),"_blank").focus()},onRedeemCodeDidPressed:function(){var e=this;n.default.playButtonClickSound(),n.default.showLoadingView("",e),cc.resources.load("prefabs/profile/redeem_code",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);null==e.mRedeemCodeView&&(e.mRedeemCodeView=cc.instantiate(o).getComponent("RedeemCode"),e.updatePrefabSize(),e.mRedeemCodeView.setCallBack(e)),e.mRedeemCodeView.updateView(),e.node.addChild(e.mRedeemCodeView.node),n.default.hideLoadingView(e)})},onRedeemCodeViewDidClosed:function(){this.node.removeChild(this.mRedeemCodeView.node)},showWinnerInfoView:function(){var e=this,t=this,o=0;if(this.mWinnerInfoView.getChildByName("winner").active=!this.mShowNewPrizeNotification,this.mWinnerInfoView.getChildByName("prize").active=this.mShowNewPrizeNotification,this.mShowNewPrizeNotification)this.mWinnerInfoView.zIndex=9999,o=8,this.mWinnerInfoView.getChildByName("prize").getChildByName("amount_label").getComponent(cc.Label).string=n.default.numberWithCommas(this.mNewPrizeAmount);else{o=5,this.mWinnerInfoAvatar.active=!1,this.mWinnerInfoMultiplier.getComponent(cc.Label).string=n.default.getRandomNumber(30,500)+" X",this.mWinnerInfoName.getComponent(cc.Label).string=n.default.getRandomAlphaNumeric(7)+"...";var a="av"+n.default.getRandomNumber(1,17);cc.loader.loadRes("images/lobby/"+a+".png",cc.SpriteFrame,function(e,n){t.mWinnerInfoAvatar.getComponent(cc.Sprite).spriteFrame=n,t.mWinnerInfoAvatar.active=!0})}var i=cc.view.getVisibleSize().width/2,r=cc.view.getVisibleSize().width/2-400;cc.tween(this.mWinnerInfoView).to(.25,{position:cc.v2(r,220)},{easing:"cubicInOut"}).delay(o).to(.25,{position:cc.v2(i,220)},{easing:"cubicInOut"}).call(function(){e.mWinnerInfoView.getChildByName("prize").active&&(e.mShowNewPrizeNotification=!1),e.mWinnerInfoNextShowTimer=n.default.getRandomNumber(5,10)}).start()},callGetReferralApi:function(){var e=this;return u(c().mark(function t(){var a,i;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.default.showLoadingView("",e),a=new LobbyScript,t.next=5,a.getReferral();case 5:if(401!=(i=t.sent).status&&403!=i.status){t.next=9;break}return n.default.logout(e),t.abrupt("return");case 9:200==i.status?(o.default.setReferralObject(i.result),n.default.hideLoadingView(e),e.gotoReferralView()):n.default.showAlertView(i.message,e),n.default.hideLoadingView(e);case 11:case"end":return t.stop()}},t)}))()},onVipButtonDidPressed:function(){if(!this.isVipOpen)switch(this.isVipOpen=!0,n.default.playButtonClickSound(),o.default.guard()){case"verification":this.onRegisterViewButtonDidPressed();break;case"proceed":this.callGetVipApi();break;case"alert":n.default.showAlertView(n.default.getLocalizedString(this.i18nJson,"topupToUnlock"),this);break;case"download":this.onPwaButtonDidPressed()}},callGetVipApi:function(){var e=this;return u(c().mark(function t(){var a,i,r,s;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.default.showLoadingView("",e),a=new LobbyScript,t.next=4,a.getVip();case 4:if(401!=(i=t.sent).status&&403!=i.status){t.next=8;break}return n.default.logout(e),t.abrupt("return");case 8:200==i.status?(r=i.result,o.default.setVipList(r.vipList),s=e,cc.resources.load("prefabs/vip/vip",cc.Prefab,function(e,t){if(e)return console.error("Failed to load prefab:",e),void n.default.hideLoadingView(s);null==s.mVipView&&(s.mVipView=cc.instantiate(t).getComponent("VipVIew"),s.updatePrefabSize(),s.mVipView.setCallBack(s)),s.mVipView.updateView(r),s.node.addChild(s.mVipView.node)})):n.default.showAlertView(i.message,e),n.default.hideLoadingView(e);case 10:case"end":return t.stop()}},t)}))()},onVipViewCloseButtonDidPressed:function(e){this.isVipOpen=!1,this.node.removeChild(this.mVipView.node),e&&this.onStartButtonDidPressed()},onRebateButtonDidPressed:function(){if(!this.isRebateOpen)switch(this.isRebateOpen=!0,n.default.playButtonClickSound(),o.default.guard()){case"verification":this.onRegisterViewButtonDidPressed();break;case"proceed":this.showRebateView();break;case"alert":n.default.showAlertView(n.default.getLocalizedString(this.i18nJson,"topupToUnlock"),this);break;case"download":this.onPwaButtonDidPressed()}},showRebateView:function(){var e=this;return u(c().mark(function t(){var a,i,r;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.default.showLoadingView("",e),null!=o.default.getIncentiveDataObject()){t.next=14;break}return a=new LobbyScript,t.next=5,a.getRebate();case 5:if(401!=(i=t.sent).status&&403!=i.status){t.next=9;break}return n.default.logout(e),t.abrupt("return");case 9:if(200==i.status){t.next=13;break}return n.default.showAlertView(i.message,e),n.default.hideLoadingView(e),t.abrupt("return");case 13:o.default.setIncentiveDataObject(i.result.getIncentiveData);case 14:if(0!=o.default.getIncentiveDataObject().status){t.next=18;break}return n.default.showAlertView(o.default.getIncentiveDataObject().message,e),n.default.hideLoadingView(e),t.abrupt("return");case 18:r=e,cc.resources.load("prefabs/rebate/rebate",cc.Prefab,function(e,t){if(e)return console.error("Failed to load prefab:",e),void n.default.hideLoadingView(r);r.mRebateView=cc.instantiate(t).getComponent("RebateView"),r.updatePrefabSize(),r.mRebateView.setCallBack(r),r.mRebateView.updateView(),r.node.addChild(r.mRebateView.node)}),n.default.hideLoadingView(e);case 21:case"end":return t.stop()}},t)}))()},onRebateCloseButtonDidPressed:function(){this.isRebateOpen=!1,this.node.removeChild(this.mRebateView.node),this.mRebateView.node.destroy(),this.mRebateView=null},onPwaButtonDidPressed:function(){n.default.playButtonClickSound(),"Android"==n.default.getMobileOperatingSystem()?this.gotoPwaAndroidView():this.gotoPwaiOSView()},gotoPwaAndroidView:function(){var e=this;n.default.showLoadingView("",e),cc.resources.load("prefabs/pwa/pwa_android",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);e.mPwaAndroidView=cc.instantiate(o).getComponent("PwaAndroidView"),e.updatePrefabSize(),e.mPwaAndroidView.setCallBack(e),e.mPwaAndroidView.updateView(),e.node.addChild(e.mPwaAndroidView.node),n.default.hideLoadingView(e)})},onPwaAndroidViewCloseButtonDidPressed:function(){this.node.removeChild(this.mPwaAndroidView.node),this.mPwaAndroidView.node.destroy(),this.mPwaAndroidView=null},gotoPwaiOSView:function(){var e=this;n.default.showLoadingView("",e),cc.resources.load("prefabs/pwa/pwa_ios",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);e.mPwaiOSView=cc.instantiate(o).getComponent("PwaIOSView"),e.updatePrefabSize(),e.mPwaiOSView.setCallBack(e),e.mPwaiOSView.updateView(),e.node.addChild(e.mPwaiOSView.node),n.default.hideLoadingView(e)})},onPwaiOSViewCloseButtonDidPressed:function(){this.node.removeChild(this.mPwaiOSView.node),this.mPwaiOSView.node.destroy(),this.mPwaiOSView=null},onStartButtonDidPressed:function(){switch(n.default.playButtonClickSound(),o.default.guard()){case"verification":case"proceed":case"alert":this.handleStartButtonDidPressed();break;case"download":this.onPwaButtonDidPressed()}},handleStartButtonDidPressed:function(){var e=this;return u(c().mark(function t(){var o,a,i,r,s,l;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=(o=JSON.parse(localStorage.getItem("gameHistory")||"[]")).length){t.next=3;break}return t.abrupt("return");case 3:return a=o[0],i=new LobbyScript,t.next=7,i.playGame(a.id);case 7:if(401!=(r=t.sent).status&&403!=r.status){t.next=11;break}return n.default.logout(e),t.abrupt("return");case 11:if(200==r.status){t.next=13;break}return t.abrupt("return");case 13:1==r.result.playGame.status?((s=r.result.playGame.form).includes("<html")?(l="\n                            document.open();\n                            document.write(`"+s.replace(/`/g,"\\`")+"`);\n                            document.close();\n                        ",e.showGameViewWithInjectJs(l,a.platformProductId,a.isHorizontal)):e.showGameViewWithUrl(s,a.platformProductId,a.isHorizontal),n.default.hideLoadingView(e)):(n.default.hideLoadingView(e),n.default.showAlertView(r.result.playGame.message,e));case 14:case"end":return t.stop()}},t)}))()},onCarnivalButtonDidPressed:function(){var e=this;return u(c().mark(function t(){var o;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isCarnivalOpen){t.next=2;break}return t.abrupt("return");case 2:e.isCarnivalOpen=!0,n.default.playButtonClickSound(),n.default.showLoadingView("",e),e.mCarnivalButtonView&&e.mCarnivalButtonView.updateRedDot(),null==(o=e).mCarnivalView&&(o.mCarnivalView=cc.instantiate(e.mCarnivalPrefab).getComponent("Carnival"),o.updatePrefabSize(),o.mCarnivalView.setCallBack(o)),o.mCarnivalView.updateView(),o.node.addChild(o.mCarnivalView.node),n.default.hideLoadingView(e);case 11:case"end":return t.stop()}},t)}))()},onCarnivalViewCloseButtonDidPressed:function(){var e=this;this.isCarnivalOpen=!1,this.node.removeChild(this.mCarnivalView.node),setTimeout(function(){return e.autoShowDialog()},1)},updateWallet:function(e){var t=o.default.getUserObject();t.mainWallet=e,o.default.setUserObject(t),this.myUserBalance&&(this.myUserBalance.getChildByName("loadingAnim").active=!1,this.myUserBalance.getChildByName("label").getComponent(cc.Label).string=n.default.numberWithCommas(t.mainWallet.amount))},updateMailRedDot:function(){if(null!=this.mMailRedDot){var e=o.default.getMailBox();if(e){var t=e.mail.filter(function(e){return e.isNewMessage}),n=e.prize.filter(function(e){return e.isNewMessage});this.mMailRedDot.active=t.length>0||n.length>0}else this.mMailRedDot.active=!1}},checkForNewArriveMessage:function(){var e=o.default.getMailBox();if(!e)return o.default.setNewMessageCount(0),!1;var t=e.mail.filter(function(e){return e.isNewMessage}),n=e.prize.filter(function(e){return e.isNewMessage});return o.default.getNewMessageCount()<t.length+n.length?(o.default.setNewMessageCount(t.length+n.length),!0):(o.default.setNewMessageCount(t.length+n.length),!1)},configureGameGroup:function(){this.callGetHomepageData()},configureHotGame:function(e){var t=this;cc.resources.load("prefabs/gametype/hotGameContainer",cc.Prefab,function(n,o){if(n)console.error("Failed to load prefab:",n);else{var a=30+200*Math.ceil(.5);t.myGameScrollContent.setContentSize(cc.size(a<830?830:a,400));for(var i=1;i<=1;i++){var r=new cc.instantiate(o).getComponent("GameType");r.init(102+200*(Math.ceil(i/2)-1),i%2==0?-100:100,{game_code:"SuperAce"},e,!1,t),t.myGameScrollContent.addChild(r.node),t.createdGameType.push(r)}}})},configureAnnouncement:function(){null!=this.myAnnouncement&&(this.myLobbyContainer.node.removeChild(this.myAnnouncement.node),this.myAnnouncement=null),this.myAnnouncement=cc.instantiate(this.myAnnouncementPrefab).getComponent("Announcement"),this.myAnnouncement.init(-19,221,522,32),this.myAnnouncement.updateView(-19,221,522,32),this.myLobbyContainer.addChild(this.myAnnouncement.node)},playBtnAnimation:function(){var e=[{btnName:"myRebateBtn",animName:"rebate"},{btnName:"myMessageBtn",animName:"message"},{btnName:"mySupportBtn",animName:"support"},{btnName:"myMoreBtn",animName:"more"}];for(var t in e){var n=this[e[t].btnName];if(n){var o=n.getChildByName("img");if(o){var a=o.getComponent(cc.Animation);if(!a)continue;cc.resources.load("animations/lobby/"+e[t].animName,cc.AnimationClip,function(e,t){e||(this.anim.addClip(t,this.animName),this.anim.play(this.animName),this.anim.on("stop",function(){this.anim&&this.anim.play(this.animName)}.bind({anim:this.anim,animName:this.animName})))}.bind({anim:a,animName:e[t].animName}))}}}},onLoginButtonDidPressed:function(e,t,o){var a=this;o||n.default.playButtonClickSound(),n.default.showLoadingView("",a),cc.resources.load("prefabs/login/login",cc.Prefab,function(e,t){if(e)return console.error("Failed to load prefab:",e),void n.default.hideLoadingView(a);null==a.myLoginView&&(a.myLoginView=cc.instantiate(t).getComponent("Login"),a.updatePrefabSize()),a.myLoginView.updateView(a),a.node.addChild(a.myLoginView.node),n.default.hideLoadingView(a)})},onLoginCloseButtonDidPressed:function(){this.node.removeChild(this.myLoginView.node),n.default.isLoggedIn()&&this.callGetProfileApi()},onRegisterButtonDidPressed:function(){var e=this;n.default.playButtonClickSound(),n.default.showLoadingView("",e),cc.resources.load("prefabs/registration/registration",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);null==e.myRegistrationView&&(e.myRegistrationView=cc.instantiate(o).getComponent("Registration"),e.updatePrefabSize()),e.myRegistrationView.updateView(e),e.node.addChild(e.myRegistrationView.node),n.default.hideLoadingView(e)})},onRegisterCloseButtonDidPressed:function(){this.node.removeChild(this.myRegistrationView.node),n.default.isLoggedIn()&&this.callGetProfileApi()},onDrawerTriangleButtonDidPressed:function(){n.default.playButtonClickSound();var e=this.myDrawerBG.getChildByName("triangleContainer").getChildByName("iconTriangle"),t=this.myDrawerBG.getComponent(cc.Widget);this.isDrawerOpen?(e.angle=0,cc.tween(t).to(.1,{right:-188}).start()):(e.angle=-180,cc.tween(t).to(.1,{right:0}).start()),this.isDrawerOpen=!this.isDrawerOpen},onCountryLanguageButtonDidPressed:function(){var e=this;n.default.playButtonClickSound(),cc.resources.load("prefabs/language/language",cc.Prefab,function(t,o){t?console.error("Failed to load prefab:",t):(null==e.myLanguageView&&(e.myLanguageView=cc.instantiate(o).getComponent("Language"),e.updatePrefabSize()),e.myLanguageView.updateView(e),e.node.addChild(e.myLanguageView.node),n.default.hideLoadingView(e))})},onLanguageCloseButtonDidPressed:function(){this.node.removeChild(this.myLanguageView.node)},onSettingButtonDidPressed:function(){var e=this;n.default.playButtonClickSound(),cc.resources.load("prefabs/settings/settings",cc.Prefab,function(t,o){t?console.error("Failed to load prefab:",t):(null==e.mySettingsView&&(e.mySettingsView=cc.instantiate(o).getComponent("Settings"),e.updatePrefabSize()),e.mySettingsView.updateView(e),e.node.addChild(e.mySettingsView.node),n.default.hideLoadingView(e))})},onSettingsCloseButtonDidPressed:function(){this.node.removeChild(this.mySettingsView.node)},onDepositButtonDidPressed:function(){var e=this;n.default.playButtonClickSound(),cc.resources.load("prefabs/deposit/deposit",cc.Prefab,function(t,o){t?console.error("Failed to load prefab:",t):(null==e.myDepositView&&(e.myDepositView=cc.instantiate(o).getComponent("Deposit"),e.updatePrefabSize()),e.myDepositView.updateView(e),e.node.addChild(e.myDepositView.node),e.myDrawerBG.active=!1,cc.tween(e.myLobbyContainer.getComponent(cc.Widget)).to(1/6,{left:-1*e.myLobbyContainer.width,right:e.myLobbyContainer.width}).start(),n.default.hideLoadingView(e))})},onDepositBackButtonDidPressed:function(){var e=this;cc.tween(this.myLobbyContainer.getComponent(cc.Widget)).to(1/6,{left:0,right:0}).call(function(){e.myDrawerBG.active=!0,e.node.removeChild(e.myDepositView.node)}).start()},onPersonalCenterButtonDidPressed:function(){var e=this;n.default.playButtonClickSound(),n.default.isLoggedIn()?(n.default.showLoadingView("",e),cc.resources.load("prefabs/personal/personalCenter",cc.Prefab,function(t,o){t?console.error("Failed to load prefab:",t):(null==e.myPersonalView&&(e.myPersonalView=cc.instantiate(o).getComponent("PersonalCenter"),e.updatePrefabSize()),e.myPersonalView.updateView(e),e.node.addChild(e.myPersonalView.node),e.myDrawerBG.active=!1,cc.tween(e.myLobbyContainer.getComponent(cc.Widget)).to(1/6,{left:-1*e.myLobbyContainer.width,right:e.myLobbyContainer.width}).start(),n.default.hideLoadingView(e))})):this.onLoginButtonDidPressed(null,null,!0)},onPersonalCenterBackButtonDidPressed:function(){var e=this,t=this;o.default.getSelectedAvatar()==localStorage.getItem("selected_avatar")&&cc.loader.loadRes("images/profile/Avatar"+o.default.getSelectedAvatar()+".png",cc.SpriteFrame,function(e,n){t.myHeaderProfileImg.getComponent(cc.Sprite).spriteFrame=n}),cc.tween(this.myLobbyContainer.getComponent(cc.Widget)).to(1/6,{left:0,right:0}).call(function(){e.myDrawerBG.active=!0,e.node.removeChild(e.myPersonalView.node)}).start()},onGameGroupButtonDidPressed:function(e){var t=this;if(e.code!=this.mCurrentGameGroup){if(this.createdGameGroup.forEach(function(e){e&&e.isValid&&e.unClick()}),this.createdGameType.forEach(function(e){e&&e.isValid&&e.node.removeFromParent()}),this.createdGameType=[],"hot"==e.code)this.callGetGamesByTagApi(e.id,{status:"active"});else{var n=o.default.getGameCategories();for(var a in n){var i=n[a];if(i.code==e.code){var r=i.developers;cc.resources.load("prefabs/provider/liveDeveloper",cc.Prefab,function(e,n){if(e)console.error("Failed to load prefab:",e);else for(var o in r){var a=r[o],s=new cc.instantiate(n).getComponent("GameType");s.init(104+208*(Math.ceil((parseInt(o)+1)/2)-1),(parseInt(o)+1)%2==0?-104:104,a,i,!0,t),t.myGameScrollContent.addChild(s.node),t.createdGameType.push(s)}});var s=30+200*Math.ceil(r.length/2);this.myGameScrollContent.setContentSize(cc.size(s<830?830:s,400));break}}}this.mCurrentGameGroup=e.code}},onDeveloperButtonDidPressed:function(e,t){var o=this;n.default.playButtonClickSound(),n.default.isLoggedIn()?(n.default.showLoadingView("",o),cc.resources.load("prefabs/provider/gameList",cc.Prefab,function(a,i){a?console.error("Failed to load prefab:",a):(null==o.myGameListView&&(o.myGameListView=cc.instantiate(i).getComponent("GameList"),o.updatePrefabSize()),o.myGameListView.updateView(e,t,o),o.node.addChild(o.myGameListView.node),o.myDrawerBG.active=!1,cc.tween(o.myLobbyContainer.getComponent(cc.Widget)).to(1/6,{left:-1*o.myLobbyContainer.width,right:o.myLobbyContainer.width}).start(),n.default.hideLoadingView(o))})):this.onLoginButtonDidPressed(null,null,!0)},onGameListBackButtonDidPressed:function(){var e=this;cc.tween(this.myLobbyContainer.getComponent(cc.Widget)).to(1/6,{left:0,right:0}).call(function(){e.myDrawerBG.active=!0,e.node.removeChild(e.myGameListView.node)}).start()},callGetProfileApi:function(){var e=this;return u(c().mark(function t(){var a,r;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.default.showLoadingView("Loading",e),t.prev=1,t.next=4,i.default.getProfile(localStorage.getItem("token"));case 4:200==(a=t.sent).status&&(o.default.setUserObject(a.player),e.myLoginBtn.active=!1,e.myRegisterBtn.active=!1,e.myCopyIDBG.active=!0,e.myBalanceBG.active=!0,e.myDepositBtn.active=!0,e.myWithdrawBtn.active=!0,(r=e.myPlayIdLabel.getComponent(cc.Label))&&(r.string=a.player._id,e.scheduleOnce(function(){if(e.myCopyIDBG&&e.myPlayIdLabel){var t=e.myPlayIdLabel.width+20,n=e.myCopyIDBG.x,o=e.myCopyIDBG.y,a=e.myCopyIDBG.height;e.myCopyIDBG.width=t,e.myCopyIDBG.x=n,e.myCopyIDBG.y=o,e.myCopyIDBG.height=a}},0)),e.myPlayerNameLabel.getComponent(cc.Label).string=a.player.username,e.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string=n.default.showNumberWithDecimalAndComma("credit"==a.player.settlementMode?a.player.creditBalance:a.player.balance,2),n.default.hideLoadingView(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n.default.hideLoadingView(e);case 11:case"end":return t.stop()}},t,null,[[1,8]])}))()},callLoginApi:function(e,t,o,i){var r=this;return u(c().mark(function s(){var l;return c().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n.default.showLoadingView("Loading",r),s.prev=1,s.next=4,a.default.login(e,t,o,i);case 4:l=s.sent,console.log(l),200==l.status&&(localStorage.setItem("verified_username",t),localStorage.setItem("verified_password",o),localStorage.setItem("token",l.token),n.default.hideLoadingView(r),r.callGetProfileApi()),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(1),n.default.hideLoadingView(r);case 12:case"end":return s.stop()}},s,null,[[1,9]])}))()},callGetDevelopersApi:function(e){return u(c().mark(function t(){var n;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.default.getDevelopers(e);case 3:n=t.sent,console.log("----------getDevelopers-----------"),console.log(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))()},callGetDeveloperByIDApi:function(e){return u(c().mark(function t(){var n;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.default.getDeveloperById(e);case 3:n=t.sent,console.log("----------getDeveloperById-----------"),console.log(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))()},callGetCategoriesApi:function(e){var t=this;return u(c().mark(function n(){var o,a,i,s,l;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.default.getCategories(e);case 3:if(o=n.sent,console.log(o),e&&e.topLevel&&200==o.status){for(i in a=o.data)s=a[i],(l=new cc.instantiate(t.myGameGroupPrefab).getComponent("GameGroup")).init(0,-86*parseInt(i)-129,s,t),t.myGameGroupScrollContent.addChild(l.node);t.myGameGroupScrollContent.height=86+86*a.length}n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}},n,null,[[0,8]])}))()},callGetCategoryByIDApi:function(e){return u(c().mark(function t(){var n;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.default.getCategoryById(e);case 3:n=t.sent,console.log("----------getCategoryById-----------"),console.log(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))()},callCategoriesWithProvidersApi:function(e){var t=this;return u(c().mark(function n(){var a,i,s,l,u;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=4,r.default.getCategoriesWithProviders(e);case 4:if(a=n.sent,console.log("----------getCategoriesWithProviders-----------"),console.log(a),200==a.status)for(s in i=a.data,o.default.setGameCategories(a.data),i)l=i[s],(u=new cc.instantiate(t.myGameGroupPrefab).getComponent("GameGroup")).init(0,-86*parseInt(s)-129,l,t),t.myGameGroupScrollContent.addChild(u.node),t.createdGameGroup.push(u),t.myGameGroupScrollContent.height=86+86*i.length;n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}},n,null,[[0,10]])}))()},callCategoriesWithGamesApi:function(e){return u(c().mark(function t(){var n;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.default.getCategoriesWithGames(e);case 3:n=t.sent,console.log("----------getCategoriesWithGames-----------"),console.log(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))()},callGetTagsApi:function(e){var t=this;return u(c().mark(function n(){var o,a,i,s,l;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.default.getTags(e);case 3:if(o=n.sent,console.log("----------getTags-----------"),console.log(o),200==o.status)for(i in a=o.data)s=a[i],(l=new cc.instantiate(t.myGameGroupPrefab).getComponent("GameGroup")).init(0,-43,s,t),t.myGameGroupScrollContent.addChild(l.node),t.createdGameGroup.push(l);n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}},n,null,[[0,9]])}))()},callGetTagByIDApi:function(e){return u(c().mark(function t(){var n;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.default.getTagById(e);case 3:n=t.sent,console.log("----------getTagById-----------"),console.log(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))()},callGetGamesApi:function(e){return u(c().mark(function t(){var n;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.default.getGames(e);case 3:n=t.sent,console.log("----------getGames-----------"),console.log(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))()},callGetGameByIDApi:function(e){return u(c().mark(function t(){var n;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.default.getGameById(e);case 3:n=t.sent,console.log("----------getGameById-----------"),console.log(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))()},callGetGameByCategoryApi:function(e,t,n){return u(c().mark(function o(){var a;return c().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,r.default.getGamesByCategory(e,t);case 3:a=o.sent,console.log("----------getGamesByCategory----------- : "+n),console.log(a),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),console.log(o.t0);case 11:case"end":return o.stop()}},o,null,[[0,8]])}))()},callGetGameByDeveloperApi:function(e,t,n){return u(c().mark(function o(){var a;return c().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,r.default.getGamesByDeveloper(e,t);case 3:a=o.sent,console.log("----------getGamesByDeveloper----------- : "+n),console.log(a),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),console.log(o.t0);case 11:case"end":return o.stop()}},o,null,[[0,8]])}))()},callGetHomepageData:function(){var e=this;return u(c().mark(function t(){var n,a,i,s,l,u,d;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,r.default.getHomepageData();case 4:if(n=t.sent,console.log("----------getHomepageData-----------"),console.log(n),200==n.status&&(a=!1,(i=n.data).hotGames&&(a=!0,i[u],(s=new cc.instantiate(e.myGameGroupPrefab).getComponent("GameGroup")).init(0,-43,i.hotGames.tag,e),e.myGameGroupScrollContent.addChild(s.node),e.createdGameGroup.push(s)),i.categories))for(u in l=i.categories,o.default.setGameCategories(l),l)d=l[u],(s=new cc.instantiate(e.myGameGroupPrefab).getComponent("GameGroup")).init(0,(a?-129:-43)+-86*parseInt(u),d,e),e.myGameGroupScrollContent.addChild(s.node),e.createdGameGroup.push(s),e.myGameGroupScrollContent.height=(a?86:0)+86*l.length;t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}},t,null,[[0,10]])}))()},callGetGamesByTagApi:function(e,t){var n=this;return u(c().mark(function o(){var a,i;return c().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,a=n,o.next=4,r.default.getGamesByTag(e,t);case 4:i=o.sent,console.log("----------getGamesByTag-----------"),console.log(i),i.data&&i.data.length>0&&cc.resources.load("prefabs/gametype/hotGameContainer",cc.Prefab,function(e,t){if(e)console.error("Failed to load prefab:",e);else{var n=i.data,o=30+200*Math.ceil(n.length/2);for(var r in a.myGameScrollContent.setContentSize(cc.size(o<830?830:o,400)),n){var s=n[r],c=new cc.instantiate(t).getComponent("GameType");c.init(102+200*(Math.ceil((parseInt(r)+1)/2)-1),(parseInt(r)+1)%2==0?-100:100,s,i.tag,!1,a),a.myGameScrollContent.addChild(c.node),a.createdGameType.push(c)}}}),o.next=13;break;case 10:o.prev=10,o.t0=o.catch(0),console.log(o.t0);case 13:case"end":return o.stop()}},o,null,[[0,10]])}))()},onCopyIdButtonDidPressed:function(){var e=this;return u(c().mark(function t(){var a;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=o.default.getUserObject(),n.default.playButtonClickSound(),!o.default.getIsApp()){t.next=6;break}n.default.sendToApp(JSON.stringify({copyToClipboard:a.username})),t.next=10;break;case 6:return t.next=8,n.default.copyToClipboard(a.username);case 8:t.sent?e.showNotification(n.default.getLocalizedString(e.i18nJson,"saveToClipboard")):e.showNotification(n.default.getLocalizedString(e.i18nJson,"saveToClipboardFailed"));case 10:case"end":return t.stop()}},t)}))()},showNotification:function(e){var t=this;this.mNotificationLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,e),cc.Tween.stopAllByTarget(this.myNotificationBG),this.myNotificationBG.active=!0,this.myNotificationBG.opacity=0,cc.tween(this.myNotificationBG).to(1/3,{opacity:255}).delay(2).to(1/3,{opacity:0}).call(function(){t.myNotificationBG.active=!1}).start()},updatePrefabSize:function(){var e=cc.view.getVisibleSize();this.myLoginView&&this.myLoginView.init(0,0,e.width,e.height),this.myRegistrationView&&this.myRegistrationView.init(0,0,e.width,e.height),this.myLanguageView&&this.myLanguageView.init(0,0,e.width,e.height),this.mySettingsView&&this.mySettingsView.init(0,0,e.width,e.height),this.myDepositView&&this.myDepositView.init(1136,0,e.width,e.height),this.myPersonalView&&this.myPersonalView.init(1136,0,e.width,e.height),this.myGameListView&&this.myGameListView.init(1136,0,e.width,e.height),this.myWithdrawView&&this.myWithdrawView.init(0,0,e.width,e.height),this.myProfileView&&this.myProfileView.init(0,0,e.width,e.height),this.myEventView&&this.myEventView.init(0,0,e.width,e.height),this.myFollowUsView&&this.myFollowUsView.init(0,0,e.width,e.height),this.myRegisterView&&this.myRegisterView.init(0,0,e.width,e.height),this.mGameView&&this.mGameView.init(0,0,e.width,e.height),this.mDailyBonusView&&this.mDailyBonusView.init(0,0,e.width,e.height),this.mWelcomeBonusView&&this.mWelcomeBonusView.init(0,0,e.width,e.height),this.mMailboxView&&this.mMailboxView.init(0,0,e.width,e.height),this.mReferralView&&this.mReferralView.init(0,0,e.width,e.height),this.mRedeemCodeView&&this.mRedeemCodeView.init(0,0,e.width,e.height),this.mVipView&&this.mVipView.init(0,0,e.width,e.height),this.mRebateView&&this.mRebateView.init(0,0,e.width,e.height),this.mPwaAndroidView&&this.mPwaAndroidView.init(0,0,e.width,e.height),this.mPwaiOSView&&this.mPwaiOSView.init(0,0,e.width,e.height)},localizeUI:function(){this.mLoginLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"login"),this.mRegisterLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"register"),this.mSettingLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"settings"),this.mDepositLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"deposit"),this.mWithdrawLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"withdraw")}}),cc._RF.pop()},{"../Services/AuthServices":"AuthServices","../Services/GameService":"GameService","../Services/UserService":"UserService",SharedData:"SharedData",SharedFunction:"SharedFunction"}],Login:[function(e,t){"use strict";cc._RF.push(t,"3183eTQg7hJIah8iTsnJbHX","Login");var n=a(e("SharedFunction")),o=(a(e("SharedData")),a(e("../Services/AuthServices")));function a(e){return e&&e.__esModule?e:{default:e}}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(V){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var s=L(r,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=u(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(V){return{type:"throw",arg:V}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};c(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function w(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){function o(a,i,r,s){var c=u(e[a],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,s)},function(e){o("throw",e,r,s)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,s)})}s(c.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=f,c(v,"constructor",f),c(f,"constructor",m),m.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,r,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new b(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},w(v),c(v,s,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=P,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function r(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(error){return void n(error)}s.done?t(c):Promise.resolve(c).then(o,a)}cc.Class({extends:cc.Component,properties:{mCallBack:null,myRegistrationView:null,myForgotPasswordView:null,mBackground:{default:null,type:cc.Node},myLoginBG:{default:null,type:cc.Node},myUsernameInput:{default:null,type:cc.Node},myPasswordInput:{default:null,type:cc.Node},myError1Label:{default:null,type:cc.Node},myError2Label:{default:null,type:cc.Node},mRmbTick:{default:null,type:cc.Node},myShowPassBtn:{default:null,type:cc.Node},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node},mUsernameLabel:{default:null,type:cc.Node},mPasswordLabel:{default:null,type:cc.Node},mRememberLabel:{default:null,type:cc.Node},mForgetLabel:{default:null,type:cc.Node},mConfirmLabel:{default:null,type:cc.Node},mNewLabel:{default:null,type:cc.Node},mRegisterLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o,this.myForgotPasswordView&&this.myForgotPasswordView.init(0,0,this.node.width,this.node.height)},updateView:function(e){this.localizeUI(),this.mCallBack=e,this.mBackground.active=!0,this.myError1Label.active=!1,this.myError2Label.active=!1,this.node.opacity=255,localStorage.getItem("rmb_username")?(this.mRmbTick.active=!0,this.myUsernameInput.getComponent(cc.EditBox).string=localStorage.getItem("rmb_username")):this.mRmbTick.active=!1,this.myLoginBG.setScale(0),cc.tween(this.myLoginBG).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},setCallBack:function(e,t){void 0===t&&(t="LOBBY"),this.mCallBack=e,this.isFrom=t},onToggleRmbChkBox:function(){n.default.playButtonClickSound(),this.mRmbTick.active=!this.mRmbTick.active},onRegisterButtonDidPressed:function(){var e=this;n.default.playButtonClickSound(),n.default.showLoadingView("",e),cc.resources.load("prefabs/registration/registration",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);null==e.myRegistrationView&&(e.myRegistrationView=cc.instantiate(o).getComponent("Registration"),e.updatePrefabSize()),e.myRegistrationView.updateView(e),e.node.addChild(e.myRegistrationView.node),e.mBackground.active=!1,n.default.hideLoadingView(e)})},onRegisterCloseButtonDidPressed:function(e){"lobby"==e?this.mCallBack.onRegisterCloseButtonDidPressed():(this.node.removeChild(this.myRegistrationView.node),this.mBackground.active=!0,this.mBackground.opacity=0,cc.tween(this.mBackground).to(1/6,{opacity:255}).start())},onForgotButtonDidPressed:function(){var e=this;n.default.playButtonClickSound(),cc.resources.load("prefabs/forgotpassword/forgotpassword",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);null==e.myForgotPasswordView&&(e.myForgotPasswordView=cc.instantiate(o).getComponent("ForgotPassword"),e.updatePrefabSize()),e.myForgotPasswordView.updateView(e),e.node.addChild(e.myForgotPasswordView.node),e.mBackground.active=!1,n.default.hideLoadingView(e)})},onForgotPasswordViewCloseButtonDidPressed:function(){this.node.removeChild(this.myForgotPasswordView.node),this.mBackground.active=!0,this.mBackground.opacity=0,cc.tween(this.mBackground).to(1/6,{opacity:255}).start()},onTogglePassBtnDidPress:function(){n.default.playButtonClickSound();var e=this.myShowPassBtn,t=this.myPasswordInput,o=(t.getComponent(cc.EditBox).string,t.getComponent(cc.EditBox).inputFlag);o==cc.EditBox.InputFlag.PASSWORD||null==o?(cc.loader.loadRes("images/login/iconShow.png",cc.SpriteFrame,function(t,n){e.getComponent(cc.Sprite).spriteFrame=n}),t.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.DEFAULT):(cc.loader.loadRes("images/login/iconHide.png",cc.SpriteFrame,function(t,n){e.getComponent(cc.Sprite).spriteFrame=n}),t.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.PASSWORD)},myCloseButtonDidPressed:function(e,t,o){var a=this;o||n.default.playButtonClickSound(),cc.tween(this.myLoginBG).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){a.mCallBack&&a.mCallBack.onLoginCloseButtonDidPressed()}).start()},onLoginButtonDidPressed:function(){n.default.playButtonClickSound();var e=this.myUsernameInput.getComponent(cc.EditBox).string,t=this.myPasswordInput.getComponent(cc.EditBox).string;0!=e.length?0!=t.length?n.default.RangeCheck(t)?this.callLoginApi("",e,t,""):this.showLableError(this.myError2Label,n.default.getLocalizedString(this.i18nJson,"invalidPassword")):this.showLableError(this.myError2Label,n.default.getLocalizedString(this.i18nJson,"passwordHolder")):this.showLableError(this.myError1Label,n.default.getLocalizedString(this.i18nJson,"usernameHolder"))},showLableError:function(e,t){this.myError1Label.active=!1,this.myError2Label.active=!1,e&&(e.getComponent(cc.Label).string=t,e.active=!0,cc.tween(e).to(1/12,{scale:1.1}).to(1/12,{scale:1}).start())},callLoginApi:function(e,t,a,s){var c,l=this;return(c=i().mark(function r(){var c;return i().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n.default.showLoadingView("Loading",l),i.prev=1,i.next=4,o.default.login(e,t,a,s);case 4:c=i.sent,console.log(c),200==c.status&&(localStorage.setItem("verified_username",t),localStorage.setItem("verified_password",a),localStorage.setItem("token",c.token),l.mRmbTick.active?localStorage.setItem("rmb_username",t):localStorage.removeItem("rmb_username"),l.myCloseButtonDidPressed("","",!0),n.default.hideLoadingView(l)),i.next=13;break;case 9:i.prev=9,i.t0=i.catch(1),l.showLableError(l.myError2Label,n.default.getLocalizedString(l.i18nJson,i.t0.message)),n.default.hideLoadingView(l);case 13:case"end":return i.stop()}},r,null,[[1,9]])}),function(){var e=this,t=arguments;return new Promise(function(n,o){var a=c.apply(e,t);function i(e){r(a,n,o,i,s,"next",e)}function s(e){r(a,n,o,i,s,"throw",e)}i(void 0)})})()},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"login"),this.mUsernameLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"username"),this.mPasswordLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"password"),this.mRememberLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"rememberMe"),this.mForgetLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"forgotpassword"),this.mConfirmLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirm"),this.mNewLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"newMember"),this.mRegisterLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"registerHere")},updatePrefabSize:function(){var e=cc.view.getVisibleSize();this.myRegistrationView&&this.myRegistrationView.init(0,0,e.width,e.height),this.myForgotPasswordView&&this.myForgotPasswordView.init(0,0,e.width,e.height)}}),cc._RF.pop()},{"../Services/AuthServices":"AuthServices",SharedData:"SharedData",SharedFunction:"SharedFunction"}],ManageCard:[function(e,t){"use strict";cc._RF.push(t,"a4192YBxJ1Gm5zxiUVxFnLz","ManageCard");var n=o(e("SharedFunction"));function o(e){return e&&e.__esModule?e:{default:e}}o(e("SharedData")),cc.Class({extends:cc.Component,properties:{mCallBack:null,mMaxCard:3,mCardList:[],createdRows:[],mBackground:{default:null,type:cc.Node},myCloseBtn:{default:null,type:cc.Node},myBackBtn:{default:null,type:cc.Node},myAddAccBtn:{default:null,type:cc.Node},myAccNameInput:{default:null,type:cc.Node},myAccNumInput:{default:null,type:cc.Node},myNotificationBG:{default:null,type:cc.Node},myBankSelect:{default:null,type:cc.Node},myBankDDL:{default:null,type:cc.Node},myMainContainer:{default:null,type:cc.Node},myAddCardContainer:{default:null,type:cc.Node},myManageScrollView:{default:null,type:cc.Node},myManageScrollContent:{default:null,type:cc.Node},myScrollView:{default:null,type:cc.Node},mCardRowPrefab:{default:null,type:cc.Prefab},mAddOnImg:{default:null,type:cc.SpriteFrame},mAddOffImg:{default:null,type:cc.SpriteFrame},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node},mHeaderBankLabel:{default:null,type:cc.Node},mHeaderAccNameLabel:{default:null,type:cc.Node},mHeaderAccNumLabel:{default:null,type:cc.Node},mHeaderActionLabel:{default:null,type:cc.Node},mNoBankLabel:{default:null,type:cc.Node},mAddAccLabel:{default:null,type:cc.Node},mWarningLabel:{default:null,type:cc.Node},mDescLabel:{default:null,type:cc.Node},mBankLabel:{default:null,type:cc.Node},mBankSelectLabel:{default:null,type:cc.Node},mAccNameLabel:{default:null,type:cc.Node},mAccNumLabel:{default:null,type:cc.Node},mConfirmLabel:{default:null,type:cc.Node},mNagadLabel:{default:null,type:cc.Node},mRocketLabel:{default:null,type:cc.Node},mBkashLabel:{default:null,type:cc.Node},mNotificationLabel:{default:null,type:cc.Node},myError1Label:{default:null,type:cc.Node},myError2Label:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},updateView:function(e){this.localizeUI(),this.mCallBack=e;var t=JSON.parse(localStorage.getItem("from_index"));this.mMaxCard=t.settings.limits.maxBankCards,this.mCardList=[{bank:"a",name:"aaa",number:"123"}],this.showCardList(),this.mBackground.active=!0,this.node.opacity=255,this.myAddCardContainer.active=!1,this.myMainContainer.active=!0,this.myBackBtn.active=!1,this.myCloseBtn.active=!0,this.myError1Label.active=!1,this.myError2Label.active=!1,this.myAccNameInput.getComponent(cc.EditBox).string="",this.myAccNumInput.getComponent(cc.EditBox).string="",this.myBankDDL.active=!1,this.myScrollView.getComponent(cc.ScrollView).scrollToTop(0);var n=this.mBackground.getChildByName("card_bg");n.setScale(0),cc.tween(n).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},setCallBack:function(e){this.mCallBack=e},myCloseButtonDidPressed:function(e,t,o){var a=this;o||n.default.playButtonClickSound();var i=this.mBackground.getChildByName("card_bg");cc.tween(i).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){a.createdRows.forEach(function(e){e&&e.isValid&&e.removeFromParent()}),a.createdRows=[],a.mCallBack&&a.mCallBack.myCloseManageCardDidPressed()}).start()},myAddAccButtonDidPressed:function(e,t,o){o||n.default.playButtonClickSound(),Object.keys(this.mCardList).length<this.mMaxCard?(this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"addBank"),this.myError1Label.active=!1,this.myError2Label.active=!1,this.mBankSelectLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"nagad"),this.myAccNameInput.getComponent(cc.EditBox).string="",this.myAccNumInput.getComponent(cc.EditBox).string="",this.myScrollView.getComponent(cc.ScrollView).scrollToTop(0),this.myCloseBtn.active=!1,this.myBackBtn.active=!0,this.myMainContainer.active=!1,this.myAddCardContainer.active=!0):this.showNotification("cardLimit")},onBackButtonDidPressed:function(e,t,o){o||n.default.playButtonClickSound(),this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"manageBank"),this.myError1Label.active=!1,this.myError2Label.active=!1,this.myAccNameInput.getComponent(cc.EditBox).string="",this.myAccNumInput.getComponent(cc.EditBox).string="",this.myBackBtn.active=!1,this.myCloseBtn.active=!0,this.myAddCardContainer.active=!1,this.myMainContainer.active=!0},onConfirmButtonDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=this.myAccNameInput.getComponent(cc.EditBox).string,i=this.myAccNumInput.getComponent(cc.EditBox).string;0!=a.length?0!=i.length||this.showLableError(this.myError2Label,n.default.getLocalizedString(this.i18nJson,"accNumHolder")):this.showLableError(this.myError1Label,n.default.getLocalizedString(this.i18nJson,"accNameHolder"))},onDDLDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=this.myBankSelect.getChildByName("iconTriangle");this.myBankDDL.active?a.angle=90:a.angle=-90,this.myBankDDL.active=!this.myBankDDL.active},onDDLOptionDidPressed:function(e,t,o){o||n.default.playButtonClickSound(),e.target.parent.name;var a=e.target.getChildByName("label").getComponent(cc.Label).string;this.myBankSelect.getChildByName("lblBankSelect").getComponent(cc.Label).string=a,this.myBankSelect.getChildByName("iconTriangle").angle=90,this.myBankDDL.active=!1},showCardList:function(){var e=Object.keys(this.mCardList).length;if(e>0)for(var t in this.mNoBankLabel.active=!1,this.mCardList){var n=this.mCardList[t],o=new cc.instantiate(this.mCardRowPrefab);o.name="cardRow"+(parseInt(t)+1),o.setPosition(cc.v2(-2,-52*parseInt(t)-27)),o.getChildByName("lblBank").getComponent(cc.Label).string=n.bank,o.getChildByName("lblAccName").getComponent(cc.Label).string=n.name,o.getChildByName("lblAccNumber").getComponent(cc.Label).string=n.number,this.myManageScrollContent.addChild(o),this.createdRows.push(o)}else this.mNoBankLabel.active=!0;e>=this.mMaxCard?this.myAddAccBtn.getComponent(cc.Sprite).spriteFrame=this.mAddOffImg:this.myAddAccBtn.getComponent(cc.Sprite).spriteFrame=this.mAddOnImg,this.myAddAccBtn.y=-47*e-84,this.mAddAccLabel.y=-47*e-82,this.mWarningLabel.y=-47*e-126,this.myManageScrollContent.height=159+47*e},showNotification:function(e){var t=this;this.mNotificationLabel.getComponent(cc.Label).string=n.default.formatString(n.default.getLocalizedString(this.i18nJson,e),this.mMaxCard),cc.Tween.stopAllByTarget(this.myNotificationBG),this.myNotificationBG.active=!0,this.myNotificationBG.opacity=0,cc.tween(this.myNotificationBG).to(1/3,{opacity:255}).delay(2).to(1/3,{opacity:0}).call(function(){t.myNotificationBG.active=!1}).start()},showLableError:function(e,t){this.myError1Label.active=!1,this.myError2Label.active=!1,e&&(this.myScrollView.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,-1*e.y-120),.1,!1),e.getComponent(cc.Label).string=t,e.active=!0,cc.tween(e).to(1/12,{scale:1.1}).to(1/12,{scale:1}).start())},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"manageBank"),this.mHeaderBankLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"bankOrEWallet"),this.mHeaderAccNameLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"accName"),this.mHeaderAccNumLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"accNumber"),this.mHeaderActionLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"action"),this.mNoBankLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"noBank"),this.mAddAccLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"addAcc"),this.mWarningLabel.getComponent(cc.Label).string="*"+n.default.formatString(n.default.getLocalizedString(this.i18nJson,"cardLimit"),this.mMaxCard),this.mNotificationLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"success"),this.mDescLabel.getComponent(cc.RichText).string=n.default.getLocalizedString(this.i18nJson,"desc"),this.mBankLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"bankOrEWallet"),this.mAccNameLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"accName"),this.mAccNumLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"accNumber"),this.mBankSelectLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"nagad"),this.mConfirmLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirm"),this.mNagadLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"nagad"),this.mRocketLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"rocket"),this.mBkashLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"bkash")},updatePrefabSize:function(){cc.view.getVisibleSize()}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],NetworkService:[function(e,t,n){"use strict";cc._RF.push(t,"4734fKyHGVKw55OmhLxvwb4","NetworkService");var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(s){i=[6,s],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkService=void 0;var r=e("SharedData"),s=function(){function e(){}return e.getBaseUrl=function(){try{if(r&&"function"==typeof r.getApiUrl)return r.getApiUrl()||"";console.warn("NetworkService: SharedData.getApiUrl is not a function")}catch(error){console.warn("NetworkService: Error accessing SharedData.getApiUrl:",error)}return""},e.buildQueryString=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&null!==e[n]&&void 0!==e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},e.buildFormData=function(e){return this.buildQueryString(e)},e.request=function(e,t){var n=this;return void 0===t&&(t={}),new Promise(function(o,a){var i=t.method||"GET",r=t.timeout||n.DEFAULT_TIMEOUT,s=n.getBaseUrl(),c=e.startsWith("http")?e:""+s+e,l=new XMLHttpRequest;if(l.timeout=r,l.open(i,c,!0),t.headers)for(var u in t.headers)l.setRequestHeader(u,t.headers[u]);else"GET"===i?l.setRequestHeader("Content-Type","text/plain"):l.setRequestHeader("Content-Type","application/x-www-form-urlencoded");l.onreadystatechange=function(){if(4===l.readyState)if(l.status>=200&&l.status<=207)try{var e=l.responseText?JSON.parse(l.responseText):{};o({status:l.status,data:e,message:e.message||e.msg||""})}catch(error){o({status:l.status,data:l.responseText,message:""})}else try{var t=l.responseText?JSON.parse(l.responseText):{};a({status:l.status,data:t,message:t.message||t.msg||"HTTP Error "+l.status,error:l.responseText})}catch(error){a({status:l.status,data:null,message:"HTTP Error "+l.status,error:l.responseText})}},l.ontimeout=function(){a({status:0,data:null,message:"Request timeout",error:"Request timeout"})},l.onerror=function(){a({status:0,data:null,message:"Network error",error:"Network error occurred"})},l.send()})},e.get=function(e,t,n){return a(this,void 0,Promise,function(){var a,r;return i(this,function(){return a=e,t&&(r=this.buildQueryString(t),a=e+(e.includes("?")?"&":"?")+r),[2,this.request(a,o(o({},n),{method:"GET"}))]})})},e.post=function(e,t,n){return a(this,void 0,Promise,function(){var a,r,s,c=this;return i(this,function(){return a=o(o({},n),{method:"POST"}),r=a.headers&&"application/json"===a.headers["Content-Type"],t?(s=r?JSON.stringify(t):this.buildFormData(t),[2,new Promise(function(t,n){var o=a.timeout||c.DEFAULT_TIMEOUT,i=c.getBaseUrl(),r=e.startsWith("http")?e:""+i+e,l=new XMLHttpRequest;if(l.timeout=o,l.open("POST",r,!0),a.headers)for(var u in a.headers)l.setRequestHeader(u,a.headers[u]);else l.setRequestHeader("Content-Type","application/x-www-form-urlencoded");l.onreadystatechange=function(){if(4===l.readyState)if(l.status>=200&&l.status<=207)try{var e=l.responseText?JSON.parse(l.responseText):{};t({status:l.status,data:e,message:e.message||e.msg||""})}catch(error){t({status:l.status,data:l.responseText,message:""})}else try{var o=l.responseText?JSON.parse(l.responseText):{};n({status:l.status,data:o,message:o.message||o.msg||"HTTP Error "+l.status,error:l.responseText})}catch(error){n({status:l.status,data:null,message:"HTTP Error "+l.status,error:l.responseText})}},l.ontimeout=function(){n({status:0,data:null,message:"Request timeout",error:"Request timeout"})},l.onerror=function(){n({status:0,data:null,message:"Network error",error:"Network error occurred"})},l.send(s)})]):[2,this.request(e,a)]})})},e.put=function(e,t,n){return a(this,void 0,Promise,function(){var a,r,s,c=this;return i(this,function(){return a=o(o({},n),{method:"PUT"}),r=a.headers&&"application/json"===a.headers["Content-Type"],t?(s=r?JSON.stringify(t):this.buildFormData(t),[2,new Promise(function(t,n){var o=a.timeout||c.DEFAULT_TIMEOUT,i=c.getBaseUrl(),r=e.startsWith("http")?e:""+i+e,l=new XMLHttpRequest;if(l.timeout=o,l.open("PUT",r,!0),a.headers)for(var u in a.headers)l.setRequestHeader(u,a.headers[u]);else l.setRequestHeader("Content-Type","application/x-www-form-urlencoded");l.onreadystatechange=function(){if(4===l.readyState)if(l.status>=200&&l.status<=207)try{var e=l.responseText?JSON.parse(l.responseText):{};t({status:l.status,data:e,message:e.message||e.msg||""})}catch(error){t({status:l.status,data:l.responseText,message:""})}else try{var o=l.responseText?JSON.parse(l.responseText):{};n({status:l.status,data:o,message:o.message||o.msg||"HTTP Error "+l.status,error:l.responseText})}catch(error){n({status:l.status,data:null,message:"HTTP Error "+l.status,error:l.responseText})}},l.ontimeout=function(){n({status:0,data:null,message:"Request timeout",error:"Request timeout"})},l.onerror=function(){n({status:0,data:null,message:"Network error",error:"Network error occurred"})},l.send(s)})]):[2,this.request(e,a)]})})},e.delete=function(e,t){return a(this,void 0,Promise,function(){return i(this,function(){return[2,this.request(e,o(o({},t),{method:"DELETE"}))]})})},e.DEFAULT_TIMEOUT=3e4,e}();n.NetworkService=s,cc._RF.pop()},{SharedData:"SharedData"}],PersonalCenter:[function(e,t){"use strict";cc._RF.push(t,"cf40a7jRtZNNrZd4n5Wk9/O","PersonalCenter");var n=a(e("SharedFunction")),o=a(e("SharedData"));function a(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{mCallBack:null,myEditInfoView:null,myVIPLevelView:null,myChangeAvatarView:null,myVerificationView:null,myManageCardView:null,mCurrentFocusTab:"UserInfo",mHistoryFocusTab:"",mMaxCard:3,mCardList:[],mBetRecordTabList:[],mHistoryTabList:[],createdUnselectedTab:[],createdHistoryDDLSelect:[],createdRows:[],myUserInfoTabBtn:{default:null,type:cc.Node},myBettingRecordTabBtn:{default:null,type:cc.Node},myAccountDetailsTabBtn:{default:null,type:cc.Node},myCardWalletTabBtn:{default:null,type:cc.Node},myHistoryTabBtn:{default:null,type:cc.Node},myAddAccBtn:{default:null,type:cc.Node},myPlayerNameLabel:{default:null,type:cc.Node},mNotificationLabel:{default:null,type:cc.Node},myBalanceBG:{default:null,type:cc.Node},myNotificationBG:{default:null,type:cc.Node},myFullContainer:{default:null,type:cc.Node},myCutContainer:{default:null,type:cc.Node},myTrxContainer:{default:null,type:cc.Node},myCardContainer:{default:null,type:cc.Node},myNoCardContainer:{default:null,type:cc.Node},myHvCardContainer:{default:null,type:cc.Node},myRecordContainer:{default:null,type:cc.Node},myHistoryContainer:{default:null,type:cc.Node},myTrxDateSelect:{default:null,type:cc.Node},myTrxDateDDL:{default:null,type:cc.Node},myRecordTrxSelect:{default:null,type:cc.Node},myRecordTrxDDL:{default:null,type:cc.Node},myHistoryTrxSelect:{default:null,type:cc.Node},myHistoryTrxDDL:{default:null,type:cc.Node},myHisStatSelect:{default:null,type:cc.Node},myHisStatScrollView:{default:null,type:cc.Node},myHisStatScrollViewView:{default:null,type:cc.Node},myHisStatScrollContent:{default:null,type:cc.Node},myUserInfoScrollView:{default:null,type:cc.Node},myCutConScrollView:{default:null,type:cc.Node},myCutConScrollContent:{default:null,type:cc.Node},myWalletScrollContent:{default:null,type:cc.Node},myVerifyBtn:{default:null,type:cc.Node},mFocusTabImg:{default:null,type:cc.SpriteFrame},mNormalTabImg:{default:null,type:cc.SpriteFrame},mAddOnImg:{default:null,type:cc.SpriteFrame},mAddOffImg:{default:null,type:cc.SpriteFrame},myHeaderProfileImg:{default:null,type:cc.Sprite},myUserInfoProfileImg:{default:null,type:cc.Sprite},myAccountTxt:{default:null,type:cc.Node},myUsernameTxt:{default:null,type:cc.Node},myEmailTxt:{default:null,type:cc.Node},myCodeTxt:{default:null,type:cc.Node},myMobileTxt:{default:null,type:cc.Node},myGenderTxt:{default:null,type:cc.Node},myBirthdayTxt:{default:null,type:cc.Node},myUnselectedTabPrefab:{default:null,type:cc.Prefab},myDDLSelectPrefab:{default:null,type:cc.Prefab},mCardRowPrefab:{default:null,type:cc.Prefab},i18nJson:{default:null,type:cc.JsonAsset},mPersonalCenterLabel:{default:null,type:cc.Node},mNoBankLabel:{default:null,type:cc.Node},mAddAccLabel:{default:null,type:cc.Node},mWarningLabel:{default:null,type:cc.Node},mUserInfoTabLabel:{default:null,type:cc.Node},mBetRecordTabLabel:{default:null,type:cc.Node},mAccDetailsTabLabel:{default:null,type:cc.Node},mBankWalletTabLabel:{default:null,type:cc.Node},mHistoryTabLabel:{default:null,type:cc.Node},mLevelPriviledgedLabel:{default:null,type:cc.Node},mCurrentMemberLabel:{default:null,type:cc.Node},mBasicInfoLabel:{default:null,type:cc.Node},mAccountLabel:{default:null,type:cc.Node},mUsernameLabel:{default:null,type:cc.Node},mEmailLabel:{default:null,type:cc.Node},mMobileNumberLabel:{default:null,type:cc.Node},mGenderLabel:{default:null,type:cc.Node},mBirthdayLabel:{default:null,type:cc.Node},mVIPLevelLabel:{default:null,type:cc.Node},mVerifyLabel:{default:null,type:cc.Node},mTrxConTrxDateLabel:{default:null,type:cc.Node},mTrxConDateLabel:{default:null,type:cc.Node},mTrxConDescLabel:{default:null,type:cc.Node},mTrxConInLabel:{default:null,type:cc.Node},mTrxConOutLabel:{default:null,type:cc.Node},mTrxConBalanceLabel:{default:null,type:cc.Node},mDescLabel:{default:null,type:cc.Node},mClickHereLabel:{default:null,type:cc.Node},mSetupLabel:{default:null,type:cc.Node},mBankWalletLabel:{default:null,type:cc.Node},mAccNameLabel:{default:null,type:cc.Node},mAccNumberLabel:{default:null,type:cc.Node},mRecordDateLabel:{default:null,type:cc.Node},mRecordBetSlipIDLabel:{default:null,type:cc.Node},mRecordGameLabel:{default:null,type:cc.Node},mRecordStakeLabel:{default:null,type:cc.Node},mRecordResultLabel:{default:null,type:cc.Node},mRecordWinLossLabel:{default:null,type:cc.Node},mValidStakeLabel:{default:null,type:cc.Node},mHisDateLabel:{default:null,type:cc.Node},mHisTrxIDLabel:{default:null,type:cc.Node},mHisBankLabel:{default:null,type:cc.Node},mHisAmtLabel:{default:null,type:cc.Node},mHisStatusHeaderLabel:{default:null,type:cc.Node},mHisReasonLabel:{default:null,type:cc.Node},mToday1Label:{default:null,type:cc.Node},mYesterday1Label:{default:null,type:cc.Node},m7Days1Label:{default:null,type:cc.Node},m30Days1Label:{default:null,type:cc.Node},mNoRecords1Label:{default:null,type:cc.Node},mToday2Label:{default:null,type:cc.Node},mYesterday2Label:{default:null,type:cc.Node},m7Days2Label:{default:null,type:cc.Node},m30Days2Label:{default:null,type:cc.Node},mNoRecords2Label:{default:null,type:cc.Node},mToday3Label:{default:null,type:cc.Node},mYesterday3Label:{default:null,type:cc.Node},m7Days3Label:{default:null,type:cc.Node},m30Days3Label:{default:null,type:cc.Node},mNoRecords3Label:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o},updateView:function(e){var t=this;this.localizeUI(),this.mCallBack=e,this.mCurrentFocusTab="UserInfo";var a=JSON.parse(localStorage.getItem("from_index")),i=a.settings.verification;this.mMaxCard=a.settings.limits.maxBankCards;var r=o.default.getUserObject();this.myPlayerNameLabel.getComponent(cc.Label).string=r.fullName,this.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string=n.default.showNumberWithDecimalAndComma("credit"==r.settlementMode?r.creditBalance:r.balance,2),this.myAccountTxt.getComponent(cc.Label).string=r.fullName,this.myUsernameTxt.getComponent(cc.Label).string=r.username,this.myEmailTxt.getComponent(cc.Label).string=r.email,this.myCodeTxt.getComponent(cc.Label).string=o.default.getPhoneCode();var s;s=o.default.getCurrentEnv()==o.default.getAvailableEnvironment().ENV_DEVELOPMENT?r.phone.replace("+888","").replace(o.default.getPhoneCode(),""):r.phone.replace(o.default.getPhoneCode(),""),this.myMobileTxt.getComponent(cc.Label).string=s,localStorage.setItem("unverified_phoneNum",s),o.default.getSelectedAvatar()==localStorage.getItem("selected_avatar")&&cc.loader.loadRes("images/profile/Avatar"+o.default.getSelectedAvatar()+".png",cc.SpriteFrame,function(e,n){t.myHeaderProfileImg.getComponent(cc.Sprite).spriteFrame=n,t.myUserInfoProfileImg.getComponent(cc.Sprite).spriteFrame=n}),this.mBetRecordTabList=[{name:"Slots"},{name:"Fishing"},{name:"Live Casino"},{name:"Sports"},{name:"Skill Game"},{name:"Special"},{name:"Others"},{name:"ECasino"},{name:"Fast Game"}],this.mHistoryTabList=[{name:"Deposit",statusList:"All,Pending,Approved,Rejected,In Progress,Modified,Modified Status,Failed,Success,Cancelled,Unknown,Expired"},{name:"Withdrawal",statusList:"All,Pending,Approved,Rejected,In Progress"},{name:"Transfer",statusList:"All,Success,Failed,Pending"},{name:"Promotion",statusList:"All,Pending,Approved,Rejected,In Progress,Modified,Modified Status,Failed,Success,Cancelled,Unknown,Expired."}],this.mCardList=[],this.showCardList(),this.node.active=!0,r.phoneVerified?this.myVerifyBtn.active=!1:!r.phoneVerified&&i.phoneVerification.enabled&&(this.myVerifyBtn.active=!0),this.onPersonalTabDidPressed("","UserInfo",!0);var c=this.node.getComponent(cc.Widget);c.left=this.node.width,c.right=-1*this.node.width,cc.tween(c).to(1/6,{left:0,right:0}).start()},setCallBack:function(e){this.mCallBack=e},myBackButtonDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=this.node.getComponent(cc.Widget);cc.tween(a).to(1/6,{left:this.node.width,right:-1*this.node.width}).start(),this.mCallBack&&this.mCallBack.onPersonalCenterBackButtonDidPressed()},onPersonalTabDidPressed:function(e,t,o){if(o||n.default.playButtonClickSound(),this.myUserInfoTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myBettingRecordTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myAccountDetailsTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myCardWalletTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myHistoryTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myUserInfoTabBtn.getChildByName("lblUserInfo").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myUserInfoTabBtn.getChildByName("lblUserInfo").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myBettingRecordTabBtn.getChildByName("lblBettingRecord").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myBettingRecordTabBtn.getChildByName("lblBettingRecord").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myAccountDetailsTabBtn.getChildByName("lblAccDetails").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myAccountDetailsTabBtn.getChildByName("lblAccDetails").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myCardWalletTabBtn.getChildByName("lblCardWallet").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myCardWalletTabBtn.getChildByName("lblCardWallet").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myFullContainer.active=!1,this.myUserInfoScrollView.active=!1,this.myTrxContainer.active=!1,this.myCardContainer.active=!1,this.myCutContainer.active=!1,this.myRecordContainer.active=!1,this.myHistoryContainer.active=!1,this.mCurrentFocusTab!=t&&(this.createdUnselectedTab.forEach(function(e){e&&e.isValid&&(e.unselect(),e.node.removeFromParent())}),this.createdUnselectedTab=[]),"BettingRecord"==t||"History"==t){var a=this.mBetRecordTabList;for(var i in"History"==t&&(a=this.mHistoryTabList),a){var r=60+128*parseInt(i),s=new cc.instantiate(this.myUnselectedTabPrefab).getComponent("UnselectedTab");s.init(r,-22,a[i].name,t,this),this.myCutConScrollContent.addChild(s.node),this.createdUnselectedTab.push(s)}this.myCutConScrollContent.width=120+128*(a.length-1),this.myCutConScrollView.getComponent(cc.ScrollView).scrollToLeft(0)}"UserInfo"==t?(this.myUserInfoTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myUserInfoTabBtn.getChildByName("lblUserInfo").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myUserInfoTabBtn.getChildByName("lblUserInfo").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myUserInfoScrollView.getComponent(cc.ScrollView).scrollToTop(0),this.myFullContainer.active=!0,this.myUserInfoScrollView.active=!0):"BettingRecord"==t?(this.myBettingRecordTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myBettingRecordTabBtn.getChildByName("lblBettingRecord").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myBettingRecordTabBtn.getChildByName("lblBettingRecord").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myCutContainer.active=!0,this.myRecordContainer.active=!0):"AccDetails"==t?(this.myAccountDetailsTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myAccountDetailsTabBtn.getChildByName("lblAccDetails").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myAccountDetailsTabBtn.getChildByName("lblAccDetails").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myFullContainer.active=!0,this.myTrxContainer.active=!0):"CardWallet"==t?(this.myCardWalletTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myCardWalletTabBtn.getChildByName("lblCardWallet").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myCardWalletTabBtn.getChildByName("lblCardWallet").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myFullContainer.active=!0,this.myCardContainer.active=!0,0==Object.keys(this.mCardList).length?(this.myHvCardContainer.active=!1,this.myNoCardContainer.active=!0):(this.myNoCardContainer.active=!1,this.myHvCardContainer.active=!0)):"History"==t&&(this.myHistoryTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myCutContainer.active=!0,this.myHistoryContainer.active=!0),this.mCurrentFocusTab=t},onEditBasicInfoDidPressed:function(){n.default.playButtonClickSound();var e=this;n.default.showLoadingView("",e),cc.resources.load("prefabs/personal/editBasicInfo",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);null==e.myEditInfoView&&(e.myEditInfoView=cc.instantiate(o).getComponent("EditBasicInfo"),e.updatePrefabSize()),e.myEditInfoView.updateView(e),e.node.addChild(e.myEditInfoView.node),n.default.hideLoadingView(e)})},myCloseEditBasicInfoDidPressed:function(){this.node.removeChild(this.myEditInfoView.node)},onVIPLevelDidPressed:function(){n.default.playButtonClickSound();var e=this;n.default.showLoadingView("",e),cc.resources.load("prefabs/vip/viplevel",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);null==e.myVIPLevelView&&(e.myVIPLevelView=cc.instantiate(o).getComponent("VIPLevel"),e.updatePrefabSize()),e.myVIPLevelView.updateView(e),e.node.addChild(e.myVIPLevelView.node),n.default.hideLoadingView(e)})},myCloseVIPLevelDidPressed:function(){this.node.removeChild(this.myVIPLevelView.node)},onChangeAvatarDidPressed:function(){var e=this;n.default.showLoadingView("",e),cc.resources.load("prefabs/avatar/avatarList",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);null==e.myChangeAvatarView&&(e.myChangeAvatarView=cc.instantiate(o).getComponent("AvatarList"),e.updatePrefabSize()),e.myChangeAvatarView.updateView(e),e.node.addChild(e.myChangeAvatarView.node),n.default.hideLoadingView(e)})},myCloseChangeAvatarDidPressed:function(){var e=this;o.default.getSelectedAvatar()==localStorage.getItem("selected_avatar")&&cc.loader.loadRes("images/profile/Avatar"+o.default.getSelectedAvatar()+".png",cc.SpriteFrame,function(t,n){e.myHeaderProfileImg.getComponent(cc.Sprite).spriteFrame=n,e.myUserInfoProfileImg.getComponent(cc.Sprite).spriteFrame=n}),this.node.removeChild(this.myChangeAvatarView.node)},onVerifyButtonDidPressed:function(){n.default.playButtonClickSound();var e=this;n.default.showLoadingView("",e),cc.resources.load("prefabs/verification/verification",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);null==e.myVerificationView&&(e.myVerificationView=cc.instantiate(o).getComponent("Verification"),e.updatePrefabSize()),n.default.hideLoadingView(e),e.myVerificationView.updateView(e,"phoneVerify","PersonalCenter",""),e.node.addChild(e.myVerificationView.node)})},onVerificationCloseButtonDidPressed:function(e){this.node.removeChild(this.myVerificationView.node),"personalCenter"==e&&this.showNotification("Verified")},onManageCardDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=this;n.default.showLoadingView("",a),cc.resources.load("prefabs/deposit/manageCard",cc.Prefab,function(e,t){if(e)return console.error("Failed to load prefab:",e),void n.default.hideLoadingView(a);null==a.myManageCardView&&(a.myManageCardView=cc.instantiate(t).getComponent("ManageCard"),a.updatePrefabSize()),a.myManageCardView.updateView(a),a.node.addChild(a.myManageCardView.node),n.default.hideLoadingView(a)})},myCloseManageCardDidPressed:function(){this.node.removeChild(this.myManageCardView.node)},onTabDidPressed:function(e,t){if("History"==this.mCurrentFocusTab||"History"==t){if(this.myHisStatScrollView.active&&this.onDDLDidPressed(null,"historyStatus",!0),this.mHistoryFocusTab!=e){this.createdHistoryDDLSelect.forEach(function(e){e&&e.isValid&&e.node.removeFromParent()}),this.createdHistoryDDLSelect=[],this.myHisStatSelect.getChildByName("lblStatus").getComponent(cc.Label).string="All";var n=this.mHistoryTabList.find(function(t){return t.name===e}).statusList.split(",");for(var o in n){var a=n[o],i=-25-46*parseInt(o),r=new cc.instantiate(this.myDDLSelectPrefab).getComponent("DDLSelect");r.init(0,i,a,this),this.myHisStatScrollContent.addChild(r.node),this.createdHistoryDDLSelect.push(r)}var s=50+46*(n.length-1),c=s;s=s>440?440:s,this.myHisStatScrollView.height=s,this.myHisStatScrollViewView.height=s,this.myHisStatScrollContent.height=c,this.myHisStatScrollView.getComponent(cc.ScrollView).scrollToTop(0)}this.mHistoryFocusTab=e}this.createdUnselectedTab.forEach(function(e){e&&e.isValid&&e.unselect()})},onDDLDidPressed:function(e,t,o){if(o||n.default.playButtonClickSound(),"trxDate"==t||"recordTrxDate"==t||"historyTrxDate"==t){var a=this.myTrxDateSelect,i=this.myTrxDateDDL;"recordTrxDate"==t?(a=this.myRecordTrxSelect,i=this.myRecordTrxDDL):"historyTrxDate"==t&&(a=this.myHistoryTrxSelect,i=this.myHistoryTrxDDL);var r=a.getChildByName("iconTriangle");i.active?r.angle=90:r.angle=-90,i.active=!i.active}else"historyStatus"==t&&(r=this.myHisStatSelect.getChildByName("iconTriangle"),this.myHisStatScrollView.active?r.angle=90:r.angle=-90,this.myHisStatScrollView.active=!this.myHisStatScrollView.active)},onDDLOptionDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=e.target.parent.name,i=e.target.getChildByName("label").getComponent(cc.Label).string;if("ddl_trxDate_bg"==a||"ddl_recordTrxDate_bg"==a||"ddl_historyTrxDate_bg"==a||"recordStatusContent"==a||"historyStatusContent"==a){var r=this.myTrxDateSelect,s=this.myTrxDateDDL,c="lblTrxDate";"ddl_recordTrxDate_bg"==a?(r=this.myRecordTrxSelect,s=this.myRecordTrxDDL):"ddl_historyTrxDate_bg"==a?(r=this.myHistoryTrxSelect,s=this.myHistoryTrxDDL):"recordStatusContent"==a?(r=this.myRecordStatSelect,s=this.myRecordStatScrollView,c="lblStatus"):"historyStatusContent"==a&&(r=this.myHisStatSelect,s=this.myHisStatScrollView,c="lblStatus"),r.getChildByName(c).getComponent(cc.Label).string=i,r.getChildByName("iconTriangle").angle=90,s.active=!1}else this.myStatusSelect.getChildByName("lblStatus").getComponent(cc.Label).string=i,this.myStatusSelect.getChildByName("iconTriangle").angle=90,this.myStatusDDL.active=!1},showCardList:function(){var e=Object.keys(this.mCardList).length;if(e>0)for(var t in this.mNoBankLabel.active=!1,this.mCardList){var n=this.mCardList[t],o=new cc.instantiate(this.mCardRowPrefab);o.name="cardRow"+(parseInt(t)+1),o.setPosition(cc.v2(-2,-52*parseInt(t)-27)),o.getChildByName("lblBank").getComponent(cc.Label).string=n.bank,o.getChildByName("lblAccName").getComponent(cc.Label).string=n.name,o.getChildByName("lblAccNumber").getComponent(cc.Label).string=n.number,this.myWalletScrollContent.addChild(o),this.createdRows.push(o)}else this.mNoBankLabel.active=!0;e>=this.mMaxCard?this.myAddAccBtn.getComponent(cc.Sprite).spriteFrame=this.mAddOffImg:this.myAddAccBtn.getComponent(cc.Sprite).spriteFrame=this.mAddOnImg,this.myAddAccBtn.y=-47*e-84,this.mAddAccLabel.y=-47*e-82,this.mWarningLabel.y=-47*e-126,this.myWalletScrollContent.height=159+47*e},showNotification:function(e){var t=this;this.mNotificationLabel.getComponent(cc.Label).string=e,cc.Tween.stopAllByTarget(this.myNotificationBG),this.myNotificationBG.active=!0,this.myNotificationBG.opacity=0,cc.tween(this.myNotificationBG).to(1/3,{opacity:255}).delay(2).to(1/3,{opacity:0}).call(function(){t.myNotificationBG.active=!1}).start()},localizeUI:function(){this.mWarningLabel.getComponent(cc.Label).string="*"+n.default.formatString(n.default.getLocalizedString(this.i18nJson,"cardLimit"),this.mMaxCard)},updatePrefabSize:function(){var e=cc.view.getVisibleSize();this.myEditInfoView&&this.myEditInfoView.init(0,0,e.width,e.height),this.myVIPLevelView&&this.myVIPLevelView.init(0,0,e.width,e.height),this.myChangeAvatarView&&this.myChangeAvatarView.init(0,0,e.width,e.height),this.myVerificationView&&this.myVerificationView.init(0,0,e.width,e.height)}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],Registration:[function(e,t){"use strict";cc._RF.push(t,"932cfVmHUdKuYaszcQGcfBS","Registration");var n=i(e("SharedData")),o=i(e("SharedFunction")),a=i(e("../Services/AuthServices"));function i(e){return e&&e.__esModule?e:{default:e}}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(V){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var s=L(r,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=u(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(V){return{type:"throw",arg:V}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};c(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function w(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){function o(a,i,r,s){var c=u(e[a],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,s)},function(e){o("throw",e,r,s)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,s)})}s(c.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=f,c(v,"constructor",f),c(f,"constructor",m),m.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,i,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new b(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},w(v),c(v,s,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=P,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function s(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(error){return void n(error)}s.done?t(c):Promise.resolve(c).then(o,a)}cc.Class({extends:cc.Component,properties:{mCallBack:null,showEmailInput:!0,myVerificationView:null,mBackground:{default:null,type:cc.Node},myScrollView:{default:null,type:cc.Node},mUsernameInput:{default:null,type:cc.Node},mFullNameInput:{default:null,type:cc.Node},mEmailInput:{default:null,type:cc.Node},mMobileNoPrefixLabel:{default:null,type:cc.Node},mMobileNoInput:{default:null,type:cc.Node},mPasswordInput:{default:null,type:cc.Node},mConfirmPassInput:{default:null,type:cc.Node},mReferalCodeInput:{default:null,type:cc.Node},myError1Label:{default:null,type:cc.Node},myError2Label:{default:null,type:cc.Node},myError3Label:{default:null,type:cc.Node},myError4Label:{default:null,type:cc.Node},myError5Label:{default:null,type:cc.Node},myError6Label:{default:null,type:cc.Node},myError7Label:{default:null,type:cc.Node},myShowPassBtn:{default:null,type:cc.Node},myShowConPassBtn:{default:null,type:cc.Node},mSelectedTabIndex:0,mUserIdLabel:{default:null,type:cc.Node},mBackgroundAnimation:{default:null,type:cc.Node},mContainer:{default:null,type:cc.Node},mPhoneButton:{default:null,type:cc.Node},mSMSButton:{default:null,type:cc.Node},mWhatsappButton:{default:null,type:cc.Node},mPhoneNumberLabel:{default:null,type:cc.Node},mCodeInput:{default:null,type:cc.Node},mIsRequestedTac:!1,mRequestTacButton:{default:null,type:cc.Node},mCountDownTimer:{default:6,type:cc.Float},mNewPasswordInput:{default:null,type:cc.EditBox},mConfirmPasswordInput:{default:null,type:cc.EditBox},mRewardLabel:{default:null,type:cc.Node},mOneLabel:{default:null,type:cc.Node},mInviteLabel:{default:null,type:cc.Node},mVoiceLabel:{default:null,type:cc.Node},mPhoneNoLabel:{default:null,type:cc.Node},mPhoneNoHolderLabel:{default:null,type:cc.Node},mPhoneNoHintLabel:{default:null,type:cc.Node},mCodeLabel:{default:null,type:cc.Node},mCodeHolderLabel:{default:null,type:cc.Node},mSendLabel:{default:null,type:cc.Node},mContinueLabel:{default:null,type:cc.Node},mNewPassLabel:{default:null,type:cc.Node},mNewPassHolderLabel:{default:null,type:cc.Node},mConPassLabel:{default:null,type:cc.Node},mConPassHolderLabel:{default:null,type:cc.Node},mPhoneCodeLabel:{default:null,type:cc.Node},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node},mUsernameLabel:{default:null,type:cc.Node},mFullNameLabel:{default:null,type:cc.Node},mEmailLabel:{default:null,type:cc.Node},mMobileNoLabel:{default:null,type:cc.Node},mPasswordLabel:{default:null,type:cc.Node},mConfirmPassLabel:{default:null,type:cc.Node},mReferalCodeLabel:{default:null,type:cc.Node},mRegisterLabel:{default:null,type:cc.Node},mHvAccountLabel:{default:null,type:cc.Node},mLoginHereLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},updateView:function(e){this.localizeUI(),this.mCallBack=e,this.mBackground.active=!0,this.myError1Label.active=!1,this.myError2Label.active=!1,this.myError3Label.active=!1,this.myError4Label.active=!1,this.myError5Label.active=!1,this.myError6Label.active=!1,this.myError7Label.active=!1,this.node.opacity=255,this.mMobileNoPrefixLabel.getComponent(cc.Label).string=n.default.getPhoneCode(),this.showEmailInput?(this.mEmailLabel.active=!0,this.mEmailInput.parent.active=!0,this.mPasswordLabel.y=-562,this.mConfirmPassLabel.y=-689,this.mReferalCodeLabel.y=-813,this.mPasswordInput.parent.y=-565,this.mConfirmPassInput.parent.y=-689,this.mReferalCodeInput.parent.y=-813,this.myError5Label.y=-627,this.myError6Label.y=-751,this.myError7Label.y=-875,this.mRegisterLabel.parent.y=-937,this.mHvAccountLabel.y=-1008.824,this.mLoginHereLabel.y=-1007.108,this.myScrollView.getChildByName("view").getChildByName("content").height=1034):(this.mEmailLabel.active=!1,this.mEmailInput.parent.active=!1,this.myError4Label.active=!1,this.mPasswordLabel.y=-438,this.mConfirmPassLabel.y=-562,this.mReferalCodeLabel.y=-689,this.mPasswordInput.parent.y=-441,this.mConfirmPassInput.parent.y=-565,this.mReferalCodeInput.parent.y=-689,this.myError5Label.y=-503,this.myError6Label.y=-627,this.myError7Label.y=-751,this.mRegisterLabel.parent.y=-813,this.mHvAccountLabel.y=-884.824,this.mLoginHereLabel.y=-883.108,this.myScrollView.getChildByName("view").getChildByName("content").height=910);var t=this.mBackground.getChildByName("registration_bg");t.setScale(0),cc.tween(t).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},setCallBack:function(e,t){void 0===t&&(t="LOBBY"),this.mCallBack=e,this.isFrom=t},onTogglePassBtnDidPress:function(e,t){o.default.playButtonClickSound();var n=this.myShowPassBtn,a=this.mPasswordInput;"ConfirmPassword"==t&&(n=this.myShowConPassBtn,a=this.mConfirmPassInput),a.getComponent(cc.EditBox).string;var i=a.getComponent(cc.EditBox).inputFlag;i==cc.EditBox.InputFlag.PASSWORD||null==i?(cc.loader.loadRes("images/login/iconShow.png",cc.SpriteFrame,function(e,t){n.getComponent(cc.Sprite).spriteFrame=t}),a.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.DEFAULT):(cc.loader.loadRes("images/login/iconHide.png",cc.SpriteFrame,function(e,t){n.getComponent(cc.Sprite).spriteFrame=t}),a.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.PASSWORD)},myCloseButtonDidPressed:function(e,t,n,a){var i=this;n||o.default.playButtonClickSound();var r=this.mBackground.getChildByName("registration_bg");cc.tween(r).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){i.mCallBack&&i.mCallBack.onRegisterCloseButtonDidPressed(a)}).start()},onRegisterButtonDidPressed:function(){o.default.playButtonClickSound();var e=this.mUsernameInput.getComponent(cc.EditBox).string,t=this.mFullNameInput.getComponent(cc.EditBox).string,a=this.mMobileNoInput.getComponent(cc.EditBox).string,i=this.mEmailInput.getComponent(cc.EditBox).string,r=this.mPasswordInput.getComponent(cc.EditBox).string,s=this.mConfirmPassInput.getComponent(cc.EditBox).string,c=this.mReferalCodeInput.getComponent(cc.EditBox).string;if(0!=e.length)if(0!=t.length)if(0!=a.length){if(this.showEmailInput){if(0==i.length)return void this.showLableError(this.myError4Label,o.default.getLocalizedString(this.i18nJson,"emailHolder"));if(!o.default.EmailCheck(i))return void this.showLableError(this.myError4Label,o.default.getLocalizedString(this.i18nJson,"invalidEamil"))}if(0!=r.length)if(o.default.RangeCheck(r))if(0!=s.length)if(o.default.RangeCheck(s))if(r==s){localStorage.setItem("unverified_username",e),localStorage.setItem("unverified_fullName",t),localStorage.setItem("unverified_phoneNum",a),localStorage.setItem("unverified_password",r),localStorage.setItem("unverified_referal",c),localStorage.setItem("unverified_email",i);var l=JSON.parse(localStorage.getItem("from_index")).settings.verification;l.phoneVerification.enabled&&"onRegister"==l.phoneVerification.required?this.showVerificationPage("phoneVerify"):l.emailVerification.enabled&&"onRegister"==l.emailVerification.required?this.showVerificationPage("emailVerify"):this.callRegisterApi(e,t,n.default.getPhoneCode()+a,r,c,i)}else this.showLableError(this.myError6Label,o.default.getLocalizedString(this.i18nJson,"invalidBothPassword"));else this.showLableError(this.myError6Label,o.default.getLocalizedString(this.i18nJson,"invalidConfirmPassword"));else this.showLableError(this.myError6Label,o.default.getLocalizedString(this.i18nJson,"confirmPasswordHolder"));else this.showLableError(this.myError5Label,o.default.getLocalizedString(this.i18nJson,"invalidPassword"));else this.showLableError(this.myError5Label,o.default.getLocalizedString(this.i18nJson,"passwordHolder"))}else this.showLableError(this.myError3Label,o.default.getLocalizedString(this.i18nJson,"mobileNoHolder"));else this.showLableError(this.myError2Label,o.default.getLocalizedString(this.i18nJson,"fullNameHolder"));else this.showLableError(this.myError1Label,o.default.getLocalizedString(this.i18nJson,"usernameHolder"))},callRegisterApi:function(e,t,n,i,c,l){var u,d=this;return(u=r().mark(function s(){var u;return r().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.default.register({fullName:t,username:e,email:l,password:i,phone:n,referralCode:c});case 3:u=r.sent,console.log(u),201==u.status?(localStorage.setItem("verified_username",e),localStorage.setItem("verified_password",i),localStorage.setItem("token",u.token),d.myCloseButtonDidPressed("","",!0,"lobby")):d.showLableError(d.myError7Label,u.message),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),d.showLableError(d.myError7Label,r.t0.message),o.default.hideLoadingView(d);case 12:case"end":return r.stop()}},s,null,[[0,8]])}),function(){var e=this,t=arguments;return new Promise(function(n,o){var a=u.apply(e,t);function i(e){s(a,n,o,i,r,"next",e)}function r(e){s(a,n,o,i,r,"throw",e)}i(void 0)})})()},showVerificationPage:function(e){var t=this;o.default.showLoadingView("",t),cc.resources.load("prefabs/verification/verification",cc.Prefab,function(n,a){if(n)return console.error("Failed to load prefab:",n),void o.default.hideLoadingView(t);null==t.myVerificationView&&(t.myVerificationView=cc.instantiate(a).getComponent("Verification"),t.updatePrefabSize()),o.default.hideLoadingView(t),t.myVerificationView.updateView(t,e,"Register",""),t.node.addChild(t.myVerificationView.node),t.mBackground.active=!1})},showLableError:function(e,t){this.myError1Label.active=!1,this.myError2Label.active=!1,this.myError3Label.active=!1,this.myError4Label.active=!1,this.myError5Label.active=!1,this.myError6Label.active=!1,this.myError7Label.active=!1,e&&(this.myScrollView.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,-1*e.y-131),.1,!1),e.getComponent(cc.Label).string=t,e.active=!0,cc.tween(e).to(1/12,{scale:1.1}).to(1/12,{scale:1}).start())},onVerificationCloseButtonDidPressed:function(e,t){this.node.removeChild(this.myVerificationView.node),"emailVerify"!=e?"registerPage"==e?(this.showLableError(this.myError7Label,t),this.mBackground.active=!0):this.mCallBack.onRegisterCloseButtonDidPressed(e):this.showVerificationPage("emailVerify")},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"title"),this.mUsernameLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"username"),this.mFullNameLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"fullname"),this.mEmailLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"email"),this.mMobileNoLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"mobileno"),this.mPasswordLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"password"),this.mConfirmPassLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"confirmPassword"),this.mReferalCodeLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"referalcode"),this.mRegisterLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"register"),this.mHvAccountLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"hvAccount"),this.mLoginHereLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"loginhere")},updatePrefabSize:function(){var e=cc.view.getVisibleSize();this.myVerificationView&&this.myVerificationView.init(0,0,e.width,e.height)}}),cc._RF.pop()},{"../Services/AuthServices":"AuthServices",SharedData:"SharedData",SharedFunction:"SharedFunction"}],ResetPassword:[function(e,t){"use strict";cc._RF.push(t,"43be0+hhopIQqJqZFWkh6X8","ResetPassword");var n=a(e("SharedFunction")),o=(a(e("SharedData")),a(e("../Services/AuthServices")));function a(e){return e&&e.__esModule?e:{default:e}}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(V){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var s=L(r,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=u(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(V){return{type:"throw",arg:V}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};c(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function w(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){function o(a,i,r,s){var c=u(e[a],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,s)},function(e){o("throw",e,r,s)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,s)})}s(c.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=f,c(v,"constructor",f),c(f,"constructor",m),m.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,r,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new b(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},w(v),c(v,s,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=P,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function r(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(error){return void n(error)}s.done?t(c):Promise.resolve(c).then(o,a)}cc.Class({extends:cc.Component,properties:{mCallBack:null,mBackground:{default:null,type:cc.Node},myErrorLabel:{default:null,type:cc.Node},myError2Label:{default:null,type:cc.Node},mPasswordInput:{default:null,type:cc.Node},mConfirmPasswordInput:{default:null,type:cc.Node},mPasswordLabel:{default:null,type:cc.Node},mPasswordHolderLabel:{default:null,type:cc.Node},mConfirmPasswordLabel:{default:null,type:cc.Node},mConfirmPasswordHolderLabel:{default:null,type:cc.Node},mConfirmLabel:{default:null,type:cc.Node},mTitleLabel:{default:null,type:cc.Node},mDescLabel:{default:null,type:cc.Node},i18nJson:{default:null,type:cc.JsonAsset},myShowPassBtn:{default:null,type:cc.Node},myConfirmShowPassBtn:{default:null,type:cc.Node},mUsername:"",mOtp:"",mPasswordResetType:"sms"},onLoad:function(){this.localizeUI()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},setCallBack:function(e,t){void 0===t&&(t="LOBBY"),this.mCallBack=e,this.isFrom=t},updateView:function(e,t,n,o){void 0===o&&(o="reset"),this.localizeUI(),this.mCallBack=e,this.mUsername=t,this.mOtp=n||localStorage.getItem("reset_password_otp")||"",this.mPasswordResetType=o,this.mBackground.active=!0,this.myErrorLabel&&(this.myErrorLabel.active=!1),this.myError2Label&&(this.myError2Label.active=!1),this.node.opacity=255,this.mPasswordInput&&(this.mPasswordInput.getComponent(cc.EditBox).string=""),this.mConfirmPasswordInput&&(this.mConfirmPasswordInput.getComponent(cc.EditBox).string="");var a=this.mBackground.getChildByName("resetpassword_bg");a&&(a.setScale(0),cc.tween(a).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start())},myCloseButtonDidPressed:function(){var e=this;n.default.playButtonClickSound();var t=this.mBackground.getChildByName("resetpassword_bg");t&&cc.tween(t).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){e.mCallBack&&e.mCallBack.onResetPasswordViewCloseButtonDidPressed()}).start()},onSubmitButtonDidPressed:function(){var e,t=this;return(e=i().mark(function e(){var a,r,s,c,l,u;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.default.playButtonClickSound(),a=t.mPasswordInput.getComponent(cc.EditBox).string,r=t.mConfirmPasswordInput.getComponent(cc.EditBox).string,0!=a.length){e.next=6;break}return t.showLableError(t.myErrorLabel,n.default.getLocalizedString(t.i18nJson,"newPasswordHolder")),e.abrupt("return");case 6:if(0!=r.length){e.next=9;break}return t.showLableError(t.myError2Label||t.myErrorLabel,n.default.getLocalizedString(t.i18nJson,"confirmPasswordHolder")),e.abrupt("return");case 9:if(a==r){e.next=12;break}return t.showLableError(t.myError2Label||t.myErrorLabel,n.default.getLocalizedString(t.i18nJson,"invalidBothPassword")),e.abrupt("return");case 12:return n.default.showLoadingView("",t),e.prev=13,s={username:t.mUsername,otp:t.mOtp,newPassword:a,type:t.mPasswordResetType},e.next=17,o.default.resetPassword(s);case 17:200==(c=e.sent).status||c.success?(c.message||n.default.getLocalizedString(t.i18nJson,"resetSuccess"),t.mPasswordInput.getComponent(cc.EditBox).string="",t.mConfirmPasswordInput.getComponent(cc.EditBox).string="",n.default.showAlertView(c.message||n.default.getLocalizedString(t.i18nJson,"resetSuccess"),t,function(){t.mCallBack&&t.mCallBack.onResetPasswordViewCloseButtonDidPressed()})):(l=c.message||n.default.getLocalizedString(t.i18nJson,"resetSuccess"),t.showLableError(t.myError2Label||t.myErrorLabel,n.default.getLocalizedString(t.i18nJson,l))),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(13),u=e.t0.message||n.default.getLocalizedString(t.i18nJson,"resetFailed"),t.showLableError(t.myError2Label||t.myErrorLabel,n.default.getLocalizedString(t.i18nJson,u));case 25:n.default.hideLoadingView(t);case 26:case"end":return e.stop()}},e,null,[[13,21]])}),function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function s(e){r(i,o,a,s,c,"next",e)}function c(e){r(i,o,a,s,c,"throw",e)}s(void 0)})})()},onTogglePassBtnDidPress:function(){n.default.playButtonClickSound();var e=this.myShowPassBtn,t=this.myConfirmShowPassBtn,o=this.mPasswordInput,a=this.mConfirmPasswordInput,i=(o.getComponent(cc.EditBox).string,o.getComponent(cc.EditBox).inputFlag);i==cc.EditBox.InputFlag.PASSWORD||null==i?(cc.loader.loadRes("images/login/iconShow.png",cc.SpriteFrame,function(n,o){e.getComponent(cc.Sprite).spriteFrame=o,t.getComponent(cc.Sprite).spriteFrame=o}),o.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.DEFAULT,a.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.DEFAULT):(cc.loader.loadRes("images/login/iconHide.png",cc.SpriteFrame,function(n,o){e.getComponent(cc.Sprite).spriteFrame=o,t.getComponent(cc.Sprite).spriteFrame=o}),o.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.PASSWORD,a.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.PASSWORD)},showLableError:function(e,t){this.myErrorLabel&&(this.myErrorLabel.active=!1),this.myError2Label&&(this.myError2Label.active=!1),e&&(e.getComponent(cc.Label).string=t,e.active=!0,cc.tween(e).to(1/12,{scale:1.1}).to(1/12,{scale:1}).start())},localizeUI:function(){this.mTitleLabel&&(this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"title")||"Reset Password"),this.mDescLabel&&(this.mDescLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"description")||"Please enter your new password below."),this.mPasswordLabel&&(this.mPasswordLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"password")||"Password"),this.mConfirmPasswordLabel&&(this.mConfirmPasswordLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirmPassword")||"Confirm Password"),this.mConfirmLabel&&(this.mConfirmLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirm")||"Confirm"),this.mPasswordHolderLabel&&(this.mPasswordHolderLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"newPasswordHolder")||"Enter New Password"),this.mConfirmPasswordHolderLabel&&(this.mConfirmPasswordHolderLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirmPasswordHolder")||"Enter Confirm Password")},updatePrefabSize:function(){var e=cc.view.getVisibleSize();this.mBackground&&(this.mBackground.width=e.width,this.mBackground.height=e.height)}}),cc._RF.pop()},{"../Services/AuthServices":"AuthServices",SharedData:"SharedData",SharedFunction:"SharedFunction"}],Settings:[function(e,t){"use strict";cc._RF.push(t,"88701VNBb1MI4ehKc6MODZ0","Settings");var n=i(e("SharedFunction")),o=i(e("SharedData")),a=i(e("../Services/UserService"));function i(e){return e&&e.__esModule?e:{default:e}}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(V){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var s=L(r,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=u(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(V){return{type:"throw",arg:V}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};c(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function w(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){function o(a,i,r,s){var c=u(e[a],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,s)},function(e){o("throw",e,r,s)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,s)})}s(c.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=f,c(v,"constructor",f),c(f,"constructor",m),m.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,i,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new b(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},w(v),c(v,s,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=P,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function s(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(error){return void n(error)}s.done?t(c):Promise.resolve(c).then(o,a)}cc.Class({extends:cc.Component,properties:{mCallBack:null,mCurrentFocusTab:"Sound",mBackground:{default:null,type:cc.Node},myScrollView:{default:null,type:cc.Node},mySoundTabBtn:{default:null,type:cc.Node},myChangePassTabBtn:{default:null,type:cc.Node},myVersionTabBtn:{default:null,type:cc.Node},myLogoutTabBtn:{default:null,type:cc.Node},myMusicBtn:{default:null,type:cc.Node},myMuteBtn:{default:null,type:cc.Node},mySoundBtn:{default:null,type:cc.Node},myShowCurrPassBtn:{default:null,type:cc.Node},myShowNewPassBtn:{default:null,type:cc.Node},myShowConPassBtn:{default:null,type:cc.Node},myCurrPassInput:{default:null,type:cc.Node},myNewPassInput:{default:null,type:cc.Node},myConPassInput:{default:null,type:cc.Node},myMainContainer:{default:null,type:cc.Node},myLogoutContainer:{default:null,type:cc.Node},mySoundContainer:{default:null,type:cc.Node},myChangePassContainer:{default:null,type:cc.Node},myVersionContainer:{default:null,type:cc.Node},mFocusTabImg:{default:null,type:cc.SpriteFrame},mNormalTabImg:{default:null,type:cc.SpriteFrame},mOnSwitchImg:{default:null,type:cc.SpriteFrame},mOffSwitchImg:{default:null,type:cc.SpriteFrame},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node},mSoundTabLabel:{default:null,type:cc.Node},mChangePassTabLabel:{default:null,type:cc.Node},mVersionTabLabel:{default:null,type:cc.Node},mLogoutTabLabel:{default:null,type:cc.Node},mMusicLabel:{default:null,type:cc.Node},mMuteLabel:{default:null,type:cc.Node},mSoundLabel:{default:null,type:cc.Node},mMusicSwitchLabel:{default:null,type:cc.Node},mMuteSwitchLabel:{default:null,type:cc.Node},mSoundSwitchLabel:{default:null,type:cc.Node},mCurrentPassLabel:{default:null,type:cc.Node},mNewPassLabel:{default:null,type:cc.Node},mConfirmPassLabel:{default:null,type:cc.Node},myError1Label:{default:null,type:cc.Node},myError2Label:{default:null,type:cc.Node},myError3Label:{default:null,type:cc.Node},mConfirmLabel:{default:null,type:cc.Node},mLogoutLabel:{default:null,type:cc.Node},mDescLabel:{default:null,type:cc.Node},mNoLabel:{default:null,type:cc.Node},mYesLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},updateView:function(e){this.localizeUI(),this.mCallBack=e,this.mCurrentFocusTab="Sound",this.mBackground.active=!0,this.node.opacity=255,this.myLogoutContainer.active=!1,this.myMainContainer.active=!0,this.myError1Label.active=!1,this.myError2Label.active=!1,this.myError3Label.active=!1,this.onSettingsTabDidPressed("","Sound",!0),!o.default.getMuteStatus()&&o.default.getPlayBackgroundMusicSoundStatus()?(this.myMusicBtn.getComponent(cc.Sprite).spriteFrame=this.mOnSwitchImg,this.myMusicBtn.getChildByName("btnSwitch").setPosition(cc.v2(28,0)),this.myMusicBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25,1))):(this.myMusicBtn.getComponent(cc.Sprite).spriteFrame=this.mOffSwitchImg,this.myMusicBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28,0)),this.myMusicBtn.getChildByName("lblSwitch").setPosition(cc.v2(19,1))),!o.default.getMuteStatus()&&o.default.getPlayButtonClickSoundStatus()?(this.mySoundBtn.getComponent(cc.Sprite).spriteFrame=this.mOnSwitchImg,this.mySoundBtn.getChildByName("btnSwitch").setPosition(cc.v2(28,0)),this.mySoundBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25,1))):(this.mySoundBtn.getComponent(cc.Sprite).spriteFrame=this.mOffSwitchImg,this.mySoundBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28,0)),this.mySoundBtn.getChildByName("lblSwitch").setPosition(cc.v2(19,1))),o.default.getMuteStatus()?(this.myMuteBtn.getComponent(cc.Sprite).spriteFrame=this.mOnSwitchImg,this.myMuteBtn.getChildByName("btnSwitch").setPosition(cc.v2(28,0)),this.myMuteBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25,1))):(this.myMuteBtn.getComponent(cc.Sprite).spriteFrame=this.mOffSwitchImg,this.myMuteBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28,0)),this.myMuteBtn.getChildByName("lblSwitch").setPosition(cc.v2(19,1))),n.default.isLoggedIn()?(this.myVersionTabBtn.y=-43,this.myChangePassTabBtn.active=!0,this.myLogoutTabBtn.active=!0):(this.myVersionTabBtn.y=49,this.myChangePassTabBtn.active=!1,this.myLogoutTabBtn.active=!1),this.myCurrPassInput.getComponent(cc.EditBox).string="",this.myNewPassInput.getComponent(cc.EditBox).string="",this.myConPassInput.getComponent(cc.EditBox).string="";var t=this;cc.loader.loadRes("images/login/iconHide.png",cc.SpriteFrame,function(e,n){t.myShowCurrPassBtn.getComponent(cc.Sprite).spriteFrame=n,t.myShowNewPassBtn.getComponent(cc.Sprite).spriteFrame=n,t.myShowConPassBtn.getComponent(cc.Sprite).spriteFrame=n});var a=this.mBackground.getChildByName("settings_bg");a.setScale(0),cc.tween(a).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},setCallBack:function(e){this.mCallBack=e},myCloseButtonDidPressed:function(e,t,o){var a=this;o||n.default.playButtonClickSound();var i=this.mBackground.getChildByName("settings_bg");cc.tween(i).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){a.mCallBack&&a.mCallBack.onSettingsCloseButtonDidPressed()}).start()},onSettingsTabDidPressed:function(e,t,o){o||n.default.playButtonClickSound(),this.mySoundTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myChangePassTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myVersionTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.mySoundTabBtn.getChildByName("lblSound").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.mySoundTabBtn.getChildByName("lblSound").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myChangePassTabBtn.getChildByName("lblChangePassword").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myChangePassTabBtn.getChildByName("lblChangePassword").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myVersionTabBtn.getChildByName("lblVersion").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myVersionTabBtn.getChildByName("lblVersion").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.mySoundContainer.active=!1,this.myChangePassContainer.active=!1,this.myVersionContainer.active=!1,"Sound"==t?(this.mySoundTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.mySoundTabBtn.getChildByName("lblSound").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.mySoundTabBtn.getChildByName("lblSound").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.mySoundContainer.active=!0):"ChangePassword"==t?(this.myChangePassTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myChangePassTabBtn.getChildByName("lblChangePassword").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myChangePassTabBtn.getChildByName("lblChangePassword").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myChangePassContainer.active=!0):"Version"==t&&(this.myVersionTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myVersionTabBtn.getChildByName("lblVersion").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myVersionTabBtn.getChildByName("lblVersion").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myVersionContainer.active=!0),this.mCurrentFocusTab=t},onLogoutTabDidPressed:function(){n.default.playButtonClickSound(),this.myMainContainer.active=!1,this.myLogoutContainer.active=!0},onLogoutDecisionDidPressed:function(e,t){n.default.playButtonClickSound(),"No"==t?(this.myLogoutContainer.active=!1,this.myMainContainer.active=!0):(n.default.logout(),cc.director.loadScene("Splash"))},onTogglePassBtnDidPress:function(e,t){n.default.playButtonClickSound();var o=this.myShowCurrPassBtn,a=this.myCurrPassInput;"NewPassword"==t?(o=this.myShowNewPassBtn,a=this.myNewPassInput):"ConfirmPassword"==t&&(o=this.myShowConPassBtn,a=this.myConPassInput);var i=a.getComponent(cc.EditBox).inputFlag;i==cc.EditBox.InputFlag.PASSWORD||null==i?(cc.loader.loadRes("images/login/iconShow.png",cc.SpriteFrame,function(e,t){o.getComponent(cc.Sprite).spriteFrame=t}),a.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.DEFAULT):(cc.loader.loadRes("images/login/iconHide.png",cc.SpriteFrame,function(e,t){o.getComponent(cc.Sprite).spriteFrame=t}),a.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.PASSWORD)},onToggleSoundSettingDidPress:function(e,t){"Music"==t?o.default.getMuteStatus()||(o.default.getPlayBackgroundMusicSoundStatus()?(n.default.stopLobbyBackgroundMusic(),o.default.setPlayBackgroundMusicSoundStatus(!1),this.myMusicBtn.getComponent(cc.Sprite).spriteFrame=this.mOffSwitchImg,this.myMusicBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28,0)),this.myMusicBtn.getChildByName("lblSwitch").setPosition(cc.v2(19,1))):(o.default.setPlayBackgroundMusicSoundStatus(!0),n.default.playLobbyBackgroundMusic(),this.myMusicBtn.getComponent(cc.Sprite).spriteFrame=this.mOnSwitchImg,this.myMusicBtn.getChildByName("btnSwitch").setPosition(cc.v2(28,0)),this.myMusicBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25,1)))):"Sound"==t?o.default.getMuteStatus()||(o.default.getPlayButtonClickSoundStatus()?(o.default.setPlayButtonClickSoundStatus(!1),this.mySoundBtn.getComponent(cc.Sprite).spriteFrame=this.mOffSwitchImg,this.mySoundBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28,0)),this.mySoundBtn.getChildByName("lblSwitch").setPosition(cc.v2(19,1))):(o.default.setPlayButtonClickSoundStatus(!0),this.mySoundBtn.getComponent(cc.Sprite).spriteFrame=this.mOnSwitchImg,this.mySoundBtn.getChildByName("btnSwitch").setPosition(cc.v2(28,0)),this.mySoundBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25,1)))):"Mute"==t&&(o.default.getMuteStatus()?(o.default.setMuteStatus(!1),this.myMuteBtn.getComponent(cc.Sprite).spriteFrame=this.mOffSwitchImg,this.myMuteBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28,0)),this.myMuteBtn.getChildByName("lblSwitch").setPosition(cc.v2(19,1)),o.default.getPlayBackgroundMusicSoundStatus()&&(n.default.playLobbyBackgroundMusic(),this.myMusicBtn.getComponent(cc.Sprite).spriteFrame=this.mOnSwitchImg,this.myMusicBtn.getChildByName("btnSwitch").setPosition(cc.v2(28,0)),this.myMusicBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25,1))),o.default.getPlayButtonClickSoundStatus()&&(this.mySoundBtn.getComponent(cc.Sprite).spriteFrame=this.mOnSwitchImg,this.mySoundBtn.getChildByName("btnSwitch").setPosition(cc.v2(28,0)),this.mySoundBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25,1)))):(o.default.setMuteStatus(!0),this.myMuteBtn.getComponent(cc.Sprite).spriteFrame=this.mOnSwitchImg,this.myMuteBtn.getChildByName("btnSwitch").setPosition(cc.v2(28,0)),this.myMuteBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25,1)),o.default.getPlayBackgroundMusicSoundStatus()&&(n.default.stopLobbyBackgroundMusic(),this.myMusicBtn.getComponent(cc.Sprite).spriteFrame=this.mOffSwitchImg,this.myMusicBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28,0)),this.myMusicBtn.getChildByName("lblSwitch").setPosition(cc.v2(19,1))),o.default.getPlayButtonClickSoundStatus()&&(this.mySoundBtn.getComponent(cc.Sprite).spriteFrame=this.mOffSwitchImg,this.mySoundBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28,0)),this.mySoundBtn.getChildByName("lblSwitch").setPosition(cc.v2(19,1)))))},onConfirmChangePassBtnDidPress:function(){var e,t=this;return(e=r().mark(function e(){var o,i,s,c,l,u;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.default.playButtonClickSound(),o=t.myCurrPassInput.getComponent(cc.EditBox).string,i=t.myNewPassInput.getComponent(cc.EditBox).string,s=t.myConPassInput.getComponent(cc.EditBox).string,0!=o.length){e.next=7;break}return t.showLableError(t.myError1Label,n.default.getLocalizedString(t.i18nJson,"currentPasswordHolder")),e.abrupt("return");case 7:if(n.default.RangeCheck(o)){e.next=10;break}return t.showLableError(t.myError1Label,n.default.getLocalizedString(t.i18nJson,"invalidCurrentPassword")),e.abrupt("return");case 10:if(0!=i.length){e.next=13;break}return t.showLableError(t.myError2Label,n.default.getLocalizedString(t.i18nJson,"newPasswordHolder")),e.abrupt("return");case 13:if(n.default.RangeCheck(i)){e.next=16;break}return t.showLableError(t.myError2Label,n.default.getLocalizedString(t.i18nJson,"invalidNewPassword")),e.abrupt("return");case 16:if(0!=s.length){e.next=19;break}return t.showLableError(t.myError3Label,n.default.getLocalizedString(t.i18nJson,"confirmPasswordHolder")),e.abrupt("return");case 19:if(n.default.RangeCheck(s)){e.next=22;break}return t.showLableError(t.myError3Label,n.default.getLocalizedString(t.i18nJson,"invalidConfirmPassword")),e.abrupt("return");case 22:if(i==s){e.next=25;break}return t.showLableError(t.myError3Label,n.default.getLocalizedString(t.i18nJson,"invalidBothPassword")),e.abrupt("return");case 25:return e.prev=26,c=localStorage.getItem("token"),l={currentPassword:o,newPassword:i},e.next=31,a.default.changePassword(c,l);case 31:u=e.sent,console.log(u),Object.keys(u).length>0&&(200==u.status&&(localStorage.setItem("verified_password",i),t.myCurrPassInput.getComponent(cc.EditBox).string="",t.myNewPassInput.getComponent(cc.EditBox).string="",t.myConPassInput.getComponent(cc.EditBox).string="",t.myError1Label.active=!1,t.myError2Label.active=!1,t.myError3Label.active=!1),t.showLableError(t.myError3Label,u.message)),e.next=40;break;case 36:e.prev=36,e.t0=e.catch(26),t.showLableError(t.myError3Label,e.t0.message),n.default.hideLoadingView(t);case 40:case"end":return e.stop()}},e,null,[[26,36]])}),function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function r(e){s(i,o,a,r,c,"next",e)}function c(e){s(i,o,a,r,c,"throw",e)}r(void 0)})})()},showLableError:function(e,t){this.myError1Label.active=!1,this.myError2Label.active=!1,this.myError3Label.active=!1,e&&(this.myScrollView.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,-1*e.y-160),.1,!1),e.getComponent(cc.Label).string=t,e.active=!0,cc.tween(e).to(1/12,{scale:1.1}).to(1/12,{scale:1}).start())},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"title"),this.mSoundTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"sound"),this.mChangePassTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"changePassword"),this.mVersionTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"version"),this.mLogoutTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"logout"),this.mMusicLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"music"),this.mMuteLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"mute"),this.mSoundLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"sound"),this.mMusicSwitchLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,!o.default.getMuteStatus()&&o.default.getPlayBackgroundMusicSoundStatus()?"on":"off"),this.mSoundSwitchLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,o.default.getMuteStatus()&&o.default.getPlayButtonClickSoundStatus()?"on":"off"),this.mMuteSwitchLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,o.default.getMuteStatus()?"on":"off"),this.mCurrentPassLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"currentPassword"),this.mNewPassLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"newPassword"),this.mConfirmPassLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirmPassword"),this.mConfirmLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirm"),this.mLogoutLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"logout"),this.mDescLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"logoutDesc"),this.mNoLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"no"),this.mYesLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"yes")},updatePrefabSize:function(){cc.view.getVisibleSize()}}),cc._RF.pop()},{"../Services/UserService":"UserService",SharedData:"SharedData",SharedFunction:"SharedFunction"}],SharedData:[function(e,t){"use strict";cc._RF.push(t,"8a39ahuQfJK6ZZhZLQy8PFQ","SharedData");var n={},o={},a={},i=[],r={},s=null,c={},l={},u={},d={},h={},m={},f=null,p=null,g={},y=[],v={},w={},b="0",L="",C=!1,S=!1,B="",P="",N="",V="",D="",k="",x="",E="",T="+880",I={},F=0,_="",A=[],G={},O=[],R=[],M=null;n.showTopupOnLobbyLoad=!1,n.getCurrentEnv=function(){return n.getAvailableEnvironment().ENV_DEVELOPMENT},n.getAvailableEnvironment=function(){return{ENV_DEVELOPMENT:"development",ENV_STAGING:"staging",ENV_PRODUCTION:"production"}},n.getApiUrl=function(){return n.getCurrentEnv()==n.getAvailableEnvironment().ENV_DEVELOPMENT?"https://aics.pusingzai.com":""},n.getTimeZone=function(){return"+8"},n.setCurrentLanguage=function(e){var t=null!=e?e:"en";localStorage.setItem("current_language",t)},n.getCurrentLanguage=function(){return null==localStorage.getItem("current_language")&&localStorage.setItem("current_language","en"),localStorage.getItem("current_language")},n.setPhoneCode=function(e){T=e},n.getPhoneCode=function(){return T},n.getCurrency=function(){return"BDT"},n.getPrefix=function(){return""},n.getVerificationStatus=function(){return!!o.hasOwnProperty("firstPasswordUpdate")&&!!o.hasOwnProperty("phoneNumber")&&""!=o.phoneNumber&&0!=o.firstPasswordUpdate},n.setPopoutItem=function(e){M=e},n.getPopoutItem=function(){return M},n.setWithdrawObject=function(e){u=e},n.getWithdrawObject=function(){return u},n.setReferralObject=function(e){g=e},n.getReferralObject=function(){return g},n.setPaymentsProviderObject=function(e){y=e},n.getPaymentsProviderObject=function(){return y},n.setVipList=function(e){v=e},n.getVipList=function(){return v},n.setVerifyPromo=function(e){var t=0;1==e.status&&null!=e.amount&&""!=e.amount&&(t=e.amount),b=t},n.getVerifyPromo=function(){return b},n.setAab=function(e){C=1==e},n.getAab=function(){return C},n.setIsApp=function(e){S=1==e},n.getIsApp=function(){return S},n.setVersion=function(e){B=null!=e?e:""},n.getVersion=function(){return B},n.setBundleId=function(e){P=null!=e?e:""},n.getBundleId=function(){return""==P?"h5":P},n.setUuid=function(e){N=null!=e?e:""},n.getUuid=function(){return N},n.setDevice=function(e){V=null!=e?e:""},n.getDevice=function(){return V},n.setReferral=function(e){D=null!=e?e:""},n.getReferral=function(){return D},n.setAgentCode=function(e){k=null!=e?e:""},n.getAgentCode=function(){return k},n.setFbclid=function(e){x=null!=e?e:""},n.getFbclid=function(){return x},n.setMetaId=function(e){E=null!=e?e:""},n.getMetaId=function(){return E},n.guard=function(){var e=n.getAab(),t=n.getVerificationStatus(),o=n.getUserObject(),a=""!=(null==o?void 0:o.firstDepositDate);return e?t?a?"download":"alert":"verification":t?"proceed":"verification"},n.gameGuard=function(){var e=n.getAab(),t=n.getVerificationStatus(),o=n.getUserObject(),a=""!=(null==o?void 0:o.firstDepositDate);return e?t?a?"download":"proceed":a?"verification":"proceed":t?"proceed":a?"verification":"proceed"},n.setUserObject=function(e){o=e},n.getUserObject=function(){return o.username&&(o.username=o.username.replace(n.getPrefix(),"")),o},n.setGameCategories=function(e){w=e},n.getGameCategories=function(){return w},n.setSelectedAvatar=function(e){localStorage.setItem("selected_avatar",e)},n.getSelectedAvatar=function(){return null==localStorage.getItem("selected_avatar")?1:localStorage.getItem("selected_avatar")},n.setPlayButtonClickSoundStatus=function(e){localStorage.setItem("playSound",e)},n.getPlayButtonClickSoundStatus=function(){var e=localStorage.getItem("playSound");return null==e||"true"==e},n.setPlayBackgroundMusicSoundStatus=function(e){localStorage.setItem("playMusic",e)},n.getPlayBackgroundMusicSoundStatus=function(){var e=localStorage.getItem("playMusic");return null==e||"true"==e},n.setMuteStatus=function(e){localStorage.setItem("Mute",e)},n.getMuteStatus=function(){var e=localStorage.getItem("Mute");return null!=e&&"true"==e},n.setGameList=function(e){for(var t=0;t<e.length;t++){var n=e[t],o=n.list;n.custom_list=[];for(var a=[],r=0;r<o.length;r++){var s=o[r];"square"==s.imageSize?(a.push(s),a.length>=2?(n.custom_list.push(a),a=[]):r==o.length-1&&(n.custom_list.push(a),a=[])):(a.push(s),n.custom_list.push(a),a=[])}e[t]=n}i=e},n.getGameList=function(){return i},n.setSocialMediaObject=function(e){a=e},n.getSocialMediaObject=function(){return a},n.setLiveChat=function(e){L=e},n.getLiveChat=function(){return L},n.setAccumulateDepositObject=function(e){r=e},n.getAccumulateDepositObject=function(){return r},n.setWelcomeBonusObject=function(e){s=e},n.getWelcomeBonusObject=function(){return s},n.setPromotionObject=function(e){c=e},n.getPromotionObject=function(){return c},n.setMissionDataObject=function(e){l=e},n.getMissionDataObject=function(){return l},n.setWeekCardDataObject=function(e){d=e},n.getWeekCardDataObject=function(){return d},n.setReliefFundDataObject=function(e){h=e},n.getReliefFundDataObject=function(){return h},n.setSignInRecordObject=function(e){m=e},n.getSignInRecordObject=function(){return m},n.setSignInViewInfoObject=function(e){f=e},n.getSignInViewInfoObject=function(){return f},n.setIncentiveDataObject=function(e){p=e},n.getIncentiveDataObject=function(){return p},n.setGameViewData=function(e){I=e},n.getGameViewData=function(){return I},n.setNewMessageCount=function(e){F=e},n.getNewMessageCount=function(){return F},n.setLandingAlertMessage=function(e){_=e},n.getLandingAlertMessage=function(){return _},n.setAnnouncement=function(e){A=e},n.getAnnouncement=function(){return A},n.setMailBox=function(e){G=e},n.getMailBox=function(){return G},n.setBanner=function(e){O=e},n.getBanner=function(){return O},n.addCachedGameList=function(e){R.push(e)},n.getCachedGameList=function(){return R},n.clearCachedGameList=function(){R=[]},t.exports=n,cc._RF.pop()},{}],SharedFunction:[function(e,t){"use strict";cc._RF.push(t,"23b74OhfdpP6aZ59+eHb9i6","SharedFunction");var n,o=(n=e("SharedData"))&&n.__esModule?n:{default:n};function a(){a=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(V){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var s=L(r,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=u(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(V){return{type:"throw",arg:V}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};c(p,i,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==t&&n.call(y,i)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function w(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){function o(a,i,r,s){var c=u(e[a],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,s)},function(e){o("throw",e,r,s)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,s)})}s(c.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=f,c(v,"constructor",f),c(f,"constructor",m),m.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,r,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new b(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},w(v),c(v,s,"Generator"),c(v,i,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=P,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function i(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(error){return void n(error)}s.done?t(c):Promise.resolve(c).then(o,a)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var r=e.apply(t,n);function s(e){i(r,o,a,s,c,"next",e)}function c(e){i(r,o,a,s,c,"throw",e)}s(void 0)})}}var s={},c=null,l=null,u=null,d=null;s.isMobile=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},s.getMobileOperatingSystem=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?"Windows Phone":/android/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":"unknown"},s.callingAPI=function(t,n,o,a){var i=e("SharedData").getApiUrl()+n,r="";for(var s in o)r+=(""==r?"":"&")+s+"="+o[s];"GET"==t&&(i=i+"?"+r);var c=cc.loader.getXMLHttpRequest();c.open(t,i),"GET"==t?(c.setRequestHeader("Content-Type","text/plain"),c.send()):(c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send(r)),c.onreadystatechange=function(){4==c.readyState&&c.status>=200&&c.status<=207?a(JSON.parse(c.responseText)):a(c.responseText)}},s.pad=function(e){return e<10?"0"+e:e},s.chour=function(e){return 0==e?e+12:(e>12&&(e-=12),e)},s.showNumberWithDecimal=function(e,t){return parseFloat(Math.round(e*Math.pow(10,t))/Math.pow(10,t)).toFixed(t)},s.showNumberWithComma=function(e){return parseInt(e).toLocaleString()},s.numberWithCommas=function(e){var t=e.toString().replace(/,/g,"");return o.default.getCurrency()+" "+Number.parseFloat(t).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})},s.showNumberWithDecimalAndComma=function(e,t){return parseFloat(Math.round(e*Math.pow(10,t))/Math.pow(10,t)).toFixed(t).toLocaleString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},s.getActualWidth=function(e){return e*(cc.view.getFrameSize().width/640)},s.getActualHeight=function(e){return e*(cc.view.getFrameSize().height/1136)},s.getScale=function(e,t){var n=cc.view.getFrameSize().width,o=cc.view.getFrameSize().height,a=e,i=t;e>n&&t>o&&(a=e/2,i=t/2);var r=n/a,s=o/i;return n>o?r.toFixed(1)==s.toFixed(1)?1:n/o>e/t?1:1-(r>s?r-s:s-r):Math.min(r,s)},s.setCookie=function(e,t,n){var o=new Date;o.setTime(o.getTime()+864e5*n);var a="expires="+o.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"},s.getCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var a=n[o];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""},s.playButtonClickSound=function(){o.default.getPlayButtonClickSoundStatus()&&!o.default.getMuteStatus()&&cc.loader.loadRes("sounds/button_click",cc.AudioClip,function(e,t){cc.audioEngine.play(t,!1,1)})},s.playLobbyBackgroundMusic=function(){cc.audioEngine.stopAll(),o.default.getPlayBackgroundMusicSoundStatus()&&!o.default.getMuteStatus()&&cc.loader.loadRes("sounds/background_music",cc.AudioClip,function(e,t){cc.audioEngine.play(t,!0,1)})},s.stopLobbyBackgroundMusic=function(){cc.audioEngine.stopAll()},s.playLobbyBackgroundMusicForExitsGame=function(){this.playLobbyBackgroundMusic()},s.getRandomArbitrary=function(e,t){return Math.random()*(t-e)+e},s.setLoadingViewPrefabs=function(e){l=e},s.showLoadingView=function(e,t){void 0===e&&(e="");var n=function(){(c=cc.instantiate(l).getComponent("LoadingView")).init(0,0,1136,640),c.setText(e),t.node.addChild(c.node)};null==l?cc.resources.load("prefabs/LoadingView/LoadingView",cc.Prefab,function(e,t){e?console.error("Failed to load loadingView prefab:",e):(l=t,n())}):n()},s.updateLoadingView=function(e){void 0===e&&(e=""),null!=c&&c.setText(e)},s.hideLoadingView=function(e){null!=c&&null!=e&&null!=e.node&&e.node.removeChild(c.node)},s.setAlertViewPrefabs=function(e){d=e},s.showAlertView=function(e,t,n){void 0===e&&(e="");var o=function(){(u=cc.instantiate(d).getComponent("AlertView")).init(0,0,1136,640),u.setText(e),u.setTitle("Alert"),n&&"function"==typeof n&&u.setCallback(n),t.node.addChild(u.node)};null==d?cc.resources.load("prefabs/AlertView/AlertView",cc.Prefab,function(e,t){e?console.error("Failed to load alertView prefab:",e):(d=t,o())}):o()},s.hideAlertView=function(e){null!=u&&e.node.removeChild(u.node)},s.loadImgRes=function(e,t){cc.loader.loadRes(e,cc.SpriteFrame,function(e,n){e?cc.error(e.message||e):t.spriteFrame=n})},s.getQueryParam=function(e){return new URLSearchParams(window.location.search).get(e)},s.logout=function(){var e=r(a().mark(function e(t){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("from_index"),localStorage.removeItem("token"),localStorage.removeItem("verified_username"),localStorage.removeItem("verified_password"),s.hideLoadingView(t);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),s.isLoggedIn=function(){return null!=localStorage.getItem("verified_username")&&""!=localStorage.getItem("verified_username")&&null!=localStorage.getItem("verified_password")&&""!=localStorage.getItem("verified_password")&&null!=localStorage.getItem("token")&&""!=localStorage.getItem("token")},s.getTonightMidnight=function(){var e=new Date;return e.setHours(24,0,0,0),e.getTime()},s.setTodayData=function(e,t){var n={value:t,expiry:this.getTonightMidnight()};localStorage.setItem(e,JSON.stringify(n))},s.getTodayData=function(e,t){void 0===t&&(t=null);var n=localStorage.getItem(e);if(!n)return t;try{var o=JSON.parse(n);return(new Date).getTime()>o.expiry?(localStorage.removeItem(e),t):o.value}catch(error){return console.error("Error parsing stored item:",error),t}},s.getRandomAlphaNumeric=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="",o=t.length,a=0;a<e;a++)n+=t.charAt(Math.floor(Math.random()*o));return n},s.getRandomNumber=function(e,t){return parseInt(Math.random()*(t-e)+e)},s.getLocalizedString=function(e,t){var n=o.default.getCurrentLanguage();if(e&&e.json){var a=e.json[n];return a&&a[t]?a[t]:(console.warn('Missing localization for key: "'+t+'" in language: "'+n+'"'),t)}return console.error("Localization data is not loaded."),t},s.getDateRange=function(e){var t=new Date,n=new Date;n.setDate(t.getDate()-e);var o=function(e){return e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0")};return{from:o(n),to:o(t)}},s.RangeCheck=function(e){return/^.{6,}$/.test(e)},s.EmailCheck=function(e){return/^(?=.*@)(?=.*\.).+$/.test(e)},s.passwordRegexCheck=function(e){return/^[a-zA-Z0-9]{6,20}$/.test(e)},s.usernameRegexCheck=function(e){return/^[a-z0-9]{6,12}$/.test(e)},s.tacCodeRegexCheck=function(e){return/^\d{4}$/.test(e)},s.formatString=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return e.replace(/\{(\d+)\}/g,function(e,t){return void 0!==n[t]?n[t]:e})},s.sendToApp=function(e){window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.send&&window.webkit.messageHandlers.send.postMessage({json:e}),window.android&&"function"==typeof window.android.send&&(console.log(JSON.stringify(window.android)),console.log(typeof window.android.send),window.android.send(e))},s.copyToClipboard=function(){var e=r(a().mark(function e(t){var n;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!navigator.clipboard){e.next=7;break}return e.next=4,navigator.clipboard.writeText(t);case 4:return e.abrupt("return",!0);case 7:return(n=document.createElement("textarea")).value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),e.abrupt("return",!0);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(0),e.t0 instanceof Error?alert("Failed to copy text: "+e.t0.message):alert("Failed to copy text: Unknown error"),e.abrupt("return",!1);case 20:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}(),t.exports=s,cc._RF.pop()},{SharedData:"SharedData"}],SimpleBirthdayPicker:[function(e,t){"use strict";cc._RF.push(t,"b4a39RLbABM5YcD+cVKKA8Q","SimpleBirthdayPicker"),cc.Class({extends:cc.Component,properties:{prevYearBtn:cc.Node,yearLabel:cc.Label,nextYearBtn:cc.Node,prevMonthBtn:cc.Node,monthLabel:cc.Label,nextMonthBtn:cc.Node,prevDayBtn:cc.Node,dayLabel:cc.Label,nextDayBtn:cc.Node,minYear:{default:1900,tooltip:"\u53ef\u9009\u7684\u6700\u5c0f\u5e74\u4efd"},maxYear:{default:0,tooltip:"\u53ef\u9009\u7684\u6700\u5927\u5e74\u4efd\uff080\u8868\u793a\u5f53\u524d\u5e74\u4efd\uff09"},_selectedYear:2e3,_selectedMonth:1,_selectedDay:1},onLoad:function(){0===this.maxYear&&(this.maxYear=(new Date).getFullYear()),this.initDate(),this.initEvents(),this.updateDisplay()},initDate:function(){this._selectedYear=2e3,this._selectedMonth=1,this._selectedDay=1},initEvents:function(){this.prevYearBtn.on("click",this.onPrevYear,this),this.nextYearBtn.on("click",this.onNextYear,this),this.prevMonthBtn.on("click",this.onPrevMonth,this),this.nextMonthBtn.on("click",this.onNextMonth,this),this.prevDayBtn.on("click",this.onPrevDay,this),this.nextDayBtn.on("click",this.onNextDay,this),this.addLongPressSupport()},onPrevYear:function(){this._selectedYear>this.minYear&&(this._selectedYear--,this.updateDayRange(),this.updateDisplay(),this.playButtonEffect(this.prevYearBtn))},onNextYear:function(){this._selectedYear<this.maxYear&&(this._selectedYear++,this.updateDayRange(),this.updateDisplay(),this.playButtonEffect(this.nextYearBtn))},onPrevMonth:function(){this._selectedMonth>1?this._selectedMonth--:(this._selectedMonth=12,this._selectedYear>this.minYear&&this._selectedYear--),this.updateDayRange(),this.updateDisplay(),this.playButtonEffect(this.prevMonthBtn)},onNextMonth:function(){this._selectedMonth<12?this._selectedMonth++:(this._selectedMonth=1,this._selectedYear<this.maxYear&&this._selectedYear++),this.updateDayRange(),this.updateDisplay(),this.playButtonEffect(this.nextMonthBtn)},onPrevDay:function(){var e=this.getDaysInMonth();if(!(this._selectedDay>1))return this._selectedDay=e,void this.onPrevMonth();this._selectedDay--,this.updateDisplay(),this.playButtonEffect(this.prevDayBtn)},onNextDay:function(){var e=this.getDaysInMonth();if(!(this._selectedDay<e))return this._selectedDay=1,void this.onNextMonth();this._selectedDay++,this.updateDisplay(),this.playButtonEffect(this.nextDayBtn)},getDaysInMonth:function(){return new Date(this._selectedYear,this._selectedMonth,0).getDate()},updateDayRange:function(){var e=this.getDaysInMonth();this._selectedDay>e&&(this._selectedDay=e)},updateDisplay:function(){this.yearLabel.string=this._selectedYear+"\u5e74",this.monthLabel.string=this._selectedMonth+"\u6708",this.dayLabel.string=this._selectedDay+"\u65e5"},playButtonEffect:function(e){cc.tween(e).to(.1,{scale:.9}).to(.1,{scale:1}).start()},addLongPressSupport:function(){var e=this;[{node:this.prevYearBtn,action:"onPrevYear"},{node:this.nextYearBtn,action:"onNextYear"},{node:this.prevMonthBtn,action:"onPrevMonth"},{node:this.nextMonthBtn,action:"onNextMonth"},{node:this.prevDayBtn,action:"onPrevDay"},{node:this.nextDayBtn,action:"onNextDay"}].forEach(function(t){var n=null,o=!1;t.node.on(cc.Node.EventType.TOUCH_START,function(){n=setTimeout(function(){o=!0,e.schedule(function(){o&&e[t.action]()},.1)},500)}),t.node.on(cc.Node.EventType.TOUCH_END,function(){n&&(clearTimeout(n),n=null),o=!1,e.unscheduleAllCallbacks()}),t.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){n&&(clearTimeout(n),n=null),o=!1,e.unscheduleAllCallbacks()})})},getBirthday:function(){return new Date(this._selectedYear,this._selectedMonth-1,this._selectedDay)},getBirthdayString:function(e){void 0===e&&(e="YYYY-MM-DD");var t=this._selectedYear.toString(),n=this._selectedMonth.toString().padStart(2,"0"),o=this._selectedDay.toString().padStart(2,"0");return e.replace("YYYY",t).replace("MM",n).replace("DD",o).replace("YY",t.slice(-2)).replace("M",this._selectedMonth.toString()).replace("D",this._selectedDay.toString())},setBirthday:function(e,t,n){if(void 0!==e){if(e<this.minYear||e>this.maxYear)return cc.warn("\u5e74\u4efd "+e+" \u8d85\u51fa\u8303\u56f4 ["+this.minYear+", "+this.maxYear+"]"),!1;this._selectedYear=e}if(void 0!==t){if(t<1||t>12)return cc.warn("\u6708\u4efd "+t+" \u65e0\u6548\uff0c\u5e94\u4e3a 1-12"),!1;this._selectedMonth=t}if(void 0!==n){var o=this.getDaysInMonth();if(n<1||n>o)return cc.warn("\u65e5\u671f "+n+" \u65e0\u6548\uff0c\u672c\u6708\u5929\u6570\u4e3a "+o),!1;this._selectedDay=n}return this.updateDisplay(),!0},setBirthdayFromDate:function(e){return e instanceof Date?this.setBirthday(e.getFullYear(),e.getMonth()+1,e.getDate()):(cc.error("\u53c2\u6570\u5fc5\u987b\u662fDate\u5bf9\u8c61"),!1)},reset:function(){this.initDate(),this.updateDisplay()},checkLimits:function(){return{yearMin:this._selectedYear<=this.minYear,yearMax:this._selectedYear>=this.maxYear,monthMin:this._selectedMonth<=1,monthMax:this._selectedMonth>=12,dayMin:this._selectedDay<=1,dayMax:this._selectedDay>=this.getDaysInMonth()}}}),cc._RF.pop()},{}],Splash:[function(e,t){"use strict";cc._RF.push(t,"ac950Z2/3NP/INGeuWmFOi0","Splash");var n,o=s(e("../lib/SharedFunction")),a=s(e("../lib/SharedData")),i=s(e("../Services/AuthServices")),r=s(e("../Services/GameService"));function s(e){return e&&e.__esModule?e:{default:e}}function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(V){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var s=L(r,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=u(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(V){return{type:"throw",arg:V}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};s(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function w(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){function o(a,i,r,s){var c=u(e[a],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,s)},function(e){o("throw",e,r,s)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,s)})}s(c.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=f,s(v,"constructor",f),s(f,"constructor",m),m.displayName=s(f,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,r,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),s(b.prototype,i,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new b(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},w(v),s(v,r,"Generator"),s(v,a,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=P,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function l(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(error){return void n(error)}s.done?t(c):Promise.resolve(c).then(o,a)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function r(e){l(i,o,a,r,s,"next",e)}function s(e){l(i,o,a,r,s,"throw",e)}r(void 0)})}}var d,h=cc.Enum({CHECKMAINTENANCE:0,GETINITDATA:1,LOGIN:2,GETDATA:3,SUCCESS:4,PRELOAD:5});cc.Class({extends:cc.Component,properties:(n={myLoginView:null,myLanguageView:null,mProgressBar:{default:null,type:cc.ProgressBar},mLoginBtn:{default:null,type:cc.Node},mStatusLabel:{default:null,type:cc.Node},mVersionLabel:{default:null,type:cc.Node},mPercentageLabel:{default:null,type:cc.Label},mCsButton:{default:null,type:cc.Node},progressMode:{default:h.CHECKMAINTENANCE,type:h}},n.mVersionLabel={default:null,type:cc.Label},n.i18nJson={default:null,type:cc.JsonAsset},n.mDescLabel={default:null,type:cc.Node},n.mMaintenanceView=null,n.mMaintenanceViewPrefab={default:null,type:cc.Prefab},n.connectServerDesc="",n.loginDesc="",n.updateDesc="",n.enterDesc="",n),onLoad:function(){var e=this;this.progress=0,this.mProgressBar.progress=this.progress,this.maintenanceModeComplete=!1,this.getInitDataComplete=!1,this.loginComplete=!1,this.getDataComplete=!1,this.mStatusMessage="",this.mNextScene="Lobby",this.isLobbyPreloaded=!1,this.isLandingPreloaded=!1,cc.director.preloadScene(this.mNextScene,function(){e.isLobbyPreloaded=!0}),cc.resources.load("prefabs/LoadingView/LoadingView",cc.Prefab,function(e,t){e&&console.error("Failed to load prefab:",e),o.default.setLoadingViewPrefabs(t)}),cc.resources.load("prefabs/AlertView/AlertView",cc.Prefab,function(e,t){e&&console.error("Failed to load prefab:",e),o.default.setAlertViewPrefabs(t)})},onDestroy:function(){this.stopDotAnimation()},startDotAnimation:function(){var e=this,t=0;this.dotInterval=setInterval(function(){var n=".".repeat(t=(t+1)%4);e.mStatusLabel.getComponent(cc.Label).string=""+e.mStatusMessage+n},500)},stopDotAnimation:function(){clearInterval(this.dotInterval)},onLoginButtonDidPressed:function(e,t,n){void 0===n&&(n=!1);var a=this;n||o.default.playButtonClickSound(),cc.resources.load("prefabs/login/login",cc.Prefab,function(e,t){if(e)return console.error("Failed to load prefab:",e),void o.default.hideLoadingView(a);null==a.myLoginView&&(a.myLoginView=cc.instantiate(t).getComponent("Login"),a.updatePrefabSize(),a.myLoginView.setCallBack(a)),a.myLoginView.updateView(a),a.node.addChild(a.myLoginView.node),o.default.hideLoadingView(a)})},onLoginCloseButtonDidPressed:function(){this.node.removeChild(this.myLoginView.node)},onLanguageCloseButtonDidPressed:function(){this.node.removeChild(this.myLanguageView.node),this.progressMode=h.GETDATA},update:(d=u(c().mark(function e(t){var n;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.progressMode,e.next=e.t0===h.CHECKMAINTENANCE?3:e.t0===h.GETINITDATA?5:e.t0===h.LOGIN?11:e.t0===h.GETDATA?21:e.t0===h.SUCCESS?24:27;break;case 3:return this.maintenanceModeComplete||(this.maintenanceModeComplete=!0,this.progressMode=h.GETINITDATA),e.abrupt("break",27);case 5:if(this.mProgressBar.progress<.2&&(this.progress+=.1*t),this.getInitDataComplete){e.next=10;break}return this.getInitDataComplete=!0,e.next=10,this.callGetSplashDataApi();case 10:return e.abrupt("break",27);case 11:if(this.mProgressBar.progress<.5&&(this.progress+=.1*t),this.loginComplete){e.next=20;break}if(this.loginComplete=!0,!localStorage.getItem("verified_username")||!localStorage.getItem("verified_password")){e.next=18;break}return e.next=17,this.callLoginApi("",localStorage.getItem("verified_username"),localStorage.getItem("verified_password"),"");case 17:return e.abrupt("return");case 18:n=this,cc.resources.load("prefabs/language/language",cc.Prefab,function(e,t){e?console.error("Failed to load prefab:",e):(null==n.myLanguageView&&(n.myLanguageView=cc.instantiate(t).getComponent("Language"),n.updatePrefabSize()),n.myLanguageView.updateView(n),n.node.addChild(n.myLanguageView.node))});case 20:return e.abrupt("break",27);case 21:return this.mProgressBar.progress<.7&&(this.progress+=.1*t),this.getDataComplete||(this.getDataComplete=!0,this.progress=.7,this.progressMode=h.SUCCESS),e.abrupt("break",27);case 24:return this.mProgressBar.progress<.99&&(this.progress+=.1*t),"Lobby"==this.mNextScene&&this.isLobbyPreloaded&&1!=this.progress&&(this.progress=1,cc.director.loadScene(this.mNextScene)),e.abrupt("break",27);case 27:this.progress=this.progress>1?1:this.progress,this.mProgressBar.progress=this.progress;case 29:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)}),callGetSplashDataApi:function(){var e=this;return u(c().mark(function t(){var n;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.default.getDashboard();case 2:200==(n=t.sent).status&&(a.default.setPhoneCode(n.settings.regional.phonePrefix),a.default.setCurrentLanguage(null==localStorage.getItem("current_language")?n.settings.languages.defaultLanguage:localStorage.getItem("current_language")),a.default.setAnnouncement(n.settings.announcements),localStorage.setItem("from_index",JSON.stringify(n))),e.progressMode=h.LOGIN;case 5:case"end":return t.stop()}},t)}))()},callLoginApi:function(e,t,n,o){var a=this;return u(c().mark(function r(){var s,l;return c().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i.default.login(e,t,n,o);case 3:if(200!=(s=r.sent).status){r.next=12;break}return localStorage.setItem("verified_username",t),localStorage.setItem("verified_password",n),localStorage.setItem("token",s.token),a.progressMode=h.GETDATA,r.abrupt("return");case 12:console.log("else");case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(0),console.error("callLoginApi Error:",r.t0);case 18:localStorage.setItem("verified_username",""),localStorage.setItem("verified_password",""),localStorage.setItem("token",""),l=a,cc.resources.load("prefabs/language/language",cc.Prefab,function(e,t){e?console.error("Failed to load prefab:",e):(null==l.myLanguageView&&(l.myLanguageView=cc.instantiate(t).getComponent("Language"),l.updatePrefabSize()),l.myLanguageView.updateView(l),l.node.addChild(l.myLanguageView.node))});case 23:case"end":return r.stop()}},r,null,[[0,15]])}))()},onCsButtonClicked:function(){window.open(a.default.getLiveChat(),"_blank").focus()},localizeUI:function(){},updatePrefabSize:function(){var e=cc.view.getVisibleSize();this.myLanguageView&&this.myLanguageView.init(0,0,e.width,e.height)}}),cc._RF.pop()},{"../Services/AuthServices":"AuthServices","../Services/GameService":"GameService","../lib/SharedData":"SharedData","../lib/SharedFunction":"SharedFunction"}],TwoFAService:[function(e,t,n){"use strict";cc._RF.push(t,"1c6c0+15LFC5bGvYIr6QmuW","TwoFAService");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(s){i=[6,s],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TwoFAService=void 0;var i=e("./NetworkService"),r=function(){function e(){}return e.setup2FA=function(e){var t,n,r,s,c;return o(this,void 0,Promise,function(){var o,l;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,i.NetworkService.post(this.SETUP_2FA_ENDPOINT,void 0,{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}})];case 1:return[2,{status:(o=a.sent()).status,success:null===(t=o.data)||void 0===t?void 0:t.success,message:(null===(n=o.data)||void 0===n?void 0:n.message)||o.message,secret:null===(r=o.data)||void 0===r?void 0:r.secret,qrCode:null===(s=o.data)||void 0===s?void 0:s.qrCode,manualEntryKey:null===(c=o.data)||void 0===c?void 0:c.manualEntryKey,data:o.data}];case 2:throw l=a.sent(),console.error("TwoFAService.setup2FA error:",l),{status:l.status||500,data:l.data||null,message:l.message||"Failed to setup 2FA",error:l};case 3:return[2]}})})},e.SETUP_2FA_ENDPOINT="/api/public/v1/players/twofa/setup",e}();n.TwoFAService=r,n.default=r,cc._RF.pop()},{"./NetworkService":"NetworkService"}],UnselectedTab:[function(e,t){"use strict";cc._RF.push(t,"2b9c0UBfQVI6aGaHgYGuQP9","UnselectedTab");var n,o=(n=e("SharedFunction"))&&n.__esModule?n:{default:n};e("SharedData"),cc.Class({extends:cc.Component,properties:{mFocusTabImg:{default:null,type:cc.SpriteFrame},mNormalTabImg:{default:null,type:cc.SpriteFrame},myBG:{default:null,type:cc.Sprite},myLabel:{default:null,type:cc.Node}},onLoad:function(){},init:function(e,t,n,o,a){this.node.x=e,this.node.y=t,this.name=n,this.mCallBack=a,this.myLabel.getComponent(cc.Label).string=n,60==e&&(this.myBG.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.onclick(null,null,!0,o))},onclick:function(e,t,n,a){n||o.default.playButtonClickSound(),this.mCallBack.onTabDidPressed(this.name,a),this.myBG.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg},unselect:function(){this.myBG.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],UserService:[function(e,t,n){"use strict";cc._RF.push(t,"7c098SRQltBqLB4ZNjmu8kV","UserService");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(s){i=[6,s],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.UserService=void 0;var i=e("./NetworkService"),r=function(){function e(){}return e.getProfile=function(e){var t,n,r;return o(this,void 0,Promise,function(){var o,s,c;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,i.NetworkService.get(this.GET_USER_PROFILE_ENDPOINT,void 0,{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}})];case 1:return o=a.sent(),s=(null===(t=o.data)||void 0===t?void 0:t.data)||o.data,[2,{status:o.status,success:null===(n=o.data)||void 0===n?void 0:n.success,message:(null===(r=o.data)||void 0===r?void 0:r.message)||o.message,data:s,player:null==s?void 0:s.player}];case 2:throw c=a.sent(),console.error("UserService.getProfile error:",c),{status:c.status||500,data:c.data||null,message:c.message||"Failed to fetch user profile",error:c};case 3:return[2]}})})},e.updateProfile=function(e,t){var n,r,s;return o(this,void 0,Promise,function(){var o,c,l,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},void 0!==t.fullName&&null!==t.fullName&&(o.fullName=t.fullName),void 0!==t.email&&null!==t.email&&(o.email=t.email),void 0!==t.phone&&null!==t.phone&&(o.phone=t.phone),void 0!==t.emailOtp&&null!==t.emailOtp&&(o.emailOtp=t.emailOtp),void 0!==t.phoneOtp&&null!==t.phoneOtp&&(o.phoneOtp=t.phoneOtp),[4,i.NetworkService.put(this.UPDATE_USER_PROFILE_ENDPOINT,o,{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}})];case 1:return c=a.sent(),l=(null===(n=c.data)||void 0===n?void 0:n.data)||c.data,[2,{status:c.status,success:null===(r=c.data)||void 0===r?void 0:r.success,message:(null===(s=c.data)||void 0===s?void 0:s.message)||c.message,data:l,player:null==l?void 0:l.player}];case 2:throw u=a.sent(),console.error("UserService.updateProfile error:",u),{status:u.status||500,data:u.data||null,message:u.message||"Failed to update user profile",error:u};case 3:return[2]}})})},e.changePassword=function(e,t){var n,r;return o(this,void 0,Promise,function(){var o,s,c;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={currentPassword:t.currentPassword,newPassword:t.newPassword},[4,i.NetworkService.put(this.CHANGE_PASSWORD_ENDPOINT,o,{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}})];case 1:return[2,{status:(s=a.sent()).status,success:null===(n=s.data)||void 0===n?void 0:n.success,message:(null===(r=s.data)||void 0===r?void 0:r.message)||s.message,data:s.data}];case 2:throw c=a.sent(),console.error("UserService.changePassword error:",c),{status:c.status||500,data:c.data||null,message:c.message||"Failed to change password",error:c};case 3:return[2]}})})},e.GET_USER_PROFILE_ENDPOINT="/api/public/v1/players/me",e.UPDATE_USER_PROFILE_ENDPOINT="/api/public/v1/players/me",e.CHANGE_PASSWORD_ENDPOINT="/api/public/v1/players/me/password",e}();n.UserService=r,n.default=r,cc._RF.pop()},{"./NetworkService":"NetworkService"}],VIPLevel:[function(e,t){"use strict";cc._RF.push(t,"9c785ctUdJOQr3YTXa98kNg","VIPLevel");var n=o(e("SharedFunction"));function o(e){return e&&e.__esModule?e:{default:e}}o(e("SharedData")),cc.Class({extends:cc.Component,properties:{mCallBack:null,mLevelList:[],createdInfos:[],mBackground:{default:null,type:cc.Node},myScrollView:{default:null,type:cc.Node},myScrollContent:{default:null,type:cc.Node},mySummaryContainer:{default:null,type:cc.Node},myDetailContainer:{default:null,type:cc.Node},myLevelInfoPrefab:{default:null,type:cc.Prefab},myRichText:{default:null,type:cc.Node},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},updateView:function(e){this.localizeUI(),this.mCallBack=e,this.mBackground.active=!0,this.node.opacity=255,this.myDetailContainer.active=!1,this.mySummaryContainer.active=!0,this.mLevelList=[{name:"New Player",level:1,dailyLimit:0,dailyTransaction:0,upgradeBonus:0,rescueBonus:3,birthdayBonus:288,present:"No"},{name:"Silver Card",level:2,dailyLimit:0,dailyTransaction:0,upgradeBonus:888,rescueBonus:4,birthdayBonus:688,present:"No"},{name:"Gold Card",level:3,dailyLimit:0,dailyTransaction:0,upgradeBonus:1888,rescueBonus:5,birthdayBonus:1288,present:"No"},{name:"Platinum Card",level:4,dailyLimit:0,dailyTransaction:0,upgradeBonus:3888,rescueBonus:6,birthdayBonus:2888,present:"No"},{name:"Ruby Card",level:5,dailyLimit:0,dailyTransaction:0,upgradeBonus:8888,rescueBonus:7,birthdayBonus:6888,present:"No"},{name:"Diamond Card",level:6,dailyLimit:0,dailyTransaction:0,upgradeBonus:38888,rescueBonus:8,birthdayBonus:28888,present:"No"}],this.drawLevelInfo();var t=this.mBackground.getChildByName("card_bg");t.setScale(0),cc.tween(t).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},setCallBack:function(e){this.mCallBack=e},drawLevelInfo:function(){for(var e in this.mLevelList){var t=this.mLevelList[e],n=new cc.instantiate(this.myLevelInfoPrefab).getComponent("LevelInfo");n.init(147+280*parseInt(e),0,t,this),this.myScrollContent.addChild(n.node),this.createdInfos.push(n)}this.myScrollContent.width=14+279*this.mLevelList.length,this.myScrollView.getComponent(cc.ScrollView).scrollToLeft(0)},onCloseButtonDidPressed:function(e,t,o){var a=this;if(o||n.default.playButtonClickSound(),this.mySummaryContainer.active){var i=this.mBackground.getChildByName("card_bg");cc.tween(i).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){a.createdInfos.forEach(function(e){e&&e.isValid&&e.node.removeFromParent()}),a.createdInfos=[],a.mCallBack&&a.mCallBack.myCloseVIPLevelDidPressed()}).start()}else this.myDetailContainer.active&&this.onShowHideLevelDetail(!1)},onShowHideLevelDetail:function(e,t,o){var a=this,i=this.mBackground.getChildByName("card_bg");cc.tween(i).to(1/6,{scale:1.1}).to(1/6,{scale:0}).call(function(){e?(a.mTitleLabel.getComponent(cc.Label).string="VIP "+t+" - "+o,a.mySummaryContainer.active=!1,a.myDetailContainer.active=!0):(a.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(a.i18nJson,"title"),a.myDetailContainer.active=!1,a.mySummaryContainer.active=!0)}).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"title")},updatePrefabSize:function(){cc.view.getVisibleSize()}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],Verification:[function(e,t){"use strict";cc._RF.push(t,"de2a1Z9xx5PgYodxpTIQLcI","Verification");var n=i(e("SharedData")),o=i(e("SharedFunction")),a=i(e("../Services/AuthServices"));function i(e){return e&&e.__esModule?e:{default:e}}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(V){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var s=L(r,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=u(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(V){return{type:"throw",arg:V}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};c(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function w(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){function o(a,i,r,s){var c=u(e[a],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,s)},function(e){o("throw",e,r,s)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,s)})}s(c.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=f,c(v,"constructor",f),c(f,"constructor",m),m.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,i,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new b(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},w(v),c(v,s,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=P,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function s(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(error){return void n(error)}s.done?t(c):Promise.resolve(c).then(o,a)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function r(e){s(i,o,a,r,c,"next",e)}function c(e){s(i,o,a,r,c,"throw",e)}r(void 0)})}}cc.Class({extends:cc.Component,properties:{mCallBack:null,verifyType:null,mInitSource:"Register",mIsRequestedTac:!1,mForgotUsername:"",mForgetPasswordResponse:{default:{}},mBackground:{default:null,type:cc.Node},myVerifyBox1:{default:null,type:cc.EditBox},myVerifyBox2:{default:null,type:cc.EditBox},myVerifyBox3:{default:null,type:cc.EditBox},myVerifyBox4:{default:null,type:cc.EditBox},myVerifyBox5:{default:null,type:cc.EditBox},myVerifyBox6:{default:null,type:cc.EditBox},myErrorLabel:{default:null,type:cc.Node},mCountDownTimer:{default:30,type:cc.Float},myCDLabel:{default:null,type:cc.Node},myNoCodeLabel:{default:null,type:cc.Node},myResendLabel:{default:null,type:cc.Node},mDescLabel:{default:null,type:cc.Node},mSelectedTabIndex:0,mUserIdLabel:{default:null,type:cc.Node},mBackgroundAnimation:{default:null,type:cc.Node},mContainer:{default:null,type:cc.Node},mPhoneButton:{default:null,type:cc.Node},mSMSButton:{default:null,type:cc.Node},mWhatsappButton:{default:null,type:cc.Node},mPhoneNumberLabel:{default:null,type:cc.Node},mCodeInput:{default:null,type:cc.Node},mRequestTacButton:{default:null,type:cc.Node},mNewPasswordInput:{default:null,type:cc.EditBox},mConfirmPasswordInput:{default:null,type:cc.EditBox},mRewardLabel:{default:null,type:cc.Node},mOneLabel:{default:null,type:cc.Node},mInviteLabel:{default:null,type:cc.Node},mVoiceLabel:{default:null,type:cc.Node},mPhoneNoLabel:{default:null,type:cc.Node},mPhoneNoHolderLabel:{default:null,type:cc.Node},mPhoneNoHintLabel:{default:null,type:cc.Node},mCodeLabel:{default:null,type:cc.Node},mCodeHolderLabel:{default:null,type:cc.Node},mSendLabel:{default:null,type:cc.Node},mContinueLabel:{default:null,type:cc.Node},mNewPassLabel:{default:null,type:cc.Node},mNewPassHolderLabel:{default:null,type:cc.Node},mConPassLabel:{default:null,type:cc.Node},mConPassHolderLabel:{default:null,type:cc.Node},mPhoneCodeLabel:{default:null,type:cc.Node},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node},mNoCodeLabel:{default:null,type:cc.Node},mResendLabel:{default:null,type:cc.Node},mVerifyLabel:{default:null,type:cc.Node},mHvAccountLabel:{default:null,type:cc.Node},mLoginHereLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI();for(var e=1;e<=5;e++)this["myVerifyBox"+e].node.on("editing-did-began",function(){this._this["myVerifyBox"+this.count].string=""}.bind({_this:this,count:e})),this["myVerifyBox"+e].node.on("text-changed",function(){this._this["myVerifyBox"+this.count].string.length>=1&&this._this["myVerifyBox"+(this.count+1)].focus()}.bind({_this:this,count:e}))},updateView:function(e,t,a,i){this.localizeUI(),this.mCallBack=e,this.verifyType=t,this.mInitSource=a,this.mBackground.active=!0,this.myErrorLabel.active=!1,this.myCDLabel.active=!0,this.myNoCodeLabel.active=!1,this.myResendLabel.active=!1,this.node.opacity=255,this.mCountDownTimer=30,this.mIsRequestedTac=!1;for(var r=1;r<=6;r++)this["myVerifyBox"+r].getComponent(cc.EditBox).string="";if("phoneVerify"==this.verifyType){var s=localStorage.getItem("unverified_phoneNum");this.mDescLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"verificationSent")+" "+n.default.getPhoneCode()+" "+s.substring(0,4)+" XXXX",this.onRequestTacButtonDidPressed("","",!0)}if("emailVerify"==this.verifyType){var c=localStorage.getItem("unverified_email");this.mDescLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"verificationSent")+" "+c.substring(0,1)+"XXXX"+c.substring(c.indexOf("@")),this.onRequestTacButtonDidPressed("","",!0)}"forgotPasswordVerify"==this.verifyType&&(this.mDescLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,i),this.myCDLabel.active=!0,this.myNoCodeLabel.active=!1,this.myResendLabel.active=!1,this.mIsRequestedTac=!0,this.myResendLabel.getComponent(cc.Button).interactable=!1);var l=this.mBackground.getChildByName("verification_bg");l.setScale(0),cc.tween(l).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},setForgetPasswordResponse:function(e){this.mForgetPasswordResponse=e},setUsername:function(e){this.mForgotUsername=e},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},setCallBack:function(e,t){void 0===t&&(t="LOBBY"),this.mCallBack=e,this.isFrom=t},onTabbarButtonDidPressed:function(e,t){o.default.playButtonClickSound(),this.mSelectedTabIndex=t;var n=new cc.Color(255,255,255),a=new cc.Color(253,238,193);this.mPhoneButton.getComponent(cc.Button).interactable=!0,this.mSMSButton.getComponent(cc.Button).interactable=!0,this.mWhatsappButton.getComponent(cc.Button).interactable=!0,this.mPhoneButton.getChildByName("effect").active=!1,this.mSMSButton.getChildByName("effect").active=!1,this.mWhatsappButton.getChildByName("effect").active=!1,this.mPhoneButton.getChildByName("label").color=a,this.mSMSButton.getChildByName("label").color=a,this.mWhatsappButton.getChildByName("label").color=a,0==t?(this.mPhoneButton.getComponent(cc.Button).interactable=!1,this.mPhoneButton.getChildByName("effect").active=!0,this.mPhoneButton.getChildByName("label").color=n):1==t?(this.mSMSButton.getComponent(cc.Button).interactable=!1,this.mSMSButton.getChildByName("effect").active=!0,this.mSMSButton.getChildByName("label").color=n):(this.mWhatsappButton.getComponent(cc.Button).interactable=!1,this.mWhatsappButton.getChildByName("effect").active=!0,this.mWhatsappButton.getChildByName("label").color=n)},myCloseButtonDidPressedForgotPassword:function(e,t,n,a,i,r,s){var c=this;n||o.default.playButtonClickSound();var l=this.mBackground.getChildByName("verification_bg");cc.tween(l).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){c.mCallBack&&c.mCallBack.onVerificationCloseButtonDidPressed(a,i,r,s,c.mForgotUsername)}).start()},myCloseButtonDidPressed:function(e,t,n,a,i,r){var s=this;n||o.default.playButtonClickSound();var c=this.mBackground.getChildByName("verification_bg");cc.tween(c).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){s.mCallBack&&s.mCallBack.onVerificationCloseButtonDidPressed(a,i,r)}).start()},onRequestForgotPasswordTacButtonDidPressed:function(e,t,n){var i=this;return c(r().mark(function e(){var t;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n||o.default.playButtonClickSound(),o.default.showLoadingView("",i),e.prev=3,e.next=6,a.default.forgotPassword({username:i.mForgotUsername});case 6:(200==(t=e.sent).status||t.success)&&(i.myCDLabel.active=!0,i.myNoCodeLabel.active=!1,i.myResendLabel.active=!1,i.mIsRequestedTac=!0,i.myResendLabel.getComponent(cc.Button).interactable=!1,o.default.hideLoadingView(i)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),i.showLableError(i.myErrorLabel,e.t0.message),o.default.hideLoadingView(i);case 14:case"end":return e.stop()}},e,null,[[3,10]])}))()},onRequestTacButtonDidPressed:function(e,t,i){var s=this;return c(r().mark(function c(){var l;return r().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("forgotPasswordVerify"!=s.verifyType){r.next=3;break}return s.onRequestForgotPasswordTacButtonDidPressed(e,t,i),r.abrupt("return");case 3:return i||o.default.playButtonClickSound(),o.default.showLoadingView("",s),r.prev=6,r.next=9,a.default.sendOtp({identifier:"phoneVerify"==s.verifyType?n.default.getPhoneCode()+localStorage.getItem("unverified_phoneNum"):localStorage.getItem("unverified_email"),type:"phoneVerify"==s.verifyType?"sms":"email",purpose:"register"});case 9:l=r.sent,Object.keys(l).length>0&&(200==l.status?(s.myCDLabel.active=!0,s.myNoCodeLabel.active=!1,s.myResendLabel.active=!1,s.mIsRequestedTac=!0,s.myResendLabel.getComponent(cc.Button).interactable=!1,o.default.hideLoadingView(s)):s.showLableError(s.myErrorLabel,l.message)),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(6),s.showLableError(s.myErrorLabel,r.t0.message),o.default.hideLoadingView(s);case 17:case"end":return r.stop()}},c,null,[[6,13]])}))()},onVerifyPhoneSubmitDidPressed:function(e,t,i){var s=this;return c(r().mark(function e(){var t,c,l,u,d,h;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i||o.default.playButtonClickSound(),t="",c=1;case 3:if(!(c<=6)){e.next=14;break}if(""==(l=s["myVerifyBox"+c].getComponent(cc.EditBox).string)){e.next=9;break}t+=l,e.next=11;break;case 9:return s.showLableError(s.myErrorLabel,o.default.getLocalizedString(s.i18nJson,"invalidOTP")),e.abrupt("return");case 11:c++,e.next=3;break;case 14:return o.default.showLoadingView("",s),e.prev=15,u={},"forgotPasswordVerify"==s.verifyType?(u.identifier=s.mForgetPasswordResponse.contact,u.type=s.mForgetPasswordResponse.type,u.code=t,u.testOnly=!0):(u.identifier="phoneVerify"==s.verifyType?n.default.getPhoneCode()+localStorage.getItem("unverified_phoneNum"):localStorage.getItem("unverified_email"),u.type="phoneVerify"==s.verifyType?"sms":"email",u.code=t,u.testOnly=!0),e.next=20,a.default.verifyOtp(u);case 20:if(200!=e.sent.status){e.next=46;break}if("ForgotPassword"!=s.mInitSource){e.next=29;break}return localStorage.setItem("reset_password_otp",t),s.myCloseButtonDidPressedForgotPassword("","",!0,"resetPassword",null,t,s.mForgetPasswordResponse.type),o.default.hideLoadingView(s),e.abrupt("return");case 29:if("PersonalCenter"!=s.mInitSource){e.next=34;break}return localStorage.setItem("verify_personal_otp",t),s.myCloseButtonDidPressed("","",!0,"personalCenter",null,t),o.default.hideLoadingView(s),e.abrupt("return");case 34:if(d=JSON.parse(localStorage.getItem("from_index")),h=d.settings.verification,"phoneVerify"!=s.verifyType||!h.emailVerification.enabled||"onRegister"!=h.emailVerification.required){e.next=43;break}return localStorage.setItem("unverified_phoneotp",t),s.myCloseButtonDidPressed("","",!0,"emailVerify"),o.default.hideLoadingView(s),e.abrupt("return");case 43:s.callRegisterApi(localStorage.getItem("unverified_username"),localStorage.getItem("unverified_fullName"),n.default.getPhoneCode()+localStorage.getItem("unverified_phoneNum"),localStorage.getItem("unverified_password"),localStorage.getItem("unverified_referal"),localStorage.getItem("unverified_email"),"phoneVerify"==s.verifyType?t:localStorage.getItem("unverified_phoneotp"),"phoneVerify"==s.verifyType?"":t);case 44:e.next=47;break;case 46:s.showLableError(s.myErrorLabel,error.message);case 47:e.next=53;break;case 49:e.prev=49,e.t0=e.catch(15),s.showLableError(s.myErrorLabel,e.t0.message),o.default.hideLoadingView(s);case 53:case"end":return e.stop()}},e,null,[[15,49]])}))()},callRegisterApi:function(e,t,n,i,s,l,u,d){var h=this;return c(r().mark(function c(){var m;return r().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.default.register({fullName:t,username:e,email:l,password:i,phone:n,referralCode:s,phoneOtp:u,emailOtp:d});case 3:201==(m=r.sent).status?(localStorage.setItem("verified_username",e),localStorage.setItem("verified_password",i),localStorage.setItem("token",m.token),h.myCloseButtonDidPressed("","",!0,"lobby")):h.showLableError(h.myErrorLabel,m.message),o.default.hideLoadingView(h),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),400==r.t0.status?h.myCloseButtonDidPressed("","",!0,"registerPage",r.t0.message):h.showLableError(h.myErrorLabel,r.t0.message),o.default.hideLoadingView(h);case 12:case"end":return r.stop()}},c,null,[[0,8]])}))()},showLableError:function(e,t){this.myErrorLabel.active=!1,e&&(e.getComponent(cc.Label).string=t,e.active=!0,cc.tween(e).to(1/12,{scale:1.1}).to(1/12,{scale:1}).start())},update:function(e){this.mIsRequestedTac&&(this.mCountDownTimer-=e,this.myCDLabel.getComponent(cc.Label).string=parseInt(this.mCountDownTimer)+" Secs",this.mCountDownTimer<=1&&(this.myCDLabel.active=!1,this.myNoCodeLabel.active=!0,this.myResendLabel.active=!0,this.mCountDownTimer=30,this.mIsRequestedTac=!1,this.myResendLabel.getComponent(cc.Button).interactable=!0))},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"title"),this.mNoCodeLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"nocode"),this.mResendLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"resend"),this.mVerifyLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"verify"),this.mHvAccountLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"hvAccount"),this.mLoginHereLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"loginhere")}}),cc._RF.pop()},{"../Services/AuthServices":"AuthServices",SharedData:"SharedData",SharedFunction:"SharedFunction"}]},{},["AlertView","Avatar","AvatarList","CalendarManager","SimpleBirthdayPicker","Deposit","ManageCard","DeveloperLogo","GameContainer","GameList","GameType","GameWebView","Language","LoadingView","Settings","Landing","Announcement","Banner","GameGroup","Lobby","ForgotPassword","Login","ResetPassword","DDLSelect","EditBasicInfo","PersonalCenter","UnselectedTab","Registration","AuthServices","GameService","NetworkService","TwoFAService","UserService","Splash","LevelInfo","VIPLevel","Verification","SharedData","SharedFunction"]);