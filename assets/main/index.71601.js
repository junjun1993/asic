window.__require = function e(t, n, r) {
  function s(o, u) {
    if (!n[o]) {
      if (!t[o]) {
        var b = o.split("/");
        b = b[b.length - 1];
        if (!t[b]) {
          var a = "function" == typeof __require && __require;
          if (!u && a) return a(b, !0);
          if (i) return i(b, !0);
          throw new Error("Cannot find module '" + o + "'");
        }
        o = b;
      }
      var f = n[o] = {
        exports: {}
      };
      t[o][0].call(f.exports, function(e) {
        var n = t[o][1][e];
        return s(n || e);
      }, f, f.exports, e, t, n, r);
    }
    return n[o].exports;
  }
  var i = "function" == typeof __require && __require;
  for (var o = 0; o < r.length; o++) s(r[o]);
  return s;
}({
  AlertView: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f728bYNFEZGxpE0Z85NpgJi", "AlertView");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        mBackground: {
          default: null,
          type: cc.Node
        },
        mAlertContainer: {
          default: null,
          type: cc.Node
        },
        mAlertTitle: {
          default: null,
          type: cc.Node
        },
        mAlertDescription: {
          default: null,
          type: cc.Node
        },
        mAlertButton: {
          default: null,
          type: cc.Node
        },
        mAlertCloseButton: {
          default: null,
          type: cc.Node
        },
        mText: ""
      },
      onLoad: function onLoad() {
        this.mAlertButton && this.mAlertButton.on(cc.Node.EventType.TOUCH_END, this.onButtonClicked, this);
      },
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
        if (this.mBackground) {
          this.mBackground.width = width;
          this.mBackground.height = height;
        }
      },
      setText: function setText(text) {
        void 0 === text && (text = "");
        this.mText = text;
        if (this.mAlertDescription) {
          var label = this.mAlertDescription.getComponent(cc.Label);
          label && (label.string = text);
        }
      },
      setTitle: function setTitle(title) {
        void 0 === title && (title = "");
        if (this.mAlertTitle) {
          var label = this.mAlertTitle.getComponent(cc.Label);
          label && (label.string = title);
        }
      },
      onButtonClicked: function onButtonClicked() {
        _SharedFunction["default"].playButtonClickSound();
        this.mCallBack && "function" === typeof this.mCallBack && this.mCallBack();
        this.node && this.node.parent && this.node.parent.removeChild(this.node);
      },
      onCloseButtonClicked: function onCloseButtonClicked() {
        _SharedFunction["default"].playButtonClickSound();
        this.node && this.node.parent && this.node.parent.removeChild(this.node);
      },
      setCallback: function setCallback(callback) {
        this.mCallBack = callback;
      },
      show: function show() {
        this.node && (this.node.active = true);
      },
      hide: function hide() {
        this.node && (this.node.active = false);
      },
      onDestroy: function onDestroy() {
        this.mAlertButton && this.mAlertButton.off(cc.Node.EventType.TOUCH_END, this.onButtonClicked, this);
      }
    });
    cc._RF.pop();
  }, {
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  AnnounceItem: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d125csUoYpPUp0l57JeUSkG", "AnnounceItem");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    var SharedData = require("SharedData");
    cc.Class({
      extends: cc.Component,
      properties: {
        background: {
          default: null,
          type: cc.Node
        },
        announcement_date: {
          default: null,
          type: cc.Node
        },
        announcement_title: {
          default: null,
          type: cc.Node
        },
        mCallBack: null,
        mData: null
      },
      onLoad: function onLoad() {
        this.background ? this.background.on(cc.Node.EventType.TOUCH_END, this.onItemClicked, this) : this.node.on(cc.Node.EventType.TOUCH_END, this.onItemClicked, this);
      },
      onDestroy: function onDestroy() {
        this.background ? this.background.off(cc.Node.EventType.TOUCH_END, this.onItemClicked, this) : this.node.off(cc.Node.EventType.TOUCH_END, this.onItemClicked, this);
      },
      init: function init(data, callBack) {
        this.mData = data;
        this.mCallBack = callBack;
        var language = SharedData.getCurrentLanguage();
        if (this.announcement_date && data.startDate) {
          var dateLabel = this.announcement_date.getComponent(cc.Label);
          if (dateLabel) {
            var date = new Date(data.startDate);
            var formattedDate = this.formatDate(date);
            dateLabel.string = formattedDate;
          }
        }
        if (this.announcement_title && data.title) {
          var titleLabel = this.announcement_title.getComponent(cc.Label);
          if (titleLabel) {
            var titleText = "";
            "object" === typeof data.title && data.title[language] ? titleText = data.title[language] : "string" === typeof data.title && (titleText = data.title);
            var cleanTitle = titleText.replace(/<[^>]+>/g, "").trim();
            titleLabel.string = cleanTitle;
          }
        }
      },
      formatDate: function formatDate(date) {
        if (!date || isNaN(date.getTime())) return "";
        var year = date.getFullYear();
        var month = String(date.getMonth() + 1).padStart(2, "0");
        var day = String(date.getDate()).padStart(2, "0");
        var hours = String(date.getHours()).padStart(2, "0");
        var minutes = String(date.getMinutes()).padStart(2, "0");
        var seconds = String(date.getSeconds()).padStart(2, "0");
        return year + "-" + month + "-" + day + " " + hours + ":" + minutes + ":" + seconds;
      },
      onItemClicked: function onItemClicked() {
        _SharedFunction["default"].playButtonClickSound();
        this.mCallBack && "function" === typeof this.mCallBack.onAnnouncementItemClicked && this.mCallBack.onAnnouncementItemClicked(this.mData);
      },
      getData: function getData() {
        return this.mData;
      }
    });
    cc._RF.pop();
  }, {
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  AnnouncementDetail: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a234cb15-b28b-4g63-0e36-f8c36f623a17", "AnnouncementDetail");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    var SharedData = require("SharedData");
    cc.Class({
      extends: cc.Component,
      properties: {
        background: {
          default: null,
          type: cc.Node
        },
        announcement_date: {
          default: null,
          type: cc.Node
        },
        announcement_title: {
          default: null,
          type: cc.Node
        },
        accouncement_description: {
          default: null,
          type: cc.Node
        },
        accountment_image: {
          default: null,
          type: cc.Node
        },
        accountment_image2: {
          default: null,
          type: cc.Node
        },
        Collapse_Button: {
          default: null,
          type: cc.Node
        },
        mCallBack: null,
        mData: null
      },
      onLoad: function onLoad() {
        this.Collapse_Button && this.Collapse_Button.on(cc.Node.EventType.TOUCH_END, this.onCollapseButtonClicked, this);
      },
      onDestroy: function onDestroy() {
        this.Collapse_Button && this.Collapse_Button.off(cc.Node.EventType.TOUCH_END, this.onCollapseButtonClicked, this);
        if (this.accountment_image2 && cc.isValid(this.accountment_image2)) {
          var gifComponent = this.accountment_image2.getComponent("CCGIF");
          gifComponent && "function" === typeof gifComponent.stop && gifComponent.stop();
        }
      },
      init: function init(data, callBack) {
        var _this = this;
        console.log("init", data);
        this.mData = data;
        this.mCallBack = callBack;
        var language = SharedData.getCurrentLanguage();
        if (this.announcement_date && data.startDate) {
          var dateLabel = this.announcement_date.getComponent(cc.Label);
          if (dateLabel) {
            var date = new Date(data.startDate);
            var formattedDate = this.formatDate(date);
            dateLabel.string = formattedDate;
          }
        }
        if (this.announcement_title && data.title) {
          var titleLabel = this.announcement_title.getComponent(cc.Label);
          if (titleLabel) {
            var titleText = "";
            "object" === typeof data.title && data.title[language] ? titleText = data.title[language] : "string" === typeof data.title && (titleText = data.title);
            var cleanTitle = titleText.replace(/<[^>]+>/g, "").trim();
            titleLabel.string = cleanTitle;
          }
        }
        if (this.accouncement_description && data.description) {
          var descText = "";
          "object" === typeof data.description && data.description[language] ? descText = data.description[language] : "string" === typeof data.description && (descText = data.description);
          var descRichText = this.accouncement_description.getComponent(cc.RichText);
          if (descRichText) {
            var maxWidth = this.node.width - 100;
            descRichText.maxWidth = maxWidth;
            descRichText.string = descText.trim();
          }
        } else if (this.accouncement_description) {
          var _descRichText = this.accouncement_description.getComponent(cc.RichText);
          _descRichText && (_descRichText.string = "");
        }
        if (this.accountment_image && data.image) {
          var sprite = this.accountment_image.getComponent(cc.Sprite);
          if (sprite && data.image) {
            var imageUrl = "";
            "object" === typeof data.image && data.image[language] ? imageUrl = data.image[language] : "string" === typeof data.image && (imageUrl = data.image);
            if (imageUrl) if (imageUrl.startsWith("http://") || imageUrl.startsWith("https://")) {
              var proxies = [ "https://corsproxy.io/?", "https://api.codetabs.com/v1/proxy?quest=", "https://cors.bridged.cc/" ];
              var proxiedImageUrl = proxies[1] + encodeURIComponent(imageUrl);
              console.log("Loading image via proxy:", proxiedImageUrl);
              var self = this;
              cc.assetManager.loadRemote(proxiedImageUrl, function(err, texture) {
                if (err) {
                  console.error("Failed to load image:", err);
                  self.scheduleOnce(function() {
                    self.adjustHeight();
                  }, .1);
                  return;
                }
                if (imageUrl.endsWith(".gif")) {
                  if (!self.accountment_image2 || !cc.isValid(self.accountment_image2)) {
                    console.error("accountment_image2 node is invalid");
                    self.scheduleOnce(function() {
                      self.adjustHeight();
                    }, .1);
                    return;
                  }
                  var gifComponent = self.accountment_image2.getComponent("CCGIF");
                  if (!gifComponent) {
                    console.error("CCGIF component not found on accountment_image2 node");
                    self.scheduleOnce(function() {
                      self.adjustHeight();
                    }, .1);
                    return;
                  }
                  if (!cc.isValid(gifComponent) || !cc.isValid(self.node)) {
                    console.error("GIF component or node is invalid");
                    self.scheduleOnce(function() {
                      self.adjustHeight();
                    }, .1);
                    return;
                  }
                  self.scheduleOnce(function() {
                    if (gifComponent && cc.isValid(gifComponent) && self.node && cc.isValid(self.node) && self.accountment_image2 && cc.isValid(self.accountment_image2)) {
                      gifComponent.processGifData(texture);
                      self.scheduleOnce(function() {
                        self.adjustHeight();
                      }, .2);
                    } else {
                      console.error("Component or node became invalid before processing GIF");
                      self.scheduleOnce(function() {
                        self.adjustHeight();
                      }, .1);
                    }
                  }, .1);
                } else {
                  var spriteFrame = new cc.SpriteFrame(texture);
                  var _sprite = self.accountment_image.getComponent(cc.Sprite);
                  if (_sprite) {
                    _sprite.type = cc.Sprite.Type.SIMPLE;
                    self.accountment_image.getComponent(cc.Sprite).spriteFrame = spriteFrame;
                    self.fitImageToNode(false, texture.width, texture.height);
                    self.scheduleOnce(function() {
                      self.adjustHeight();
                    }, .1);
                  }
                }
              });
            } else {
              var _self = this;
              cc.loader.loadRes(imageUrl, cc.SpriteFrame, function(err, spriteFrame) {
                if (!err && spriteFrame) {
                  sprite.spriteFrame = spriteFrame;
                  _self.scheduleOnce(function() {
                    _self.adjustHeight();
                  }, .1);
                } else {
                  console.error("Failed to load image from resources:", imageUrl, err);
                  _self.scheduleOnce(function() {
                    _self.adjustHeight();
                  }, .1);
                }
              });
            }
          }
        } else this.scheduleOnce(function() {
          _this.adjustHeight();
        }, .1);
      },
      fitImageToNode: function fitImageToNode(isGif, imgWidth, imgHeight) {
        if (isGif) {
          if (!this.accountment_image2 || !cc.isValid(this.accountment_image2)) {
            console.error("accountment_image node is invalid");
            return;
          }
        } else if (!this.accountment_image || !cc.isValid(this.accountment_image)) {
          console.error("accountment_image node is invalid");
          return;
        }
        var viewWidth = this.node.width;
        var imageNode = isGif ? this.accountment_image2 : this.accountment_image;
        var maxWidth = viewWidth - 100;
        var maxHeight = 450;
        var width = imgWidth;
        var height = imgHeight;
        if (width > maxWidth || height > maxHeight) {
          var widthRatio = maxWidth / width;
          var heightRatio = maxHeight / height;
          var ratio = Math.min(widthRatio, heightRatio);
          width *= ratio;
          height *= ratio;
        }
        imageNode.width = width;
        imageNode.height = height;
      },
      adjustHeight: function adjustHeight() {
        if (!this.node || !this.node.isValid || !cc.isValid(this.node)) return;
        var topPadding = 30;
        var bottomPadding = 30;
        var itemPadding = 10;
        var dateHeight = 0;
        if (this.announcement_date && cc.isValid(this.announcement_date)) {
          var dateLabel = this.announcement_date.getComponent(cc.Label);
          dateLabel && dateLabel.string && "" !== dateLabel.string.trim() && (dateHeight = this.announcement_date.height);
        }
        var titleHeight = 0;
        if (this.announcement_title && cc.isValid(this.announcement_title)) {
          var titleLabel = this.announcement_title.getComponent(cc.Label);
          titleLabel && titleLabel.string && "" !== titleLabel.string.trim() && (titleHeight = this.announcement_title.height);
        }
        var imageHeight = 0;
        if (this.accountment_image && cc.isValid(this.accountment_image)) {
          var imageSprite = this.accountment_image.getComponent(cc.Sprite);
          imageSprite && imageSprite.spriteFrame && (imageHeight = this.accountment_image.height);
        }
        0 == imageHeight && this.accountment_image2 && cc.isValid(this.accountment_image2) && (imageHeight = this.accountment_image2.height * this.accountment_image2.scale);
        var descriptionHeight = 0;
        if (this.accouncement_description && cc.isValid(this.accouncement_description)) {
          var descRichText = this.accouncement_description.getComponent(cc.RichText);
          var hasContent = false;
          descRichText && descRichText.string && "" !== descRichText.string.trim() && (hasContent = true);
          hasContent && (descriptionHeight = this.accouncement_description.height);
        }
        this.announcement_date.y = -1 * topPadding;
        this.announcement_title.y = -1 * (topPadding + dateHeight);
        this.accountment_image.y = -1 * (topPadding + dateHeight + titleHeight + itemPadding);
        this.accouncement_description.y = -1 * (topPadding + dateHeight + titleHeight + itemPadding + imageHeight + itemPadding + itemPadding);
        var baseHeight = topPadding + dateHeight + titleHeight + itemPadding + imageHeight + itemPadding + itemPadding + descriptionHeight + bottomPadding;
        if (this.background) {
          this.background.height = baseHeight;
          this.background.setContentSize(this.background.width, baseHeight);
        }
        var nodeTotalHeight = baseHeight + 16;
        this.node.height = nodeTotalHeight;
        this.node.setContentSize(this.node.width, nodeTotalHeight);
        var parentNode = this.node.parent;
        if (parentNode) {
          parentNode.height = nodeTotalHeight;
          parentNode.setContentSize(parentNode.width, nodeTotalHeight);
        }
        this.mCallBack && "function" === typeof this.mCallBack.onDetailHeightAdjusted && this.mCallBack.onDetailHeightAdjusted(nodeTotalHeight);
      },
      formatDate: function formatDate(date) {
        if (!date || isNaN(date.getTime())) return "";
        var year = date.getFullYear();
        var month = String(date.getMonth() + 1).padStart(2, "0");
        var day = String(date.getDate()).padStart(2, "0");
        var hours = String(date.getHours()).padStart(2, "0");
        var minutes = String(date.getMinutes()).padStart(2, "0");
        var seconds = String(date.getSeconds()).padStart(2, "0");
        return year + "-" + month + "-" + day + " " + hours + ":" + minutes + ":" + seconds;
      },
      onCollapseButtonClicked: function onCollapseButtonClicked() {
        _SharedFunction["default"].playButtonClickSound();
        this.mCallBack && "function" === typeof this.mCallBack.onCollapseAnnouncementDetail && this.mCallBack.onCollapseAnnouncementDetail();
      },
      getData: function getData() {
        return this.mData;
      }
    });
    cc._RF.pop();
  }, {
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  Announcement: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2f1c8zT11NHB45v0Yx8gu3V", "Announcement");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    var SharedData = require("SharedData");
    cc.Class({
      extends: cc.Component,
      properties: {
        announcementLabel: {
          default: null,
          type: cc.Node
        },
        announcementContentView: {
          default: null,
          type: cc.Node
        },
        announcementView: {
          default: null,
          type: cc.Node
        },
        announcementScrollView: cc.ScrollView,
        mCallBack: null
      },
      onLoad: function onLoad() {},
      onDestroy: function onDestroy() {},
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
      },
      updateView: function updateView(x, y, width, height) {
        var _this = this;
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
        var announcement = SharedData.getAnnouncement();
        var announcementText = "";
        for (var i = 0; i < announcement.length; i++) announcementText += " " + announcement[i]["title"][SharedData.getCurrentLanguage()];
        this.announcementLabel.getComponent(cc.Label).string = announcementText.replace(/<[^>]+>/g, "").replace(/\n/g, " ");
        setTimeout(function() {
          var parentWidth = _this.announcementLabel.parent.width;
          _this.announcementLabel.x = _this.announcementLabel.width > parentWidth ? 0 : parentWidth;
          var duration = _this.calculateDuration();
          var moveLeftX = _this.announcementLabel.width > parentWidth ? -_this.announcementLabel.width + parentWidth : -_this.announcementLabel.width;
          cc.tween(_this.announcementLabel).repeatForever(cc.tween().to(duration, {
            position: cc.v2(moveLeftX, _this.announcementLabel.y)
          }).call(function() {
            _this.announcementLabel.x = _this.announcementLabel.width > parentWidth ? 0 : parentWidth;
          })).start();
        }, 500);
      },
      calculateDuration: function calculateDuration() {
        var parentWidth = this.announcementLabel.parent.width;
        var textWidth = this.announcementLabel.width;
        var totalDistance = parentWidth + textWidth;
        var speed = 100;
        return totalDistance / speed;
      },
      setCallBack: function setCallBack(callback) {
        this.mCallBack = callback;
      },
      onAnnouncementClicked: function onAnnouncementClicked() {
        _SharedFunction["default"].playButtonClickSound();
        this.mCallBack && "function" === typeof this.mCallBack.onAnnouncementClicked ? this.mCallBack.onAnnouncementClicked() : console.error("Callback not set or onAnnouncementClicked method not found in callback object");
      }
    });
    cc._RF.pop();
  }, {
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  AuthServices: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0c5dbFAbnlHlp3l7wZP+QbG", "AuthServices");
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.AuthServices = void 0;
    var NetworkService_1 = require("./NetworkService");
    var AuthServices = function() {
      function AuthServices() {}
      AuthServices.login = function(os, username, password, mobileNo) {
        var _a, _b, _c, _d;
        void 0 === os && (os = "");
        void 0 === username && (username = "");
        void 0 === mobileNo && (mobileNo = "");
        return __awaiter(this, void 0, Promise, function() {
          var params, response, error_1;
          return __generator(this, function(_e) {
            switch (_e.label) {
             case 0:
              _e.trys.push([ 0, 2, , 3 ]);
              params = {
                username: username,
                password: password
              };
              return [ 4, NetworkService_1.NetworkService.post(this.LOGIN_ENDPOINT, params, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _e.sent();
              return [ 2, {
                status: response.status,
                success: null === (_a = response.data) || void 0 === _a ? void 0 : _a.success,
                message: (null === (_b = response.data) || void 0 === _b ? void 0 : _b.message) || response.message,
                token: null === (_c = response.data) || void 0 === _c ? void 0 : _c.token,
                player: null === (_d = response.data) || void 0 === _d ? void 0 : _d.player,
                data: response.data
              } ];

             case 2:
              error_1 = _e.sent();
              console.error("AuthServices.login error:", error_1);
              throw {
                status: error_1.status || 500,
                data: error_1.data || null,
                message: error_1.message || "Login failed",
                error: error_1
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      AuthServices.register = function(params) {
        var _a, _b, _c, _d;
        return __awaiter(this, void 0, Promise, function() {
          var requestBody, response, error_2;
          return __generator(this, function(_e) {
            switch (_e.label) {
             case 0:
              _e.trys.push([ 0, 2, , 3 ]);
              requestBody = {
                fullName: params.fullName,
                username: params.username,
                password: params.password,
                phone: params.phone
              };
              void 0 !== params.email && null !== params.email && "" !== params.email && (requestBody.email = params.email);
              void 0 !== params.referralCode && null !== params.referralCode && (requestBody.referralCode = params.referralCode);
              void 0 !== params.phoneOtp && null !== params.phoneOtp && "" !== params.phoneOtp && (requestBody.phoneOtp = params.phoneOtp);
              void 0 !== params.emailOtp && null !== params.emailOtp && "" !== params.emailOtp && (requestBody.emailOtp = params.emailOtp);
              console.log(requestBody);
              return [ 4, NetworkService_1.NetworkService.post(this.REGISTER_ENDPOINT, requestBody, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _e.sent();
              return [ 2, {
                status: response.status,
                success: null === (_a = response.data) || void 0 === _a ? void 0 : _a.success,
                message: (null === (_b = response.data) || void 0 === _b ? void 0 : _b.message) || response.message,
                token: null === (_c = response.data) || void 0 === _c ? void 0 : _c.token,
                player: null === (_d = response.data) || void 0 === _d ? void 0 : _d.player,
                data: response.data
              } ];

             case 2:
              error_2 = _e.sent();
              console.error("AuthServices.register error:", error_2);
              throw {
                status: error_2.status || 500,
                data: error_2.data || null,
                message: error_2.message || "Registration failed",
                error: error_2
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      AuthServices.sendOtp = function(params) {
        var _a, _b, _c;
        return __awaiter(this, void 0, Promise, function() {
          var requestBody, response, error_3;
          return __generator(this, function(_d) {
            switch (_d.label) {
             case 0:
              _d.trys.push([ 0, 2, , 3 ]);
              requestBody = {
                identifier: params.identifier,
                type: params.type,
                purpose: params.purpose
              };
              return [ 4, NetworkService_1.NetworkService.post(this.SEND_OTP_ENDPOINT, requestBody, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _d.sent();
              return [ 2, {
                status: response.status,
                success: null === (_a = response.data) || void 0 === _a ? void 0 : _a.success,
                message: (null === (_b = response.data) || void 0 === _b ? void 0 : _b.message) || response.message,
                expiresIn: null === (_c = response.data) || void 0 === _c ? void 0 : _c.expiresIn,
                data: response.data
              } ];

             case 2:
              error_3 = _d.sent();
              console.error("AuthServices.sendOtp error:", error_3);
              throw {
                status: error_3.status || 500,
                data: error_3.data || null,
                message: error_3.message || "Send OTP failed",
                error: error_3
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      AuthServices.verifyOtp = function(params) {
        var _a, _b;
        return __awaiter(this, void 0, Promise, function() {
          var requestBody, response, error_4;
          return __generator(this, function(_c) {
            switch (_c.label) {
             case 0:
              _c.trys.push([ 0, 2, , 3 ]);
              requestBody = {
                identifier: params.identifier,
                type: params.type,
                code: params.code,
                testOnly: params.testOnly
              };
              return [ 4, NetworkService_1.NetworkService.post(this.VERIFY_OTP_ENDPOINT, requestBody, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _c.sent();
              return [ 2, {
                status: response.status,
                success: null === (_a = response.data) || void 0 === _a ? void 0 : _a.success,
                message: (null === (_b = response.data) || void 0 === _b ? void 0 : _b.message) || response.message,
                data: response.data
              } ];

             case 2:
              error_4 = _c.sent();
              console.error("AuthServices.verifyOtp error:", error_4);
              throw {
                status: error_4.status || 500,
                data: error_4.data || null,
                message: error_4.message || "OTP verification failed",
                error: error_4
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      AuthServices.forgotPassword = function(params) {
        var _a, _b, _c, _d, _e, _f;
        return __awaiter(this, void 0, Promise, function() {
          var requestBody, response, error_5;
          return __generator(this, function(_g) {
            switch (_g.label) {
             case 0:
              _g.trys.push([ 0, 2, , 3 ]);
              requestBody = {
                username: params.username
              };
              return [ 4, NetworkService_1.NetworkService.post(this.FORGOT_PASSWORD_ENDPOINT, requestBody, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _g.sent();
              return [ 2, {
                success: null === (_a = response.data) || void 0 === _a ? void 0 : _a.success,
                message: (null === (_b = response.data) || void 0 === _b ? void 0 : _b.message) || response.message,
                type: null === (_c = response.data) || void 0 === _c ? void 0 : _c.type,
                method: null === (_d = response.data) || void 0 === _d ? void 0 : _d.method,
                contact: null === (_e = response.data) || void 0 === _e ? void 0 : _e.contact,
                expiresIn: null === (_f = response.data) || void 0 === _f ? void 0 : _f.expiresIn,
                data: response.data
              } ];

             case 2:
              error_5 = _g.sent();
              console.error("AuthServices.forgotPassword error:", error_5);
              throw {
                status: error_5.status || 500,
                data: error_5.data || null,
                message: error_5.message || "Failed to process forgot password request",
                error: error_5
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      AuthServices.resetPassword = function(params) {
        var _a, _b;
        return __awaiter(this, void 0, Promise, function() {
          var requestBody, response, error_6;
          return __generator(this, function(_c) {
            switch (_c.label) {
             case 0:
              _c.trys.push([ 0, 2, , 3 ]);
              requestBody = {
                username: params.username,
                otp: params.otp,
                newPassword: params.newPassword,
                type: params.type
              };
              return [ 4, NetworkService_1.NetworkService.post(this.RESET_PASSWORD_ENDPOINT, requestBody, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _c.sent();
              return [ 2, {
                status: response.status,
                success: null === (_a = response.data) || void 0 === _a ? void 0 : _a.success,
                message: (null === (_b = response.data) || void 0 === _b ? void 0 : _b.message) || response.message,
                data: response.data
              } ];

             case 2:
              error_6 = _c.sent();
              console.error("AuthServices.resetPassword error:", error_6);
              throw {
                status: error_6.status || 500,
                data: error_6.data || null,
                message: error_6.message || "Failed to reset password",
                error: error_6
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      AuthServices.LOGIN_ENDPOINT = "/api/public/v1/players/login";
      AuthServices.REGISTER_ENDPOINT = "/api/public/v1/players/register";
      AuthServices.SEND_OTP_ENDPOINT = "/api/public/v1/verification/send-otp";
      AuthServices.VERIFY_OTP_ENDPOINT = "/api/public/v1/verification/verify-otp";
      AuthServices.FORGOT_PASSWORD_ENDPOINT = "/api/public/v1/players/forgot-password";
      AuthServices.RESET_PASSWORD_ENDPOINT = "/api/public/v1/players/reset-password";
      return AuthServices;
    }();
    exports.AuthServices = AuthServices;
    exports.default = AuthServices;
    cc._RF.pop();
  }, {
    "./NetworkService": "NetworkService"
  } ],
  AvatarList: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4fcf3Q+o4pIhojY/0U+qXmf", "AvatarList");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        mAvatarList: [],
        createdAvatars: [],
        mBackground: {
          default: null,
          type: cc.Node
        },
        myScrollView: {
          default: null,
          type: cc.Node
        },
        myScrollContent: {
          default: null,
          type: cc.Node
        },
        myConfirmBtn: {
          default: null,
          type: cc.Node
        },
        myAvatarPrefab: {
          default: null,
          type: cc.Prefab
        },
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        mTitleLabel: {
          default: null,
          type: cc.Node
        },
        mConfirmLabel: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.localizeUI();
      },
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
        this.mBackground.width = width;
        this.mBackground.height = height;
      },
      updateView: function updateView(callBack) {
        this.localizeUI();
        this.mCallBack = callBack;
        this.mBackground.active = true;
        this.node.opacity = 255;
        this.selectedAvatar = _SharedData["default"].getSelectedAvatar();
        this.drawAvatar();
        var card_bg = this.mBackground.getChildByName("card_bg");
        card_bg.setScale(0);
        cc.tween(card_bg).to(1 / 3, {
          scale: 1
        }).to(1 / 12, {
          scale: .95
        }).to(1 / 12, {
          scale: 1
        }).start();
      },
      setCallBack: function setCallBack(callBack) {
        this.mCallBack = callBack;
      },
      drawAvatar: function drawAvatar() {
        var avatarCount = 10;
        var lastY = -130;
        for (var i = 1; i <= avatarCount; i++) {
          var positionX = 204 * ((i % 5 == 0 ? 5 : i % 5) - 1) - 409;
          var positionY = -130 - 216 * (Math.ceil(i / 5) - 1);
          var avatarPref = new cc.instantiate(this.myAvatarPrefab).getComponent("Avatar");
          avatarPref.init(positionX, positionY, i, this);
          lastY = positionY;
          this.myScrollContent.addChild(avatarPref.node);
          this.createdAvatars.push(avatarPref);
        }
        this.myConfirmBtn.y = lastY - 157;
        this.myScrollContent.height = -1 * (lastY - 157) + 47;
        this.myScrollView.getComponent(cc.ScrollView).scrollToTop(0);
      },
      onAvatarDidPressed: function onAvatarDidPressed(avatarNumber) {
        if (this.selectedAvatar != avatarNumber) {
          this.createdAvatars[this.selectedAvatar - 1].hideBorder();
          this.selectedAvatar = avatarNumber;
        }
      },
      onCloseButtonDidPressed: function onCloseButtonDidPressed(event, customEventData, codeTrigger) {
        var _this = this;
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var card_bg = this.mBackground.getChildByName("card_bg");
        cc.tween(card_bg).to(1 / 6, {
          scale: 1.1
        }).to(1 / 6, {
          scale: 0
        }).start();
        cc.tween(this.node).delay(1 / 6).to(1 / 6, {
          opacity: 0
        }).call(function() {
          _this.createdAvatars[_this.selectedAvatar - 1].hideBorder();
          _this.createdAvatars.forEach(function(avatar) {
            avatar && avatar.isValid && avatar.node.removeFromParent();
          });
          _this.createdAvatars = [];
          _this.mCallBack && _this.mCallBack.myCloseChangeAvatarDidPressed();
        }).start();
      },
      onConfirmButtonDidPressed: function onConfirmButtonDidPressed() {
        _SharedData["default"].setSelectedAvatar(this.selectedAvatar);
        this.onCloseButtonDidPressed();
      },
      localizeUI: function localizeUI() {
        this.mTitleLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "title");
        this.mConfirmLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "confirm");
      },
      updatePrefabSize: function updatePrefabSize() {
        var visibleSize = cc.view.getVisibleSize();
      }
    });
    cc._RF.pop();
  }, {
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  Avatar: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0b963BfVctDZ5b1Ieqs9iL5", "Avatar");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    var SharedData = require("SharedData");
    cc.Class({
      extends: cc.Component,
      properties: {
        myBorder: {
          default: null,
          type: cc.Node
        },
        myAvatarImg: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {},
      init: function init(x, y, imgNumber, callBack) {
        this.node.x = x;
        this.node.y = y;
        this.imgNumber = imgNumber;
        this.mCallBack = callBack;
        var self = this;
        cc.loader.loadRes("images/profile/Avatar" + (imgNumber % 10 == 0 ? 10 : imgNumber % 10) + ".png", cc.SpriteFrame, function(err, spriteFrame) {
          self.myAvatarImg.getComponent(cc.Sprite).spriteFrame = spriteFrame;
        });
        imgNumber == SharedData.getSelectedAvatar() && (this.myBorder.active = true);
      },
      onclick: function onclick() {
        this.myBorder.active = true;
        this.mCallBack.onAvatarDidPressed(this.imgNumber);
      },
      hideBorder: function hideBorder() {
        this.myBorder.active = false;
      }
    });
    cc._RF.pop();
  }, {
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  Banner: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "8eea9J7WABNeLjz902Gn64y", "Banner");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    var SharedData = require("SharedData");
    cc.Class({
      extends: cc.Component,
      properties: {
        announcementScrollView: {
          default: null,
          type: cc.ScrollView
        },
        announcementContent: {
          default: null,
          type: cc.Node
        },
        closeButton: {
          default: null,
          type: cc.Node
        },
        announcementItemPrefab: {
          default: null,
          type: cc.Prefab
        },
        announcementDetailPrefab: {
          default: null,
          type: cc.Prefab
        },
        background: {
          default: null,
          type: cc.Node
        },
        mCallBack: null,
        createdAnnouncementItems: [],
        savedAnnouncementItems: [],
        currentDetailNode: null,
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        mTitleLabel: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.localizeUI();
        this.createdAnnouncementItems = [];
        this.savedAnnouncementItems = [];
        this.currentDetailNode = null;
        this.setupBackgroundBlocker();
      },
      start: function start() {},
      onDestroy: function onDestroy() {
        var blockerNode = this.background || this.node;
        if (blockerNode) {
          blockerNode.off(cc.Node.EventType.TOUCH_START, this.onBackgroundTouched, this);
          blockerNode.off(cc.Node.EventType.TOUCH_END, this.onBackgroundTouched, this);
        }
      },
      init: function init(announcementsArray) {
        if (!announcementsArray || !Array.isArray(announcementsArray) || 0 === announcementsArray.length) {
          console.error("Announcement data array is missing or empty");
          return;
        }
        this.announcementsData = announcementsArray;
        if (!this.announcementScrollView || !this.announcementContent) {
          console.error("Announcement ScrollView or Content is not set");
          return;
        }
        this.clearAnnouncementItems();
        var activeAnnouncements = this.filterActiveAnnouncements(announcementsArray);
        if (0 === activeAnnouncements.length) {
          console.log("No active announcements to display");
          return;
        }
        activeAnnouncements.sort(function(a, b) {
          if (void 0 !== a.sequence && void 0 !== b.sequence) return a.sequence - b.sequence;
          if (a.startDate && b.startDate) return new Date(a.startDate) - new Date(b.startDate);
          return 0;
        });
        this.createAnnouncementItems(activeAnnouncements);
      },
      filterActiveAnnouncements: function filterActiveAnnouncements(announcements) {
        var activeAnnouncements = [];
        var currentDate = new Date();
        var currentLanguage = SharedData.getCurrentLanguage();
        console.log("filterActiveAnnouncements", announcements);
        for (var i = 0; i < announcements.length; i++) {
          var announcement = announcements[i];
          if ("active" !== announcement.status && "Active" !== announcement.status) continue;
          if (announcement.startDate) {
            var startDate = new Date(announcement.startDate);
            if (currentDate < startDate) continue;
          }
          if (announcement.endDate) {
            var endDate = new Date(announcement.endDate);
            if (currentDate > endDate) continue;
          }
          if (!announcement.title) continue;
          if ("object" === typeof announcement.title && (!announcement.title[currentLanguage] || "" === announcement.title[currentLanguage].trim())) continue;
          activeAnnouncements.push(announcement);
        }
        return activeAnnouncements;
      },
      createAnnouncementItems: function createAnnouncementItems(announcementsArray) {
        if (!this.announcementItemPrefab) {
          console.error("AnnouncementItem prefab is not set");
          return;
        }
        var scrollViewWidth = this.announcementScrollView.node.width;
        0 === scrollViewWidth && (scrollViewWidth = this.announcementContent.width || 1076);
        var itemSpacing = 0;
        var currentY = 0;
        var itemHeight = 125;
        for (var i = 0; i < announcementsArray.length; i++) {
          var announcementData = announcementsArray[i];
          var itemNode = cc.instantiate(this.announcementItemPrefab);
          var itemComponent = itemNode.getComponent("AnnounceItem");
          if (!itemComponent) {
            console.error("AnnounceItem component not found on prefab");
            itemNode.destroy();
            continue;
          }
          itemNode.width = scrollViewWidth;
          itemNode.setPosition(0, -currentY);
          currentY += itemHeight + itemSpacing;
          itemComponent.init(announcementData, this);
          this.announcementContent.addChild(itemNode);
          this.createdAnnouncementItems.push(itemNode);
        }
        this.announcementContent.width = scrollViewWidth - 100;
        var totalHeight = currentY - itemSpacing;
        this.announcementContent.height = totalHeight > 0 ? totalHeight : itemHeight;
        this.announcementScrollView.scrollToTop();
      },
      clearAnnouncementItems: function clearAnnouncementItems() {
        for (var i = 0; i < this.createdAnnouncementItems.length; i++) this.createdAnnouncementItems[i] && cc.isValid(this.createdAnnouncementItems[i]) && this.createdAnnouncementItems[i].destroy();
        this.createdAnnouncementItems = [];
        this.cleanupDetailNode();
      },
      cleanupDetailNode: function cleanupDetailNode() {
        if (this.currentDetailNode && cc.isValid(this.currentDetailNode)) {
          this.currentDetailNode.destroy();
          this.currentDetailNode = null;
        }
      },
      restoreListView: function restoreListView() {
        this.createdAnnouncementItems = [];
        for (var i = 0; i < this.savedAnnouncementItems.length; i++) if (this.savedAnnouncementItems[i] && cc.isValid(this.savedAnnouncementItems[i])) {
          this.savedAnnouncementItems[i].parent !== this.announcementContent && this.announcementContent.addChild(this.savedAnnouncementItems[i]);
          this.createdAnnouncementItems.push(this.savedAnnouncementItems[i]);
        }
        this.savedAnnouncementItems = [];
        this.updateContentHeight();
        this.announcementScrollView.scrollToTop();
      },
      removeAnnouncementItemsFromContent: function removeAnnouncementItemsFromContent() {
        for (var i = 0; i < this.createdAnnouncementItems.length; i++) this.createdAnnouncementItems[i] && cc.isValid(this.createdAnnouncementItems[i]) && this.createdAnnouncementItems[i].removeFromParent(false);
      },
      updateContentHeight: function updateContentHeight() {
        var scrollViewWidth = this.announcementScrollView.node.width;
        0 === scrollViewWidth && (scrollViewWidth = this.announcementContent.width || 1076);
        var itemSpacing = 0;
        var currentY = 0;
        var itemHeight = 125;
        for (var i = 0; i < this.createdAnnouncementItems.length; i++) {
          var itemNode = this.createdAnnouncementItems[i];
          if (itemNode && cc.isValid(itemNode)) {
            itemNode.width = scrollViewWidth;
            itemNode.setPosition(0, -currentY);
            currentY += itemHeight + itemSpacing;
          }
        }
        this.announcementContent.width = scrollViewWidth - 100;
        var totalHeight = currentY - itemSpacing;
        this.announcementContent.height = totalHeight > 0 ? totalHeight : itemHeight;
      },
      onCloseButtonClicked: function onCloseButtonClicked() {
        _SharedFunction["default"].playButtonClickSound();
        this.hide();
      },
      setupBackgroundBlocker: function setupBackgroundBlocker() {
        var blockerNode = this.background || this.node;
        if (blockerNode) {
          var blockInput = blockerNode.getComponent(cc.BlockInputEvents);
          blockInput || (blockInput = blockerNode.addComponent(cc.BlockInputEvents));
          blockerNode.on(cc.Node.EventType.TOUCH_START, this.onBackgroundTouched, this);
          blockerNode.on(cc.Node.EventType.TOUCH_END, this.onBackgroundTouched, this);
        }
      },
      onBackgroundTouched: function onBackgroundTouched(event) {
        event.stopPropagation();
      },
      show: function show() {
        this.localizeUI();
        this.node.active = true;
        this.enableBackgroundBlocker(true);
        this.cleanupDetailNode();
        if (this.savedAnnouncementItems && this.savedAnnouncementItems.length > 0) {
          for (var i = 0; i < this.savedAnnouncementItems.length; i++) this.savedAnnouncementItems[i] && cc.isValid(this.savedAnnouncementItems[i]) && this.savedAnnouncementItems[i].destroy();
          this.savedAnnouncementItems = [];
        }
        var announcements = SharedData.getAnnouncement();
        announcements && announcements.length > 0 && this.init(announcements);
      },
      hide: function hide() {
        this.node.active = false;
        this.enableBackgroundBlocker(false);
        this.cleanupDetailNode();
      },
      enableBackgroundBlocker: function enableBackgroundBlocker(enable) {
        var blockerNode = this.background || this.node;
        if (blockerNode) {
          var blockInput = blockerNode.getComponent(cc.BlockInputEvents);
          blockInput && (blockInput.enabled = enable);
        }
      },
      setCallBack: function setCallBack(callback) {
        this.mCallBack = callback;
      },
      onAnnouncementItemClicked: function onAnnouncementItemClicked(announcementData) {
        if (!this.announcementDetailPrefab) {
          console.error("AnnouncementDetail prefab is not set");
          return;
        }
        this.savedAnnouncementItems = [];
        for (var i = 0; i < this.createdAnnouncementItems.length; i++) this.createdAnnouncementItems[i] && cc.isValid(this.createdAnnouncementItems[i]) && this.savedAnnouncementItems.push(this.createdAnnouncementItems[i]);
        this.removeAnnouncementItemsFromContent();
        this.announcementScrollView.scrollToTop();
        var detailNode = cc.instantiate(this.announcementDetailPrefab);
        var detailComponent = detailNode.getComponent("AnnouncementDetail");
        if (!detailComponent) {
          console.error("AnnouncementDetail component not found on prefab");
          detailNode.destroy();
          return;
        }
        var scrollViewWidth = this.announcementScrollView.node.width;
        0 === scrollViewWidth && (scrollViewWidth = this.announcementContent.width || 1076);
        detailNode.width = scrollViewWidth;
        detailNode.setPosition(0, 0);
        this.announcementContent.addChild(detailNode);
        this.currentDetailNode = detailNode;
        detailComponent.init(announcementData, this);
        this.announcementContent.width = scrollViewWidth;
        this.announcementContent.height = detailNode.height || 600;
      },
      onDetailHeightAdjusted: function onDetailHeightAdjusted(height) {
        if (this.announcementContent && height) {
          this.announcementContent.height = height;
          this.announcementContent.setContentSize(this.announcementContent.width, height);
          this.announcementScrollView && this.announcementScrollView.scrollToTop();
        }
      },
      onCollapseAnnouncementDetail: function onCollapseAnnouncementDetail() {
        this.cleanupDetailNode();
        this.restoreListView();
      },
      localizeUI: function localizeUI() {
        this.mTitleLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "title");
      }
    });
    cc._RF.pop();
  }, {
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  CCGIF: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2e2a9uamx1IEpYrgvW7Sbiv", "CCGIF");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent;
    var CCGIF = function(_super) {
      __extends(CCGIF, _super);
      function CCGIF() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.delays = [];
        _this.sp = null;
        _this.frames = [];
        _this.asset = null;
        _this.local = "";
        _this.remote = "";
        _this._gifData = null;
        _this.scaleFactor = 1;
        _this.frameIdx = 0;
        return _this;
      }
      Object.defineProperty(CCGIF.prototype, "gifData", {
        get: function() {
          return this._gifData;
        },
        set: function(value) {
          this._gifData = value;
          value && this.processGifData(value);
        },
        enumerable: false,
        configurable: true
      });
      CCGIF.prototype.start = function() {
        var _this = this;
        console.log("start");
        if (!this.node || !cc.isValid(this.node)) {
          console.error("CCGIF: Node is invalid in start()");
          return;
        }
        this.sp = this.node.getComponent(cc.Sprite);
        if (!this.sp) {
          console.error("CCGIF: Sprite component not found on node");
          return;
        }
        this.node.active = false;
        if (this.asset) {
          var nativeAsset = this.asset._nativeAsset;
          nativeAsset && this.do(nativeAsset);
        } else this.local ? cc.resources.load(this.local, function(err, data) {
          console.log("local", err, data);
          if (!err && data) {
            var nativeAsset = data._nativeAsset;
            nativeAsset && _this.do(nativeAsset);
          }
        }) : this.remote && cc.assetManager.loadRemote(this.remote, function(err, data) {
          console.log("remote", err, data);
          if (!err && data) {
            var nativeAsset = data._nativeAsset;
            nativeAsset && _this.do(nativeAsset);
          }
        });
      };
      CCGIF.prototype.do = function(data) {
        var _this = this;
        if (!this.sp || !cc.isValid(this.sp)) {
          this.node && cc.isValid(this.node) && (this.sp = this.node.getComponent(cc.Sprite));
          if (!this.sp || !cc.isValid(this.sp)) {
            console.error("CCGIF: Sprite component not available, cannot load GIF");
            return;
          }
        }
        this.delays = data.delays.map(function(v) {
          return v / 100;
        });
        this.frames = data.spriteFrames;
        this.calculateScaleFactor(data);
        this.applyScale();
        this.play(true);
        this.scheduleOnce(function() {
          _this.calculateScaleFactor(data);
          _this.applyScale();
          _this.play(true);
        }, 0);
      };
      CCGIF.prototype.calculateScaleFactor = function(data) {
        var frame = data.spriteFrames[0];
        var originalWidth = frame.getOriginalSize().width;
        var originalHeight = frame.getOriginalSize().height;
        if (0 === originalWidth || 0 === originalHeight) {
          this.scaleFactor = 1;
          return;
        }
        var MAX_WIDTH = this.node.parent ? this.node.parent.width : cc.winSize.width;
        var MAX_HEIGHT = this.node.parent ? this.node.parent.height : cc.winSize.height;
        this.scaleFactor = originalWidth > MAX_WIDTH || originalHeight > MAX_HEIGHT ? Math.min(MAX_WIDTH / originalWidth, MAX_HEIGHT / originalHeight) : 1;
      };
      CCGIF.prototype.applyScale = function() {
        if (!this.sp || !cc.isValid(this.sp) || !this.node || !cc.isValid(this.node) || 0 === this.frames.length) return;
        var frame = this.frames[0];
        var originalWidth = frame.getOriginalSize().width;
        var originalHeight = frame.getOriginalSize().height;
        this.sp.sizeMode = cc.Sprite.SizeMode.CUSTOM;
        this.sp.trim = true;
        this.node.width = originalWidth * this.scaleFactor;
        this.node.height = originalHeight * this.scaleFactor;
        this.node.scaleX = 1;
        this.node.scaleY = 1;
        var widget = this.getComponent(cc.Widget);
        widget && widget.updateAlignment();
      };
      CCGIF.prototype.processGifData = function(data) {
        console.log("processGifData called:", data);
        if (!this.node || !cc.isValid(this.node)) {
          console.error("CCGIF: Node is invalid, cannot process GIF data");
          return;
        }
        if (!this.sp || !cc.isValid(this.sp)) {
          this.sp = this.node.getComponent(cc.Sprite);
          if (!this.sp) {
            console.error("CCGIF: Sprite component not found, cannot process GIF data");
            return;
          }
        }
        this.stop();
        this.frames = [];
        this.delays = [];
        this.frameIdx = 0;
        var nativeAsset = data._nativeAsset;
        if (nativeAsset) this.do(nativeAsset); else if (data.spriteFrames && data.delays) {
          var gifData = {
            spriteFrames: data.spriteFrames,
            delays: data.delays,
            length: data.length || data.spriteFrames.length
          };
          this.do(gifData);
        } else if (data.frames && data.delays) {
          var gifData = {
            spriteFrames: data.frames,
            delays: data.delays,
            length: data.length || data.frames.length
          };
          this.do(gifData);
        } else console.error("Unknown GIF data format:", data);
      };
      CCGIF.prototype.loadFromUrl = function(url) {
        var _this = this;
        console.log("Loading GIF from URL:", url);
        this.stop();
        this.frames = [];
        this.delays = [];
        this.frameIdx = 0;
        cc.assetManager.loadRemote(url, function(err, data) {
          if (err) {
            console.error("Failed to load GIF:", err);
            return;
          }
          console.log("GIF loaded successfully:", data);
          _this.processGifData(data);
        });
      };
      CCGIF.prototype.play = function(loop, playNext) {
        var _this = this;
        void 0 === loop && (loop = false);
        void 0 === playNext && (playNext = false);
        if (!this.node || !cc.isValid(this.node)) {
          console.warn("Node is invalid, stopping GIF playback");
          return;
        }
        if (!this.sp || !cc.isValid(this.sp)) {
          this.sp = this.node.getComponent(cc.Sprite);
          if (!this.sp || !cc.isValid(this.sp)) {
            console.warn("Sprite component is invalid, stopping GIF playback");
            return;
          }
        }
        if (0 === this.frames.length) {
          console.warn("No frames to play. Load GIF first.");
          return;
        }
        playNext || this.stop();
        if (this.frames.length) {
          if (this.frameIdx >= this.frames.length) {
            this.frameIdx = 0;
            if (!loop) {
              this.node && cc.isValid(this.node) && (this.node.active = false);
              return;
            }
          }
          if (!this.node || !cc.isValid(this.node) || !this.sp || !cc.isValid(this.sp)) {
            console.warn("Node or sprite became invalid during playback, stopping");
            return;
          }
          this.node.active = true;
          this.sp.spriteFrame = this.frames[this.frameIdx];
          this.scheduleOnce(function() {
            _this.play(loop, true);
          }, this.delays[this.frameIdx] || .1);
          this.frameIdx++;
        }
      };
      CCGIF.prototype.stop = function() {
        this.frameIdx = 0;
        this.unscheduleAllCallbacks();
        this.node && cc.isValid(this.node) && (this.node.active = false);
      };
      CCGIF.prototype.isPlaying = function() {
        return this.frameIdx > 0;
      };
      CCGIF.prototype.pause = function() {
        this.unscheduleAllCallbacks();
      };
      CCGIF.prototype.resume = function() {
        if (!this.node || !cc.isValid(this.node) || !this.sp || !cc.isValid(this.sp)) {
          console.warn("Cannot resume: node or sprite is invalid");
          return;
        }
        this.frames.length > 0 && this.frameIdx < this.frames.length && this.play(true, true);
      };
      CCGIF.prototype.onDisable = function() {
        this.stop();
      };
      CCGIF.prototype.onDestroy = function() {
        this.stop();
      };
      CCGIF.prototype.getFrameCount = function() {
        return this.frames.length;
      };
      __decorate([ property(cc.Asset) ], CCGIF.prototype, "asset", void 0);
      __decorate([ property ], CCGIF.prototype, "local", void 0);
      __decorate([ property ], CCGIF.prototype, "remote", void 0);
      __decorate([ property ], CCGIF.prototype, "gifData", null);
      CCGIF = __decorate([ ccclass, requireComponent(cc.Sprite) ], CCGIF);
      return CCGIF;
    }(cc.Component);
    exports.default = CCGIF;
    cc._RF.pop();
  }, {} ],
  CalendarManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d0776k7wvBJTrRS0YyA+BjM", "CalendarManager");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        titleLabel: cc.Label,
        currentMonthLabel: cc.Label,
        prevButton: cc.Button,
        nextButton: cc.Button,
        daysGrid: cc.Node,
        selectedDateLabel: cc.Label,
        confirmButton: cc.Button,
        cancelButton: cc.Button,
        dayCellPrefab: cc.Prefab,
        weekDays: {
          default: [],
          type: cc.Label
        },
        normalDayColor: cc.Color.WHITE,
        weekendColor: cc.Color.RED,
        todayColor: cc.Color.GREEN,
        selectedColor: cc.Color.BLUE,
        otherMonthColor: cc.Color.GRAY
      },
      onLoad: function onLoad() {
        this.currentDate = new Date();
        this.selectedDate = null;
        this.today = new Date();
        this.initWeekDays();
        this.updateCalendar();
        this.setupEventListeners();
      },
      initWeekDays: function initWeekDays() {
        var weekDayNames = [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ];
        for (var i = 0; i < this.weekDays.length; i++) this.weekDays[i].string = weekDayNames[i];
      },
      setupEventListeners: function setupEventListeners() {
        this.prevButton.node.on("click", this.onPrevMonth, this);
        this.nextButton.node.on("click", this.onNextMonth, this);
        this.confirmButton.node.on("click", this.onConfirm, this);
        this.cancelButton.node.on("click", this.onCancel, this);
      },
      updateCalendar: function updateCalendar() {
        var _this = this;
        this.daysGrid.removeAllChildren();
        this.updateMonthLabel();
        var year = this.currentDate.getFullYear();
        var month = this.currentDate.getMonth();
        var firstDay = new Date(year, month, 1);
        var lastDay = new Date(year, month + 1, 0);
        var totalDays = lastDay.getDate();
        var firstDayOfWeek = firstDay.getDay();
        var dayCount = 1;
        var _loop = function _loop(i) {
          var dayCell = cc.instantiate(_this.dayCellPrefab);
          var dayLabel = dayCell.getComponentInChildren(cc.Label);
          var dayButton = dayCell.getComponent(cc.Button);
          if (i >= firstDayOfWeek && dayCount <= totalDays) {
            dayLabel.string = dayCount.toString();
            var dayDate = new Date(year, month, dayCount);
            _this.styleDayCell(dayCell, dayDate, dayCount);
            dayButton.node.on("click", function() {
              _this.onDaySelected(dayDate, dayCell);
            });
            dayCount++;
          } else if (i < firstDayOfWeek) {
            var prevMonthLastDay = new Date(year, month, 0).getDate();
            var dayNum = prevMonthLastDay - firstDayOfWeek + i + 1;
            dayLabel.string = dayNum.toString();
            dayLabel.node.color = _this.otherMonthColor;
            dayButton.interactable = false;
          } else {
            var _dayNum = i - firstDayOfWeek - totalDays + 1;
            dayLabel.string = _dayNum.toString();
            dayLabel.node.color = _this.otherMonthColor;
            dayButton.interactable = false;
          }
          _this.daysGrid.addChild(dayCell);
        };
        for (var i = 0; i < 42; i++) _loop(i);
      },
      styleDayCell: function styleDayCell(dayCell, date, dayNumber) {
        var dayLabel = dayCell.getComponentInChildren(cc.Label);
        var dayButton = dayCell.getComponent(cc.Button);
        dayLabel.node.color = this.normalDayColor;
        dayButton.node.color = cc.Color.WHITE;
        var dayOfWeek = date.getDay();
        0 !== dayOfWeek && 6 !== dayOfWeek || (dayLabel.node.color = this.weekendColor);
        this.isSameDay(date, this.today) && (dayButton.node.color = this.todayColor);
        this.selectedDate && this.isSameDay(date, this.selectedDate) && (dayButton.node.color = this.selectedColor);
      },
      isSameDay: function isSameDay(date1, date2) {
        return date1.getFullYear() === date2.getFullYear() && date1.getMonth() === date2.getMonth() && date1.getDate() === date2.getDate();
      },
      updateMonthLabel: function updateMonthLabel() {
        var monthNames = [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ];
        var year = this.currentDate.getFullYear();
        var month = monthNames[this.currentDate.getMonth()];
        this.currentMonthLabel.string = month + " " + year;
      },
      onPrevMonth: function onPrevMonth() {
        this.currentDate.setMonth(this.currentDate.getMonth() - 1);
        this.updateCalendar();
      },
      onNextMonth: function onNextMonth() {
        this.currentDate.setMonth(this.currentDate.getMonth() + 1);
        this.updateCalendar();
      },
      onDaySelected: function onDaySelected(date, cell) {
        this.selectedDate = date;
        this.updateCalendar();
        var monthNames = [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ];
        var selectedStr = date.getFullYear() + "-" + (date.getMonth() + 1) + "-" + date.getDate();
        this.selectedDateLabel.string = "Selected: " + selectedStr;
      },
      onConfirm: function onConfirm() {
        if (this.selectedDate) {
          var event = new cc.Event.EventCustom("date-selected", true);
          event.detail = {
            date: this.selectedDate,
            year: this.selectedDate.getFullYear(),
            month: this.selectedDate.getMonth() + 1,
            day: this.selectedDate.getDate()
          };
          this.node.dispatchEvent(event);
          this.node.active = false;
        } else cc.log("Please select a date first");
      },
      onCancel: function onCancel() {
        var event = new cc.Event.EventCustom("date-cancel", true);
        this.node.dispatchEvent(event);
        this.node.active = false;
      },
      show: function show(initialDate) {
        void 0 === initialDate && (initialDate = null);
        this.node.active = true;
        if (initialDate) {
          this.currentDate = new Date(initialDate);
          this.selectedDate = new Date(initialDate);
        } else {
          this.currentDate = new Date();
          this.selectedDate = null;
        }
        this.updateCalendar();
        this.selectedDate ? this.onDaySelected(this.selectedDate, null) : this.selectedDateLabel.string = "Selected: ";
      },
      hide: function hide() {
        this.node.active = false;
      }
    });
    cc._RF.pop();
  }, {} ],
  CustomerServiceItem: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f966b94OcFMFqt8R3lzCEQe", "CustomerServiceItem");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    var SharedData = require("SharedData");
    cc.Class({
      extends: cc.Component,
      properties: {
        logoNode: {
          default: null,
          type: cc.Node
        },
        titleLabel: {
          default: null,
          type: cc.Node
        },
        background: {
          default: null,
          type: cc.Node
        },
        mCallBack: null,
        mData: null
      },
      onLoad: function onLoad() {
        this.background ? this.background.on(cc.Node.EventType.TOUCH_END, this.onItemClicked, this) : this.node.on(cc.Node.EventType.TOUCH_END, this.onItemClicked, this);
      },
      onDestroy: function onDestroy() {
        this.background ? this.background.off(cc.Node.EventType.TOUCH_END, this.onItemClicked, this) : this.node.off(cc.Node.EventType.TOUCH_END, this.onItemClicked, this);
      },
      init: function init(data, callBack) {
        this.mData = data;
        this.mCallBack = callBack;
        if (this.titleLabel && data.title) {
          var titleLabelComponent = this.titleLabel.getComponent(cc.Label);
          titleLabelComponent && (titleLabelComponent.string = data.title);
        }
        this.logoNode && data.logo && this.loadLogoImage(data.logo);
      },
      loadLogoImage: function loadLogoImage(imageUrl) {
        var self = this;
        if (imageUrl.startsWith("http://") || imageUrl.startsWith("https://")) {
          var proxies = [ "https://corsproxy.io/?", "https://api.codetabs.com/v1/proxy?quest=", "https://cors.bridged.cc/" ];
          var proxiedImageUrl = proxies[1] + encodeURIComponent(imageUrl);
          cc.assetManager.loadRemote(proxiedImageUrl, function(err, texture) {
            if (err) {
              console.error("Failed to load image:", err);
              return;
            }
            if (!self.logoNode || !cc.isValid(self.logoNode)) {
              console.warn("logoNode is no longer valid, skipping image load");
              return;
            }
            var sprite = self.logoNode.getComponent(cc.Sprite);
            if (sprite) {
              sprite.type = cc.Sprite.Type.SIMPLE;
              sprite.spriteFrame = new cc.SpriteFrame(texture);
              self.fitImageToNode(texture.width, texture.height);
            }
          });
        }
      },
      onItemClicked: function onItemClicked() {
        _SharedFunction["default"].playButtonClickSound();
        if (!this.mData) return;
        this.mData.url && (cc.sys.isBrowser ? this.mData.openNewTab ? window.open(this.mData.url, "_blank") : window.location.href = this.mData.url : cc.sys.openURL(this.mData.url));
      },
      fitImageToNode: function fitImageToNode(imgWidth, imgHeight) {
        if (!this.logoNode || !cc.isValid(this.logoNode)) {
          console.error("logoNode is null or invalid");
          return;
        }
        var imageNode = this.logoNode;
        if (!imageNode || !cc.isValid(imageNode)) {
          console.error("logoNode node is invalid");
          return;
        }
        var maxWidth = 96;
        var maxHeight = 96;
        var width = imgWidth;
        var height = imgHeight;
        if (width > maxWidth || height > maxHeight) {
          var widthRatio = maxWidth / width;
          var heightRatio = maxHeight / height;
          var ratio = Math.min(widthRatio, heightRatio);
          width *= ratio;
          height *= ratio;
        }
        imageNode.width = width;
        imageNode.height = height;
      },
      getData: function getData() {
        return this.mData;
      }
    });
    cc._RF.pop();
  }, {
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  CustomerService: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "49919bo7ZhE7601N9I4ovkv", "CustomerService");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    var _UserService = _interopRequireDefault(require("../Services/UserService"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        mCurrentFocusTab: "LiveChat",
        myLiveChatTabBtn: {
          default: null,
          type: cc.Node
        },
        myFAQTabBtn: {
          default: null,
          type: cc.Node
        },
        myPlayerNameLabel: {
          default: null,
          type: cc.Node
        },
        myBalanceBG: {
          default: null,
          type: cc.Node
        },
        myLiveChatContainer: {
          default: null,
          type: cc.Node
        },
        myFAQScrollView: {
          default: null,
          type: cc.Node
        },
        mFocusTabImg: {
          default: null,
          type: cc.SpriteFrame
        },
        mNormalTabImg: {
          default: null,
          type: cc.SpriteFrame
        },
        myHeaderProfileImg: {
          default: null,
          type: cc.Sprite
        },
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        mCustomerServiceLabel: {
          default: null,
          type: cc.Node
        },
        mLiveChatTabLabel: {
          default: null,
          type: cc.Node
        },
        mFAQTabLabel: {
          default: null,
          type: cc.Node
        },
        mAboutUsLabel: {
          default: null,
          type: cc.Node
        },
        customerServiceItemPrefab: {
          default: null,
          type: cc.Prefab
        },
        myLiveChatContent: {
          default: null,
          type: cc.Node
        },
        createdCustomerServiceItems: []
      },
      onLoad: function onLoad() {
        this.localizeUI();
        this.createdCustomerServiceItems = [];
      },
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
      },
      updateView: function updateView(callBack) {
        var self = this;
        this.localizeUI();
        this.mCallBack = callBack;
        this.mCurrentFocusTab = "LiveChat";
        if (_SharedFunction["default"].isLoggedIn()) {
          this.myPlayerNameLabel.active = true;
          this.myBalanceBG.active = true;
          this.myHeaderProfileImg.node.active = true;
          var userObj = _SharedData["default"].getUserObject();
          this.myPlayerNameLabel.getComponent(cc.Label).string = userObj.fullName;
          this.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(userObj.balance, 2);
          _SharedData["default"].getSelectedAvatar() == localStorage.getItem("selected_avatar") && cc.loader.loadRes("images/profile/Avatar" + _SharedData["default"].getSelectedAvatar() + ".png", cc.SpriteFrame, function(err, spriteFrame) {
            self.myHeaderProfileImg.getComponent(cc.Sprite).spriteFrame = spriteFrame;
          });
        }
        this.node.active = true;
        this.onCustomerServiceTabDidPressed("", "LiveChat", true);
        this.myFAQScrollView.active = false;
        this.myLiveChatContainer.active = true;
        this.loadCustomerServiceItems();
        var widget = this.node.getComponent(cc.Widget);
        widget.left = this.node.width;
        widget.right = -1 * this.node.width;
        cc.tween(widget).to(1 / 6, {
          left: 0,
          right: 0
        }).start();
      },
      setCallBack: function setCallBack(callBack) {
        this.mCallBack = callBack;
      },
      myBackButtonDidPressed: function myBackButtonDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var widget = this.node.getComponent(cc.Widget);
        cc.tween(widget).to(1 / 6, {
          left: this.node.width,
          right: -1 * this.node.width
        }).start();
        this.mCallBack && this.mCallBack.onCustomerServiceBackButtonDidPressed();
      },
      onCustomerServiceTabDidPressed: function onCustomerServiceTabDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        this.myLiveChatTabBtn.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
        this.myFAQTabBtn.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
        this.myLiveChatTabBtn.getChildByName("lblLiveChat").getComponent(cc.LabelOutline).color = new cc.color("#014D92");
        this.myLiveChatTabBtn.getChildByName("lblLiveChat").getComponent(cc.LabelShadow).color = new cc.color("#01277E");
        this.myFAQTabBtn.getChildByName("lblFAQ").getComponent(cc.LabelOutline).color = new cc.color("#014D92");
        this.myFAQTabBtn.getChildByName("lblFAQ").getComponent(cc.LabelShadow).color = new cc.color("#01277E");
        this.myLiveChatContainer.active = false;
        this.myFAQScrollView.active = false;
        if ("LiveChat" == customEventData) {
          this.myLiveChatTabBtn.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
          this.myLiveChatTabBtn.getChildByName("lblLiveChat").getComponent(cc.LabelOutline).color = new cc.color("#7F0794");
          this.myLiveChatTabBtn.getChildByName("lblLiveChat").getComponent(cc.LabelShadow).color = new cc.color("#6B017E");
          this.myLiveChatContainer.active = true;
          "LiveChat" !== this.mCurrentFocusTab && this.loadCustomerServiceItems();
        } else if ("FAQ" == customEventData) {
          this.myFAQTabBtn.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
          this.myFAQTabBtn.getChildByName("lblFAQ").getComponent(cc.LabelOutline).color = new cc.color("#7F0794");
          this.myFAQTabBtn.getChildByName("lblFAQ").getComponent(cc.LabelShadow).color = new cc.color("#6B017E");
          this.myFAQScrollView.active = true;
        }
        this.mCurrentFocusTab = customEventData;
      },
      callGetBalanceApi: function callGetBalanceApi() {
        var _this = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
          var response, userObj;
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
             case 0:
              _SharedFunction["default"].showLoadingView("Loading", _this);
              _context.prev = 1;
              _context.next = 4;
              return _UserService["default"].getBalance(localStorage.getItem("token"));

             case 4:
              response = _context.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context.next = 8;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this);
              return _context.abrupt("return");

             case 8:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context.next = 11;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this);
              return _context.abrupt("return");

             case 11:
              if (200 == response.status) {
                console.log(response);
                userObj = _SharedData["default"].getUserObject();
                userObj.balance = response.data.balance;
                _SharedData["default"].setUserObject(userObj);
                _this.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(userObj.balance, 2);
                _this.mCallBack.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(userObj.balance, 2);
                _SharedFunction["default"].hideLoadingView(_this);
              }
              _context.next = 22;
              break;

             case 14:
              _context.prev = 14;
              _context.t0 = _context["catch"](1);
              if (!_SharedFunction["default"].handleSessionExpiration(_context.t0, _this)) {
                _context.next = 18;
                break;
              }
              return _context.abrupt("return");

             case 18:
              if (!_SharedFunction["default"].handleServerError(_context.t0, _this)) {
                _context.next = 21;
                break;
              }
              _SharedFunction["default"].hideLoadingView(_this);
              return _context.abrupt("return");

             case 21:
              _SharedFunction["default"].hideLoadingView(_this);

             case 22:
             case "end":
              return _context.stop();
            }
          }, _callee, null, [ [ 1, 14 ] ]);
        }))();
      },
      localizeUI: function localizeUI() {
        this.mCustomerServiceLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "customerService");
        this.mLiveChatTabLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "liveChat");
        this.mFAQTabLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "faq");
        this.mAboutUsLabel.getComponent(cc.RichText).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "aboutUs");
      },
      updatePrefabSize: function updatePrefabSize() {
        var visibleSize = cc.view.getVisibleSize();
      },
      loadCustomerServiceItems: function loadCustomerServiceItems() {
        try {
          var dashResponse = JSON.parse(localStorage.getItem("from_index"));
          if (!dashResponse || !dashResponse.settings || !dashResponse.settings.contactUs) {
            console.log("No contactUs data found in dashboard settings");
            return;
          }
          var contactUsArray = dashResponse.settings.contactUs;
          var activeContacts = this.filterActiveContacts(contactUsArray);
          if (0 === activeContacts.length) {
            console.log("No active contacts to display");
            return;
          }
          activeContacts.sort(function(a, b) {
            if (void 0 !== a.sequence && void 0 !== b.sequence) return a.sequence - b.sequence;
            return 0;
          });
          this.createCustomerServiceItems(activeContacts);
        } catch (error) {
          console.error("Error loading customer service items:", error);
        }
      },
      filterActiveContacts: function filterActiveContacts(contacts) {
        var activeContacts = [];
        for (var i = 0; i < contacts.length; i++) {
          var contact = contacts[i];
          if ("active" !== contact.status && "Active" !== contact.status) continue;
          if (!contact.title || "" === contact.title.trim()) continue;
          activeContacts.push(contact);
        }
        return activeContacts;
      },
      createCustomerServiceItems: function createCustomerServiceItems(contactsArray) {
        if (!this.customerServiceItemPrefab) {
          console.error("CustomerServiceItem prefab is not set");
          return;
        }
        if (!this.myLiveChatContent) {
          console.error("LiveChat content node is not set");
          return;
        }
        this.clearCustomerServiceItems();
        for (var i = 0; i < contactsArray.length; i++) {
          var contactData = contactsArray[i];
          var itemNode = cc.instantiate(this.customerServiceItemPrefab);
          var itemComponent = itemNode.getComponent("CustomerServiceItem");
          if (!itemComponent) {
            console.error("CustomerServiceItem component not found on prefab");
            itemNode.destroy();
            continue;
          }
          itemComponent.init(contactData, this);
          this.myLiveChatContent.addChild(itemNode);
          this.createdCustomerServiceItems.push(itemNode);
        }
      },
      clearCustomerServiceItems: function clearCustomerServiceItems() {
        this.myLiveChatContent && this.myLiveChatContent.removeAllChildren(true);
        this.createdCustomerServiceItems = [];
      },
      onCustomerServiceItemClicked: function onCustomerServiceItemClicked(contactData) {
        console.log("Customer service item clicked:", contactData);
      }
    });
    cc._RF.pop();
  }, {
    "../Services/UserService": "UserService",
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  DDLSelect: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e1dbfgsSAhIV4cgujQ36WuJ", "DDLSelect");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    var SharedData = require("SharedData");
    cc.Class({
      extends: cc.Component,
      properties: {
        key: "",
        myLabel: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {},
      init: function init(x, y, status, callBack) {
        void 0 == x && null == x && "" == x || (this.node.x = x);
        void 0 == y && null == y && "" == y || (this.node.y = y);
        this.status = status;
        this.mCallBack = callBack;
        this.myLabel.getComponent(cc.Label).string = status;
      },
      setInfoKey: function setInfoKey(m_key) {
        this.key = m_key;
      },
      onclick: function onclick(event) {
        this.mCallBack.onDDLOptionDidPressed(event, "", "", this.key);
      }
    });
    cc._RF.pop();
  }, {
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  Deposit: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1ae6bOf641LSov89cA4P55t", "Deposit");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    var _UserService = _interopRequireDefault(require("../Services/UserService"));
    var _WalletService = _interopRequireDefault(require("../Services/WalletService"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        myManageCardView: null,
        mCurrentFocusTab: "SureTech",
        mCardList: [],
        currentMode: "",
        myDepositFormContainer: {
          default: null,
          type: cc.Node
        },
        myAmountLabel: {
          default: null,
          type: cc.Node
        },
        myBankLabel: {
          default: null,
          type: cc.Node
        },
        myProofTitleLabel: {
          default: null,
          type: cc.Node
        },
        myAmountInput: {
          default: null,
          type: cc.Node
        },
        myBankSelect: {
          default: null,
          type: cc.Node
        },
        myBankDDL: {
          default: null,
          type: cc.Node
        },
        myBankScrollView: {
          default: null,
          type: cc.Node
        },
        myBankScrollContent: {
          default: null,
          type: cc.Node
        },
        myProofUploadBtn: {
          default: null,
          type: cc.Node
        },
        myProofLabel: {
          default: null,
          type: cc.Node
        },
        myProofCloseBtn: {
          default: null,
          type: cc.Node
        },
        mySubmitBtn: {
          default: null,
          type: cc.Node
        },
        myDDLSelectPrefab: {
          default: null,
          type: cc.Prefab
        },
        myErrorLabel: {
          default: null,
          type: cc.Node
        },
        myError1Label: {
          default: null,
          type: cc.Node
        },
        myError2Label: {
          default: null,
          type: cc.Node
        },
        mCompanyBanks: [],
        mSelectedBankId: null,
        mSelectedBankName: "",
        mProofFile: null,
        createdBankDDLSelect: [],
        myWithdrawContainer: {
          default: null,
          type: cc.Node
        },
        myWithdrawAmountInput: {
          default: null,
          type: cc.Node
        },
        myWithdrawWalletSelect: {
          default: null,
          type: cc.Node
        },
        myWithdrawWalletDDL: {
          default: null,
          type: cc.Node
        },
        myWithdrawWalletScrollView: {
          default: null,
          type: cc.Node
        },
        myWithdrawWalletScrollContent: {
          default: null,
          type: cc.Node
        },
        myWithdrawConfirmBtn: {
          default: null,
          type: cc.Node
        },
        myWithdrawError1Label: {
          default: null,
          type: cc.Node
        },
        myWithdrawError2Label: {
          default: null,
          type: cc.Node
        },
        mPlayerBankAccounts: [],
        mSelectedPlayerBankAccountId: null,
        mSelectedPlayerBankAccountName: "",
        createdWithdrawWalletDDLSelect: [],
        mySureTechTabBtn: {
          default: null,
          type: cc.Node
        },
        myDpayTabBtn: {
          default: null,
          type: cc.Node
        },
        myHistoryTabBtn: {
          default: null,
          type: cc.Node
        },
        myPlayerNameLabel: {
          default: null,
          type: cc.Node
        },
        myBalanceBG: {
          default: null,
          type: cc.Node
        },
        myCardContainer: {
          default: null,
          type: cc.Node
        },
        myNoCardContainer: {
          default: null,
          type: cc.Node
        },
        mFocusTabImg: {
          default: null,
          type: cc.SpriteFrame
        },
        mNormalTabImg: {
          default: null,
          type: cc.SpriteFrame
        },
        myHeaderProfileImg: {
          default: null,
          type: cc.Sprite
        },
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        mDepositLabel: {
          default: null,
          type: cc.Node
        },
        mSureTechTabLabel: {
          default: null,
          type: cc.Node
        },
        mDpayTabLabel: {
          default: null,
          type: cc.Node
        },
        mHistoryTabLabel: {
          default: null,
          type: cc.Node
        },
        mSupportTabLabel: {
          default: null,
          type: cc.Node
        },
        mDescLabel: {
          default: null,
          type: cc.Node
        },
        mClickHereLabel: {
          default: null,
          type: cc.Node
        },
        mSetupLabel: {
          default: null,
          type: cc.Node
        },
        bg_component: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.localizeUI();
        var self = this;
        this.myAmountInput && this.myAmountInput.on("text-changed", function() {
          self.myErrorLabel && (self.myErrorLabel.active = false);
        }, this);
        this.myWithdrawAmountInput && this.myWithdrawAmountInput.on("text-changed", function() {
          self.myWithdrawError1Label && (self.myWithdrawError1Label.active = false);
        }, this);
      },
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
      },
      updateView: function updateView(callBack, mode) {
        var self = this;
        this.localizeUI();
        this.mCallBack = callBack;
        mode = mode || "deposit";
        this.currentMode = mode;
        if ("withdrawal" === this.currentMode) {
          this.mySureTechTabBtn && (this.mySureTechTabBtn.active = false);
          this.myDpayTabBtn && (this.myDpayTabBtn.active = true);
          this.mCurrentFocusTab = "Dpay";
        } else {
          this.mySureTechTabBtn && (this.mySureTechTabBtn.active = true);
          this.myDpayTabBtn && (this.myDpayTabBtn.active = false);
          this.mCurrentFocusTab = "SureTech";
        }
        var userObj = _SharedData["default"].getUserObject();
        this.myPlayerNameLabel.getComponent(cc.Label).string = userObj.fullName;
        this.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(userObj.balance, 2);
        _SharedData["default"].getSelectedAvatar() == localStorage.getItem("selected_avatar") && cc.loader.loadRes("images/profile/Avatar" + _SharedData["default"].getSelectedAvatar() + ".png", cc.SpriteFrame, function(err, spriteFrame) {
          self.myHeaderProfileImg.getComponent(cc.Sprite).spriteFrame = spriteFrame;
        });
        this.node.active = true;
        this.bg_component && (this.bg_component.active = true);
        this.mCardList = [];
        this.updateProofCloseButtonVisibility();
        this.myErrorLabel && (this.myErrorLabel.active = false);
        this.myError1Label && (this.myError1Label.active = false);
        this.myError2Label && (this.myError2Label.active = false);
        this.myWithdrawError1Label && (this.myWithdrawError1Label.active = false);
        this.myWithdrawError2Label && (this.myWithdrawError2Label.active = false);
        this.myDepositFormContainer && (this.myDepositFormContainer.active = false);
        this.myWithdrawContainer && (this.myWithdrawContainer.active = false);
        this.myNoCardContainer && (this.myNoCardContainer.active = true);
        this.callGetWalletListingApi();
        "withdrawal" === mode ? this.onDepositTabDidPressed("", "Dpay", true) : this.onDepositTabDidPressed("", "SureTech", true);
        this.myCardContainer.active = true;
        var widget = this.node.getComponent(cc.Widget);
        widget.left = this.node.width;
        widget.right = -1 * this.node.width;
        cc.tween(widget).to(1 / 6, {
          left: 0,
          right: 0
        }).start();
      },
      setCallBack: function setCallBack(callBack) {
        this.mCallBack = callBack;
      },
      myBackButtonDidPressed: function myBackButtonDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var widget = this.node.getComponent(cc.Widget);
        cc.tween(widget).to(1 / 6, {
          left: this.node.width,
          right: -1 * this.node.width
        }).start();
        this.mCallBack && this.mCallBack.onDepositBackButtonDidPressed();
      },
      onSupportButtonDidPressed: function onSupportButtonDidPressed(event, customEventData, codeTrigger) {
        console.log("onSupportButtonDidPressed");
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        this.bg_component && (this.bg_component.active = false);
        this.mCallBack && "function" === typeof this.mCallBack.onSupportButtonDidPressed && this.mCallBack.onSupportButtonDidPressed();
      },
      showBgComponent: function showBgComponent() {
        this.bg_component && (this.bg_component.active = true);
      },
      navigateToPersonalCenterCardWallet: function navigateToPersonalCenterCardWallet(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var self = this;
        if (_SharedFunction["default"].isLoggedIn()) {
          _SharedFunction["default"].showLoadingView("", self);
          cc.resources.load("prefabs/personal/personalCenter", cc.Prefab, function(err, prefab) {
            if (err) {
              console.error("Failed to load prefab:", err);
              _SharedFunction["default"].hideLoadingView(self);
              return;
            }
            var personalView;
            if (null == self.mCallBack.myPersonalView) {
              personalView = cc.instantiate(prefab).getComponent("PersonalCenter");
              self.mCallBack.updatePrefabSize && self.mCallBack.updatePrefabSize();
            } else personalView = self.mCallBack.myPersonalView;
            personalView.updateView(self.mCallBack, "CardWallet");
            self.mCallBack.myPersonalView = personalView;
            self.mCallBack.node.addChild(personalView.node);
            self.node.active = false;
            if (self.mCallBack && self.mCallBack.myLobbyContainer) {
              self.mCallBack.myDrawerBG && (self.mCallBack.myDrawerBG.active = false);
              cc.tween(self.mCallBack.myLobbyContainer.getComponent(cc.Widget)).to(1 / 6, {
                left: -1 * self.mCallBack.myLobbyContainer.width,
                right: self.mCallBack.myLobbyContainer.width
              }).start();
            }
            _SharedFunction["default"].hideLoadingView(self);
          });
        }
      },
      onDepositTabDidPressed: function onDepositTabDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        this.mySureTechTabBtn.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
        this.myDpayTabBtn.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
        this.myHistoryTabBtn.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
        var lblSureTech = this.mySureTechTabBtn ? this.mySureTechTabBtn.getChildByName("lblSureTech") : null;
        if (lblSureTech) {
          lblSureTech.getComponent(cc.LabelOutline).color = new cc.color("#014D92");
          lblSureTech.getComponent(cc.LabelShadow).color = new cc.color("#01277E");
        }
        var lblDpay = this.myDpayTabBtn ? this.myDpayTabBtn.getChildByName("lblDpay") : null;
        if (lblDpay) {
          lblDpay.getComponent(cc.LabelOutline).color = new cc.color("#014D92");
          lblDpay.getComponent(cc.LabelShadow).color = new cc.color("#01277E");
        }
        var lblHistory = this.myHistoryTabBtn ? this.myHistoryTabBtn.getChildByName("lblHistory") : null;
        if (lblHistory) {
          lblHistory.getComponent(cc.LabelOutline).color = new cc.color("#014D92");
          lblHistory.getComponent(cc.LabelShadow).color = new cc.color("#01277E");
        }
        this.myCardContainer.active = false;
        this.mCurrentFocusTab = customEventData;
        if ("SureTech" == customEventData) {
          if (this.mySureTechTabBtn) {
            this.mySureTechTabBtn.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
            var lblSureTech = this.mySureTechTabBtn.getChildByName("lblSureTech");
            if (lblSureTech) {
              lblSureTech.getComponent(cc.LabelOutline).color = new cc.color("#7F0794");
              lblSureTech.getComponent(cc.LabelShadow).color = new cc.color("#6B017E");
            }
          }
          this.myCardContainer && (this.myCardContainer.active = true);
          this.updateContainerVisibility();
          Object.keys(this.mCardList).length > 0 && this.myDepositFormContainer && this.myDepositFormContainer.active && 0 == this.mCompanyBanks.length && this.loadCompanyBanks();
        } else if ("Dpay" == customEventData) {
          if (this.myDpayTabBtn) {
            this.myDpayTabBtn.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
            var lblDpay = this.myDpayTabBtn.getChildByName("lblDpay");
            if (lblDpay) {
              lblDpay.getComponent(cc.LabelOutline).color = new cc.color("#7F0794");
              lblDpay.getComponent(cc.LabelShadow).color = new cc.color("#6B017E");
            }
          }
          this.myCardContainer && (this.myCardContainer.active = true);
          this.updateContainerVisibility();
          var hasCards = Object.keys(this.mCardList).length > 0;
          hasCards && this.myWithdrawContainer && this.myWithdrawContainer.active && (0 == this.mPlayerBankAccounts.length ? this.loadPlayerBankAccounts() : this.setupWithdrawWalletDropdown());
        } else "History" == customEventData && this.navigateToPersonalCenterCardWallet();
      },
      onManageCardDidPressed: function onManageCardDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var self = this;
        _SharedFunction["default"].showLoadingView("", self);
        cc.resources.load("prefabs/deposit/manageCard", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          if (null == self.myManageCardView) {
            self.myManageCardView = cc.instantiate(prefab).getComponent("ManageCard");
            self.updatePrefabSize();
          }
          self.myManageCardView.updateView(self);
          self.node.addChild(self.myManageCardView.node);
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      myCloseManageCardDidPressed: function myCloseManageCardDidPressed(event, customEventData, codeTrigger) {
        this.node.removeChild(this.myManageCardView.node);
        this.callGetWalletListingApi();
      },
      updateContainerVisibility: function updateContainerVisibility() {
        var hasCards = Object.keys(this.mCardList).length > 0;
        var isDepositMode = "SureTech" === this.mCurrentFocusTab;
        var isWithdrawalMode = "Dpay" === this.mCurrentFocusTab;
        if (hasCards) {
          this.myNoCardContainer && (this.myNoCardContainer.active = false);
          if (isDepositMode) {
            this.myDepositFormContainer && (this.myDepositFormContainer.active = true);
            this.myWithdrawContainer && (this.myWithdrawContainer.active = false);
          } else if (isWithdrawalMode) {
            this.myDepositFormContainer && (this.myDepositFormContainer.active = false);
            this.myWithdrawContainer && (this.myWithdrawContainer.active = true);
          }
        } else {
          this.myNoCardContainer && (this.myNoCardContainer.active = true);
          this.myDepositFormContainer && (this.myDepositFormContainer.active = false);
          this.myWithdrawContainer && (this.myWithdrawContainer.active = false);
        }
      },
      callGetWalletListingApi: function callGetWalletListingApi() {
        var _this = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
          var token, response, i, bankAccount, lblBank, lblWallet;
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
             case 0:
              token = localStorage.getItem("token");
              _context.prev = 1;
              _context.next = 4;
              return _WalletService["default"].getBankAccounts(token);

             case 4:
              response = _context.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context.next = 8;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this);
              return _context.abrupt("return");

             case 8:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context.next = 11;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this);
              return _context.abrupt("return");

             case 11:
              if (200 == response.status && response.data) {
                _this.mCardList = [];
                for (i = 0; i < response.data.length; i++) {
                  bankAccount = response.data[i];
                  _this.mCardList.push({
                    id: bankAccount._id,
                    bank: bankAccount.bankName,
                    name: bankAccount.accountName,
                    number: bankAccount.accountNumber
                  });
                }
              }
              _this.updateContainerVisibility();
              if (_this.mCardList.length > 0 && "SureTech" == _this.mCurrentFocusTab && _this.myDepositFormContainer && _this.myDepositFormContainer.active) {
                _this.myAmountInput.getComponent(cc.EditBox).string = "";
                _this.myProofLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(_this.i18nJson, "proofOfPayment") || "Proof of Payment";
                lblBank = _this.myBankSelect.getChildByName("lblBank");
                lblBank && lblBank.getComponent(cc.Label) && (lblBank.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(_this.i18nJson, "selectBank") || "Select Bank");
                _this.mProofFile = null;
                _this.mSelectedBankId = null;
                _this.mSelectedBankName = "";
                _this.updateProofCloseButtonVisibility();
                _this.loadCompanyBanks();
              }
              if (_this.mCardList.length > 0 && "Dpay" == _this.mCurrentFocusTab && _this.myWithdrawContainer && _this.myWithdrawContainer.active) {
                _this.myWithdrawAmountInput && _this.myWithdrawAmountInput.getComponent(cc.EditBox) && (_this.myWithdrawAmountInput.getComponent(cc.EditBox).string = "");
                lblWallet = _this.myWithdrawWalletSelect ? _this.myWithdrawWalletSelect.getChildByName("lblWallet") : null;
                lblWallet && lblWallet.getComponent(cc.Label) && (lblWallet.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(_this.i18nJson, "selectBank") || "Select Bank");
                _this.mSelectedPlayerBankAccountId = null;
                _this.mSelectedPlayerBankAccountName = "";
                0 == _this.mPlayerBankAccounts.length ? _this.loadPlayerBankAccounts() : _this.setupWithdrawWalletDropdown();
              }
              _context.next = 25;
              break;

             case 17:
              _context.prev = 17;
              _context.t0 = _context["catch"](1);
              if (!_SharedFunction["default"].handleSessionExpiration(_context.t0, _this)) {
                _context.next = 21;
                break;
              }
              return _context.abrupt("return");

             case 21:
              if (!_SharedFunction["default"].handleServerError(_context.t0, _this)) {
                _context.next = 23;
                break;
              }
              return _context.abrupt("return");

             case 23:
              console.log(_context.t0);
              _this.updateContainerVisibility();

             case 25:
             case "end":
              return _context.stop();
            }
          }, _callee, null, [ [ 1, 17 ] ]);
        }))();
      },
      onDDLDidPressed: function onDDLDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        if ("bank" == customEventData) {
          if (this.myBankSelect) {
            var triangle = this.myBankSelect.getChildByName("iconTriangle");
            if (triangle && this.myBankDDL) {
              this.myBankDDL.active ? triangle.angle = 90 : triangle.angle = -90;
              this.myBankDDL.active = !this.myBankDDL.active;
            }
          }
        } else if ("withdrawWallet" == customEventData) {
          console.log("withdrawWallet");
          if (this.myWithdrawWalletSelect) {
            var triangle = this.myWithdrawWalletSelect.getChildByName("iconTriangle");
            if (triangle && this.myWithdrawWalletDDL) {
              this.myWithdrawWalletDDL.active ? triangle.angle = 90 : triangle.angle = -90;
              this.myWithdrawWalletDDL.active = !this.myWithdrawWalletDDL.active;
            }
          }
        }
      },
      onDDLOptionDidPressed: function onDDLOptionDidPressed(event, customEventData, codeTrigger, key) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var parentName = event.target.parent.name;
        var childText = event.target.getChildByName("label").getComponent(cc.Label).string;
        if ("BankScrollViewContent" == parentName || "ddl_bank_bg" == parentName) {
          var selectedBank = this.mCompanyBanks.find(function(bank) {
            return bank._id === key;
          });
          if (this.myBankSelect) {
            var lblBank = this.myBankSelect.getChildByName("lblBank");
            if (lblBank && lblBank.getComponent(cc.Label)) if (selectedBank) {
              this.mSelectedBankId = selectedBank._id;
              this.mSelectedBankName = selectedBank.bankName;
              lblBank.getComponent(cc.Label).string = selectedBank.bankName;
            } else lblBank.getComponent(cc.Label).string = childText;
            var triangle = this.myBankSelect.getChildByName("iconTriangle");
            triangle && (triangle.angle = 90);
          }
          this.myBankDDL && (this.myBankDDL.active = false);
          this.myError1Label && (this.myError1Label.active = false);
        } else if ("WithdrawWalletScrollViewContent" == parentName || "ddl_wallet_bg" == parentName) {
          var selectedBankAccount = this.mPlayerBankAccounts.find(function(account) {
            return account._id === key;
          });
          if (this.myWithdrawWalletSelect) {
            var lblWallet = this.myWithdrawWalletSelect.getChildByName("lblWallet");
            if (lblWallet && lblWallet.getComponent(cc.Label)) if (selectedBankAccount) {
              this.mSelectedPlayerBankAccountId = selectedBankAccount._id;
              this.mSelectedPlayerBankAccountName = selectedBankAccount.bankName + " - " + selectedBankAccount.accountNumber;
              lblWallet.getComponent(cc.Label).string = this.mSelectedPlayerBankAccountName;
            } else lblWallet.getComponent(cc.Label).string = childText;
            var triangle = this.myWithdrawWalletSelect.getChildByName("iconTriangle");
            triangle && (triangle.angle = 90);
          }
          this.myWithdrawWalletDDL && (this.myWithdrawWalletDDL.active = false);
          this.myWithdrawError2Label && (this.myWithdrawError2Label.active = false);
        }
      },
      callGetBalanceApi: function callGetBalanceApi() {
        var _this2 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee2() {
          var response, userObj;
          return _regeneratorRuntime().wrap(function _callee2$(_context2) {
            while (1) switch (_context2.prev = _context2.next) {
             case 0:
              _SharedFunction["default"].showLoadingView("Loading", _this2);
              _context2.prev = 1;
              _context2.next = 4;
              return _UserService["default"].getBalance(localStorage.getItem("token"));

             case 4:
              response = _context2.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context2.next = 8;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this2);
              return _context2.abrupt("return");

             case 8:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context2.next = 11;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this2);
              return _context2.abrupt("return");

             case 11:
              if (200 == response.status) {
                console.log(response);
                userObj = _SharedData["default"].getUserObject();
                userObj.balance = response.data.balance;
                _SharedData["default"].setUserObject(userObj);
                _this2.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(userObj.balance, 2);
                _this2.mCallBack.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(userObj.balance, 2);
                _SharedFunction["default"].hideLoadingView(_this2);
              }
              _context2.next = 22;
              break;

             case 14:
              _context2.prev = 14;
              _context2.t0 = _context2["catch"](1);
              if (!_SharedFunction["default"].handleSessionExpiration(_context2.t0, _this2)) {
                _context2.next = 18;
                break;
              }
              return _context2.abrupt("return");

             case 18:
              if (!_SharedFunction["default"].handleServerError(_context2.t0, _this2)) {
                _context2.next = 21;
                break;
              }
              _SharedFunction["default"].hideLoadingView(_this2);
              return _context2.abrupt("return");

             case 21:
              _SharedFunction["default"].hideLoadingView(_this2);

             case 22:
             case "end":
              return _context2.stop();
            }
          }, _callee2, null, [ [ 1, 14 ] ]);
        }))();
      },
      loadCompanyBanks: function loadCompanyBanks() {
        var _this3 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee3() {
          var response;
          return _regeneratorRuntime().wrap(function _callee3$(_context3) {
            while (1) switch (_context3.prev = _context3.next) {
             case 0:
              _context3.prev = 0;
              _SharedFunction["default"].showLoadingView("Loading", _this3);
              _context3.next = 4;
              return _WalletService["default"].getCompanyBanks(localStorage.getItem("token"));

             case 4:
              response = _context3.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context3.next = 8;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this3);
              return _context3.abrupt("return");

             case 8:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context3.next = 11;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this3);
              return _context3.abrupt("return");

             case 11:
              if (200 == response.status && response.data && response.data.length > 0) {
                _this3.mCompanyBanks = response.data;
                _this3.setupBankDropdown();
              } else console.error("No company banks found");
              _SharedFunction["default"].hideLoadingView(_this3);
              _context3.next = 24;
              break;

             case 15:
              _context3.prev = 15;
              _context3.t0 = _context3["catch"](0);
              if (!_SharedFunction["default"].handleSessionExpiration(_context3.t0, _this3)) {
                _context3.next = 19;
                break;
              }
              return _context3.abrupt("return");

             case 19:
              if (!_SharedFunction["default"].handleServerError(_context3.t0, _this3)) {
                _context3.next = 22;
                break;
              }
              _SharedFunction["default"].hideLoadingView(_this3);
              return _context3.abrupt("return");

             case 22:
              console.error("Failed to load company banks:", _context3.t0);
              _SharedFunction["default"].hideLoadingView(_this3);

             case 24:
             case "end":
              return _context3.stop();
            }
          }, _callee3, null, [ [ 0, 15 ] ]);
        }))();
      },
      setupBankDropdown: function setupBankDropdown() {
        if (!this.myBankDDL || !this.myBankScrollView || !this.myBankScrollContent) {
          console.error("Bank dropdown components are not assigned");
          return;
        }
        var createdDDL = this.createdBankDDLSelect;
        var ddl = this.myBankDDL;
        var scrollView = this.myBankScrollView;
        var scrollContent = this.myBankScrollContent;
        createdDDL.forEach(function(ddlItem) {
          ddlItem && ddlItem.isValid && ddlItem.node.removeFromParent();
        });
        this.createdBankDDLSelect = [];
        if (!this.myDDLSelectPrefab) {
          console.error("DDLSelectPrefab is not assigned");
          return;
        }
        scrollContent && (scrollContent.name = "BankScrollViewContent");
        for (var key in this.mCompanyBanks) {
          var bank = this.mCompanyBanks[key];
          var positionY = -25 - 46 * parseInt(key);
          var ddlSelectPref = cc.instantiate(this.myDDLSelectPrefab).getComponent("DDLSelect");
          ddlSelectPref.init(0, positionY, bank.bankName, this);
          ddlSelectPref.setInfoKey(bank._id);
          scrollContent.addChild(ddlSelectPref.node);
          this.createdBankDDLSelect.push(ddlSelectPref);
        }
        var dynamicHeight = 50 + 46 * (this.mCompanyBanks.length - 1);
        var contentHeight = dynamicHeight;
        dynamicHeight = dynamicHeight > 234 ? 234 : dynamicHeight;
        dynamicHeight < 234 && (dynamicHeight += 46);
        ddl.height = dynamicHeight;
        scrollView.height = dynamicHeight;
        var scrollViewComponent = scrollView.getComponent(cc.ScrollView);
        scrollViewComponent && scrollViewComponent.scrollToTop(0);
        scrollContent.height = contentHeight;
        if (this.mCompanyBanks.length > 0 && !this.mSelectedBankId) {
          var firstBank = this.mCompanyBanks[0];
          this.mSelectedBankId = firstBank._id;
          this.mSelectedBankName = firstBank.bankName;
          if (this.myBankSelect) {
            var lblBank = this.myBankSelect.getChildByName("lblBank");
            lblBank && lblBank.getComponent(cc.Label) && (lblBank.getComponent(cc.Label).string = firstBank.bankName);
          }
        }
      },
      onProofUploadDidPressed: function onProofUploadDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var fileInput = document.createElement("input");
        fileInput.type = "file";
        fileInput.accept = "image/*";
        fileInput.style.display = "none";
        var self = this;
        fileInput.onchange = function(e) {
          var file = e.target.files[0];
          if (file) {
            self.mProofFile = file;
            self.myProofLabel && self.myProofLabel.getComponent(cc.Label) && (self.myProofLabel.getComponent(cc.Label).string = file.name);
            self.updateProofCloseButtonVisibility();
            self.myError2Label && (self.myError2Label.active = false);
          }
          document.body.removeChild(fileInput);
        };
        document.body.appendChild(fileInput);
        fileInput.click();
      },
      onProofCloseDidPressed: function onProofCloseDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        this.mProofFile = null;
        this.myProofLabel && this.myProofLabel.getComponent(cc.Label) && (this.myProofLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "proofOfPayment") || "Proof of Payment");
        this.updateProofCloseButtonVisibility();
      },
      updateProofCloseButtonVisibility: function updateProofCloseButtonVisibility() {
        this.myProofCloseBtn && (this.myProofCloseBtn.active = null !== this.mProofFile);
      },
      clearDepositForm: function clearDepositForm() {
        this.myAmountInput && this.myAmountInput.getComponent(cc.EditBox) && (this.myAmountInput.getComponent(cc.EditBox).string = "");
        this.mProofFile = null;
        this.myProofLabel && this.myProofLabel.getComponent(cc.Label) && (this.myProofLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "proofOfPayment") || "Proof of Payment");
        this.updateProofCloseButtonVisibility();
        this.mSelectedBankId = null;
        this.mSelectedBankName = "";
        if (this.myBankSelect) {
          var lblBank = this.myBankSelect.getChildByName("lblBank");
          lblBank && lblBank.getComponent(cc.Label) && (lblBank.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "selectBank") || "Select Bank");
          var triangle = this.myBankSelect.getChildByName("iconTriangle");
          triangle && (triangle.angle = 90);
        }
        this.myBankDDL && (this.myBankDDL.active = false);
        this.myErrorLabel && (this.myErrorLabel.active = false);
        this.myError1Label && (this.myError1Label.active = false);
        this.myError2Label && (this.myError2Label.active = false);
      },
      onDepositSubmitDidPressed: function onDepositSubmitDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var amountText = "";
        this.myAmountInput && this.myAmountInput.getComponent(cc.EditBox) && (amountText = this.myAmountInput.getComponent(cc.EditBox).string.trim());
        if (!amountText || 0 == amountText.length) {
          this.showLableError(this.myErrorLabel, _SharedFunction["default"].getLocalizedString(this.i18nJson, "amountRequired") || "Amount is required");
          return;
        }
        var amount = parseFloat(amountText);
        if (isNaN(amount) || amount <= 0) {
          this.showLableError(this.myErrorLabel, _SharedFunction["default"].getLocalizedString(this.i18nJson, "invalidAmount") || "Invalid amount");
          return;
        }
        if (!this.mSelectedBankId) {
          this.showLableError(this.myError1Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "bankRequired") || "Please select a bank");
          return;
        }
        if (!this.mProofFile) {
          this.showLableError(this.myError2Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "proofRequired") || "Please upload proof of payment");
          return;
        }
        this.submitDeposit(amount, this.mSelectedBankId, this.mProofFile);
      },
      showLableError: function showLableError(labelComponent, text) {
        this.myErrorLabel && (this.myErrorLabel.active = false);
        this.myError1Label && (this.myError1Label.active = false);
        this.myError2Label && (this.myError2Label.active = false);
        if (labelComponent) {
          labelComponent.getComponent(cc.Label).string = text;
          labelComponent.active = true;
          cc.tween(labelComponent).to(1 / 12, {
            scale: 1.1
          }).to(1 / 12, {
            scale: 1
          }).start();
        }
      },
      submitDeposit: function submitDeposit(amount, companyBankId, proofFile) {
        var _this4 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee4() {
          var response, successMessage, _error$data, errorMessage;
          return _regeneratorRuntime().wrap(function _callee4$(_context4) {
            while (1) switch (_context4.prev = _context4.next) {
             case 0:
              _context4.prev = 0;
              _SharedFunction["default"].showLoadingView("Submitting deposit...", _this4);
              _context4.next = 4;
              return _WalletService["default"].deposit(localStorage.getItem("token"), {
                amount: amount,
                companyBankId: companyBankId,
                proof: proofFile
              });

             case 4:
              response = _context4.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context4.next = 8;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this4);
              return _context4.abrupt("return");

             case 8:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context4.next = 11;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this4);
              return _context4.abrupt("return");

             case 11:
              if (200 == response.status || 201 == response.status) {
                console.log("Deposit submitted successfully:", response);
                successMessage = response.message || _SharedFunction["default"].getLocalizedString(_this4.i18nJson, "depositSuccess") || "Deposit request submitted successfully. Please wait for admin approval.";
                _SharedFunction["default"].showMessageInfoView(successMessage, _this4, 3);
                _this4.clearDepositForm();
              } else {
                console.error("Failed to submit deposit:", response);
                response.message && _SharedFunction["default"].showMessageInfoView(response.message, _this4, 3);
              }
              _SharedFunction["default"].hideLoadingView(_this4);
              _context4.next = 26;
              break;

             case 15:
              _context4.prev = 15;
              _context4.t0 = _context4["catch"](0);
              if (!_SharedFunction["default"].handleSessionExpiration(_context4.t0, _this4)) {
                _context4.next = 19;
                break;
              }
              return _context4.abrupt("return");

             case 19:
              if (!_SharedFunction["default"].handleServerError(_context4.t0, _this4)) {
                _context4.next = 22;
                break;
              }
              _SharedFunction["default"].hideLoadingView(_this4);
              return _context4.abrupt("return");

             case 22:
              console.error("Failed to submit deposit:", _context4.t0);
              errorMessage = _context4.t0.message || (null == (_error$data = _context4.t0.data) ? void 0 : _error$data.message) || _SharedFunction["default"].getLocalizedString(_this4.i18nJson, "depositFailed") || "Failed to submit deposit. Please try again.";
              _SharedFunction["default"].showMessageInfoView(errorMessage, _this4, 3);
              _SharedFunction["default"].hideLoadingView(_this4);

             case 26:
             case "end":
              return _context4.stop();
            }
          }, _callee4, null, [ [ 0, 15 ] ]);
        }))();
      },
      loadPlayerBankAccounts: function loadPlayerBankAccounts() {
        var _this5 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee5() {
          var response;
          return _regeneratorRuntime().wrap(function _callee5$(_context5) {
            while (1) switch (_context5.prev = _context5.next) {
             case 0:
              _context5.prev = 0;
              _SharedFunction["default"].showLoadingView("Loading", _this5);
              _context5.next = 4;
              return _WalletService["default"].getBankAccounts(localStorage.getItem("token"));

             case 4:
              response = _context5.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context5.next = 8;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this5);
              return _context5.abrupt("return");

             case 8:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context5.next = 11;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this5);
              return _context5.abrupt("return");

             case 11:
              if (200 == response.status && response.data && response.data.length > 0) {
                _this5.mPlayerBankAccounts = response.data;
                _this5.setupWithdrawWalletDropdown();
              } else console.error("No player bank accounts found");
              _SharedFunction["default"].hideLoadingView(_this5);
              _context5.next = 24;
              break;

             case 15:
              _context5.prev = 15;
              _context5.t0 = _context5["catch"](0);
              if (!_SharedFunction["default"].handleSessionExpiration(_context5.t0, _this5)) {
                _context5.next = 19;
                break;
              }
              return _context5.abrupt("return");

             case 19:
              if (!_SharedFunction["default"].handleServerError(_context5.t0, _this5)) {
                _context5.next = 22;
                break;
              }
              _SharedFunction["default"].hideLoadingView(_this5);
              return _context5.abrupt("return");

             case 22:
              console.error("Failed to load player bank accounts:", _context5.t0);
              _SharedFunction["default"].hideLoadingView(_this5);

             case 24:
             case "end":
              return _context5.stop();
            }
          }, _callee5, null, [ [ 0, 15 ] ]);
        }))();
      },
      setupWithdrawWalletDropdown: function setupWithdrawWalletDropdown() {
        if (!this.myWithdrawWalletDDL || !this.myWithdrawWalletScrollView || !this.myWithdrawWalletScrollContent) {
          console.error("Withdrawal wallet dropdown components are not assigned");
          return;
        }
        var createdDDL = this.createdWithdrawWalletDDLSelect;
        var ddl = this.myWithdrawWalletDDL;
        var scrollView = this.myWithdrawWalletScrollView;
        var scrollContent = this.myWithdrawWalletScrollContent;
        createdDDL.forEach(function(ddlItem) {
          ddlItem && ddlItem.isValid && ddlItem.node.removeFromParent();
        });
        this.createdWithdrawWalletDDLSelect = [];
        if (!this.myDDLSelectPrefab) {
          console.error("DDLSelectPrefab is not assigned");
          return;
        }
        scrollContent && (scrollContent.name = "WithdrawWalletScrollViewContent");
        for (var key in this.mPlayerBankAccounts) {
          var bankAccount = this.mPlayerBankAccounts[key];
          var positionY = -25 - 46 * parseInt(key);
          var displayText = bankAccount.bankName + " - " + bankAccount.accountNumber;
          var ddlSelectPref = cc.instantiate(this.myDDLSelectPrefab).getComponent("DDLSelect");
          ddlSelectPref.init(0, positionY, displayText, this);
          ddlSelectPref.setInfoKey(bankAccount._id);
          scrollContent.addChild(ddlSelectPref.node);
          this.createdWithdrawWalletDDLSelect.push(ddlSelectPref);
        }
        var dynamicHeight = 50 + 46 * (this.mPlayerBankAccounts.length - 1);
        var contentHeight = dynamicHeight;
        dynamicHeight = dynamicHeight > 234 ? 234 : dynamicHeight;
        dynamicHeight < 234 && (dynamicHeight += 46);
        ddl.height = dynamicHeight;
        scrollView.height = dynamicHeight;
        var scrollViewComponent = scrollView.getComponent(cc.ScrollView);
        scrollViewComponent && scrollViewComponent.scrollToTop(0);
        scrollContent.height = contentHeight;
        if (this.mPlayerBankAccounts.length > 0 && !this.mSelectedPlayerBankAccountId) {
          var firstBankAccount = this.mPlayerBankAccounts[0];
          this.mSelectedPlayerBankAccountId = firstBankAccount._id;
          this.mSelectedPlayerBankAccountName = firstBankAccount.bankName + " - " + firstBankAccount.accountNumber;
          if (this.myWithdrawWalletSelect) {
            var lblWallet = this.myWithdrawWalletSelect.getChildByName("lblWallet");
            lblWallet && lblWallet.getComponent(cc.Label) && (lblWallet.getComponent(cc.Label).string = this.mSelectedPlayerBankAccountName);
          }
        }
      },
      onWithdrawWalletDDLDidPressed: function onWithdrawWalletDDLDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        if (this.myWithdrawWalletSelect) {
          var triangle = this.myWithdrawWalletSelect.getChildByName("iconTriangle");
          if (triangle && this.myWithdrawWalletDDL) {
            this.myWithdrawWalletDDL.active ? triangle.angle = 90 : triangle.angle = -90;
            this.myWithdrawWalletDDL.active = !this.myWithdrawWalletDDL.active;
          }
        }
      },
      onWithdrawWalletDDLOptionDidPressed: function onWithdrawWalletDDLOptionDidPressed(event, customEventData, codeTrigger, key) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var parentName = event.target.parent.name;
        var childText = event.target.getChildByName("label").getComponent(cc.Label).string;
        if ("WithdrawWalletScrollViewContent" == parentName || "ddl_wallet_bg" == parentName) {
          var selectedBankAccount = this.mPlayerBankAccounts.find(function(account) {
            return account._id === key;
          });
          if (this.myWithdrawWalletSelect) {
            var lblWallet = this.myWithdrawWalletSelect.getChildByName("lblWallet");
            if (lblWallet && lblWallet.getComponent(cc.Label)) if (selectedBankAccount) {
              this.mSelectedPlayerBankAccountId = selectedBankAccount._id;
              this.mSelectedPlayerBankAccountName = selectedBankAccount.bankName + " - " + selectedBankAccount.accountNumber;
              lblWallet.getComponent(cc.Label).string = this.mSelectedPlayerBankAccountName;
            } else lblWallet.getComponent(cc.Label).string = childText;
            var triangle = this.myWithdrawWalletSelect.getChildByName("iconTriangle");
            triangle && (triangle.angle = 90);
          }
          this.myWithdrawWalletDDL && (this.myWithdrawWalletDDL.active = false);
          this.myWithdrawError2Label && (this.myWithdrawError2Label.active = false);
        }
      },
      clearWithdrawForm: function clearWithdrawForm() {
        this.myWithdrawAmountInput && this.myWithdrawAmountInput.getComponent(cc.EditBox) && (this.myWithdrawAmountInput.getComponent(cc.EditBox).string = "");
        this.mSelectedPlayerBankAccountId = null;
        this.mSelectedPlayerBankAccountName = "";
        if (this.myWithdrawWalletSelect) {
          var lblWallet = this.myWithdrawWalletSelect.getChildByName("lblWallet");
          lblWallet && lblWallet.getComponent(cc.Label) && (lblWallet.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "selectBank") || "Select Bank");
          var triangle = this.myWithdrawWalletSelect.getChildByName("iconTriangle");
          triangle && (triangle.angle = 90);
        }
        this.myWithdrawWalletDDL && (this.myWithdrawWalletDDL.active = false);
        this.myWithdrawError1Label && (this.myWithdrawError1Label.active = false);
        this.myWithdrawError2Label && (this.myWithdrawError2Label.active = false);
      },
      onWithdrawConfirmDidPressed: function onWithdrawConfirmDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var amountText = "";
        this.myWithdrawAmountInput && this.myWithdrawAmountInput.getComponent(cc.EditBox) && (amountText = this.myWithdrawAmountInput.getComponent(cc.EditBox).string.trim());
        if (!amountText || 0 == amountText.length) {
          this.showWithdrawError(this.myWithdrawError1Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "amountRequired") || "Amount is required");
          return;
        }
        var amount = parseFloat(amountText);
        if (isNaN(amount) || amount <= 0) {
          this.showWithdrawError(this.myWithdrawError1Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "invalidAmount") || "Invalid amount");
          return;
        }
        if (!this.mSelectedPlayerBankAccountId) {
          this.showWithdrawError(this.myWithdrawError2Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "bankRequired") || "Please select a bank");
          return;
        }
        this.submitWithdrawal(amount, this.mSelectedPlayerBankAccountId);
      },
      showWithdrawError: function showWithdrawError(labelComponent, text) {
        this.myWithdrawError1Label && (this.myWithdrawError1Label.active = false);
        this.myWithdrawError2Label && (this.myWithdrawError2Label.active = false);
        if (labelComponent) {
          labelComponent.getComponent(cc.Label).string = text;
          labelComponent.active = true;
          cc.tween(labelComponent).to(1 / 12, {
            scale: 1.1
          }).to(1 / 12, {
            scale: 1
          }).start();
        }
      },
      submitWithdrawal: function submitWithdrawal(amount, playerBankAccountId) {
        var _this6 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee6() {
          var response, successMessage, _error$data2, errorMessage;
          return _regeneratorRuntime().wrap(function _callee6$(_context6) {
            while (1) switch (_context6.prev = _context6.next) {
             case 0:
              _context6.prev = 0;
              _SharedFunction["default"].showLoadingView("Submitting withdrawal...", _this6);
              _context6.next = 4;
              return _WalletService["default"].withdraw(localStorage.getItem("token"), {
                amount: amount,
                playerBankAccountId: playerBankAccountId
              });

             case 4:
              response = _context6.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context6.next = 8;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this6);
              return _context6.abrupt("return");

             case 8:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context6.next = 11;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this6);
              return _context6.abrupt("return");

             case 11:
              if (200 == response.status || 201 == response.status) {
                console.log("Withdrawal submitted successfully:", response);
                successMessage = response.message || _SharedFunction["default"].getLocalizedString(_this6.i18nJson, "withdrawSuccess") || "Withdrawal request submitted successfully. Funds have been frozen and pending admin approval.";
                _SharedFunction["default"].showMessageInfoView(successMessage, _this6, 3);
                _this6.clearWithdrawForm();
                _this6.callGetBalanceApi();
              } else {
                console.error("Failed to submit withdrawal:", response);
                response.message && _SharedFunction["default"].showMessageInfoView(response.message, _this6, 3);
              }
              _SharedFunction["default"].hideLoadingView(_this6);
              _context6.next = 26;
              break;

             case 15:
              _context6.prev = 15;
              _context6.t0 = _context6["catch"](0);
              if (!_SharedFunction["default"].handleSessionExpiration(_context6.t0, _this6)) {
                _context6.next = 19;
                break;
              }
              return _context6.abrupt("return");

             case 19:
              if (!_SharedFunction["default"].handleServerError(_context6.t0, _this6)) {
                _context6.next = 22;
                break;
              }
              _SharedFunction["default"].hideLoadingView(_this6);
              return _context6.abrupt("return");

             case 22:
              console.error("Failed to submit withdrawal:", _context6.t0);
              errorMessage = _context6.t0.message || (null == (_error$data2 = _context6.t0.data) ? void 0 : _error$data2.message) || _SharedFunction["default"].getLocalizedString(_this6.i18nJson, "withdrawFailed") || "Failed to submit withdrawal. Please try again.";
              _SharedFunction["default"].showMessageInfoView(errorMessage, _this6, 3);
              _SharedFunction["default"].hideLoadingView(_this6);

             case 26:
             case "end":
              return _context6.stop();
            }
          }, _callee6, null, [ [ 0, 15 ] ]);
        }))();
      },
      localizeUI: function localizeUI() {
        this.mDepositLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "withdrawal" === this.currentMode ? "withdrawal" : "deposit");
        this.mSureTechTabLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "deposit");
        this.mDpayTabLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "withdrawal");
        this.mHistoryTabLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "history");
        this.mSupportTabLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "support");
        this.mDescLabel.getComponent(cc.RichText).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "desc");
        this.mClickHereLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "clickHere");
        this.mSetupLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "setup");
        this.myAmountLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "amount");
        this.myBankLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "bank");
        this.myProofTitleLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "proofOfPayment");
        this.myProofLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "proofOfPayment");
        var submitLabel = this.mySubmitBtn.getChildByName("lblConfirm");
        submitLabel && (submitLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "submit"));
        if (this.myWithdrawConfirmBtn) {
          var withdrawConfirmLabel = this.myWithdrawConfirmBtn.getChildByName("lblConfirm");
          withdrawConfirmLabel && (withdrawConfirmLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "submit"));
        }
      },
      updatePrefabSize: function updatePrefabSize() {
        var visibleSize = cc.view.getVisibleSize();
        this.myManageCardView && this.myManageCardView.init(0, 0, visibleSize.width, visibleSize.height);
      }
    });
    cc._RF.pop();
  }, {
    "../Services/UserService": "UserService",
    "../Services/WalletService": "WalletService",
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  DeveloperLogo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9f2b4rIap9MIpCRKPuNhqDY", "DeveloperLogo");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        logoBG: {
          default: null,
          type: cc.Node
        },
        providerLogo: {
          default: null,
          type: cc.Node
        },
        mFocusTabImg: {
          default: null,
          type: cc.SpriteFrame
        },
        mNormalTabImg: {
          default: null,
          type: cc.SpriteFrame
        }
      },
      onLoad: function onLoad() {},
      init: function init(x, y, data, callBack) {
        var self = this;
        this.node.x = x;
        this.node.y = y;
        this.data = data;
        this.mCallBack = callBack;
        this.node.name = data.code;
        cc.loader.loadRes("images/providers/logo/" + this.data.code + "Logo.png", cc.SpriteFrame, function(err, spriteFrame) {
          self.providerLogo.getComponent(cc.Sprite).spriteFrame = spriteFrame;
        });
        this.data.code == this.mCallBack.developerData.code && this.onClick(null, null, true);
      },
      onClick: function onClick(event, customEventData, codeTrigger) {
        var self = this;
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        this.mCallBack.onDeveloperLogoButtonDidPressed(null, null, true, this.data);
        this.logoBG.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
        this.mCallBack.myDeveloperLabel.getComponent(cc.Label).string = this.data.name;
        setTimeout(function() {
          self.mCallBack.myTotalLabel.x = self.mCallBack.myDeveloperLabel.x + self.mCallBack.myDeveloperLabel.width + 22;
        }, 0);
      },
      unClick: function unClick() {
        var self = this;
        this.logoBG.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
      }
    });
    cc._RF.pop();
  }, {
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  DrawerCsItem: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a1b2cPU5fZ4kKvN7xI0VniQ", "DrawerCsItem");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    var SharedData = require("SharedData");
    cc.Class({
      extends: cc.Component,
      properties: {
        logoNode: {
          default: null,
          type: cc.Node
        },
        mCallBack: null,
        mData: null
      },
      onLoad: function onLoad() {
        this.node.on(cc.Node.EventType.TOUCH_END, this.onItemClicked, this);
        if (this.node) {
          this.node.width = 40;
          this.node.height = 40;
        }
      },
      onDestroy: function onDestroy() {
        this.node.off(cc.Node.EventType.TOUCH_END, this.onItemClicked, this);
      },
      init: function init(data, callBack) {
        this.mData = data;
        this.mCallBack = callBack;
        this.logoNode && data.logo && this.loadLogoImage(data.logo);
      },
      loadLogoImage: function loadLogoImage(imageUrl) {
        var self = this;
        if (imageUrl.startsWith("http://") || imageUrl.startsWith("https://")) {
          var proxies = [ "https://corsproxy.io/?", "https://api.codetabs.com/v1/proxy?quest=", "https://cors.bridged.cc/" ];
          var proxiedImageUrl = proxies[1] + encodeURIComponent(imageUrl);
          cc.assetManager.loadRemote(proxiedImageUrl, function(err, texture) {
            if (err) {
              console.error("Failed to load image:", err);
              return;
            }
            if (!self.logoNode || !cc.isValid(self.logoNode)) {
              console.warn("logoNode is no longer valid, skipping image load");
              return;
            }
            var sprite = self.logoNode.getComponent(cc.Sprite);
            if (sprite) {
              sprite.type = cc.Sprite.Type.SIMPLE;
              sprite.spriteFrame = new cc.SpriteFrame(texture);
              self.fitImageToNode(texture.width, texture.height);
            }
          });
        } else cc.loader.loadRes(imageUrl, cc.SpriteFrame, function(err, spriteFrame) {
          if (err) {
            console.error("Failed to load local image:", err);
            return;
          }
          if (!self.logoNode || !cc.isValid(self.logoNode)) {
            console.warn("logoNode is no longer valid, skipping image load");
            return;
          }
          var sprite = self.logoNode.getComponent(cc.Sprite);
          if (sprite) {
            sprite.spriteFrame = spriteFrame;
            self.fitImageToNode(spriteFrame.getRect().width, spriteFrame.getRect().height);
          }
        });
      },
      onItemClicked: function onItemClicked() {
        _SharedFunction["default"].playButtonClickSound();
        if (!this.mData) return;
        this.mData.url && (cc.sys.isBrowser ? this.mData.openNewTab ? window.open(this.mData.url, "_blank") : window.location.href = this.mData.url : cc.sys.openURL(this.mData.url));
        this.mCallBack && "function" === typeof this.mCallBack.onDrawerCsItemClicked && this.mCallBack.onDrawerCsItemClicked(this.mData);
      },
      fitImageToNode: function fitImageToNode(imgWidth, imgHeight) {
        if (!this.logoNode || !cc.isValid(this.logoNode)) {
          console.error("logoNode is null or invalid");
          return;
        }
        var imageNode = this.logoNode;
        if (!imageNode || !cc.isValid(imageNode)) {
          console.error("logoNode node is invalid");
          return;
        }
        var maxWidth = 40;
        var maxHeight = 40;
        var width = imgWidth;
        var height = imgHeight;
        if (width > maxWidth || height > maxHeight) {
          var widthRatio = maxWidth / width;
          var heightRatio = maxHeight / height;
          var ratio = Math.min(widthRatio, heightRatio);
          width *= ratio;
          height *= ratio;
        }
        imageNode.width = width;
        imageNode.height = height;
      },
      getData: function getData() {
        return this.mData;
      }
    });
    cc._RF.pop();
  }, {
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  EditBasicInfo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0181ba1PaZK4oPX2++76PgN", "EditBasicInfo");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    var _UserService = _interopRequireDefault(require("../Services/UserService"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        myVerificationView: null,
        mBackground: {
          default: null,
          type: cc.Node
        },
        myUsernameInput: {
          default: null,
          type: cc.Node
        },
        myEmailInput: {
          default: null,
          type: cc.Node
        },
        myGenderSelect: {
          default: null,
          type: cc.Node
        },
        myGenderDDL: {
          default: null,
          type: cc.Node
        },
        myScrollView: {
          default: null,
          type: cc.Node
        },
        birthdayPicker: {
          type: require("SimpleBirthdayPicker"),
          default: null
        },
        calendarPicker: cc.Node,
        openCalendarButton: cc.Button,
        myBirthdayLabel: {
          default: null,
          type: cc.Node
        },
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        mTitleLabel: {
          default: null,
          type: cc.Node
        },
        mEmailLabel: {
          default: null,
          type: cc.Node
        },
        mUsernameLabel: {
          default: null,
          type: cc.Node
        },
        mGenderLabel: {
          default: null,
          type: cc.Node
        },
        mBirthdayLabel: {
          default: null,
          type: cc.Node
        },
        mConfirmLabel: {
          default: null,
          type: cc.Node
        },
        myError1Label: {
          default: null,
          type: cc.Node
        },
        myError4Label: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.localizeUI();
        var self = this;
        cc.resources.load("prefabs/calendar/CalendarPicker", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            return;
          }
          if (null == self.calendarPicker) {
            self.calendarPicker = cc.instantiate(prefab);
            self.updatePrefabSize();
          }
          self.node.addChild(self.calendarPicker.getComponent("CalendarManager").node);
          self.calendarPicker.on("date-selected", self.onDateSelected, self);
          self.calendarPicker.on("date-cancel", self.onDateCancel, self);
        });
      },
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
        this.mBackground.width = width;
        this.mBackground.height = height;
      },
      updateView: function updateView(callBack) {
        this.localizeUI();
        this.mCallBack = callBack;
        this.mBackground.active = true;
        this.node.opacity = 255;
        this.myError1Label.active = false;
        this.myGenderDDL.active = false;
        this.myScrollView.active = true;
        var userObj = _SharedData["default"].getUserObject();
        console.log("userObj", userObj);
        this.myUsernameInput.getComponent(cc.EditBox).string = userObj.fullName;
        this.myEmailInput.getComponent(cc.EditBox).string = userObj.email;
        this.openCalendarButton.node.on("click", this.openCalendar, this);
        if (null != this.calendarPicker) {
          this.calendarPicker.getComponent("CalendarManager").hide();
          this.calendarPicker.on("date-selected", this.onDateSelected, this);
          this.calendarPicker.on("date-cancel", this.onDateCancel, this);
        }
        var card_bg = this.mBackground.getChildByName("card_bg");
        card_bg.setScale(0);
        cc.tween(card_bg).to(1 / 3, {
          scale: 1
        }).to(1 / 12, {
          scale: .95
        }).to(1 / 12, {
          scale: 1
        }).start();
      },
      setCallBack: function setCallBack(callBack) {
        this.mCallBack = callBack;
      },
      openCalendar: function openCalendar() {
        var calendar = this.calendarPicker.getComponent("CalendarManager");
        this.myScrollView.active = false;
        calendar.show();
      },
      onDateSelected: function onDateSelected(event) {
        var dateData = event.detail;
        this.myBirthdayLabel.getComponent(cc.Label).string = dateData.year + "-" + dateData.month + "-" + dateData.day;
        this.calendarPicker.getComponent("CalendarManager").hide();
        this.myScrollView.active = true;
        var selectedDate = dateData.date;
        cc.log("Selected date:", selectedDate.toString());
      },
      onDateCancel: function onDateCancel() {
        this.myScrollView.active = true;
        cc.log("Calendar cancelled");
      },
      onBackButtonDidPressed: function onBackButtonDidPressed(event, customEventData, codeTrigger) {
        var _this = this;
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var card_bg = this.mBackground.getChildByName("card_bg");
        cc.tween(card_bg).to(1 / 6, {
          scale: 1.1
        }).to(1 / 6, {
          scale: 0
        }).start();
        cc.tween(this.node).delay(1 / 6).to(1 / 6, {
          opacity: 0
        }).call(function() {
          _this.mCallBack && _this.mCallBack.myCloseEditBasicInfoDidPressed();
        }).start();
      },
      onConfirmButtonDidPressed: function onConfirmButtonDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var userObj = _SharedData["default"].getUserObject();
        var oldEmail = userObj.email;
        var username = this.myUsernameInput.getComponent(cc.EditBox).string;
        var email = this.myEmailInput.getComponent(cc.EditBox).string;
        if (0 == username.length) {
          this.showLableError(this.myError4Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "usernameHolder"));
          return;
        }
        if (0 == email.length) {
          this.showLableError(this.myError1Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "emailHolder"));
          return;
        }
        if (username == userObj.fullName && email == userObj.email) {
          this.showLableError(this.myError1Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "noChange"));
          return;
        }
        this.showLableError(this.myError1Label, "");
        var oldUsername = userObj.fullName;
        username != oldUsername && localStorage.setItem("unverified_username", username);
        if (email != oldEmail) {
          localStorage.setItem("unverified_email", email);
          this.showVerificationPage("profileEmailVerify");
        } else this.updateUserProfile(null);
      },
      onDDLDidPressed: function onDDLDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var triangle = this.myGenderSelect.getChildByName("iconTriangle");
        this.myGenderDDL.active ? triangle.angle = 90 : triangle.angle = -90;
        this.myGenderDDL.active = !this.myGenderDDL.active;
      },
      onDDLOptionDidPressed: function onDDLOptionDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var parentName = event.target.parent.name;
        var childText = event.target.getChildByName("label").getComponent(cc.Label).string;
        this.myGenderSelect.getChildByName("lblGenderSelect").getComponent(cc.Label).string = childText;
        this.myGenderSelect.getChildByName("iconTriangle").angle = 90;
        this.myGenderDDL.active = false;
      },
      showLableError: function showLableError(labelComponent, text) {
        this.myError1Label.active = false;
        if (labelComponent) {
          labelComponent.getComponent(cc.Label).string = text;
          labelComponent.active = true;
          cc.tween(labelComponent).to(1 / 12, {
            scale: 1.1
          }).to(1 / 12, {
            scale: 1
          }).start();
        }
      },
      localizeUI: function localizeUI() {
        this.mTitleLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "title");
        this.mEmailLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "email");
        this.mUsernameLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "fullName");
        this.mGenderLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "gender");
        this.mBirthdayLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "birthday");
        this.mConfirmLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "confirm");
      },
      showVerificationPage: function showVerificationPage(verifyType) {
        var self = this;
        _SharedFunction["default"].showLoadingView("", self);
        cc.resources.load("prefabs/verification/verification", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          if (null == self.myVerificationView) {
            self.myVerificationView = cc.instantiate(prefab).getComponent("Verification");
            self.updatePrefabSize();
          }
          _SharedFunction["default"].hideLoadingView(self);
          self.myVerificationView.setCallBack(self);
          self.myVerificationView.updateView(self, verifyType, "Register", "");
          self.node.addChild(self.myVerificationView.node);
          self.mBackground.active = false;
        });
      },
      onVerificationCloseButtonDidPressed: function onVerificationCloseButtonDidPressed(pageToShow, errorMsg, otp, type, username) {
        var _this2 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
             case 0:
              console.log("click");
              _this2.node.removeChild(_this2.myVerificationView.node);
              _this2.mBackground.active = true;
              if (!("editBasicInfo" === pageToShow && otp)) {
                _context.next = 8;
                break;
              }
              _context.next = 6;
              return _this2.updateUserProfile(otp);

             case 6:
              _context.next = 9;
              break;

             case 8:
              errorMsg && _this2.showLableError(_this2.myError1Label, errorMsg);

             case 9:
             case "end":
              return _context.stop();
            }
          }, _callee);
        }))();
      },
      updateUserProfile: function updateUserProfile(emailOtp) {
        var _this3 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee2() {
          var self, token, userObj, params, newEmail, newUsername, _newUsername, response, updatedUserObj, _newEmail, _newUsername2, errorMessage, _errorMessage;
          return _regeneratorRuntime().wrap(function _callee2$(_context2) {
            while (1) switch (_context2.prev = _context2.next) {
             case 0:
              self = _this3;
              token = localStorage.getItem("token");
              if (token) {
                _context2.next = 5;
                break;
              }
              _this3.showLableError(_this3.myError1Label, "Authentication token not found");
              return _context2.abrupt("return");

             case 5:
              _SharedFunction["default"].showLoadingView("", self);
              _context2.prev = 6;
              userObj = _SharedData["default"].getUserObject();
              params = {};
              if (!(null != emailOtp)) {
                _context2.next = 21;
                break;
              }
              newEmail = localStorage.getItem("unverified_email");
              if (newEmail) {
                _context2.next = 15;
                break;
              }
              _SharedFunction["default"].hideLoadingView(self);
              _this3.showLableError(_this3.myError1Label, "Email not found");
              return _context2.abrupt("return");

             case 15:
              params.email = newEmail;
              params.emailOtp = emailOtp;
              newUsername = localStorage.getItem("unverified_username");
              newUsername && newUsername !== userObj.fullName && (params.fullName = newUsername);
              _context2.next = 27;
              break;

             case 21:
              _newUsername = localStorage.getItem("unverified_username");
              if (!(!_newUsername || _newUsername === userObj.fullName)) {
                _context2.next = 26;
                break;
              }
              _SharedFunction["default"].hideLoadingView(self);
              _this3.showLableError(_this3.myError1Label, "No changes to update");
              return _context2.abrupt("return");

             case 26:
              params.fullName = _newUsername;

             case 27:
              _context2.next = 29;
              return _UserService["default"].updateProfile(token, params);

             case 29:
              response = _context2.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context2.next = 33;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this3);
              return _context2.abrupt("return");

             case 33:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context2.next = 36;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this3);
              return _context2.abrupt("return");

             case 36:
              if (200 === response.status && false !== response.success) {
                _SharedFunction["default"].hideLoadingView(self);
                console.log("response", response);
                updatedUserObj = _SharedData["default"].getUserObject();
                if (response.data && response.data.player) {
                  response.data.player.email && (updatedUserObj.email = response.data.player.email);
                  void 0 !== response.data.player.emailVerified && (updatedUserObj.emailVerified = response.data.player.emailVerified);
                  response.data.player.emailVerifiedAt && (updatedUserObj.emailVerifiedAt = response.data.player.emailVerifiedAt);
                  response.data.player.fullName && (updatedUserObj.fullName = response.data.player.fullName);
                  _SharedData["default"].setUserObject(updatedUserObj);
                }
                if (null != emailOtp) {
                  _newEmail = localStorage.getItem("unverified_email");
                  if (_newEmail) {
                    _this3.myEmailInput.getComponent(cc.EditBox).string = _newEmail;
                    localStorage.removeItem("unverified_email");
                  }
                }
                _newUsername2 = localStorage.getItem("unverified_username");
                if (_newUsername2) {
                  _this3.myUsernameInput.getComponent(cc.EditBox).string = _newUsername2;
                  localStorage.removeItem("unverified_username");
                }
                _this3.mCallBack && _this3.mCallBack.myCloseEditBasicInfoDidPressed("", "", true, true);
              } else {
                _SharedFunction["default"].hideLoadingView(self);
                errorMessage = response.message || "Failed to update profile";
                _this3.showLableError(_this3.myError1Label, errorMessage);
              }
              _context2.next = 50;
              break;

             case 39:
              _context2.prev = 39;
              _context2.t0 = _context2["catch"](6);
              if (!_SharedFunction["default"].handleSessionExpiration(_context2.t0, _this3)) {
                _context2.next = 43;
                break;
              }
              return _context2.abrupt("return");

             case 43:
              if (!_SharedFunction["default"].handleServerError(_context2.t0, _this3)) {
                _context2.next = 46;
                break;
              }
              _SharedFunction["default"].hideLoadingView(self);
              return _context2.abrupt("return");

             case 46:
              _SharedFunction["default"].hideLoadingView(self);
              console.error("Update profile error:", _context2.t0);
              _errorMessage = _context2.t0.message || "Failed to update profile";
              _this3.showLableError(_this3.myError1Label, _errorMessage);

             case 50:
             case "end":
              return _context2.stop();
            }
          }, _callee2, null, [ [ 6, 39 ] ]);
        }))();
      },
      updatePrefabSize: function updatePrefabSize() {
        var visibleSize = cc.view.getVisibleSize();
        this.myVerificationView && this.myVerificationView.init(0, 0, visibleSize.width, visibleSize.height);
      }
    });
    cc._RF.pop();
  }, {
    "../Services/UserService": "UserService",
    SharedData: "SharedData",
    SharedFunction: "SharedFunction",
    SimpleBirthdayPicker: "SimpleBirthdayPicker"
  } ],
  ForgotPassword: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "5e1d4+qqeBLU7JbxWEKE4A/", "ForgotPassword");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _AuthServices = _interopRequireDefault(require("../Services/AuthServices"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        myVerificationView: null,
        myResetPasswordView: null,
        mBackground: {
          default: null,
          type: cc.Node
        },
        mPhoneNumber: {
          default: null,
          type: cc.Node
        },
        myErrorLabel: {
          default: null,
          type: cc.Node
        },
        mPasswordInput: {
          default: null,
          type: cc.Node
        },
        mConfirmPasswordInput: {
          default: null,
          type: cc.Node
        },
        mCodeInput: {
          default: null,
          type: cc.Node
        },
        mIsRequestedTac: false,
        mRequestTacButton: {
          default: null,
          type: cc.Node
        },
        mCountDownTimer: {
          default: 60,
          type: cc.Float
        },
        mPhoneNoLabel: {
          default: null,
          type: cc.Node
        },
        mCodeLabel: {
          default: null,
          type: cc.Node
        },
        mCodeHolderLabel: {
          default: null,
          type: cc.Node
        },
        mPasswordLabel: {
          default: null,
          type: cc.Node
        },
        mPasswordHolderLabel: {
          default: null,
          type: cc.Node
        },
        mConfirmPasswordLabel: {
          default: null,
          type: cc.Node
        },
        mConfirmPasswordHolderLabel: {
          default: null,
          type: cc.Node
        },
        mConfirmLabel: {
          default: null,
          type: cc.Node
        },
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        mTitleLabel: {
          default: null,
          type: cc.Node
        },
        mDescLabel: {
          default: null,
          type: cc.Node
        },
        mClickHereLabel: {
          default: null,
          type: cc.Node
        },
        mCustomerSupportLabel: {
          default: null,
          type: cc.Node
        },
        mNextLabel: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.localizeUI();
      },
      onDestroy: function onDestroy() {},
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
        this.mBackground.width = width;
        this.mBackground.height = height;
      },
      setCallBack: function setCallBack(callBack, isFrom) {
        void 0 === isFrom && (isFrom = "LOBBY");
        this.mCallBack = callBack;
        this.isFrom = isFrom;
      },
      updateView: function updateView(callBack) {
        this.localizeUI();
        this.mCallBack = callBack;
        this.mBackground.active = true;
        this.myErrorLabel.active = false;
        this.node.opacity = 255;
        var forgotpass_bg = this.mBackground.getChildByName("forgotpassword_bg");
        forgotpass_bg.setScale(0);
        cc.tween(forgotpass_bg).to(1 / 3, {
          scale: 1
        }).to(1 / 12, {
          scale: .95
        }).to(1 / 12, {
          scale: 1
        }).start();
      },
      onRequestTacButtonDidPressed: function onRequestTacButtonDidPressed() {
        var _this = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
          var username, response;
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
             case 0:
              _SharedFunction["default"].playButtonClickSound();
              username = _this.mPhoneNumber.getComponent(cc.EditBox).string;
              if (!(0 == username.length)) {
                _context.next = 5;
                break;
              }
              _this.showLableError(_this.myErrorLabel, _SharedFunction["default"].getLocalizedString(_this.i18nJson, "mobileNoHolder"));
              return _context.abrupt("return");

             case 5:
              _SharedFunction["default"].showLoadingView("", _this);
              _context.prev = 6;
              _context.next = 9;
              return _AuthServices["default"].forgotPassword({
                username: username
              });

             case 9:
              response = _context.sent;
              response.success ? _this.showVerificationView(username, response.message, response) : _this.showLableError(_this.myErrorLabel, response.message);
              _SharedFunction["default"].hideLoadingView(_this);
              _context.next = 18;
              break;

             case 14:
              _context.prev = 14;
              _context.t0 = _context["catch"](6);
              _this.showLableError(_this.myErrorLabel, _context.t0.message);
              _SharedFunction["default"].hideLoadingView(_this);

             case 18:
             case "end":
              return _context.stop();
            }
          }, _callee, null, [ [ 6, 14 ] ]);
        }))();
      },
      onVerificationCloseButtonDidPressed: function onVerificationCloseButtonDidPressed(pageToShow, errorMsg, otp, type, username) {
        this.node.removeChild(this.myVerificationView.node);
        console.log("callback");
        "resetPassword" === pageToShow && otp ? this.showResetPasswordView(otp, type, username) : this.mCallBack.onForgotPasswordViewCloseButtonDidPressed();
      },
      showResetPasswordView: function showResetPasswordView(otp, type, username) {
        var self = this;
        cc.resources.load("prefabs/resetpassword/resetpassword", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load resetpassword prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          if (null == self.myResetPasswordView) {
            self.myResetPasswordView = cc.instantiate(prefab).getComponent("ResetPassword");
            self.updatePrefabSize();
            self.myResetPasswordView.setCallBack(self);
          }
          self.myResetPasswordView.updateView(self, username, otp, type);
          self.node.addChild(self.myResetPasswordView.node);
          self.mBackground.active = false;
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      showVerificationView: function showVerificationView(username, message, response) {
        var self = this;
        cc.resources.load("prefabs/verification/verification", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          if (null == self.myVerificationView) {
            self.myVerificationView = cc.instantiate(prefab).getComponent("Verification");
            self.updatePrefabSize();
            self.myVerificationView.setCallBack(self);
            self.myVerificationView.setForgetPasswordResponse(response);
            self.myVerificationView.setUsername(username);
          }
          self.myVerificationView.updateView(self, "forgotPasswordVerify", "ForgotPassword", message);
          self.node.addChild(self.myVerificationView.node);
          self.mBackground.active = false;
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      onResetPasswordViewCloseButtonDidPressed: function onResetPasswordViewCloseButtonDidPressed() {
        this.myResetPasswordView && this.node.removeChild(this.myResetPasswordView.node);
        this.mCallBack.onForgotPasswordViewCloseButtonDidPressed();
      },
      myCloseButtonDidPressed: function myCloseButtonDidPressed() {
        var _this2 = this;
        _SharedFunction["default"].playButtonClickSound();
        var forgotpass_bg = this.mBackground.getChildByName("forgotpassword_bg");
        cc.tween(forgotpass_bg).to(1 / 6, {
          scale: 1.1
        }).to(1 / 6, {
          scale: 0
        }).start();
        cc.tween(this.node).delay(1 / 6).to(1 / 6, {
          opacity: 0
        }).call(function() {
          _this2.mCallBack && _this2.mCallBack.onForgotPasswordViewCloseButtonDidPressed();
        }).start();
      },
      onSubmitButtonDidPressed: function onSubmitButtonDidPressed() {
        var _this3 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee2() {
          var code, password, confirmPassword, script, response, innerResponse;
          return _regeneratorRuntime().wrap(function _callee2$(_context2) {
            while (1) switch (_context2.prev = _context2.next) {
             case 0:
              _SharedFunction["default"].playButtonClickSound();
              code = _this3.mCodeInput.getChildByName("TEXT_LABEL").getComponent(cc.Label).string;
              password = _this3.mPasswordInput.getComponent(cc.EditBox).string;
              confirmPassword = _this3.mConfirmPasswordInput.getComponent(cc.EditBox).string;
              if (!(code.length < 4)) {
                _context2.next = 7;
                break;
              }
              _SharedFunction["default"].showAlertView(_SharedFunction["default"].getLocalizedString(_this3.i18nJson, "invalidCode"), _this3);
              return _context2.abrupt("return");

             case 7:
              if (!(0 == password.length)) {
                _context2.next = 10;
                break;
              }
              _SharedFunction["default"].showAlertView(_SharedFunction["default"].getLocalizedString(_this3.i18nJson, "newPasswordHolder"), _this3);
              return _context2.abrupt("return");

             case 10:
              if (_SharedFunction["default"].passwordRegexCheck(password)) {
                _context2.next = 13;
                break;
              }
              _SharedFunction["default"].showAlertView(_SharedFunction["default"].getLocalizedString(_this3.i18nJson, "invalidPassword"), _this3);
              return _context2.abrupt("return");

             case 13:
              if (!(0 == confirmPassword.length)) {
                _context2.next = 16;
                break;
              }
              _SharedFunction["default"].showAlertView(_SharedFunction["default"].getLocalizedString(_this3.i18nJson, "confirmPasswordHolder"), _this3);
              return _context2.abrupt("return");

             case 16:
              if (_SharedFunction["default"].passwordRegexCheck(confirmPassword)) {
                _context2.next = 19;
                break;
              }
              _SharedFunction["default"].showAlertView(_SharedFunction["default"].getLocalizedString(_this3.i18nJson, "invalidConfirmPassword"), _this3);
              return _context2.abrupt("return");

             case 19:
              if (!(password != confirmPassword)) {
                _context2.next = 22;
                break;
              }
              _SharedFunction["default"].showAlertView(_SharedFunction["default"].getLocalizedString(_this3.i18nJson, "invalidBothPassword"), _this3);
              return _context2.abrupt("return");

             case 22:
              _SharedFunction["default"].showLoadingView("", _this3);
              script = new ForgetPasswordScript();
              _context2.next = 26;
              return script.submitForgetPassword(_this3.mPhoneNumber, password, confirmPassword, code);

             case 26:
              response = _context2.sent;
              if (200 == response["status"]) {
                innerResponse = response["result"]["submitForgetPassword"];
                if (0 == innerResponse["status"]) _SharedFunction["default"].showAlertView(innerResponse["errorMessage"], _this3); else {
                  _this3.mCodeInput.getChildByName("TEXT_LABEL").getComponent(cc.Label).string = "";
                  _this3.mPasswordInput.getComponent(cc.EditBox).string = "";
                  _this3.mConfirmPasswordInput.getComponent(cc.EditBox).string = "";
                  _this3.mCallBack && _this3.mCallBack.callLoginApi("", "", password, _this3.mPhoneNumber);
                }
              }
              _SharedFunction["default"].hideLoadingView(_this3);

             case 29:
             case "end":
              return _context2.stop();
            }
          }, _callee2);
        }))();
      },
      showLableError: function showLableError(labelComponent, text) {
        this.myErrorLabel.active = false;
        if (labelComponent) {
          labelComponent.getComponent(cc.Label).string = text;
          labelComponent.active = true;
          cc.tween(labelComponent).to(1 / 12, {
            scale: 1.1
          }).to(1 / 12, {
            scale: 1
          }).start();
        }
      },
      localizeUI: function localizeUI() {
        this.mTitleLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "title");
        this.mDescLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "description");
        this.mClickHereLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "clickHere");
        this.mCustomerSupportLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "customerSupport");
        this.mNextLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "next");
      },
      updatePrefabSize: function updatePrefabSize() {
        var visibleSize = cc.view.getVisibleSize();
        this.myVerificationView && this.myVerificationView.init(0, 0, visibleSize.width, visibleSize.height);
        this.myResetPasswordView && this.myResetPasswordView.init(0, 0, visibleSize.width, visibleSize.height);
      },
      onCustomerSupportClicked: function onCustomerSupportClicked() {
        var _this4 = this;
        _SharedFunction["default"].playButtonClickSound();
        this.closeForgotPasswordView(function() {
          _this4.closeLoginView(function() {
            _this4.openCustomerSupport();
          });
        });
      },
      closeForgotPasswordView: function closeForgotPasswordView(callback) {
        var _this5 = this;
        var forgotpass_bg = this.mBackground.getChildByName("forgotpassword_bg");
        cc.tween(forgotpass_bg).to(1 / 6, {
          scale: 1.1
        }).to(1 / 6, {
          scale: 0
        }).start();
        cc.tween(this.node).delay(1 / 6).to(1 / 6, {
          opacity: 0
        }).call(function() {
          _this5.node.parent && _this5.node.parent.removeChild(_this5.node);
          callback && callback();
        }).start();
      },
      closeLoginView: function closeLoginView(callback) {
        if (this.mCallBack && this.mCallBack.node && "function" === typeof this.mCallBack.onForgotPasswordViewCloseButtonDidPressed && this.mCallBack.node && this.mCallBack.node.parent) {
          var loginNode = this.mCallBack.node;
          var loginBG = this.mCallBack.myLoginBG;
          loginBG && cc.tween(loginBG).to(1 / 6, {
            scale: 1.1
          }).to(1 / 6, {
            scale: 0
          }).start();
          cc.tween(loginNode).delay(1 / 6).to(1 / 6, {
            opacity: 0
          }).call(function() {
            loginNode.parent && loginNode.parent.removeChild(loginNode);
            callback && callback();
          }).start();
          return;
        }
        callback && callback();
      },
      openCustomerSupport: function openCustomerSupport() {
        if (this.mCallBack) {
          if ("function" === typeof this.mCallBack.onCustomerSupportClicked) {
            this.mCallBack.onCustomerSupportClicked();
            return;
          }
          if ("function" === typeof this.mCallBack.onSupportButtonDidPressed) {
            this.mCallBack.myBannerView && this.mCallBack.myBannerView.node && this.mCallBack.myBannerView.node.active && this.mCallBack.myBannerView.hide();
            this.mCallBack.onSupportButtonDidPressed();
            return;
          }
        }
        var lobby = this.findLobbyComponent();
        if (lobby) {
          lobby.myBannerView && lobby.myBannerView.node && lobby.myBannerView.node.active && lobby.myBannerView.hide();
          "function" === typeof lobby.onCustomerSupportClicked ? lobby.onCustomerSupportClicked() : "function" === typeof lobby.onSupportButtonDidPressed ? lobby.onSupportButtonDidPressed() : console.error("Lobby component found but does not have onCustomerSupportClicked or onSupportButtonDidPressed method");
        } else console.error("Lobby component not found in scene and callback does not have required method");
      },
      findLobbyComponent: function findLobbyComponent() {
        var scene = cc.director.getScene();
        if (scene) {
          var findLobby = function findLobby(node) {
            if (node !== scene) {
              var lobby = node.getComponent("Lobby") || node.getComponent("lobby");
              if (lobby) return lobby;
            }
            if (node.children && node.children.length > 0) for (var i = 0; i < node.children.length; i++) {
              var result = findLobby(node.children[i]);
              if (result) return result;
            }
            return null;
          };
          return findLobby(scene);
        }
        return null;
      }
    });
    cc._RF.pop();
  }, {
    "../Services/AuthServices": "AuthServices",
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  GIFLoadInit: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0421d9/659B3LNCVV1HIMfm", "GIFLoadInit");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var GIFParser_1 = require("./GIFParser");
    cc.assetManager.factory.register(".gif", function(id, data, options, onComplete) {
      console.log("Factory", id, data);
      var out = new cc.Asset();
      out._nativeAsset = data;
      onComplete && onComplete(null, out);
    });
    cc.assetManager.downloader.register(".gif", function(url, options, onComplete) {
      console.log("downloader", url);
      cc.assetManager.downloader._downloaders[".bin"](url, options, function(err, data) {
        if (!err && "string" === typeof data) {
          cc.assetManager.parser.parse(url, data, ".bin", options, onComplete);
          return;
        }
        onComplete(err, data);
      });
    });
    cc.assetManager.parser.register(".gif", function(file, options, onComplete) {
      console.log("parser", file);
      new GIFParser_1.GIFParser().handle(file, onComplete);
    });
    cc._RF.pop();
  }, {
    "./GIFParser": "GIFParser"
  } ],
  GIFParser: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "bd3830c22NCQZ/PWJA9WQRs", "GIFParser");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.GIFParser = exports.FileHead = exports.FileType = void 0;
    var LZW_1 = require("./LZW");
    var FileType;
    (function(FileType) {
      FileType[FileType["UNKNOWN"] = 0] = "UNKNOWN";
      FileType[FileType["PNG"] = 1] = "PNG";
      FileType[FileType["JPG"] = 2] = "JPG";
      FileType[FileType["GIF"] = 3] = "GIF";
      FileType[FileType["WEBP"] = 4] = "WEBP";
    })(FileType = exports.FileType || (exports.FileType = {}));
    var FileHead = function() {
      function FileHead() {}
      FileHead.IMAGE_PNG = "89504e47";
      FileHead.IMAGE_JPG = "ffd8ff";
      FileHead.IMAGE_GIF = "474946";
      FileHead.RIFF = "52494646";
      FileHead.WEBP_RIFF = FileHead.RIFF;
      FileHead.WEBP_WEBP = "57454250";
      return FileHead;
    }();
    exports.FileHead = FileHead;
    var GIFParser = function() {
      function GIFParser() {
        this._offset = 0;
        this._info = {
          header: "",
          frames: [],
          comment: ""
        };
        this._delays = [];
        this._spriteFrames = [];
        this._canvas = null;
        this._context = null;
        this.id = "GIF";
        this.async = true;
      }
      Object.defineProperty(GIFParser.prototype, "buffer", {
        get: function() {
          return this._buffer;
        },
        set: function(buffer) {
          this.clear();
          this._buffer = buffer;
          this._view = new Uint8Array(buffer);
        },
        enumerable: false,
        configurable: true
      });
      GIFParser.prototype.handle = function(item, callback) {
        this.buffer = item;
        this.getHeader();
        this.getScrDesc();
        this.getTexture();
        0 == this._spriteFrames.length ? callback(new Error("gif\u52a0\u8f7d\u5931\u8d25,\u5e27\u957f\u5ea6\u4e3a0")) : callback(null, {
          delays: this._delays,
          spriteFrames: this._spriteFrames,
          length: this._info.frames.length
        });
      };
      GIFParser.detectFormat = function(data) {
        return -1 != data.indexOf(FileHead.IMAGE_GIF) ? FileType.GIF : -1 != data.indexOf(FileHead.IMAGE_PNG) ? FileType.PNG : -1 != data.indexOf(FileHead.IMAGE_JPG) ? FileType.JPG : -1 != data.indexOf(FileHead.WEBP_RIFF) && -1 != data.indexOf(FileHead.WEBP_WEBP) ? FileType.WEBP : FileType.UNKNOWN;
      };
      GIFParser.bytes2HexString = function(arrBytes) {
        var str = "";
        for (var i = 0; i < arrBytes.length; i++) {
          var tmp;
          var num = arrBytes[i];
          tmp = num < 0 ? (255 + num + 1).toString(16) : num.toString(16);
          1 == tmp.length && (tmp = "0" + tmp);
          str += tmp;
        }
        return str;
      };
      GIFParser.prototype.getTexture = function() {
        var index = 0;
        for (var _i = 0, _a = this._info.frames; _i < _a.length; _i++) {
          var frame = _a[_i];
          this.decodeFrame2Texture(frame, index++);
        }
      };
      GIFParser.prototype.getSpriteFrame = function(index) {
        if (this._spriteFrames[index]) return this._spriteFrames[index];
        return this.decodeFrame2Texture(this._info.frames[index], index);
      };
      GIFParser.prototype.decodeFrame = function(frame) {
        var _this = this;
        var imageData = this._context.getImageData(frame.img.x, frame.img.y, frame.img.w, frame.img.h);
        frame.img.m ? this._tab = frame.img.colorTab : this._tab = this._info.colorTab;
        LZW_1.default.decode(frame.img.srcBuf, frame.img.codeSize).forEach(function(j, k) {
          imageData.data[4 * k] = _this._tab[3 * j];
          imageData.data[4 * k + 1] = _this._tab[3 * j + 1];
          imageData.data[4 * k + 2] = _this._tab[3 * j + 2];
          imageData.data[4 * k + 3] = 255;
          frame.ctrl.t && j == frame.ctrl.tranIndex ? imageData.data[4 * k + 3] = 0 : 0;
        });
        return imageData;
      };
      GIFParser.prototype.mergeFrames = function(lastImageData, curImageData) {
        var imageData = curImageData;
        if (lastImageData) for (var i = 0; i < imageData.data.length; i += 4) if (0 == imageData.data[i + 3]) {
          imageData.data[i] = this._lastData.data[i];
          imageData.data[i + 1] = this._lastData.data[i + 1];
          imageData.data[i + 2] = this._lastData.data[i + 2];
          imageData.data[i + 3] = this._lastData.data[i + 3];
        }
        return imageData;
      };
      GIFParser.prototype.dataUrl2SpriteFrame = function(dataUrl) {
        var texture = new cc.Texture2D();
        var spriteFrame = new cc.SpriteFrame();
        var image = new Image();
        image.src = dataUrl;
        texture.initWithElement(image);
        spriteFrame.setTexture(texture);
        return spriteFrame;
      };
      GIFParser.prototype.date2SpriteFrame = function(data, w, h) {
        var texture = new cc.RenderTexture();
        var spriteFrame = new cc.SpriteFrame();
        texture.initWithData(data.data, cc.Texture2D.PixelFormat.RGBA8888, w, h);
        spriteFrame.setTexture(texture);
        return spriteFrame;
      };
      GIFParser.prototype.putImageDataJSB = function(imageData, x, y, frame) {
        var _this = this;
        var cheeckNullPixel = function() {
          if (4 == imageData.data[0] && 0 == imageData.data[1] && 0 == imageData.data[2] && 0 == imageData.data[3]) return true;
          return false;
        };
        var checkAlpha = function() {
          var alphaCount = 0;
          for (var i = 0; i < imageData.height; i += 2) {
            var lineCount = 0;
            for (var j = 0; j < imageData.width; j++) {
              var indexData = 4 * i * imageData.width + 4 * j;
              0 == imageData.data[indexData + 3] && lineCount++;
            }
            lineCount / imageData.width > .1 && alphaCount++;
            if (alphaCount / (imageData.height / 2) > .6) return true;
          }
          return false;
        };
        var replay = function() {
          for (var i = 0; i < imageData.height; i++) for (var j = 0; j < imageData.width; j++) {
            var indexData = 4 * i * imageData.width + 4 * j;
            var indexLastData = 4 * (i + y) * _this._lastData.width + 4 * (j + x);
            if (0 != imageData.data[indexData + 3]) {
              _this._lastData.data[indexLastData] = imageData.data[indexData];
              _this._lastData.data[indexLastData + 1] = imageData.data[indexData + 1];
              _this._lastData.data[indexLastData + 2] = imageData.data[indexData + 2];
              _this._lastData.data[indexLastData + 3] = imageData.data[indexData + 3];
            }
          }
        };
        var clearAndReplay = function() {
          for (var i = 0; i < _this._lastData.height; i++) for (var j = 0; j < _this._lastData.width; j++) {
            var indexLastData = 4 * i * _this._lastData.width + 4 * j;
            var indexData = 4 * (i - y) * imageData.width + 4 * (j - x);
            var clear = false;
            (j < x || j > x + imageData.width) && (clear = true);
            (i < y || i > y + imageData.height) && (clear = true);
            if (clear) {
              _this._lastData.data[indexLastData + 0] = 0;
              _this._lastData.data[indexLastData + 1] = 0;
              _this._lastData.data[indexLastData + 2] = 0;
              _this._lastData.data[indexLastData + 3] = 0;
            } else {
              _this._lastData.data[indexLastData + 0] = imageData.data[indexData + 0];
              _this._lastData.data[indexLastData + 1] = imageData.data[indexData + 1];
              _this._lastData.data[indexLastData + 2] = imageData.data[indexData + 2];
              _this._lastData.data[indexLastData + 3] = imageData.data[indexData + 3];
            }
          }
        };
        if (cheeckNullPixel()) return;
        1 == frame.ctrl.disp || 0 == frame.ctrl.disp ? replay() : 2 == frame.ctrl.disp ? clearAndReplay() : checkAlpha() ? clearAndReplay() : replay();
      };
      GIFParser.prototype.putImageDataWeb = function(imageData, frame) {
        var finalImageData;
        if (1 == frame.ctrl.disp || 0 == frame.ctrl.disp) {
          this._context.putImageData(imageData, frame.img.x, frame.img.y, 0, 0, frame.img.w, frame.img.h);
          var curImageData = this._context.getImageData(0, 0, this._canvas.width, this._canvas.height);
          var lastImageData = this._lastData;
          finalImageData = this.mergeFrames(lastImageData, curImageData);
        } else {
          this._context.clearRect(0, 0, this._canvas.width, this._canvas.height);
          this._context.putImageData(imageData, frame.img.x, frame.img.y, 0, 0, frame.img.w, frame.img.h);
          finalImageData = this._context.getImageData(0, 0, this._canvas.width, this._canvas.height);
        }
        this._context.putImageData(finalImageData, 0, 0);
        this._lastData = finalImageData;
        return this._canvas.toDataURL();
      };
      GIFParser.prototype.decodeFrame2Texture = function(frame, index) {
        if (!this._context) {
          this._canvas = document.createElement("canvas");
          this._context = this._canvas.getContext("2d");
          this._canvas.width = frame.img.w;
          this._canvas.height = frame.img.h;
        }
        var imageData = this.decodeFrame(frame);
        this._delays[index] = frame.ctrl.delay;
        false;
        var dataUrl = this.putImageDataWeb(imageData, frame);
        this._spriteFrames[index] = this.dataUrl2SpriteFrame(dataUrl);
        return this._spriteFrames[index];
      };
      GIFParser.prototype.read = function(len) {
        return this._view.slice(this._offset, this._offset += len);
      };
      GIFParser.prototype.getHeader = function() {
        var _this = this;
        this._info.header = "";
        this.read(6).forEach(function(e, i, arr) {
          _this._info.header += String.fromCharCode(e);
        });
      };
      GIFParser.prototype.getScrDesc = function() {
        var arr = this.read(7), i;
        this._info.w = arr[0] + (arr[1] << 8);
        this._info.h = arr[2] + (arr[3] << 8);
        this._info.m = 1 & arr[4] >> 7;
        this._info.cr = 7 & arr[4] >> 4;
        this._info.s = 1 & arr[4] >> 3;
        this._info.pixel = 7 & arr[4];
        this._info.bgColor = arr[5];
        this._info.radio = arr[6];
        this._info.m && (this._info.colorTab = this.read(3 * (2 << this._info.pixel)));
        this.decode();
      };
      GIFParser.prototype.decode = function() {
        var srcBuf = [];
        var arr = this.read(1);
        switch (arr[0]) {
         case 33:
          this.extension();
          break;

         case 44:
          arr = this.read(9);
          this._frame.img = {
            x: arr[0] + (arr[1] << 8),
            y: arr[2] + (arr[3] << 8),
            w: arr[4] + (arr[5] << 8),
            h: arr[6] + (arr[7] << 8),
            colorTab: 0
          };
          this._frame.img.m = 1 & arr[8] >> 7;
          this._frame.img.i = 1 & arr[8] >> 6;
          this._frame.img.s = 1 & arr[8] >> 5;
          this._frame.img.r = 3 & arr[8] >> 3;
          this._frame.img.pixel = 7 & arr[8];
          this._frame.img.m && (this._frame.img.colorTab = this.read(3 * (2 << this._frame.img.pixel)));
          this._frame.img.codeSize = this.read(1)[0];
          srcBuf = [];
          while (1) {
            arr = this.read(1);
            if (!arr[0]) {
              this._frame.img.srcBuf = srcBuf;
              this.decode();
              break;
            }
            this.read(arr[0]).forEach(function(e, i, arr) {
              srcBuf.push(e);
            });
          }
        }
      };
      GIFParser.prototype.extension = function() {
        var _this = this;
        var arr = this.read(1), o, s;
        switch (arr[0]) {
         case 255:
          if (11 != this.read(1)[0]) throw new Error("\u89e3\u6790\u51fa\u9519");
          this._info.appVersion = "";
          this.read(11).forEach(function(e, i, arr) {
            _this._info.appVersion += String.fromCharCode(e);
          });
          while (1) {
            arr = this.read(1);
            if (!arr[0]) {
              this.decode();
              break;
            }
            this.read(arr[0]);
          }
          break;

         case 249:
          if (4 != this.read(1)[0]) throw new Error("\u89e3\u6790\u51fa\u9519");
          arr = this.read(4);
          this._frame = {};
          this._frame.ctrl = {
            disp: 7 & arr[0] >> 2,
            i: 1 & arr[0] >> 1,
            t: 1 & arr[0],
            delay: arr[1] + (arr[2] << 8),
            tranIndex: arr[3]
          };
          this._info.frames.push(this._frame);
          if (0 != this.read(1)[0]) throw new Error("\u89e3\u6790\u51fa\u9519");
          this.decode();
          break;

         case 254:
          arr = this.read(1);
          if (arr[0]) {
            this.read(arr[0]).forEach(function(e, i, arr) {
              _this._info.comment += String.fromCharCode(e);
            });
            0 == this.read(1)[0] && this.decode();
          }
        }
      };
      GIFParser.prototype.clear = function() {
        this._tab = null;
        this._view = null;
        this._frame = null;
        this._offset = 0;
        this._info = {
          header: "",
          frames: [],
          comment: ""
        };
        this._lastData = null;
        this._delays = [];
        this._spriteFrames = [];
        this._canvas = null;
        this._context = null;
      };
      return GIFParser;
    }();
    exports.GIFParser = GIFParser;
    cc._RF.pop();
  }, {
    "./LZW": "LZW"
  } ],
  GameContainer: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2692f0fCG5BApiVju8pJ4Vx", "GameContainer");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _GameService = _interopRequireDefault(require("../Services/GameService"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    var SharedData = require("SharedData");
    cc.Class({
      extends: cc.Component,
      properties: {
        myGameImg: {
          default: null,
          type: cc.Node
        },
        myGameLabel: {
          default: null,
          type: cc.Node
        },
        myGameWebView: null
      },
      onLoad: function onLoad() {},
      init: function init(x, y, gameData, callBack) {
        this.node.x = x;
        this.node.y = y;
        this.gameData = gameData;
        this.mCallBack = callBack;
        var self = this;
        this.myGameLabel.getComponent(cc.Label).string = this.gameData.name;
        if (this.gameData.thumbnailUrl) {
          var proxies = [ "https://corsproxy.io/?", "https://api.codetabs.com/v1/proxy?quest=", "https://cors.bridged.cc/" ];
          var imageUrl = proxies[1] + encodeURIComponent(this.gameData.thumbnailUrl);
          cc.assetManager.loadRemote(imageUrl, function(err, texture) {
            if (err) {
              console.error("Failed to load image:", err);
              return;
            }
            var spriteFrame = new cc.SpriteFrame(texture);
            var sprite = self.myGameImg.getComponent(cc.Sprite);
            if (sprite) {
              sprite.type = cc.Sprite.Type.SIMPLE;
              self.myGameImg.getComponent(cc.Sprite).spriteFrame = spriteFrame;
              self.fitImageToNode(texture.width, texture.height);
            }
          });
        }
      },
      fitImageToNode: function fitImageToNode(imgWidth, imgHeight) {
        var node = this.myGameImg;
        var maxWidth = 210;
        var maxHeight = 118;
        var width = imgWidth;
        var height = imgHeight;
        if (width > maxWidth || height > maxHeight) {
          var widthRatio = maxWidth / width;
          var heightRatio = maxHeight / height;
          var ratio = Math.min(widthRatio, heightRatio);
          width *= ratio;
          height *= ratio;
        }
        node.width = width;
        node.height = height;
      },
      onclick: function onclick() {
        console.log("GameContainer: onclick", this.gameData);
        _SharedFunction["default"].playButtonClickSound();
        _SharedFunction["default"].showLoadingView("", this.mCallBack || this);
        if (!this.gameData || !this.gameData._id) {
          console.error("GameContainer: Game data or game ID is missing");
          _SharedFunction["default"].hideLoadingView(this.mCallBack || this);
          return;
        }
        var token = localStorage.getItem("token");
        if (!token) {
          console.error("GameContainer: User is not logged in");
          _SharedFunction["default"].hideLoadingView(this.mCallBack || this);
          this.mCallBack && "function" === typeof this.mCallBack.onLoginButtonDidPressed && this.mCallBack.onLoginButtonDidPressed();
          return;
        }
        var deviceType = _SharedFunction["default"].isMobile() ? "mobile" : "desktop";
        var lang = SharedData.getCurrentLanguage() || "en";
        this.launchGame(this.gameData._id, lang, deviceType, token);
      },
      launchGame: function launchGame(gameId, lang, deviceType, token) {
        var _this = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
          var response;
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
             case 0:
              _context.prev = 0;
              _context.next = 3;
              return _GameService["default"].launchGame(gameId, {
                lang: lang,
                deviceType: deviceType
              }, token);

             case 3:
              response = _context.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context.next = 7;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this.mCallBack || _this);
              return _context.abrupt("return");

             case 7:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context.next = 10;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this.mCallBack || _this);
              return _context.abrupt("return");

             case 10:
              if (response.success && response.launchUrl) {
                _SharedFunction["default"].hideLoadingView(_this.mCallBack || _this);
                _this.loadGameWebView(response.launchUrl);
              } else {
                console.error("GameContainer: Failed to launch game", response.message);
                _SharedFunction["default"].hideLoadingView(_this.mCallBack || _this);
              }
              _context.next = 22;
              break;

             case 13:
              _context.prev = 13;
              _context.t0 = _context["catch"](0);
              if (!_SharedFunction["default"].handleSessionExpiration(_context.t0, _this.mCallBack || _this)) {
                _context.next = 17;
                break;
              }
              return _context.abrupt("return");

             case 17:
              if (!_SharedFunction["default"].handleServerError(_context.t0, _this.mCallBack || _this)) {
                _context.next = 20;
                break;
              }
              _SharedFunction["default"].hideLoadingView(_this.mCallBack || _this);
              return _context.abrupt("return");

             case 20:
              console.error("GameContainer: Error launching game", _context.t0);
              _SharedFunction["default"].hideLoadingView(_this.mCallBack || _this);

             case 22:
             case "end":
              return _context.stop();
            }
          }, _callee, null, [ [ 0, 13 ] ]);
        }))();
      },
      loadGameWebView: function loadGameWebView(gameUrl) {
        var self = this;
        cc.resources.load("prefabs/game/GameWebView", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("GameContainer: Failed to load GameWebView prefab:", err);
            return;
          }
          if (null == self.myGameWebView) {
            self.myGameWebView = cc.instantiate(prefab).getComponent("GameWebView");
            self.myGameWebView.updatePrefabSize();
          }
          self.myGameWebView.init(gameUrl, self.mCallBack || self);
          var parentNode = self.mCallBack ? self.mCallBack.node : self.node.parent;
          parentNode ? parentNode.addChild(self.myGameWebView.node) : cc.director.getScene().addChild(self.myGameWebView.node);
        });
      }
    });
    cc._RF.pop();
  }, {
    "../Services/GameService": "GameService",
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  GameGroup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1be052pJmBPFboIz0AnBBN2", "GameGroup");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        gameGroupIcon: {
          default: null,
          type: cc.Node
        },
        gameGroupLabel: {
          default: null,
          type: cc.Node
        },
        selectedBg: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {},
      init: function init(x, y, data, callBack) {
        var self = this;
        this.node.x = x;
        this.node.y = y;
        this.data = data;
        this.mCallBack = callBack;
        this.node.name = data.code;
        this.gameGroupLabel.getComponent(cc.Label).string = data.name;
        if (-43 == y) {
          this.onClick(null, null, true);
          this.gameGroupLabel.getComponent(cc.Label).fontSize = 22;
        } else {
          this.selectedBg && (this.selectedBg.active = false);
          this.gameGroupLabel.getComponent(cc.Label).node.color = cc.Color.WHITE;
          cc.loader.loadRes("images/lobby/" + this.data.code + "Off.png", cc.SpriteFrame, function(err, spriteFrame) {
            self.gameGroupIcon.getComponent(cc.Sprite).spriteFrame = spriteFrame;
          });
        }
      },
      onClick: function onClick(event, customEventData, codeTrigger) {
        var self = this;
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        this.mCallBack.onGameGroupButtonDidPressed(this.data);
        this.selectedBg && (this.selectedBg.active = true);
        this.gameGroupLabel.getComponent(cc.Label).node.color = cc.Color.BLACK;
        this.gameGroupLabel.getComponent(cc.Label).fontSize = 22;
        cc.loader.loadRes("images/lobby/" + this.data.code + "On.png", cc.SpriteFrame, function(err, spriteFrame) {
          self.gameGroupIcon.getComponent(cc.Sprite).spriteFrame = spriteFrame;
        });
      },
      unClick: function unClick() {
        var self = this;
        this.selectedBg && (this.selectedBg.active = false);
        this.gameGroupLabel.getComponent(cc.Label).node.color = cc.Color.WHITE;
        this.gameGroupLabel.getComponent(cc.Label).fontSize = 18;
        cc.loader.loadRes("images/lobby/" + this.data.code + "Off.png", cc.SpriteFrame, function(err, spriteFrame) {
          self.gameGroupIcon.getComponent(cc.Sprite).spriteFrame = spriteFrame;
        });
      }
    });
    cc._RF.pop();
  }, {
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  GameList: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "17f3bscjDxFbIO34OW2kqaB", "GameList");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    var _GameService = _interopRequireDefault(require("../Services/GameService"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        mCurrentDeveloper: "",
        mLastSearch: "",
        mShowingGames: [],
        createdLogos: [],
        createdGames: [],
        mySearchInput: {
          default: null,
          type: cc.Node
        },
        myDeveloperLabel: {
          default: null,
          type: cc.Node
        },
        myTotalLabel: {
          default: null,
          type: cc.Node
        },
        myLogoScrollView: {
          default: null,
          type: cc.Node
        },
        myLogoScrollViewContent: {
          default: null,
          type: cc.Node
        },
        myGameScrollView: {
          default: null,
          type: cc.Node
        },
        myGameScrollViewContent: {
          default: null,
          type: cc.Node
        },
        mLogoTabPrefab: {
          default: null,
          type: cc.Prefab
        },
        mGamePrefab: {
          default: null,
          type: cc.Prefab
        },
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        mSearchGameNameLabel: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.localizeUI();
      },
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
      },
      updateView: function updateView(developerData, providerData, callBack) {
        var self = this;
        this.localizeUI();
        this.mCallBack = callBack;
        this.developerData = developerData;
        this.providerData = providerData;
        this.mCurrentDeveloper = "";
        this.mLastSearch = "";
        this.mShowingGames = [];
        this.mySearchInput.getComponent(cc.EditBox).string = "";
        this.myDeveloperLabel.getComponent(cc.Label).string = this.developerData.name;
        this.node.active = true;
        this.drawDeveloperLogo();
        var widget = this.node.getComponent(cc.Widget);
        widget.left = this.node.width;
        widget.right = -1 * this.node.width;
        cc.tween(widget).to(1 / 6, {
          left: 0,
          right: 0
        }).start();
      },
      setCallBack: function setCallBack(callBack) {
        this.mCallBack = callBack;
      },
      drawDeveloperLogo: function drawDeveloperLogo() {
        var self = this;
        var gameCategories = _SharedData["default"].getGameCategories();
        for (var key in gameCategories) {
          var providers = gameCategories[key];
          if (providers.code == this.providerData.code) {
            var developers = providers.developers;
            for (var key2 in developers) {
              var developerData = developers[key2];
              var logoPref = new cc.instantiate(this.mLogoTabPrefab).getComponent("DeveloperLogo");
              logoPref.init(0, -34 - 84 * parseInt(key2), developerData, this);
              this.myLogoScrollViewContent.addChild(logoPref.node);
              this.createdLogos.push(logoPref);
            }
            this.myLogoScrollViewContent.height = 68 + 84 * (developers.length - 1);
            break;
          }
        }
      },
      myBackButtonDidPressed: function myBackButtonDidPressed(event, customEventData, codeTrigger) {
        var _this = this;
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var widget = this.node.getComponent(cc.Widget);
        cc.tween(widget).to(1 / 6, {
          left: this.node.width,
          right: -1 * this.node.width
        }).call(function() {
          _this.createdLogos.forEach(function(logo) {
            logo && logo.isValid && logo.node.removeFromParent();
          });
          _this.createdLogos = [];
        }).start();
        this.mCallBack && this.mCallBack.onGameListBackButtonDidPressed();
      },
      onDeveloperLogoButtonDidPressed: function onDeveloperLogoButtonDidPressed(event, customEventData, codeTrigger, developerData) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        this.createdLogos.forEach(function(logo) {
          logo && logo.isValid && logo.unClick();
        });
        this.callCategoriesWithGamesApi({
          status: "active",
          categoryId: this.providerData._id,
          developerId: developerData._id
        });
        this.mCurrentDeveloper = customEventData;
      },
      onSearchButtonDidPressed: function onSearchButtonDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var searchWord = this.mySearchInput.getComponent(cc.EditBox).string;
        if (searchWord != this.mLastSearch) {
          this.createdGames.forEach(function(game) {
            game && game.isValid && game.node.removeFromParent();
          });
          this.createdGames = [];
          var filterGames = this.mShowingGames.filter(function(game) {
            return game.name.includes(searchWord);
          });
          this.myTotalLabel.getComponent(cc.Label).string = _SharedFunction["default"].formatString(_SharedFunction["default"].getLocalizedString(this.i18nJson, "totalGame"), filterGames.length);
          var lastY = -89;
          for (var key in filterGames) {
            var gameData = filterGames[key];
            var positionX = 226 * (((parseInt(key) + 1) % 4 == 0 ? 4 : (parseInt(key) + 1) % 4) - 1) - 341;
            var positionY = -89 - 160 * (Math.ceil((parseInt(key) + 1) / 4) - 1);
            var gamePref = new cc.instantiate(this.mGamePrefab).getComponent("GameContainer");
            gamePref.init(positionX, positionY, gameData, this);
            lastY = positionY;
            this.myGameScrollViewContent.addChild(gamePref.node);
            this.createdGames.push(gamePref);
          }
          this.myGameScrollViewContent.height = -1 * lastY + 80;
          this.myGameScrollView.getComponent(cc.ScrollView).scrollToTop(0);
          this.mLastSearch = searchWord;
        }
      },
      callCategoriesWithGamesApi: function callCategoriesWithGamesApi(params) {
        var _this2 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
          var response, responseData, developerData, pageData, gameList, lastY, key, gameData, positionX, positionY, gamePref;
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
             case 0:
              _context.prev = 0;
              _context.next = 3;
              return _GameService["default"].getCategoriesWithGames(params);

             case 3:
              response = _context.sent;
              if (200 == response.status) {
                responseData = response.data;
                if (0 != responseData.length) {
                  _this2.createdGames.forEach(function(game) {
                    game && game.isValid && game.node.removeFromParent();
                  });
                  _this2.createdGames = [];
                  developerData = responseData[0];
                  pageData = developerData.pagination;
                  gameList = developerData.games;
                  lastY = -89;
                  _this2.myTotalLabel.getComponent(cc.Label).string = _SharedFunction["default"].formatString(_SharedFunction["default"].getLocalizedString(_this2.i18nJson, "totalGame"), pageData.total);
                  _this2.mShowingGames = gameList;
                  for (key in gameList) {
                    gameData = gameList[key];
                    positionX = 226 * (((parseInt(key) + 1) % 4 == 0 ? 4 : (parseInt(key) + 1) % 4) - 1) - 341;
                    positionY = -89 - 160 * (Math.ceil((parseInt(key) + 1) / 4) - 1);
                    gamePref = new cc.instantiate(_this2.mGamePrefab).getComponent("GameContainer");
                    gamePref.init(positionX, positionY, gameData, _this2);
                    lastY = positionY;
                    _this2.myGameScrollViewContent.addChild(gamePref.node);
                    _this2.createdGames.push(gamePref);
                  }
                  _this2.myGameScrollViewContent.height = -1 * lastY + 80;
                  _this2.myGameScrollView.getComponent(cc.ScrollView).scrollToTop(0);
                }
              }
              _context.next = 10;
              break;

             case 7:
              _context.prev = 7;
              _context.t0 = _context["catch"](0);
              console.log(_context.t0);

             case 10:
             case "end":
              return _context.stop();
            }
          }, _callee, null, [ [ 0, 7 ] ]);
        }))();
      },
      localizeUI: function localizeUI() {
        this.myTotalLabel.getComponent(cc.Label).string = _SharedFunction["default"].formatString(_SharedFunction["default"].getLocalizedString(this.i18nJson, "totalGame"), 0);
        this.mSearchGameNameLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "searchGameName");
      },
      updatePrefabSize: function updatePrefabSize() {
        var visibleSize = cc.view.getVisibleSize();
      }
    });
    cc._RF.pop();
  }, {
    "../Services/GameService": "GameService",
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  GameService: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "362ecusv1tJiI5WAo6n6T/5", "GameService");
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.GameService = void 0;
    var NetworkService_1 = require("./NetworkService");
    var GameService = function() {
      function GameService() {}
      GameService.getDashboard = function(token) {
        var _a, _b, _c;
        return __awaiter(this, void 0, Promise, function() {
          var response, dashboardData, error_1;
          return __generator(this, function(_d) {
            switch (_d.label) {
             case 0:
              _d.trys.push([ 0, 2, , 3 ]);
              return [ 4, NetworkService_1.NetworkService.get(this.DASHBOARD_ENDPOINT, void 0, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _d.sent();
              dashboardData = (null === (_a = response.data) || void 0 === _a ? void 0 : _a.data) || response.data;
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: dashboardData,
                tenantId: null === dashboardData || void 0 === dashboardData ? void 0 : dashboardData.tenantId,
                tenantName: null === dashboardData || void 0 === dashboardData ? void 0 : dashboardData.tenantName,
                settlementMode: null === dashboardData || void 0 === dashboardData ? void 0 : dashboardData.settlementMode,
                settings: null === dashboardData || void 0 === dashboardData ? void 0 : dashboardData.settings
              } ];

             case 2:
              error_1 = _d.sent();
              console.error("GameService.getDashboard error:", error_1);
              throw {
                status: error_1.status || 500,
                data: error_1.data || null,
                message: error_1.message || "Failed to fetch dashboard settings",
                error: error_1
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      GameService.getDevelopers = function(params) {
        var _a, _b, _c, _d;
        return __awaiter(this, void 0, Promise, function() {
          var queryParams, response, developersData, error_2;
          return __generator(this, function(_e) {
            switch (_e.label) {
             case 0:
              _e.trys.push([ 0, 2, , 3 ]);
              queryParams = {};
              (null === params || void 0 === params ? void 0 : params.status) && (queryParams.status = params.status);
              return [ 4, NetworkService_1.NetworkService.get(this.DEVELOPERS_ENDPOINT, Object.keys(queryParams).length > 0 ? queryParams : void 0, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _e.sent();
              developersData = (null === (_a = response.data) || void 0 === _a ? void 0 : _a.data) || [];
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: developersData,
                developers: developersData,
                count: null === (_d = response.data) || void 0 === _d ? void 0 : _d.count
              } ];

             case 2:
              error_2 = _e.sent();
              console.error("GameService.getDevelopers error:", error_2);
              throw {
                status: error_2.status || 500,
                data: error_2.data || null,
                message: error_2.message || "Failed to fetch developers",
                error: error_2
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      GameService.getDeveloperById = function(developerId) {
        var _a, _b, _c;
        return __awaiter(this, void 0, Promise, function() {
          var endpoint, response, developerData, error_3;
          return __generator(this, function(_d) {
            switch (_d.label) {
             case 0:
              _d.trys.push([ 0, 2, , 3 ]);
              endpoint = this.DEVELOPERS_ENDPOINT + "/" + developerId;
              return [ 4, NetworkService_1.NetworkService.get(endpoint, void 0, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _d.sent();
              developerData = null === (_a = response.data) || void 0 === _a ? void 0 : _a.data;
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: developerData,
                developer: developerData
              } ];

             case 2:
              error_3 = _d.sent();
              console.error("GameService.getDeveloperById error:", error_3);
              throw {
                status: error_3.status || 500,
                data: error_3.data || null,
                message: error_3.message || "Failed to fetch developer",
                error: error_3
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      GameService.getCategories = function(params) {
        var _a, _b, _c, _d;
        return __awaiter(this, void 0, Promise, function() {
          var queryParams, response, categoriesData, error_4;
          return __generator(this, function(_e) {
            switch (_e.label) {
             case 0:
              _e.trys.push([ 0, 2, , 3 ]);
              queryParams = {};
              void 0 !== (null === params || void 0 === params ? void 0 : params.topLevel) && (queryParams.topLevel = params.topLevel);
              (null === params || void 0 === params ? void 0 : params.status) && (queryParams.status = params.status);
              return [ 4, NetworkService_1.NetworkService.get(this.CATEGORIES_ENDPOINT, Object.keys(queryParams).length > 0 ? queryParams : void 0, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _e.sent();
              categoriesData = (null === (_a = response.data) || void 0 === _a ? void 0 : _a.data) || [];
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: categoriesData,
                categories: categoriesData,
                count: null === (_d = response.data) || void 0 === _d ? void 0 : _d.count
              } ];

             case 2:
              error_4 = _e.sent();
              console.error("GameService.getCategories error:", error_4);
              throw {
                status: error_4.status || 500,
                data: error_4.data || null,
                message: error_4.message || "Failed to fetch categories",
                error: error_4
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      GameService.getCategoriesWithProviders = function(params) {
        var _a, _b, _c, _d;
        return __awaiter(this, void 0, Promise, function() {
          var queryParams, response, categoriesData, error_5;
          return __generator(this, function(_e) {
            switch (_e.label) {
             case 0:
              _e.trys.push([ 0, 2, , 3 ]);
              queryParams = {};
              (null === params || void 0 === params ? void 0 : params.status) && (queryParams.status = params.status);
              (null === params || void 0 === params ? void 0 : params.environment) && (queryParams.environment = params.environment);
              return [ 4, NetworkService_1.NetworkService.get(this.CATEGORIES_WITH_PROVIDERS_ENDPOINT, Object.keys(queryParams).length > 0 ? queryParams : void 0, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _e.sent();
              categoriesData = (null === (_a = response.data) || void 0 === _a ? void 0 : _a.data) || [];
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: categoriesData,
                categories: categoriesData,
                count: null === (_d = response.data) || void 0 === _d ? void 0 : _d.count
              } ];

             case 2:
              error_5 = _e.sent();
              console.error("GameService.getCategoriesWithProviders error:", error_5);
              throw {
                status: error_5.status || 500,
                data: error_5.data || null,
                message: error_5.message || "Failed to fetch categories with providers",
                error: error_5
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      GameService.getCategoriesWithGames = function(params) {
        var _a, _b, _c, _d;
        return __awaiter(this, void 0, Promise, function() {
          var queryParams, response, categoriesData, error_6;
          return __generator(this, function(_e) {
            switch (_e.label) {
             case 0:
              _e.trys.push([ 0, 2, , 3 ]);
              queryParams = {};
              (null === params || void 0 === params ? void 0 : params.status) && (queryParams.status = params.status);
              (null === params || void 0 === params ? void 0 : params.environment) && (queryParams.environment = params.environment);
              (null === params || void 0 === params ? void 0 : params.developerId) && (queryParams.developerId = params.developerId);
              (null === params || void 0 === params ? void 0 : params.categoryId) && (queryParams.categoryId = params.categoryId);
              return [ 4, NetworkService_1.NetworkService.get(this.CATEGORIES_WITH_GAMES_ENDPOINT, Object.keys(queryParams).length > 0 ? queryParams : void 0, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _e.sent();
              categoriesData = (null === (_a = response.data) || void 0 === _a ? void 0 : _a.data) || [];
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: categoriesData,
                categories: categoriesData,
                count: null === (_d = response.data) || void 0 === _d ? void 0 : _d.count
              } ];

             case 2:
              error_6 = _e.sent();
              console.error("GameService.getCategoriesWithGames error:", error_6);
              throw {
                status: error_6.status || 500,
                data: error_6.data || null,
                message: error_6.message || "Failed to fetch categories with games",
                error: error_6
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      GameService.getCategoryById = function(categoryId) {
        var _a, _b, _c;
        return __awaiter(this, void 0, Promise, function() {
          var endpoint, response, categoryData, error_7;
          return __generator(this, function(_d) {
            switch (_d.label) {
             case 0:
              _d.trys.push([ 0, 2, , 3 ]);
              endpoint = this.CATEGORIES_ENDPOINT + "/" + categoryId;
              return [ 4, NetworkService_1.NetworkService.get(endpoint, void 0, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _d.sent();
              categoryData = null === (_a = response.data) || void 0 === _a ? void 0 : _a.data;
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: categoryData,
                category: categoryData
              } ];

             case 2:
              error_7 = _d.sent();
              console.error("GameService.getCategoryById error:", error_7);
              throw {
                status: error_7.status || 500,
                data: error_7.data || null,
                message: error_7.message || "Failed to fetch category",
                error: error_7
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      GameService.getTags = function(params) {
        var _a, _b, _c, _d;
        return __awaiter(this, void 0, Promise, function() {
          var queryParams, response, tagsData, error_8;
          return __generator(this, function(_e) {
            switch (_e.label) {
             case 0:
              _e.trys.push([ 0, 2, , 3 ]);
              queryParams = {};
              void 0 !== (null === params || void 0 === params ? void 0 : params.code) && (queryParams.code = params.code);
              (null === params || void 0 === params ? void 0 : params.status) && (queryParams.status = params.status);
              return [ 4, NetworkService_1.NetworkService.get(this.TAGS_ENDPOINT, Object.keys(queryParams).length > 0 ? queryParams : void 0, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _e.sent();
              tagsData = (null === (_a = response.data) || void 0 === _a ? void 0 : _a.data) || [];
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: tagsData,
                tags: tagsData,
                count: null === (_d = response.data) || void 0 === _d ? void 0 : _d.count
              } ];

             case 2:
              error_8 = _e.sent();
              console.error("GameService.getTags error:", error_8);
              throw {
                status: error_8.status || 500,
                data: error_8.data || null,
                message: error_8.message || "Failed to fetch tags",
                error: error_8
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      GameService.getTagById = function(tagId) {
        var _a, _b, _c;
        return __awaiter(this, void 0, Promise, function() {
          var endpoint, response, tagData, error_9;
          return __generator(this, function(_d) {
            switch (_d.label) {
             case 0:
              _d.trys.push([ 0, 2, , 3 ]);
              endpoint = this.TAGS_ENDPOINT + "/" + tagId;
              return [ 4, NetworkService_1.NetworkService.get(endpoint, void 0, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _d.sent();
              tagData = null === (_a = response.data) || void 0 === _a ? void 0 : _a.data;
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: tagData,
                tag: tagData
              } ];

             case 2:
              error_9 = _d.sent();
              console.error("GameService.getTagById error:", error_9);
              throw {
                status: error_9.status || 500,
                data: error_9.data || null,
                message: error_9.message || "Failed to fetch tag",
                error: error_9
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      GameService.getGames = function(params) {
        var _a, _b, _c, _d;
        return __awaiter(this, void 0, Promise, function() {
          var queryParams, response, gamesData, error_10;
          return __generator(this, function(_e) {
            switch (_e.label) {
             case 0:
              _e.trys.push([ 0, 2, , 3 ]);
              queryParams = {};
              void 0 !== (null === params || void 0 === params ? void 0 : params.status) && (queryParams.status = params.status);
              void 0 !== (null === params || void 0 === params ? void 0 : params.providerId) && (queryParams.providerId = params.providerId);
              void 0 !== (null === params || void 0 === params ? void 0 : params.categoryId) && (queryParams.categoryId = params.categoryId);
              void 0 !== (null === params || void 0 === params ? void 0 : params.developerId) && (queryParams.developerId = params.developerId);
              void 0 !== (null === params || void 0 === params ? void 0 : params.search) && (queryParams.search = params.search);
              void 0 !== (null === params || void 0 === params ? void 0 : params.page) && (queryParams.page = params.page);
              void 0 !== (null === params || void 0 === params ? void 0 : params.limit) && (queryParams.limit = params.limit);
              void 0 !== (null === params || void 0 === params ? void 0 : params.sort) && (queryParams.sort = params.sort);
              void 0 !== (null === params || void 0 === params ? void 0 : params.order) && (queryParams.order = params.order);
              return [ 4, NetworkService_1.NetworkService.get(this.GAMES_ENDPOINT, Object.keys(queryParams).length > 0 ? queryParams : void 0, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _e.sent();
              gamesData = (null === (_a = response.data) || void 0 === _a ? void 0 : _a.data) || [];
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: gamesData,
                games: gamesData,
                pagination: null === (_d = response.data) || void 0 === _d ? void 0 : _d.pagination
              } ];

             case 2:
              error_10 = _e.sent();
              console.error("GameService.getGames error:", error_10);
              throw {
                status: error_10.status || 500,
                data: error_10.data || null,
                message: error_10.message || "Failed to fetch games",
                error: error_10
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      GameService.getGamesByCategory = function(categoryId, params) {
        var _a, _b, _c, _d, _e;
        return __awaiter(this, void 0, Promise, function() {
          var queryParams, endpoint, response, gamesData, error_11;
          return __generator(this, function(_f) {
            switch (_f.label) {
             case 0:
              _f.trys.push([ 0, 2, , 3 ]);
              queryParams = {};
              void 0 !== (null === params || void 0 === params ? void 0 : params.status) && (queryParams.status = params.status);
              void 0 !== (null === params || void 0 === params ? void 0 : params.page) && (queryParams.page = params.page);
              void 0 !== (null === params || void 0 === params ? void 0 : params.limit) && (queryParams.limit = params.limit);
              endpoint = this.GAMES_ENDPOINT + "/category/" + categoryId;
              return [ 4, NetworkService_1.NetworkService.get(endpoint, Object.keys(queryParams).length > 0 ? queryParams : void 0, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _f.sent();
              gamesData = (null === (_a = response.data) || void 0 === _a ? void 0 : _a.data) || [];
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: gamesData,
                games: gamesData,
                category: null === (_d = response.data) || void 0 === _d ? void 0 : _d.category,
                pagination: null === (_e = response.data) || void 0 === _e ? void 0 : _e.pagination
              } ];

             case 2:
              error_11 = _f.sent();
              console.error("GameService.getGamesByCategory error:", error_11);
              throw {
                status: error_11.status || 500,
                data: error_11.data || null,
                message: error_11.message || "Failed to fetch games by category",
                error: error_11
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      GameService.getGamesByDeveloper = function(developerId, params) {
        var _a, _b, _c, _d, _e;
        return __awaiter(this, void 0, Promise, function() {
          var queryParams, endpoint, response, gamesData, error_12;
          return __generator(this, function(_f) {
            switch (_f.label) {
             case 0:
              _f.trys.push([ 0, 2, , 3 ]);
              queryParams = {};
              void 0 !== (null === params || void 0 === params ? void 0 : params.status) && (queryParams.status = params.status);
              void 0 !== (null === params || void 0 === params ? void 0 : params.page) && (queryParams.page = params.page);
              void 0 !== (null === params || void 0 === params ? void 0 : params.limit) && (queryParams.limit = params.limit);
              endpoint = this.GAMES_ENDPOINT + "/developer/" + developerId;
              return [ 4, NetworkService_1.NetworkService.get(endpoint, Object.keys(queryParams).length > 0 ? queryParams : void 0, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _f.sent();
              gamesData = (null === (_a = response.data) || void 0 === _a ? void 0 : _a.data) || [];
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: gamesData,
                games: gamesData,
                developer: null === (_d = response.data) || void 0 === _d ? void 0 : _d.developer,
                pagination: null === (_e = response.data) || void 0 === _e ? void 0 : _e.pagination
              } ];

             case 2:
              error_12 = _f.sent();
              console.error("GameService.getGamesByDeveloper error:", error_12);
              throw {
                status: error_12.status || 500,
                data: error_12.data || null,
                message: error_12.message || "Failed to fetch games by developer",
                error: error_12
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      GameService.getGameById = function(gameId) {
        var _a, _b, _c;
        return __awaiter(this, void 0, Promise, function() {
          var endpoint, response, gameData, error_13;
          return __generator(this, function(_d) {
            switch (_d.label) {
             case 0:
              _d.trys.push([ 0, 2, , 3 ]);
              endpoint = this.GAMES_ENDPOINT + "/" + gameId;
              return [ 4, NetworkService_1.NetworkService.get(endpoint, void 0, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _d.sent();
              gameData = null === (_a = response.data) || void 0 === _a ? void 0 : _a.data;
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: gameData,
                game: gameData
              } ];

             case 2:
              error_13 = _d.sent();
              console.error("GameService.getGameById error:", error_13);
              throw {
                status: error_13.status || 500,
                data: error_13.data || null,
                message: error_13.message || "Failed to fetch game",
                error: error_13
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      GameService.getHomepageData = function() {
        var _a, _b, _c;
        return __awaiter(this, void 0, Promise, function() {
          var response, homepageData, error_14;
          return __generator(this, function(_d) {
            switch (_d.label) {
             case 0:
              _d.trys.push([ 0, 2, , 3 ]);
              return [ 4, NetworkService_1.NetworkService.get(this.HOMEPAGE_DATA_ENDPOINT, void 0, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _d.sent();
              homepageData = null === (_a = response.data) || void 0 === _a ? void 0 : _a.data;
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: homepageData,
                categories: null === homepageData || void 0 === homepageData ? void 0 : homepageData.categories,
                hotGames: null === homepageData || void 0 === homepageData ? void 0 : homepageData.hotGames
              } ];

             case 2:
              error_14 = _d.sent();
              console.error("GameService.getHomepageData error:", error_14);
              throw {
                status: error_14.status || 500,
                data: error_14.data || null,
                message: error_14.message || "Failed to fetch homepage data",
                error: error_14
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      GameService.getGamesByTag = function(tagId, params) {
        var _a, _b, _c, _d, _e;
        return __awaiter(this, void 0, Promise, function() {
          var queryParams, endpoint, response, gamesData, error_15;
          return __generator(this, function(_f) {
            switch (_f.label) {
             case 0:
              _f.trys.push([ 0, 2, , 3 ]);
              queryParams = {};
              void 0 !== (null === params || void 0 === params ? void 0 : params.status) && (queryParams.status = params.status);
              void 0 !== (null === params || void 0 === params ? void 0 : params.page) && (queryParams.page = params.page);
              void 0 !== (null === params || void 0 === params ? void 0 : params.limit) && (queryParams.limit = params.limit);
              endpoint = this.GAMES_ENDPOINT + "/tags/" + tagId;
              return [ 4, NetworkService_1.NetworkService.get(endpoint, Object.keys(queryParams).length > 0 ? queryParams : void 0, {
                headers: {
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _f.sent();
              gamesData = (null === (_a = response.data) || void 0 === _a ? void 0 : _a.data) || [];
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: gamesData,
                games: gamesData,
                tag: null === (_d = response.data) || void 0 === _d ? void 0 : _d.tag,
                pagination: null === (_e = response.data) || void 0 === _e ? void 0 : _e.pagination
              } ];

             case 2:
              error_15 = _f.sent();
              console.error("GameService.getGamesByTag error:", error_15);
              throw {
                status: error_15.status || 500,
                data: error_15.data || null,
                message: error_15.message || "Failed to fetch games by tag",
                error: error_15
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      GameService.launchGame = function(gameId, params, token) {
        var _a, _b, _c;
        return __awaiter(this, void 0, Promise, function() {
          var endpoint, response, launchData, error_16;
          return __generator(this, function(_d) {
            switch (_d.label) {
             case 0:
              _d.trys.push([ 0, 2, , 3 ]);
              endpoint = this.GAMES_ENDPOINT + "/" + gameId + "/launch";
              return [ 4, NetworkService_1.NetworkService.post(endpoint, {
                lang: params.lang,
                deviceType: params.deviceType
              }, {
                headers: {
                  "Content-Type": "application/json",
                  Authorization: "Bearer " + token
                }
              }) ];

             case 1:
              response = _d.sent();
              launchData = null === (_a = response.data) || void 0 === _a ? void 0 : _a.data;
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: launchData,
                launchUrl: null === launchData || void 0 === launchData ? void 0 : launchData.launchUrl,
                sessionId: null === launchData || void 0 === launchData ? void 0 : launchData.sessionId,
                gameId: null === launchData || void 0 === launchData ? void 0 : launchData.gameId,
                gameCode: null === launchData || void 0 === launchData ? void 0 : launchData.gameCode,
                gameName: null === launchData || void 0 === launchData ? void 0 : launchData.gameName,
                isDemo: null === launchData || void 0 === launchData ? void 0 : launchData.isDemo,
                currency: null === launchData || void 0 === launchData ? void 0 : launchData.currency
              } ];

             case 2:
              error_16 = _d.sent();
              console.error("GameService.launchGame error:", error_16);
              throw {
                status: error_16.status || 500,
                data: error_16.data || null,
                message: error_16.message || "Failed to launch game",
                error: error_16
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      GameService.DASHBOARD_ENDPOINT = "/api/public/v1/players/dashboard";
      GameService.DEVELOPERS_ENDPOINT = "/api/public/v1/developers";
      GameService.CATEGORIES_ENDPOINT = "/api/public/v1/categories";
      GameService.CATEGORIES_WITH_PROVIDERS_ENDPOINT = "/api/public/v1/categories/main-with-providers";
      GameService.CATEGORIES_WITH_GAMES_ENDPOINT = "/api/public/v1/categories/main-with-games";
      GameService.TAGS_ENDPOINT = "/api/public/v1/tags";
      GameService.GAMES_ENDPOINT = "/api/public/v1/games";
      GameService.HOMEPAGE_DATA_ENDPOINT = "/api/public/v1/games/homepage-data";
      return GameService;
    }();
    exports.GameService = GameService;
    exports.default = GameService;
    cc._RF.pop();
  }, {
    "./NetworkService": "NetworkService"
  } ],
  GameType: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0c1cd/Sjj1Jf4tqOzg8SFtj", "GameType");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _GameService = _interopRequireDefault(require("../Services/GameService"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    var SharedData = require("SharedData");
    cc.Class({
      extends: cc.Component,
      properties: {
        gameTypeAnimation: cc.Animation,
        gameTypeBG: {
          default: null,
          type: cc.Node
        },
        gameRect: {
          default: null,
          type: cc.Node
        },
        mBetNowLabel: {
          default: null,
          type: cc.Node
        },
        myGameWebView: null
      },
      onLoad: function onLoad() {},
      init: function init(x, y, data, providerData, isProvider, callBack) {
        var self = this;
        this.node.x = x + 10;
        this.node.y = y;
        this.node.opacity = 0;
        this.data = data;
        this.isProvider = isProvider;
        this.providerData = providerData;
        this.mCallBack = callBack;
        cc.tween(this.node).to(.5, {
          position: cc.v2(x, y)
        }).start();
        cc.tween(this.node).to(.5, {
          opacity: 255
        }).start();
        this.playAnimation();
        if (this.gameTypeBG && this.data) if (this.isProvider && this.data.logoUrl) {
          var proxies = [ "https://corsproxy.io/?", "https://api.codetabs.com/v1/proxy?quest=", "https://cors.bridged.cc/" ];
          var imageUrl = proxies[1] + encodeURIComponent(this.data.logoUrl);
          cc.assetManager.loadRemote(imageUrl, function(err, texture) {
            if (err) {
              console.error("Failed to load image:", err);
              return;
            }
            var spriteFrame = new cc.SpriteFrame(texture);
            var sprite = self.gameTypeBG.getComponent(cc.Sprite);
            if (sprite) {
              sprite.type = cc.Sprite.Type.SIMPLE;
              self.gameTypeBG.getComponent(cc.Sprite).spriteFrame = spriteFrame;
              self.fitImageToNode(texture.width, texture.height);
              self.gameRect.active = true;
            }
          });
        } else if (this.data.thumbnailUrl) {
          var _proxies = [ "https://corsproxy.io/?", "https://api.codetabs.com/v1/proxy?quest=", "https://cors.bridged.cc/" ];
          var _imageUrl = _proxies[1] + encodeURIComponent(this.data.thumbnailUrl);
          cc.assetManager.loadRemote(_imageUrl, function(err, texture) {
            if (err) {
              console.error("Failed to load image:", err);
              return;
            }
            var spriteFrame = new cc.SpriteFrame(texture);
            var sprite = self.gameTypeBG.getComponent(cc.Sprite);
            if (sprite) {
              sprite.type = cc.Sprite.Type.SIMPLE;
              self.gameTypeBG.getComponent(cc.Sprite).spriteFrame = spriteFrame;
              self.fitImageToNode(texture.width, texture.height);
            }
          });
        }
      },
      playAnimation: function playAnimation() {
        var _this = this;
        if (!this.isProvider) {
          var self = this;
          var gameCode = this.data.game_code;
          cc.resources.load("animations/gametype/" + gameCode, cc.AnimationClip, function(err, clip) {
            if (err) return;
            var anim = self.gameTypeAnimation.getComponent(cc.Animation);
            anim.addClip(clip, gameCode);
            anim.play(gameCode);
            self.gameTypeAnimation.on("stop", function() {
              self.gameTypeAnimation && self.gameTypeAnimation.play(gameCode);
            }, _this);
          });
        }
      },
      fitImageToNode: function fitImageToNode(imgWidth, imgHeight) {
        var node = this.gameTypeBG;
        var maxWidth = 192;
        var maxHeight = 192;
        var width = imgWidth;
        var height = imgHeight;
        if (width > maxWidth || height > maxHeight) {
          var widthRatio = maxWidth / width;
          var heightRatio = maxHeight / height;
          var ratio = Math.min(widthRatio, heightRatio);
          width *= ratio;
          height *= ratio;
        }
        node.width = width;
        node.height = height;
      },
      onClick: function onClick() {
        _SharedFunction["default"].playButtonClickSound();
        if (this.isProvider) this.mCallBack.onDeveloperButtonDidPressed(this.data, this.providerData); else {
          _SharedFunction["default"].showLoadingView("", this.mCallBack || this);
          if (!this.data) {
            console.error("GameType: Game data is missing", this.data);
            _SharedFunction["default"].hideLoadingView(this.mCallBack || this);
            return;
          }
          var gameId = this.data.id || this.data._id;
          if (!gameId) {
            console.error("GameType: Game ID is missing. Data:", this.data);
            _SharedFunction["default"].hideLoadingView(this.mCallBack || this);
            return;
          }
          var token = localStorage.getItem("token");
          if (!token) {
            _SharedFunction["default"].hideLoadingView(this.mCallBack || this);
            this.mCallBack && "function" === typeof this.mCallBack.onLoginButtonDidPressed && this.mCallBack.onLoginButtonDidPressed();
            return;
          }
          var deviceType = _SharedFunction["default"].isMobile() ? "mobile" : "desktop";
          var lang = SharedData.getCurrentLanguage() || "en";
          this.launchGame(gameId, lang, deviceType, token);
        }
      },
      launchGame: function launchGame(gameId, lang, deviceType, token) {
        var _this2 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
          var response;
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
             case 0:
              _context.prev = 0;
              _context.next = 3;
              return _GameService["default"].launchGame(gameId, {
                lang: lang,
                deviceType: deviceType
              }, token);

             case 3:
              response = _context.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context.next = 7;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this2.mCallBack || _this2);
              return _context.abrupt("return");

             case 7:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context.next = 10;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this2.mCallBack || _this2);
              return _context.abrupt("return");

             case 10:
              if (response.success && response.launchUrl) {
                _SharedFunction["default"].hideLoadingView(_this2.mCallBack || _this2);
                _this2.loadGameWebView(response.launchUrl);
              } else {
                console.error("GameType: Failed to launch game", response.message);
                _SharedFunction["default"].hideLoadingView(_this2.mCallBack || _this2);
              }
              _context.next = 22;
              break;

             case 13:
              _context.prev = 13;
              _context.t0 = _context["catch"](0);
              if (!_SharedFunction["default"].handleSessionExpiration(_context.t0, _this2.mCallBack || _this2)) {
                _context.next = 17;
                break;
              }
              return _context.abrupt("return");

             case 17:
              if (!_SharedFunction["default"].handleServerError(_context.t0, _this2.mCallBack || _this2)) {
                _context.next = 20;
                break;
              }
              _SharedFunction["default"].hideLoadingView(_this2.mCallBack || _this2);
              return _context.abrupt("return");

             case 20:
              console.error("GameType: Error launching game", _context.t0);
              _SharedFunction["default"].hideLoadingView(_this2.mCallBack || _this2);

             case 22:
             case "end":
              return _context.stop();
            }
          }, _callee, null, [ [ 0, 13 ] ]);
        }))();
      },
      loadGameWebView: function loadGameWebView(gameUrl) {
        var self = this;
        cc.resources.load("prefabs/game/GameWebView", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("GameType: Failed to load GameWebView prefab:", err);
            return;
          }
          if (null == self.myGameWebView) {
            self.myGameWebView = cc.instantiate(prefab).getComponent("GameWebView");
            self.myGameWebView.updatePrefabSize();
          }
          self.myGameWebView.init(gameUrl, self.mCallBack || self);
          var parentNode = self.mCallBack ? self.mCallBack.node : self.node.parent;
          parentNode ? parentNode.addChild(self.myGameWebView.node) : cc.director.getScene().addChild(self.myGameWebView.node);
        });
      }
    });
    cc._RF.pop();
  }, {
    "../Services/GameService": "GameService",
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  GameWebView: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "bdb564BZDxHdZDb7k8PqzHp", "GameWebView");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _UserService = _interopRequireDefault(require("../Services/UserService"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    var SharedData = require("SharedData");
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        mJs: null,
        mIsLoadUrl: false,
        mIsInjected: false,
        mWebView: {
          default: null,
          type: cc.Node
        },
        mProgressBar: {
          default: null,
          type: cc.ProgressBar
        },
        mPercentageLabel: {
          default: null,
          type: cc.Label
        },
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        mStatusLabel: {
          default: null,
          type: cc.Node
        },
        progress: 0,
        isLobbyPreloaded: false,
        closeGameTriggered: false,
        gameUrl: ""
      },
      onLoad: function onLoad() {
        cc.audioEngine.setVolume(0);
        this.mProgressBar.node.active = false;
        _SharedFunction["default"].stopLobbyBackgroundMusic();
        var list = SharedData.getCachedGameList();
        for (var i = 0; i < list.length; i++) {
          var path = list[i];
          cc.resources.release(path, cc.SpriteFrame);
        }
        SharedData.clearCachedGameList();
        var self = this;
        SharedData.getIsApp() || (window.closeGameView = self.windowCloseGameView.bind(self));
        cc.game.on(cc.game.EVENT_HIDE, this.onGameHide, this);
        cc.game.on(cc.game.EVENT_SHOW, this.onGameShow, this);
      },
      onDestroy: function onDestroy() {
        this.stopDotAnimation();
        cc.audioEngine.setVolume(1);
        cc.game.off(cc.game.EVENT_HIDE, this.onGameHide, this);
        cc.game.off(cc.game.EVENT_SHOW, this.onGameShow, this);
      },
      start: function start() {
        var self = this;
        var scheme = "mygame";
        if (this.mWebView && this.mWebView.isValid) {
          var webViewComp = this.mWebView.getComponent(cc.WebView);
          if (webViewComp) {
            webViewComp.setJavascriptInterfaceScheme(scheme);
            webViewComp.setOnJSCallback(function(target, url) {
              url.includes("button_clicked") && self.windowCloseGameView();
            });
          }
        }
      },
      update: function update(dt) {
        if (this.mProgressBar.node.active) {
          this.progress += .1 * dt;
          this.progress = this.progress > .99 ? .99 : this.progress;
          this.mProgressBar.progress = this.progress;
          this.mPercentageLabel.getComponent(cc.Label).string = Math.floor(100 * this.progress) + "%";
          if (this.isLobbyPreloaded) {
            this.progress = 1;
            this.mProgressBar.progress = this.progress;
            this.mPercentageLabel.getComponent(cc.Label).string = Math.floor(100 * this.progress) + "%";
            cc.director.loadScene("Lobby", function() {
              return _SharedFunction["default"].playLobbyBackgroundMusicForExitsGame();
            });
          }
        }
      },
      loadUrl: function loadUrl(url) {
        console.log("loadUrl", url);
        this.mIsLoadUrl = true;
        this.mIsInjected = false;
        if (this.mWebView && this.mWebView.isValid) {
          var webViewComp = this.mWebView.getComponent(cc.WebView);
          if (webViewComp) {
            webViewComp.url = url;
            webViewComp.node.on("loaded", this.onWebViewLoaded, this);
          }
        }
        var parentContainer = document.getElementById("Cocos2dGameContainer");
        var overlayButton = document.getElementById("overlay");
        parentContainer.appendChild(overlayButton);
        overlayButton.style.display = "block";
      },
      onWebViewMessage: function onWebViewMessage(event) {
        console.log("GameWebView: WebView message:", event);
        event.type === cc.WebView.EventType.MESSAGE && console.log("GameWebView: WebView message:", event.message);
      },
      onWebViewURLChanged: function onWebViewURLChanged(event) {
        console.log("GameWebView: WebView URL changed:", event.url);
      },
      init: function init(gameUrl, callBack) {
        this.mCallBack = callBack;
        this.gameUrl = gameUrl;
        this.loadUrl(this.gameUrl);
      },
      updatePrefabSize: function updatePrefabSize() {
        var canvas = cc.Canvas.instance.node;
        if (canvas) {
          this.node.width = canvas.width;
          this.node.height = canvas.height;
        }
      },
      stopLoading: function stopLoading() {
        if (this.mWebView && this.mWebView.isValid) {
          var webViewComp = this.mWebView.getComponent(cc.WebView);
          webViewComp && (webViewComp.url = "about:blank");
        }
      },
      onWebViewLoaded: function onWebViewLoaded(event) {
        var _this = this;
        console.log("GameWebView: WebView loaded");
        var self = this;
        if (this.mIsLoadUrl) {
          this.mWebView && this.mWebView.isValid && (this.mWebView.opacity = 255);
          var jsCode = "\n                (function() {\n                    if (document.getElementById('injected-close-btn')) return;\n\n                    var btn = document.createElement('button');\n                    btn.id = 'injected-close-btn';\n                    btn.innerHTML = 'CLOSE X';\n                    btn.style.cssText = \"position:fixed; bottom:10px; right:10px; z-index:2147483647; background:red; color:white; padding:12px; border:none; font-weight:bold;\";\n\n                    btn.onclick = function() {\n                        window.location.href = 'mygame://button_clicked';\n                    };\n\n                    document.body.appendChild(btn);\n                })();\n            ";
          setTimeout(function() {
            if (_this.mWebView && _this.mWebView.isValid) {
              var webViewComp = _this.mWebView.getComponent(cc.WebView);
              webViewComp ? webViewComp.evaluateJS(jsCode) : console.error("WebView component not found on this node!");
            }
          }, 1e3);
        } else if (false == this.mIsInjected) {
          this.mIsInjected = true;
          if (this.mWebView && this.mWebView.isValid) {
            var webViewComp = this.mWebView.getComponent(cc.WebView);
            webViewComp && webViewComp.evaluateJS(this.mJs);
          }
        }
      },
      windowCloseGameView: function windowCloseGameView() {
        var _this2 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
          var overlayButton;
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
             case 0:
              if (!_this2.closeGameTriggered) {
                _context.next = 2;
                break;
              }
              return _context.abrupt("return");

             case 2:
              _this2.closeGameTriggered = true;
              _SharedFunction["default"].playButtonClickSound();
              localStorage.setItem("returningFromGame", "true");
              _context.next = 7;
              return _this2.refreshBalance();

             case 7:
              cc.director.preloadScene("Lobby", function() {
                _this2.isLobbyPreloaded = true;
              });
              overlayButton = document.getElementById("overlay");
              overlayButton && (overlayButton.style.display = "none");
              _this2.stopLoading();
              _this2.mProgressBar.node.active = true;
              _this2.startDotAnimation();

             case 13:
             case "end":
              return _context.stop();
            }
          }, _callee);
        }))();
      },
      refreshBalance: function refreshBalance() {
        var _this3 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee2() {
          var token, response, userObj;
          return _regeneratorRuntime().wrap(function _callee2$(_context2) {
            while (1) switch (_context2.prev = _context2.next) {
             case 0:
              _context2.prev = 0;
              token = localStorage.getItem("token");
              if (token) {
                _context2.next = 5;
                break;
              }
              console.log("No token found, skipping balance refresh");
              return _context2.abrupt("return");

             case 5:
              _context2.next = 7;
              return _UserService["default"].getBalance(token);

             case 7:
              response = _context2.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context2.next = 11;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this3);
              return _context2.abrupt("return");

             case 11:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context2.next = 14;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this3);
              return _context2.abrupt("return");

             case 14:
              if (200 == response.status) {
                console.log("Balance refreshed on game close:", response);
                userObj = SharedData.getUserObject();
                if (userObj) {
                  userObj.balance = response.data.balance;
                  SharedData.setUserObject(userObj);
                }
              }
              _context2.next = 24;
              break;

             case 17:
              _context2.prev = 17;
              _context2.t0 = _context2["catch"](0);
              if (!_SharedFunction["default"].handleSessionExpiration(_context2.t0, _this3)) {
                _context2.next = 21;
                break;
              }
              return _context2.abrupt("return");

             case 21:
              if (!_SharedFunction["default"].handleServerError(_context2.t0, _this3)) {
                _context2.next = 23;
                break;
              }
              return _context2.abrupt("return");

             case 23:
              console.error("Error refreshing balance on game close:", _context2.t0);

             case 24:
             case "end":
              return _context2.stop();
            }
          }, _callee2, null, [ [ 0, 17 ] ]);
        }))();
      },
      startDotAnimation: function startDotAnimation() {
        var _this4 = this;
        var dotCount = 0;
        this.dotInterval = setInterval(function() {
          dotCount = (dotCount + 1) % 4;
          var dots = ".".repeat(dotCount);
          _this4.mStatusLabel.getComponent(cc.Label).string = "" + _SharedFunction["default"].getLocalizedString(_this4.i18nJson, "enter") + dots;
        }, 500);
      },
      stopDotAnimation: function stopDotAnimation() {
        clearInterval(this.dotInterval);
      },
      onGameHide: function onGameHide() {
        setTimeout(function() {
          console.log("Game is hidden");
          window.closeGameView = null;
          cc.audioEngine.setVolume(0);
          _SharedFunction["default"].stopLobbyBackgroundMusic();
        }, 1);
      },
      onGameShow: function onGameShow() {
        var _this5 = this;
        setTimeout(function() {
          console.log("Game is shown");
          window.closeGameView = _this5.windowCloseGameView.bind(_this5);
          cc.audioEngine.setVolume(0);
          _SharedFunction["default"].stopLobbyBackgroundMusic();
        }, 1);
      }
    });
    cc._RF.pop();
  }, {
    "../Services/UserService": "UserService",
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  LZW: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2fc19S4+zlLIKvyuwfxi0/T", "LZW");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var LZW = function() {
      function LZW() {}
      LZW.decode = function(arr, min) {
        var clearCode = 1 << min, eofCode = clearCode + 1, size = min + 1, dict = [], pos = 0;
        function clear() {
          var i;
          dict = [];
          size = min + 1;
          for (i = 0; i < clearCode; i++) dict[i] = [ i ];
          dict[clearCode] = [];
          dict[eofCode] = null;
        }
        function decode() {
          var out = [], code, last;
          while (1) {
            last = code;
            code = read(size);
            if (code == clearCode) {
              clear();
              continue;
            }
            if (code == eofCode) break;
            if (code < dict.length) last !== clearCode && dict.push(dict[last].concat(dict[code][0])); else {
              if (code !== dict.length) throw new Error("LZW\u89e3\u6790\u51fa\u9519");
              dict.push(dict[last].concat(dict[last][0]));
            }
            out.push.apply(out, dict[code]);
            dict.length === 1 << size && size < 12 && size++;
          }
          return out;
        }
        function read(size) {
          var i, code = 0;
          for (i = 0; i < size; i++) {
            arr[pos >> 3] & 1 << (7 & pos) && (code |= 1 << i);
            pos++;
          }
          return code;
        }
        return decode();
      };
      return LZW;
    }();
    exports.default = LZW;
    cc._RF.pop();
  }, {} ],
  Landing: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e378flsQLpOjbzAZ+r2CbnB", "Landing");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        mTickImage: {
          default: null,
          type: cc.Node
        },
        myLoginView: null,
        myRegisterView: null,
        mGuestLoginButton: {
          default: null,
          type: cc.Node
        },
        mLoginButton: {
          default: null,
          type: cc.Node
        },
        mTncLabel: {
          default: null,
          type: cc.Node
        },
        mVerifyPromoLabel: {
          default: null,
          type: cc.Node
        },
        mAgreementNode: {
          default: null,
          type: cc.Node
        },
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        }
      },
      onLoad: function onLoad() {
        var _this = this;
        cc.view.setResizeCallback(function() {
          _this.updatePrefabSize();
        });
        if (!cc.sys.capabilities.opengl) {
          cc._renderType = cc.game.RENDER_TYPE_CANVAS;
          cc.game.CONFIG_KEY.renderMode = 0;
        }
        setTimeout(function() {
          if ("" != _SharedData["default"].getLandingAlertMessage()) {
            _SharedFunction["default"].showAlertView(_SharedData["default"].getLandingAlertMessage(), _this);
            _SharedData["default"].setLandingAlertMessage("");
          }
        }, 1);
      },
      onAgreementCheckBoxDidPressed: function onAgreementCheckBoxDidPressed() {
        _SharedFunction["default"].playButtonClickSound();
        this.mTickImage.active = !this.mTickImage.active;
      },
      onGuestLoginButtonDidPressed: function onGuestLoginButtonDidPressed() {
        _SharedFunction["default"].playButtonClickSound();
        if (this.mTickImage.active) {
          _SharedFunction["default"].showLoadingView("", this);
          var username = localStorage.getItem("username");
          var password = localStorage.getItem("password");
          username && password ? this.callLoginApi("", username, password, "") : this.callRegisterApi(_SharedData["default"].getReferral(), _SharedData["default"].getAgentCode());
        } else ;
      },
      callGetSplashDataApi: function callGetSplashDataApi() {
        var _this2 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
          var self, script, response, lang;
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
             case 0:
              self = _this2;
              script = new SplashScript();
              _context.next = 4;
              return script.getSplashData();

             case 4:
              response = _context.sent;
              if (!(403 == response.status)) {
                _context.next = 9;
                break;
              }
              _this2.callRegisterApi(_SharedData["default"].getReferral(), _SharedData["default"].getAgentCode());
              _context.next = 17;
              break;

             case 9:
              if (!(200 == response.status)) {
                _context.next = 17;
                break;
              }
              localStorage.setItem("from_index", JSON.stringify(response));
              lang = _SharedData["default"].getCurrentLanguage();
              _context.next = 14;
              return script.setLocale(lang);

             case 14:
              cc.director.loadScene("Lobby", function() {
                _SharedFunction["default"].hideLoadingView(self);
              });
              _context.next = 17;
              break;

             case 17:
             case "end":
              return _context.stop();
            }
          }, _callee);
        }))();
      },
      callRegisterApi: function callRegisterApi(referral, agentCode) {
        var _this3 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee2() {
          var data;
          return _regeneratorRuntime().wrap(function _callee2$(_context2) {
            while (1) switch (_context2.prev = _context2.next) {
             case 0:
              _context2.prev = 0;
              _context2.next = 3;
              return register(referral, agentCode);

             case 3:
              data = _context2.sent;
              if (!data.status) {
                _context2.next = 11;
                break;
              }
              window.fbq && window.fbq("track", "CompleteRegistration", {
                customerId: data.account,
                currency: "php"
              });
              localStorage.setItem("username", data.account);
              localStorage.setItem("password", data.password);
              _context2.next = 10;
              return _this3.callLoginApi("", data.account, data.password, "");

             case 10:
              return _context2.abrupt("return");

             case 11:
              if (!(referral || agentCode)) {
                _context2.next = 14;
                break;
              }
              _this3.callRegisterApi("", "");
              return _context2.abrupt("return");

             case 14:
              if (!(data.account && data.message)) {
                _context2.next = 17;
                break;
              }
              _this3.callLoginApi("", data.account, data.password, "");
              return _context2.abrupt("return");

             case 17:
              _SharedFunction["default"].showAlertView(data.message ? data.message : "Gagal Masuk", _this3);
              _context2.next = 23;
              break;

             case 20:
              _context2.prev = 20;
              _context2.t0 = _context2["catch"](0);
              console.error("Landing", "callRegisterApi Error:", _context2.t0);

             case 23:
             case "end":
              return _context2.stop();
            }
          }, _callee2, null, [ [ 0, 20 ] ]);
        }))();
      },
      callLoginApi: function callLoginApi(os, username, password, mobileNo) {
        var _this4 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee3() {
          var data;
          return _regeneratorRuntime().wrap(function _callee3$(_context3) {
            while (1) switch (_context3.prev = _context3.next) {
             case 0:
              _context3.prev = 0;
              _context3.next = 3;
              return login(os, username, password, mobileNo);

             case 3:
              data = _context3.sent;
              if (200 == data.status) {
                localStorage.setItem("username", username);
                localStorage.setItem("password", password);
                window.fbq && window.fbq("trackCustom", "login", {
                  customerId: username + mobileNo
                });
                _this4.callGetSplashDataApi();
              } else {
                _SharedFunction["default"].showAlertView(_SharedFunction["default"].getLocalizedString(_this4.i18nJson, "invalidAccount"), _this4);
                _SharedFunction["default"].hideLoadingView(_this4);
              }
              _context3.next = 10;
              break;

             case 7:
              _context3.prev = 7;
              _context3.t0 = _context3["catch"](0);
              console.error("Landing", "callLoginApi Error:", _context3.t0);

             case 10:
             case "end":
              return _context3.stop();
            }
          }, _callee3, null, [ [ 0, 7 ] ]);
        }))();
      },
      callRegisterApi2: function callRegisterApi2(referral, agentCode) {
        var _this5 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee4() {
          var data;
          return _regeneratorRuntime().wrap(function _callee4$(_context4) {
            while (1) switch (_context4.prev = _context4.next) {
             case 0:
              _context4.prev = 0;
              _context4.next = 3;
              return register(referral, agentCode);

             case 3:
              data = _context4.sent;
              if (!data.status) {
                _context4.next = 8;
                break;
              }
              window.fbq && window.fbq("track", "CompleteRegistration", {
                customerId: data.account,
                currency: "php"
              });
              _this5.callLoginApi2("", data.account, data.password, "");
              return _context4.abrupt("return");

             case 8:
              if (!(referral || agentCode)) {
                _context4.next = 11;
                break;
              }
              _this5.callRegisterApi2("", "");
              return _context4.abrupt("return");

             case 11:
              if (!(data.account && data.message)) {
                _context4.next = 14;
                break;
              }
              _this5.callLoginApi2("", data.account, data.password, "");
              return _context4.abrupt("return");

             case 14:
              _SharedFunction["default"].showAlertView(data.message ? data.message : "Gagal Masuk", _this5);
              _context4.next = 20;
              break;

             case 17:
              _context4.prev = 17;
              _context4.t0 = _context4["catch"](0);
              console.error("Landing", "callRegisterApi Error:", _context4.t0);

             case 20:
             case "end":
              return _context4.stop();
            }
          }, _callee4, null, [ [ 0, 17 ] ]);
        }))();
      },
      callLoginApi2: function callLoginApi2(os, username, password, mobileNo) {
        var _this6 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee5() {
          var data, script, response, result, userProfile;
          return _regeneratorRuntime().wrap(function _callee5$(_context5) {
            while (1) switch (_context5.prev = _context5.next) {
             case 0:
              _context5.prev = 0;
              _context5.next = 3;
              return login(os, username, password, mobileNo);

             case 3:
              data = _context5.sent;
              if (!(200 == data.status)) {
                _context5.next = 12;
                break;
              }
              script = new LobbyScript();
              _context5.next = 8;
              return script.getProfile();

             case 8:
              response = _context5.sent;
              if (200 == response["status"]) {
                localStorage.setItem("username", username);
                localStorage.setItem("password", password);
                window.fbq && window.fbq("trackCustom", "login", {
                  customerId: username + mobileNo
                });
                result = response.result;
                userProfile = result["getUserProfile"];
                userProfile["mainWallet"] = result["mainWallet"];
                _SharedData["default"].setUserObject(userProfile);
              }
              _context5.next = 13;
              break;

             case 12:
              _SharedFunction["default"].showAlertView(_SharedFunction["default"].getLocalizedString(_this6.i18nJson, "invalidAccount"), _this6);

             case 13:
              _context5.next = 18;
              break;

             case 15:
              _context5.prev = 15;
              _context5.t0 = _context5["catch"](0);
              console.error("Landing", "callLoginApi Error:", _context5.t0);

             case 18:
             case "end":
              return _context5.stop();
            }
          }, _callee5, null, [ [ 0, 15 ] ]);
        }))();
      },
      onRegisterViewButtonDidPressed: function onRegisterViewButtonDidPressed() {
        var _this7 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee6() {
          var self, username, password, userObj;
          return _regeneratorRuntime().wrap(function _callee6$(_context6) {
            while (1) switch (_context6.prev = _context6.next) {
             case 0:
              self = _this7;
              self.node.removeChild(self.myLoginView.node);
              _SharedFunction["default"].showLoadingView("", self);
              username = localStorage.getItem("username");
              password = localStorage.getItem("password");
              if (!(username && password)) {
                _context6.next = 10;
                break;
              }
              _context6.next = 8;
              return self.callLoginApi2("", username, password, "");

             case 8:
              _context6.next = 12;
              break;

             case 10:
              _context6.next = 12;
              return self.callRegisterApi2(_SharedData["default"].getReferral(), _SharedData["default"].getAgentCode());

             case 12:
              userObj = _SharedData["default"].getUserObject();
              _SharedFunction["default"].hideLoadingView(self);
              if (userObj["username"]) {
                _context6.next = 17;
                break;
              }
              _SharedFunction["default"].hideLoadingView(self);
              return _context6.abrupt("return");

             case 17:
              cc.resources.load("prefabs/register/register", cc.Prefab, function(err, prefab) {
                if (err) {
                  console.error("Failed to load prefab:", err);
                  _SharedFunction["default"].hideLoadingView(self);
                  return;
                }
                if (null == self.myRegisterView) {
                  self.myRegisterView = cc.instantiate(prefab).getComponent("Register");
                  self.updatePrefabSize();
                  self.myRegisterView.setCallBack(self);
                }
                self.myRegisterView.updateView();
                self.node.addChild(self.myRegisterView.node);
              });
              _SharedFunction["default"].hideLoadingView(self);

             case 19:
             case "end":
              return _context6.stop();
            }
          }, _callee6);
        }))();
      },
      onRegisterViewDidClosed: function onRegisterViewDidClosed() {
        this.node.removeChild(this.myRegisterView.node);
        if (_SharedData["default"].getVerificationStatus()) {
          _SharedFunction["default"].showLoadingView("", this);
          this.callGetSplashDataApi();
        }
      },
      update: function update(dt) {},
      localizeUI: function localizeUI() {
        this.mGuestLoginButton.getChildByName("container").getChildByName("label").getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "visitor");
        this.mLoginButton.getChildByName("container").getChildByName("label").getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "account");
        var tnc1 = _SharedFunction["default"].getLocalizedString(this.i18nJson, "tnc1");
        var tnc2 = _SharedFunction["default"].getLocalizedString(this.i18nJson, "tnc2");
        var tnc3 = _SharedFunction["default"].getLocalizedString(this.i18nJson, "tnc3");
        this.mTncLabel.getComponent(cc.RichText).string = "<color=#ffffff>" + tnc1 + " </color><color=#196100>" + tnc2 + "</color><color=#ffffff> & </color><color=#196100>" + tnc3 + "</color>";
        this.mAgreementNode.getComponent(cc.Layout).updateLayout();
      },
      updatePrefabSize: function updatePrefabSize() {
        var visibleSize = cc.view.getVisibleSize();
        this.myLoginView && this.myLoginView.init(0, 0, visibleSize.width, visibleSize.height);
      },
      onCsButtonClicked: function onCsButtonClicked() {
        window.open(_SharedData["default"].getLiveChat(), "_blank").focus();
      }
    });
    cc._RF.pop();
  }, {
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  Language: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b17a6TzAq9JSLssp76FomcR", "Language");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        defaultLanaguage: "en",
        createdButtons: [],
        mBackground: {
          default: null,
          type: cc.Node
        },
        myConfirmBtn: {
          default: null,
          type: cc.Node
        },
        myLanguageBorder: {
          default: null,
          type: cc.Node
        },
        myScrollView: {
          default: null,
          type: cc.Node
        },
        myScrollViewContent: {
          default: null,
          type: cc.Node
        },
        mLanguageLabelPrefab: {
          default: null,
          type: cc.Prefab
        },
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        mTitleLabel: {
          default: null,
          type: cc.Node
        },
        mCountryLabel: {
          default: null,
          type: cc.Node
        },
        mLanguageLabel: {
          default: null,
          type: cc.Node
        },
        mConfirmLabel: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.localizeUI();
      },
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
        this.mBackground.width = width;
        this.mBackground.height = height;
      },
      updateView: function updateView(callBack) {
        this.mCallBack = callBack;
        this.mBackground.active = true;
        this.node.opacity = 255;
        this.defaultLanaguage = _SharedData["default"].getCurrentLanguage();
        this.drawAvailableLanguage();
        this.myScrollView.getComponent(cc.ScrollView).scrollToTop(0);
        var lang_bg = this.mBackground.getChildByName("language_bg");
        lang_bg.setScale(0);
        cc.tween(lang_bg).to(1 / 3, {
          scale: 1
        }).to(1 / 12, {
          scale: .95
        }).to(1 / 12, {
          scale: 1
        }).start();
      },
      setCallBack: function setCallBack(callBack) {
        this.mCallBack = callBack;
      },
      drawAvailableLanguage: function drawAvailableLanguage() {
        var dashResponse = JSON.parse(localStorage.getItem("from_index"));
        console.log(dashResponse);
        var lang = dashResponse.settings.languages;
        var borderY = -234;
        for (var key in lang.supportedLanguages) {
          var langData = lang.supportedLanguages[key];
          borderY = this.defaultLanaguage == langData.code ? -76 * parseInt(key) - 234 : borderY;
          var newLangPref = new cc.instantiate(this.mLanguageLabelPrefab);
          newLangPref.name = langData.code;
          newLangPref.setPosition(cc.v2(0, -76 * parseInt(key) - 234));
          newLangPref.getComponent(cc.Label).string = langData.nativeName;
          this.myScrollViewContent.addChild(newLangPref);
          var button = newLangPref.getComponent(cc.Button);
          this.rebindButtonClick(button, "onLanguageDidPressed", langData.code);
          this.createdButtons.push(newLangPref);
        }
        this.myLanguageBorder.setPosition(cc.v2(0, borderY));
        this.myConfirmBtn.y = -76 * (lang.supportedLanguages.length - 1) - 332;
        this.myScrollViewContent.height = 384 + 76 * (lang.supportedLanguages.length - 1);
      },
      rebindButtonClick: function rebindButtonClick(button, handlerName, customData) {
        if (!button) return;
        button.clickEvents = [];
        var clickHandler = new cc.Component.EventHandler();
        clickHandler.target = this.node;
        clickHandler.component = "Language";
        clickHandler.handler = handlerName;
        clickHandler.customEventData = customData;
        button.clickEvents.push(clickHandler);
      },
      myCloseButtonDidPressed: function myCloseButtonDidPressed(event, customEventData, codeTrigger) {
        var _this = this;
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        if ("confirm" == customEventData) {
          _SharedData["default"].setCurrentLanguage(this.defaultLanaguage);
          this.localizeUI();
          this.mCallBack.localizeUI();
        }
        var lang_bg = this.mBackground.getChildByName("language_bg");
        cc.tween(lang_bg).to(1 / 6, {
          scale: 1.1
        }).to(1 / 6, {
          scale: 0
        }).start();
        cc.tween(this.node).delay(1 / 6).to(1 / 6, {
          opacity: 0
        }).call(function() {
          _this.createdButtons.forEach(function(button) {
            button && button.isValid && (button.node ? button.node.removeFromParent() : button.removeFromParent());
          });
          _this.createdButtons = [];
          _this.mCallBack && _this.mCallBack.onLanguageCloseButtonDidPressed();
        }).start();
      },
      onLanguageDidPressed: function onLanguageDidPressed(event, customEventData) {
        _SharedFunction["default"].playButtonClickSound();
        cc.tween(this.myLanguageBorder).to(.1, {
          position: cc.v2(0, event.target.y)
        }).start();
        this.defaultLanaguage = customEventData;
      },
      localizeUI: function localizeUI() {
        this.mTitleLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "title");
        this.mCountryLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "country");
        this.mLanguageLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "language");
        this.mConfirmLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "confirm");
      },
      updatePrefabSize: function updatePrefabSize() {
        var visibleSize = cc.view.getVisibleSize();
      }
    });
    cc._RF.pop();
  }, {
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  LevelInfo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "fd94d9uD5hCN7bsURm8jXsD", "LevelInfo");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    var SharedData = require("SharedData");
    cc.Class({
      extends: cc.Component,
      properties: {
        myBorder: {
          default: null,
          type: cc.Node
        },
        myLevelImg: {
          default: null,
          type: cc.Node
        },
        myLevelLabel: {
          default: null,
          type: cc.Node
        },
        myDataLabel1: {
          default: null,
          type: cc.Node
        },
        myDataLabel2: {
          default: null,
          type: cc.Node
        },
        myDataLabel3: {
          default: null,
          type: cc.Node
        },
        myDataLabel4: {
          default: null,
          type: cc.Node
        },
        myDataLabel5: {
          default: null,
          type: cc.Node
        },
        myDataLabel6: {
          default: null,
          type: cc.Node
        },
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        mLabel1: {
          default: null,
          type: cc.Node
        },
        mLabel2: {
          default: null,
          type: cc.Node
        },
        mLabel3: {
          default: null,
          type: cc.Node
        },
        mLabel4: {
          default: null,
          type: cc.Node
        },
        mLabel5: {
          default: null,
          type: cc.Node
        },
        mLabel6: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.localizeUI();
      },
      init: function init(x, y, data, callBack) {
        this.node.x = x;
        this.node.y = y;
        this.data = data;
        this.mCallBack = callBack;
        var self = this;
        cc.loader.loadRes("images/profile/VIP" + data.level + ".png", cc.SpriteFrame, function(err, spriteFrame) {
          self.myLevelImg.getComponent(cc.Sprite).spriteFrame = spriteFrame;
        });
        1 == data.level && (this.myBorder.active = true);
        this.myLevelLabel.getComponent(cc.Label).string = data.name;
        this.myDataLabel1.getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(data.dailyLimit, 2);
        this.myDataLabel2.getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(data.dailyTransaction, 2);
        this.myDataLabel3.getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(data.upgradeBonus, 2);
        this.myDataLabel4.getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(data.rescueBonus, 2) + "%";
        this.myDataLabel5.getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(data.birthdayBonus, 2);
        this.myDataLabel6.getComponent(cc.Label).string = data.present;
      },
      onInfoButtonDidPressed: function onInfoButtonDidPressed() {
        _SharedFunction["default"].playButtonClickSound();
        this.mCallBack.onShowHideLevelDetail(true, this.data.level, this.data.name);
      },
      localizeUI: function localizeUI() {
        this.mLabel1.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "label1");
        this.mLabel2.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "label2");
        this.mLabel3.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "label3");
        this.mLabel4.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "label4");
        this.mLabel5.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "label5");
        this.mLabel6.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "label6");
      }
    });
    cc._RF.pop();
  }, {
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  LoadingView: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e594cUF5ElNjrTjSJxUI7jX", "LoadingView");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        myLabel: {
          default: null,
          type: cc.Label
        },
        loadingAnimation: cc.Animation,
        mStatusMessage: ""
      },
      onLoad: function onLoad() {},
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
        var blockInput = this.node.getComponent(cc.BlockInputEvents);
        blockInput || (blockInput = this.node.addComponent(cc.BlockInputEvents));
        this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchEvent, this);
        this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEvent, this);
        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchEvent, this);
        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEvent, this);
        this.loadingAnimation.play("loading_view");
        this.loadingAnimation.on("stop", function() {
          this.loadingAnimation && this.loadingAnimation.play("loading_view");
        }, this);
      },
      onTouchEvent: function onTouchEvent(event) {
        event.stopPropagation();
      },
      setText: function setText(displayText) {
        void 0 === displayText && (displayText = "");
        this.mStatusMessage = displayText;
        "" == this.mStatusMessage || this.dotInterval || this.startDotAnimation();
      },
      startDotAnimation: function startDotAnimation() {
        var _this = this;
        var dotCount = 0;
        this.dotInterval = setInterval(function() {
          dotCount = (dotCount + 1) % 4;
          var dots = ".".repeat(dotCount);
          _this.myLabel.string = "" + _this.mStatusMessage + dots;
        }, 500);
      },
      stopDotAnimation: function stopDotAnimation() {
        clearInterval(this.dotInterval);
      },
      onDestroy: function onDestroy() {
        this.stopDotAnimation();
        this.node.off(cc.Node.EventType.TOUCH_START, this.onTouchEvent, this);
        this.node.off(cc.Node.EventType.TOUCH_END, this.onTouchEvent, this);
        this.node.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchEvent, this);
        this.node.off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEvent, this);
      }
    });
    cc._RF.pop();
  }, {} ],
  Lobby: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b8c13I+EnNHQb/qh+U39rfM", "Lobby");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    var _AuthServices = _interopRequireDefault(require("../Services/AuthServices"));
    var _UserService = _interopRequireDefault(require("../Services/UserService"));
    var _GameService = _interopRequireDefault(require("../Services/GameService"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        myLoginView: null,
        myRegistrationView: null,
        myLanguageView: null,
        mySettingsView: null,
        myDepositView: null,
        myPersonalView: null,
        myGameListView: null,
        myCustomerServiceView: null,
        myRebateView: null,
        myAnnouncement: null,
        mCurrentGameGroup: "",
        banners: [],
        mGameGroupList: [],
        createdGameGroup: [],
        createdGameType: [],
        isDrawerOpen: false,
        mBackground: {
          default: null,
          type: cc.Node
        },
        myLoginBtn: {
          default: null,
          type: cc.Node
        },
        myRegisterBtn: {
          default: null,
          type: cc.Node
        },
        myPlayerNameLabel: {
          default: null,
          type: cc.Node
        },
        myCopyIDBG: {
          default: null,
          type: cc.Node
        },
        myPlayIdLabel: {
          default: null,
          type: cc.Node
        },
        myDepositBtn: {
          default: null,
          type: cc.Node
        },
        myWithdrawBtn: {
          default: null,
          type: cc.Node
        },
        myReferBtn: {
          default: null,
          type: cc.Node
        },
        myRebateBtn: {
          default: null,
          type: cc.Node
        },
        myMessageBtn: {
          default: null,
          type: cc.Node
        },
        mySupportBtn: {
          default: null,
          type: cc.Node
        },
        myMoreBtn: {
          default: null,
          type: cc.Node
        },
        myBalanceBG: {
          default: null,
          type: cc.Node
        },
        myDrawerBG: {
          default: null,
          type: cc.Node
        },
        myDrawerBGContent: {
          default: null,
          type: cc.Node
        },
        drawerCsItemPrefab: {
          default: null,
          type: cc.Prefab
        },
        createdDrawerCsItems: [],
        myGameScrollView: {
          default: null,
          type: cc.Node
        },
        myGameScrollContent: {
          default: null,
          type: cc.Node
        },
        myGameGroupScrollViewView: {
          default: null,
          type: cc.Node
        },
        myGameGroupScrollContent: {
          default: null,
          type: cc.Node
        },
        myLobbyFooter: {
          default: null,
          type: cc.Node
        },
        myHeaderProfileImg: {
          default: null,
          type: cc.Sprite
        },
        myNotificationBG: {
          default: null,
          type: cc.Node
        },
        myLobbyContainer: {
          default: null,
          type: cc.Node
        },
        myAnnouncementPrefab: {
          default: null,
          type: cc.Prefab
        },
        myGameGroupPrefab: {
          default: null,
          type: cc.Prefab
        },
        myBannerPrefab: {
          default: null,
          type: cc.Prefab
        },
        myBannerView: null,
        mSelectedTabbarIndex: 0,
        myBannerContainer: {
          default: null,
          type: cc.Sprite
        },
        myBannerMoveTimer: {
          default: 6,
          type: cc.Float
        },
        myBannerItemPrefabs: {
          default: null,
          type: cc.Prefab
        },
        myBannerCanMove: false,
        myUserName: {
          default: null,
          type: cc.Node
        },
        myUserBalance: {
          default: null,
          type: cc.Node
        },
        myUserProfileImage: {
          default: null,
          type: cc.Node
        },
        myGridView: null,
        myGridScrollView: cc.ScrollView,
        myTopupView: null,
        myWithdrawView: null,
        myProfileView: null,
        myEventView: null,
        mEventPrefab: {
          default: null,
          type: cc.Prefab
        },
        myFollowUsView: null,
        mFollowUsPrefab: {
          default: null,
          type: cc.Prefab
        },
        myRegisterView: null,
        mDailyBonusView: null,
        mDailyBonusPrefab: {
          default: null,
          type: cc.Prefab
        },
        mWelcomeBonusView: null,
        mWelcomeBonusPrefab: {
          default: null,
          type: cc.Prefab
        },
        mGameView: null,
        mMailboxView: null,
        mReferralView: null,
        myTabbar: {
          default: null,
          type: cc.Sprite
        },
        myTabbarButtonPrefabs: {
          default: null,
          type: cc.Prefab
        },
        mVipImage: {
          default: null,
          type: cc.Node
        },
        mVipLabel: {
          default: null,
          type: cc.Node
        },
        mVipView: null,
        mRebateView: null,
        mPwaAndroidView: null,
        mPwaiOSView: null,
        mPwaButton: {
          default: null,
          type: cc.Node
        },
        mCarnivalView: null,
        mCarnivalPrefab: {
          default: null,
          type: cc.Prefab
        },
        mRedeemCodeView: null,
        mStartLabel: {
          default: null,
          type: cc.Node
        },
        mWinnerInfoView: {
          default: null,
          type: cc.Node
        },
        mWinnerInfoAvatar: {
          default: null,
          type: cc.Node
        },
        mWinnerInfoMultiplier: {
          default: null,
          type: cc.Node
        },
        mWinnerInfoName: {
          default: null,
          type: cc.Node
        },
        mWinnerInfoAmount: {
          default: null,
          type: cc.Node
        },
        mWinnerInfoGameImage: {
          default: null,
          type: cc.Node
        },
        mWinnerInfoNextShowTimer: 5,
        mMailRedDot: {
          default: null,
          type: cc.Node
        },
        mDepositButton: {
          default: null,
          type: cc.Node
        },
        mWithdrawButton: {
          default: null,
          type: cc.Node
        },
        mVipButton: {
          default: null,
          type: cc.Node
        },
        mCsButton: {
          default: null,
          type: cc.Node
        },
        mMailButton: {
          default: null,
          type: cc.Node
        },
        mRebateButton: {
          default: null,
          type: cc.Node
        },
        mReferralButton: {
          default: null,
          type: cc.Node
        },
        mStartImage: {
          default: null,
          type: cc.Node
        },
        mMailBubble: {
          default: null,
          type: cc.Node
        },
        mEnStart: {
          default: null,
          type: cc.SpriteFrame
        },
        mIdStart: {
          default: null,
          type: cc.SpriteFrame
        },
        mTlStart: {
          default: null,
          type: cc.SpriteFrame
        },
        mLayout: {
          default: null,
          type: cc.Node
        },
        mEventButtonView: null,
        mEventButtonPrefab: {
          default: null,
          type: cc.Prefab
        },
        mCarnivalButtonView: null,
        mCarnivalButtonPrefab: {
          default: null,
          type: cc.Prefab
        },
        mFollowUsButtonView: null,
        mFollowUsButtonPrefab: {
          default: null,
          type: cc.Prefab
        },
        mAccumDepositButtonView: null,
        mAccumDepositButtonPrefab: {
          default: null,
          type: cc.Prefab
        },
        mWelcomeBonusButtonView: null,
        mWelcomeBonusButtonPrefab: {
          default: null,
          type: cc.Prefab
        },
        mVerifyButtonView: null,
        mVerifyButtonPrefab: {
          default: null,
          type: cc.Prefab
        },
        isVerifyOpen: false,
        isWelcomeBonusOpen: false,
        isDailyBonusOpen: false,
        isFollowUsOpen: false,
        isCarnivalOpen: false,
        isEventOpen: false,
        isDepositOpen: false,
        isWithdrawOpen: false,
        isVipOpen: false,
        isMailboxOpen: false,
        isRebateOpen: false,
        isReferralOpen: false,
        mNewPrizeAmount: 0,
        mShowNewPrizeNotification: false,
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        mLoginLabel: {
          default: null,
          type: cc.Node
        },
        mRegisterLabel: {
          default: null,
          type: cc.Node
        },
        mSettingLabel: {
          default: null,
          type: cc.Node
        },
        mDepositLabel: {
          default: null,
          type: cc.Node
        },
        mWithdrawLabel: {
          default: null,
          type: cc.Node
        },
        mReferLabel: {
          default: null,
          type: cc.Node
        },
        mRebateLabel: {
          default: null,
          type: cc.Node
        },
        mMessageLabel: {
          default: null,
          type: cc.Node
        },
        mSupportLabel: {
          default: null,
          type: cc.Node
        },
        mMoreLabel: {
          default: null,
          type: cc.Node
        },
        mNotificationLabel: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        var _this = this;
        cc.resources.load("prefabs/LoadingView/LoadingView", cc.Prefab, function(err, prefab) {
          _SharedFunction["default"].setLoadingViewPrefabs(prefab);
        });
        var self = this;
        this.localizeUI();
        var overlayButton = document.getElementById("overlay");
        overlayButton || cc.resources.load("images/login/close_btn", cc.SpriteFrame, function(err, spriteFrame) {
          if (!err && spriteFrame) {
            var parent = document.getElementById("Cocos2dGameContainer");
            var btn = document.createElement("button");
            btn.id = "overlay";
            btn.style.backgroundImage = "url('" + spriteFrame.getTexture().nativeUrl + "')";
            btn.style.backgroundSize = "contain";
            btn.style.backgroundRepeat = "no-repeat";
            btn.style.backgroundColor = "transparent";
            btn.style.border = "none";
            btn.style.width = "50px";
            btn.style.height = "50px";
            btn.style.position = "fixed";
            btn.style.bottom = "10px";
            btn.style.right = "10px";
            btn.style.zIndex = "9999";
            btn.style.display = "none";
            btn.onclick = function() {
              "function" === typeof window.closeGameView && window.closeGameView();
            };
            parent.appendChild(btn);
          } else {
            var _parent = document.getElementById("Cocos2dGameContainer");
            var btn = document.createElement("button");
            btn.id = "overlay";
            btn.innerHTML = "Close Game";
            btn.style.position = "fixed";
            btn.style.bottom = "10px";
            btn.style.right = "10px";
            btn.style.zIndex = "9999";
            btn.style.display = "none";
            btn.onclick = function() {
              "function" === typeof window.closeGameView && window.closeGameView();
            };
            _parent.appendChild(btn);
          }
        });
        cc.view.setResizeCallback(function() {
          _this.updatePrefabSize();
        });
        this.handleSplashResponse();
        this.setupRoundedMask(this.myGameGroupScrollViewView, 20);
        _SharedData["default"].getSelectedAvatar() == localStorage.getItem("selected_avatar") && cc.loader.loadRes("images/profile/Avatar" + _SharedData["default"].getSelectedAvatar() + ".png", cc.SpriteFrame, function(err, spriteFrame) {
          self.myHeaderProfileImg.getComponent(cc.Sprite).spriteFrame = spriteFrame;
        });
        this.createdDrawerCsItems = [];
        this.mGameGroupList = [ {
          code: "hot",
          name: "Hot Game",
          iconName: "hot"
        }, {
          code: "live",
          name: "Live Casino",
          iconName: "live"
        }, {
          code: "slots",
          name: "Slots",
          iconName: "slots"
        }, {
          code: "fishing",
          name: "Fishing",
          iconName: "hot"
        }, {
          code: "sport",
          name: "Sports",
          iconName: "hot"
        }, {
          code: "crash",
          name: "Crash",
          iconName: "hot"
        }, {
          code: "others",
          name: "Others",
          iconName: "hot"
        }, {
          code: "fast",
          name: "Fast Game",
          iconName: "hot"
        } ];
        this.configureGameGroup();
        this.playBtnAnimation();
        _SharedFunction["default"].playLobbyBackgroundMusic();
        if (_SharedFunction["default"].isLoggedIn()) {
          this.callGetProfileApi();
          this.updateBalanceLabelFromSharedData();
        }
      },
      setupRoundedMask: function setupRoundedMask(node, cornerRadius) {
        if (!node) return;
        var size = node.getContentSize();
        var width = Math.max(size.width, 1);
        var height = Math.max(size.height, 1);
        var canvas = document.createElement("canvas");
        canvas.width = width;
        canvas.height = height;
        var ctx = canvas.getContext("2d");
        ctx.clearRect(0, 0, width, height);
        ctx.fillStyle = "#FFFFFF";
        ctx.beginPath();
        ctx.moveTo(cornerRadius, 0);
        ctx.lineTo(width - cornerRadius, 0);
        ctx.quadraticCurveTo(width, 0, width, cornerRadius);
        ctx.lineTo(width, height - cornerRadius);
        ctx.quadraticCurveTo(width, height, width - cornerRadius, height);
        ctx.lineTo(cornerRadius, height);
        ctx.quadraticCurveTo(0, height, 0, height - cornerRadius);
        ctx.lineTo(0, cornerRadius);
        ctx.quadraticCurveTo(0, 0, cornerRadius, 0);
        ctx.closePath();
        ctx.fill();
        var texture = new cc.Texture2D();
        texture.initWithElement(canvas);
        texture.handleLoadedTexture();
        var spriteFrame = new cc.SpriteFrame();
        spriteFrame.setTexture(texture);
        spriteFrame.setRect(cc.rect(0, 0, width, height));
        var mask = node.getComponent(cc.Mask);
        mask || (mask = node.addComponent(cc.Mask));
        mask.type = 2;
        mask.spriteFrame = spriteFrame;
        mask.segments = 64;
      },
      updateHeaderIcon: function updateHeaderIcon() {
        var object = _SharedData["default"].getPopoutItem();
        if (null == object) return;
        if (null == this.mLayout) return;
        this.mLayout.removeAllChildren();
        for (var i = 0; i < object.headerList.length; i++) switch (object.headerList[i]) {
         case "promotions":
          var eventButton = cc.instantiate(this.mEventButtonPrefab);
          this.mLayout.addChild(eventButton);
          this.mEventButtonView = eventButton.getComponent("LobbyEventButton");
          this.mEventButtonView.setCallBack(this);
          break;

         case "mission":
          var getMissionData = _SharedData["default"].getMissionDataObject();
          if (1 == getMissionData["status"] && null != getMissionData["data"]) {
            var carnivalButton = cc.instantiate(this.mCarnivalButtonPrefab);
            this.mLayout.addChild(carnivalButton);
            this.mCarnivalButtonView = carnivalButton.getComponent("LobbyCarnivalButton");
            this.mCarnivalButtonView.setCallBack(this);
          }
          break;

         case "follow_us":
          var followUsButton = cc.instantiate(this.mFollowUsButtonPrefab);
          this.mLayout.addChild(followUsButton);
          this.mFollowUsButtonView = followUsButton.getComponent("LobbyFollowUsButton");
          this.mFollowUsButtonView.setCallBack(this);
          break;

         case "accum_depo":
          var accumulateDepositDataObject = _SharedData["default"].getAccumulateDepositObject();
          if (null != accumulateDepositDataObject) {
            var accumDepositButton = cc.instantiate(this.mAccumDepositButtonPrefab);
            this.mLayout.addChild(accumDepositButton);
            this.mAccumDepositButtonView = accumDepositButton.getComponent("LobbyAccumDepositButton");
            this.mAccumDepositButtonView.setCallBack(this);
          }
          break;

         case "welcome_bonus":
          var welcomeBonusObject = _SharedData["default"].getWelcomeBonusObject();
          if (null != welcomeBonusObject) {
            var welcomeBonusButton = cc.instantiate(this.mWelcomeBonusButtonPrefab);
            this.mLayout.addChild(welcomeBonusButton);
            this.mWelcomeBonusButtonView = welcomeBonusButton.getComponent("LobbyWelcomeBonusButton");
            this.mWelcomeBonusButtonView.setCallBack(this);
          }
          break;

         case "official_acc":
          if (!_SharedData["default"].getVerificationStatus()) {
            var verifyButton = cc.instantiate(this.mVerifyButtonPrefab);
            this.mLayout.addChild(verifyButton);
            this.mVerifyButtonView = verifyButton.getComponent("LobbyVerifyButton");
            this.mVerifyButtonView.setCallBack(this);
          }
        }
        this.mLayout.getComponent(cc.Layout).updateLayout();
      },
      autoShowDialog: function autoShowDialog() {
        if (_SharedFunction["default"].getQueryParam("skip")) return;
        var object = _SharedData["default"].getPopoutItem();
        if (null == object) return;
        if (0 == object.popoutList.length) return;
        var item = object.popoutList[0];
        switch (item.code) {
         case "promotions":
          var openPromotionCount = _SharedFunction["default"].getTodayData("openPromotionCount", 0);
          if (openPromotionCount >= item.times) {
            object.popoutList.shift();
            this.autoShowDialog();
            return;
          }
          _SharedFunction["default"].setTodayData("openPromotionCount", openPromotionCount + 1);
          this.onEventButtonDidPressed();
          object.popoutList.shift();
          break;

         case "mission":
          var getMissionData = _SharedData["default"].getMissionDataObject();
          if (0 == getMissionData["status"] || null == getMissionData["data"]) {
            object.popoutList.shift();
            this.autoShowDialog();
            return;
          }
          var openCarnivalCount = _SharedFunction["default"].getTodayData("openCarnivalCount", 0);
          if (openCarnivalCount >= item.times) {
            object.popoutList.shift();
            this.autoShowDialog();
            return;
          }
          _SharedFunction["default"].setTodayData("openCarnivalCount", openCarnivalCount + 1);
          this.onCarnivalButtonDidPressed();
          object.popoutList.shift();
          break;

         case "follow_us":
          var openFollowUsCount = _SharedFunction["default"].getTodayData("openFollowUsCount", 0);
          if (openFollowUsCount >= item.times) {
            object.popoutList.shift();
            this.autoShowDialog();
            return;
          }
          _SharedFunction["default"].setTodayData("openFollowUsCount", openFollowUsCount + 1);
          this.onFollowUsButtonDidPressed();
          object.popoutList.shift();
          break;

         case "accum_depo":
          var accumulateDepositDataObject = _SharedData["default"].getAccumulateDepositObject();
          if (null == accumulateDepositDataObject) {
            object.popoutList.shift();
            this.autoShowDialog();
            return;
          }
          var openDailyBonusCount = _SharedFunction["default"].getTodayData("openDailyBonusCount", 0);
          if (openDailyBonusCount >= item.times) {
            object.popoutList.shift();
            this.autoShowDialog();
            return;
          }
          _SharedFunction["default"].setTodayData("openDailyBonusCount", openDailyBonusCount + 1);
          this.onDailyBonusButtonDidPressed();
          object.popoutList.shift();
          break;

         case "welcome_bonus":
          var welcomeBonusObject = _SharedData["default"].getWelcomeBonusObject();
          if (null == welcomeBonusObject) {
            object.popoutList.shift();
            this.autoShowDialog();
            return;
          }
          var openWelcomeBonusCount = _SharedFunction["default"].getTodayData("openWelcomeBonusCount", 0);
          if (openWelcomeBonusCount >= item.times) {
            object.popoutList.shift();
            this.autoShowDialog();
            return;
          }
          _SharedFunction["default"].setTodayData("openWelcomeBonusCount", openWelcomeBonusCount + 1);
          this.onWelcomeBonusButtonDidPressed();
          object.popoutList.shift();
          break;

         case "official_acc":
          if (_SharedData["default"].getVerificationStatus()) {
            object.popoutList.shift();
            this.autoShowDialog();
            return;
          }
          var openVerifyCount = _SharedFunction["default"].getTodayData("openVerifyCount", 0);
          if (openVerifyCount >= item.times) {
            object.popoutList.shift();
            this.autoShowDialog();
            return;
          }
          _SharedFunction["default"].setTodayData("openVerifyCount", openVerifyCount + 1);
          this.onRegisterViewButtonDidPressed();
          object.popoutList.shift();
        }
      },
      callback: function callback(webview, eventType, customEventData) {
        console.log(eventType, customEventData);
      },
      closeGameWebView: function closeGameWebView(showTopupDialog) {
        var _this2 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
             case 0:
              void 0 === showTopupDialog && (showTopupDialog = false);
              console.log("closeGameWebView: " + showTopupDialog);
              _SharedFunction["default"].playLobbyBackgroundMusicForExitsGame();
              _context.next = 5;
              return _this2.getWallet();

             case 5:
              _context.next = 7;
              return _this2.refreshBalanceAndUpdateLabel();

             case 7:
              showTopupDialog && _this2.goToTopUpView();

             case 8:
             case "end":
              return _context.stop();
            }
          }, _callee);
        }))();
      },
      refreshBalanceAndUpdateLabel: function refreshBalanceAndUpdateLabel() {
        var _this3 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee2() {
          var token, response, userObj;
          return _regeneratorRuntime().wrap(function _callee2$(_context2) {
            while (1) switch (_context2.prev = _context2.next) {
             case 0:
              _context2.prev = 0;
              token = localStorage.getItem("token");
              if (token) {
                _context2.next = 5;
                break;
              }
              console.log("No token found, skipping balance refresh");
              return _context2.abrupt("return");

             case 5:
              _context2.next = 7;
              return _UserService["default"].getBalance(token);

             case 7:
              response = _context2.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context2.next = 11;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this3);
              return _context2.abrupt("return");

             case 11:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context2.next = 14;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this3);
              return _context2.abrupt("return");

             case 14:
              if (200 == response.status) {
                console.log("Balance refreshed on game close:", response);
                userObj = _SharedData["default"].getUserObject();
                if (userObj) {
                  userObj.balance = response.data.balance;
                  _SharedData["default"].setUserObject(userObj);
                  _this3.updateBalanceLabelFromSharedData();
                }
              }
              _context2.next = 24;
              break;

             case 17:
              _context2.prev = 17;
              _context2.t0 = _context2["catch"](0);
              if (!_SharedFunction["default"].handleSessionExpiration(_context2.t0, _this3)) {
                _context2.next = 21;
                break;
              }
              return _context2.abrupt("return");

             case 21:
              if (!_SharedFunction["default"].handleServerError(_context2.t0, _this3)) {
                _context2.next = 23;
                break;
              }
              return _context2.abrupt("return");

             case 23:
              console.error("Error refreshing balance on game close:", _context2.t0);

             case 24:
             case "end":
              return _context2.stop();
            }
          }, _callee2, null, [ [ 0, 17 ] ]);
        }))();
      },
      updateBalanceLabelFromSharedData: function updateBalanceLabelFromSharedData() {
        if (this.myBalanceBG && this.myBalanceBG.isValid) {
          var balanceLabel = this.myBalanceBG.getChildByName("lblBalance");
          if (balanceLabel && balanceLabel.isValid) {
            var userObj = _SharedData["default"].getUserObject();
            userObj && void 0 !== userObj.balance && (balanceLabel.getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(userObj.balance, 2));
          }
        }
      },
      updateDeviceToken: function updateDeviceToken(token) {
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee3() {
          var script, response;
          return _regeneratorRuntime().wrap(function _callee3$(_context3) {
            while (1) switch (_context3.prev = _context3.next) {
             case 0:
              script = new LobbyScript();
              _context3.next = 3;
              return script.updateDeviceToken(token);

             case 3:
              response = _context3.sent;
              console.log("updateDeviceToken", response);

             case 5:
             case "end":
              return _context3.stop();
            }
          }, _callee3);
        }))();
      },
      handleSplashResponse: function handleSplashResponse() {
        var dashResponse = JSON.parse(localStorage.getItem("from_index"));
        if (null != dashResponse.settings.banners) {
          if (dashResponse.settings.banners.Home) for (var key in dashResponse.settings.banners.Home.mobile) this.banners.push(dashResponse.settings.banners.Home.mobile[key]);
          if (dashResponse.settings.banners.Register) for (var key in dashResponse.settings.banners.Register.mobile) this.banners.push(dashResponse.settings.banners.Register.mobile[key]);
        }
        dashResponse.settings && dashResponse.settings.announcements && _SharedData["default"].setAnnouncement(dashResponse.settings.announcements);
        this.configureAnnouncement();
        _SharedFunction["default"].hideLoadingView(this);
        var returningFromGame = localStorage.getItem("returningFromGame");
        returningFromGame && "true" === returningFromGame ? localStorage.removeItem("returningFromGame") : this.showBannerPopup();
        this.loadDrawerCsItems();
      },
      showBannerPopup: function showBannerPopup() {
        var announcements = _SharedData["default"].getAnnouncement();
        if (!announcements || 0 === announcements.length) try {
          var dashResponse = JSON.parse(localStorage.getItem("from_index"));
          if (dashResponse && dashResponse.settings && dashResponse.settings.announcements) {
            announcements = dashResponse.settings.announcements;
            _SharedData["default"].setAnnouncement(announcements);
          }
        } catch (e) {
          console.error("Error reading announcements from localStorage:", e);
        }
        if (!announcements || 0 === announcements.length) return;
        var self = this;
        this.myBannerPrefab ? this.instantiateAndShowBanner(announcements) : cc.resources.load("prefabs/lobby/banner", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load banner prefab:", err);
            return;
          }
          self.myBannerPrefab = prefab;
          self.instantiateAndShowBanner(announcements);
        });
      },
      instantiateAndShowBanner: function instantiateAndShowBanner(announcementsArray) {
        if (!this.myBannerPrefab) return;
        if (!this.myBannerView) {
          var bannerNode = cc.instantiate(this.myBannerPrefab);
          this.myBannerView = bannerNode.getComponent("banner") || bannerNode.getComponent("Banner");
          if (!this.myBannerView) {
            console.error("Banner component not found. Make sure banner.js is attached to the prefab root node.");
            console.error("Available components:", bannerNode.getComponents(cc.Component).map(function(c) {
              return c.constructor.name;
            }));
            return;
          }
          this.updatePrefabSize();
          this.myBannerView.setCallBack(this);
          this.node.addChild(bannerNode);
        }
        if (this.myBannerView) {
          announcementsArray && announcementsArray.length > 0 && this.myBannerView.init(announcementsArray);
          this.myBannerView.show();
        }
      },
      onBannerCloseButtonDidPressed: function onBannerCloseButtonDidPressed() {
        this.myBannerView && this.myBannerView.hide();
      },
      onAnnouncementClicked: function onAnnouncementClicked() {
        this.showBannerPopup();
      },
      configureVip: function configureVip() {
        var _vip$list$findIndex;
        var self = this;
        var vip = _SharedData["default"].getVipList();
        var vipIndex = Math.min(null != (_vip$list$findIndex = vip.list.findIndex(function(item) {
          return item.isCurrentLevel;
        })) ? _vip$list$findIndex : 0, 10);
        var vipObj = vip.list.find(function(item) {
          return item.isCurrentLevel;
        });
        if (-1 == vipIndex || null == vipObj) {
          cc.loader.loadRes("images/lobby/vip_1.png", cc.SpriteFrame, function(err, spriteFrame) {
            self.mVipImage.getComponent(cc.Sprite).spriteFrame = spriteFrame;
            self.mVipImage.active = true;
          });
          this.mVipLabel.getComponent(cc.Label).string = "VIP0";
        } else {
          cc.loader.loadRes("images/lobby/vip_" + vipIndex + ".png", cc.SpriteFrame, function(err, spriteFrame) {
            self.mVipImage.getComponent(cc.Sprite).spriteFrame = spriteFrame;
            self.mVipImage.active = true;
          });
          this.mVipLabel.getComponent(cc.Label).string = vipObj["name"] || "VIP0";
        }
      },
      configureUserProfile: function configureUserProfile() {
        var self = this;
        var userProfile = _SharedData["default"].getUserObject();
        var profilePic = userProfile["profilePic"] || "av1";
        var username = userProfile["username"];
        this.myUserName.getComponent(cc.Label).string = userProfile["fullName"] || username;
        cc.loader.loadRes("images/lobby/" + profilePic + ".png", cc.SpriteFrame, function(err, spriteFrame) {
          self.myUserProfileImage.getComponent(cc.Sprite).spriteFrame = spriteFrame;
          self.myUserProfileImage.active = true;
        });
      },
      configureBanner: function configureBanner() {
        var _this4 = this;
        var bannerList = _SharedData["default"].getBanner();
        var pView = this.myBannerContainer.getComponent(cc.PageView);
        pView.removeAllPages();
        for (var i = 0; i < bannerList.length; i++) {
          var item = bannerList[i];
          var bannerItem = cc.instantiate(this.myBannerItemPrefabs).getComponent("LobbyBannerItem");
          bannerItem.setItem(item);
          bannerItem.setCallBack(this);
          pView.addPage(bannerItem.node);
        }
        this.myBannerContainer.node.active = true;
        this.myBannerMoveTimer = 0;
        setTimeout(function() {
          _this4.myBannerCanMove = true;
        }, 1);
      },
      configureTabbar: function configureTabbar() {
        var gameList = _SharedData["default"].getGameList();
        this.myTabbar.node.width = 160 * gameList.length - 10;
        for (var i = 0; i < gameList.length; i++) {
          var currentTabButton = cc.instantiate(this.myTabbarButtonPrefabs).getComponent("LobbyTabbutton");
          currentTabButton.init(160 * i - 5, 0, 160, 44);
          currentTabButton.setCallBack(this);
          currentTabButton.setData(i, gameList[i]);
          0 == i ? currentTabButton.setBackground("tab_background_left") : i == gameList.length - 1 ? currentTabButton.setBackground("tab_background_right") : currentTabButton.setBackground("tab_background_middle");
          this.myTabbar.node.addChild(currentTabButton.node);
        }
        this.myTabbar.node.active = true;
        this.mSelectedTabbarIndex = 0;
        var self = this;
        setTimeout(function() {
          self.onTabbarButtonDidPressed(self.mSelectedTabbarIndex, gameList[self.mSelectedTabbarIndex]);
        }, 0);
      },
      onTabbarButtonDidPressed: function onTabbarButtonDidPressed(index, object) {
        this.mSelectedTabbarIndex = index;
        var tabbarButtons = this.myTabbar.node._children;
        if (0 == tabbarButtons.length) return;
        for (var i = 0; i < tabbarButtons.length; i++) {
          var _tabButtonBackground = tabbarButtons[i].getChildByName("tab_button");
          var image = tabbarButtons[i].getChildByName("image");
          var label = tabbarButtons[i].getChildByName("label");
          _tabButtonBackground.getComponent(cc.Sprite).spriteFrame = null;
          image.color = cc.color("#FBF5DA");
          label.color = cc.color("#FBF5DA");
          _tabButtonBackground.getComponent(cc.Button).interactable = true;
        }
        var button = tabbarButtons[index];
        var tabButtonBackground = button.getChildByName("tab_button");
        tabButtonBackground.getComponent(cc.Button).interactable = false;
        cc.loader.loadRes("images/lobby/tab_button.png", cc.SpriteFrame, function(err, spriteFrame) {
          tabButtonBackground.getComponent(cc.Sprite).spriteFrame = spriteFrame;
          var image = button.getChildByName("image");
          var label = button.getChildByName("label");
          image.color = cc.color("#FFFFFF");
          label.color = cc.color("#FFFFFF");
        });
        this.configureGridView();
      },
      onBannerNextItem: function onBannerNextItem() {
        var pView = this.myBannerContainer.getComponent(cc.PageView);
        null != pView && pView.setCurrentPageIndex((pView.getCurrentPageIndex() + 1) % pView.getPages().length);
        this.myBannerMoveTimer = 6;
      },
      onBannerPrevItem: function onBannerPrevItem() {
        var pView = this.myBannerContainer.getComponent(cc.PageView);
        null != pView && pView.setCurrentPageIndex((pView.getPages().length + pView.getCurrentPageIndex() - 1) % pView.getPages().length);
        this.myBannerMoveTimer = 6;
      },
      configureGridView: function configureGridView() {
        if (!this.myGridView) {
          this.myGridView = this.myGridScrollView.getComponent("GridView");
          this.myGridView.setCallBack(this);
          this.myGridView.init(this.mSelectedTabbarIndex);
        }
        this.myGridView.updateView(this.mSelectedTabbarIndex);
      },
      onBalanceButtonDidPressed: function onBalanceButtonDidPressed(event, customEventData) {
        _SharedFunction["default"].playButtonClickSound();
        this.goToTopUpView();
      },
      goToTopUpView: function goToTopUpView(amount) {
        var _this5 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee4() {
          var script, response, self;
          return _regeneratorRuntime().wrap(function _callee4$(_context4) {
            while (1) switch (_context4.prev = _context4.next) {
             case 0:
              void 0 === amount && (amount = 0);
              if (!_this5.isDepositOpen) {
                _context4.next = 3;
                break;
              }
              return _context4.abrupt("return");

             case 3:
              _this5.isDepositOpen = true;
              _SharedFunction["default"].showLoadingView("", _this5);
              window.fbq && window.fbq("trackCustom", "deposit", {
                currency: "PHP",
                customerId: _SharedData["default"].getUserObject().username
              });
              if (!(0 == _SharedData["default"].getPaymentsProviderObject().length)) {
                _context4.next = 18;
                break;
              }
              script = new LobbyScript();
              _context4.next = 10;
              return script.getDeposit();

             case 10:
              response = _context4.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context4.next = 14;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this5);
              return _context4.abrupt("return");

             case 14:
              if (!(200 != response.status || null == response.result.paymentsProvider)) {
                _context4.next = 17;
                break;
              }
              _SharedFunction["default"].showAlertView(response.message, _this5);
              return _context4.abrupt("return");

             case 17:
              _SharedData["default"].setPaymentsProviderObject(response.result.paymentsProvider);

             case 18:
              if (!(0 == _SharedData["default"].getPaymentsProviderObject().length)) {
                _context4.next = 22;
                break;
              }
              _SharedFunction["default"].showAlertView(_SharedFunction["default"].getLocalizedString(_this5.i18nJson, "tryAgain"), _this5);
              _SharedFunction["default"].hideLoadingView(_this5);
              return _context4.abrupt("return");

             case 22:
              self = _this5;
              cc.resources.load("prefabs/topup/topup", cc.Prefab, function(err, prefab) {
                if (err) {
                  console.error("Failed to load prefab:", err);
                  _SharedFunction["default"].hideLoadingView(self);
                  return;
                }
                if (null == self.myTopupView) {
                  self.myTopupView = cc.instantiate(prefab).getComponent("TopupView");
                  self.updatePrefabSize();
                  self.myTopupView.setCallBack(self);
                }
                self.myTopupView.updateView(amount);
                self.node.addChild(self.myTopupView.node);
              });
              _SharedFunction["default"].hideLoadingView(_this5);

             case 25:
             case "end":
              return _context4.stop();
            }
          }, _callee4);
        }))();
      },
      onTopupViewDidClosed: function onTopupViewDidClosed() {
        this.isDepositOpen = false;
        this.mPwaButton.active = _SharedData["default"].getAab() ? "download" == _SharedData["default"].guard() : !_SharedData["default"].getIsApp();
        this.node.removeChild(this.myTopupView.node);
      },
      onWithdrawalButtonDidPressed: function onWithdrawalButtonDidPressed() {
        if (this.isWithdrawOpen) return;
        this.isWithdrawOpen = true;
        _SharedFunction["default"].playButtonClickSound();
        var guard = _SharedData["default"].guard();
        switch (guard) {
         case "verification":
          this.onRegisterViewButtonDidPressed();
          break;

         case "proceed":
          window.fbq && window.fbq("trackCustom", "withdraw", {
            currency: "PHP",
            customerId: _SharedData["default"].getUserObject().username
          });
          this.getWithdrawalApi();
          break;

         case "alert":
          _SharedFunction["default"].showAlertView(_SharedFunction["default"].getLocalizedString(this.i18nJson, "topupToUnlock"), this);
          break;

         case "download":
          this.onPwaButtonDidPressed();
        }
      },
      getWallet: function getWallet() {
        var _this6 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee5() {
          var script, response;
          return _regeneratorRuntime().wrap(function _callee5$(_context5) {
            while (1) switch (_context5.prev = _context5.next) {
             case 0:
              script = new LobbyScript();
              _context5.next = 3;
              return script.getWallet();

             case 3:
              response = _context5.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context5.next = 7;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this6);
              return _context5.abrupt("return");

             case 7:
              _this6.updateWallet(response.result.mainWallet);

             case 8:
             case "end":
              return _context5.stop();
            }
          }, _callee5);
        }))();
      },
      getWithdrawalApi: function getWithdrawalApi() {
        var _this7 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee6() {
          var script, response;
          return _regeneratorRuntime().wrap(function _callee6$(_context6) {
            while (1) switch (_context6.prev = _context6.next) {
             case 0:
              _SharedFunction["default"].showLoadingView("", _this7);
              script = new LobbyScript();
              _context6.next = 4;
              return script.getWithdraw();

             case 4:
              response = _context6.sent;
              _SharedFunction["default"].hideLoadingView(_this7);
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context6.next = 9;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this7);
              return _context6.abrupt("return");

             case 9:
              if (200 == response.status) {
                _SharedData["default"].setWithdrawObject(response["result"]);
                _this7.updateWallet(response["result"]["mainWallet"]);
                _this7.gotoWithdrawView();
              } else _SharedFunction["default"].showAlertView(response["message"], _this7);
              _SharedFunction["default"].hideLoadingView(_this7);

             case 11:
             case "end":
              return _context6.stop();
            }
          }, _callee6);
        }))();
      },
      gotoWithdrawView: function gotoWithdrawView() {
        var self = this;
        _SharedFunction["default"].showLoadingView("", self);
        cc.resources.load("prefabs/withdraw/withdraw", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          self.myWithdrawView = cc.instantiate(prefab).getComponent("WithdrawView");
          self.updatePrefabSize();
          self.myWithdrawView.setCallBack(self);
          self.myWithdrawView.updateView();
          self.node.addChild(self.myWithdrawView.node);
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      onWithdrawCloseButtonDidPressed: function onWithdrawCloseButtonDidPressed() {
        this.isWithdrawOpen = false;
        this.node.removeChild(this.myWithdrawView.node);
        this.myWithdrawView.node.destroy();
        this.myWithdrawView = null;
      },
      onProfileButtonDidPressed: function onProfileButtonDidPressed() {
        var self = this;
        _SharedFunction["default"].playButtonClickSound();
        _SharedFunction["default"].showLoadingView("", self);
        var prefabPath = "prefabs/profile/profile";
        var component = "Profile";
        if (_SharedData["default"].getVerificationStatus()) {
          prefabPath = "prefabs/verified_profile/verified_profile";
          component = "VerifiedProfileView";
        }
        cc.resources.load(prefabPath, cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          self.myProfileView = cc.instantiate(prefab).getComponent(component);
          self.updatePrefabSize();
          self.myProfileView.setCallBack(self);
          self.myProfileView.updateView();
          self.node.addChild(self.myProfileView.node);
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      onProfileViewDidClosed: function onProfileViewDidClosed() {
        this.node.removeChild(this.myProfileView.node);
        this.myProfileView.node.destroy();
        this.myProfileView = null;
      },
      verifyBeforeLogout: function verifyBeforeLogout() {
        this.onProfileViewDidClosed();
        this.onRegisterViewButtonDidPressed();
      },
      onEventButtonDidPressed: function onEventButtonDidPressed() {
        var _this8 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee7() {
          var promotionList, signInIndex, fundingIndex, weekCardIndex, getWeekCardData, weekCardData, signInRecord, self;
          return _regeneratorRuntime().wrap(function _callee7$(_context7) {
            while (1) switch (_context7.prev = _context7.next) {
             case 0:
              if (!_this8.isEventOpen) {
                _context7.next = 2;
                break;
              }
              return _context7.abrupt("return");

             case 2:
              _this8.isEventOpen = true;
              _SharedFunction["default"].playButtonClickSound();
              _SharedFunction["default"].showLoadingView("", _this8);
              _this8.mEventButtonView && _this8.mEventButtonView.updateRedDot();
              promotionList = _SharedData["default"].getPromotionObject();
              signInIndex = promotionList.findIndex(function(item) {
                return "signin" == item.redirectUrl;
              });
              fundingIndex = promotionList.findIndex(function(item) {
                return "funding" == item.redirectUrl;
              });
              weekCardIndex = promotionList.findIndex(function(item) {
                return "weekcard" == item.redirectUrl;
              });
              if (weekCardIndex > -1) {
                getWeekCardData = _SharedData["default"].getWeekCardDataObject();
                if (1 == getWeekCardData["status"] && getWeekCardData.data.setting.length > 0) {
                  weekCardData = getWeekCardData["data"];
                  promotionList[weekCardIndex].navigateTo = "getWeekCardData";
                  promotionList[weekCardIndex].data = weekCardData;
                } else promotionList.splice(weekCardIndex, 1);
              }
              if (fundingIndex > -1) {
                promotionList[fundingIndex].navigateTo = "getReliefFundData";
                promotionList[fundingIndex].data = _SharedData["default"].getReliefFundDataObject();
              }
              if (signInIndex > -1) {
                signInRecord = _SharedData["default"].getSignInRecordObject();
                if (signInRecord["status"]) {
                  promotionList[signInIndex].navigateTo = "signInRecord";
                  promotionList[signInIndex].data = signInRecord;
                } else promotionList.splice(signInIndex, 1);
              }
              self = _this8;
              self.myEventView = cc.instantiate(_this8.mEventPrefab).getComponent("Event");
              self.updatePrefabSize();
              self.myEventView.setPromotionList(promotionList);
              self.myEventView.setCallBack(self);
              self.myEventView.updateView();
              self.node.addChild(self.myEventView.node);
              _SharedFunction["default"].hideLoadingView(_this8);

             case 21:
             case "end":
              return _context7.stop();
            }
          }, _callee7);
        }))();
      },
      onEventViewDidClosed: function onEventViewDidClosed() {
        var _this9 = this;
        this.isEventOpen = false;
        this.node.removeChild(this.myEventView.node);
        this.myEventView.node.destroy();
        this.myEventView = null;
        setTimeout(function() {
          return _this9.autoShowDialog();
        }, 1);
      },
      onFollowUsButtonDidPressed: function onFollowUsButtonDidPressed() {
        if (this.isFollowUsOpen) return;
        this.isFollowUsOpen = true;
        var self = this;
        _SharedFunction["default"].playButtonClickSound();
        _SharedFunction["default"].showLoadingView("", self);
        this.mFollowUsButtonView && this.mFollowUsButtonView.updateRedDot();
        self.myFollowUsView = cc.instantiate(this.mFollowUsPrefab).getComponent("FollowUs");
        self.updatePrefabSize();
        self.myFollowUsView.setCallBack(self);
        self.myFollowUsView.updateView();
        self.node.addChild(self.myFollowUsView.node);
        _SharedFunction["default"].hideLoadingView(self);
      },
      onFollowUsViewDidClosed: function onFollowUsViewDidClosed() {
        var _this10 = this;
        this.isFollowUsOpen = false;
        this.node.removeChild(this.myFollowUsView.node);
        this.myFollowUsView.node.destroy();
        this.myFollowUsView = null;
        setTimeout(function() {
          return _this10.autoShowDialog();
        }, 1);
      },
      onRegisterViewButtonDidPressed: function onRegisterViewButtonDidPressed() {
        if (this.isVerifyOpen) return;
        this.isVerifyOpen = true;
        var self = this;
        _SharedFunction["default"].showLoadingView("", self);
        cc.resources.load("prefabs/register/register", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          self.myRegisterView = cc.instantiate(prefab).getComponent("Register");
          self.updatePrefabSize();
          self.myRegisterView.setCallBack(self);
          self.myRegisterView.updateView();
          self.node.addChild(self.myRegisterView.node);
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      onRegisterViewDidClosed: function onRegisterViewDidClosed() {
        var _this11 = this;
        this.isVerifyOpen = false;
        this.isWelcomeBonusOpen = false;
        this.isDailyBonusOpen = false;
        this.isFollowUsOpen = false;
        this.isCarnivalOpen = false;
        this.isEventOpen = false;
        this.isDepositOpen = false;
        this.isWithdrawOpen = false;
        this.isVipOpen = false;
        this.isMailboxOpen = false;
        this.isRebateOpen = false;
        this.isReferralOpen = false;
        this.myProfileView && this.myProfileView.updateViewWithoutAnimation();
        this.updateAccountButtonStatus();
        this.node.removeChild(this.myRegisterView.node);
        this.myRegisterView.node.destroy();
        this.myRegisterView = null;
        setTimeout(function() {
          return _this11.autoShowDialog();
        }, 1);
      },
      updateAccountButtonStatus: function updateAccountButtonStatus() {},
      onOfficialAccountButtonDidPressed: function onOfficialAccountButtonDidPressed() {
        _SharedFunction["default"].playButtonClickSound();
        _SharedData["default"].getVerificationStatus() || this.onRegisterViewButtonDidPressed();
      },
      onGameItemDidPressed: function onGameItemDidPressed(array, index) {
        _SharedFunction["default"].playButtonClickSound();
        var gameGuard = _SharedData["default"].gameGuard();
        switch (gameGuard) {
         case "verification":
          this.onRegisterViewButtonDidPressed();
          break;

         case "proceed":
         case "alert":
          this.handleGameItemDidPressed(array, index);
          break;

         case "download":
          this.onPwaButtonDidPressed();
        }
      },
      handleGameItemDidPressed: function handleGameItemDidPressed(array, index) {
        var _this12 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee8() {
          var currentGame, currentGameId, currentGamePlatformId, currentGamePlatformName, currentGameIsHorizontal, script, response, gameHistory, existingIndex, currentJs, jsToInject;
          return _regeneratorRuntime().wrap(function _callee8$(_context8) {
            while (1) switch (_context8.prev = _context8.next) {
             case 0:
              _SharedFunction["default"].showLoadingView("", _this12);
              currentGame = array[index];
              currentGameId = currentGame["id"];
              currentGamePlatformId = currentGame["platformProductId"];
              currentGamePlatformName = currentGame["platformProductName"];
              currentGameIsHorizontal = currentGame["isHorizontal"];
              script = new LobbyScript();
              _context8.next = 9;
              return script.playGame(currentGameId);

             case 9:
              response = _context8.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context8.next = 13;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this12);
              return _context8.abrupt("return");

             case 13:
              if (200 == response.status) {
                window.fbq && window.fbq("trackCustom", "gameLaunch", {
                  customerId: _SharedData["default"].getUserObject().username,
                  gameCategory: "slot",
                  gameId: currentGameId,
                  vendor: currentGamePlatformName
                });
                gameHistory = JSON.parse(localStorage.getItem("gameHistory") || "[]");
                existingIndex = gameHistory.findIndex(function(game) {
                  return game.id === currentGame.id;
                });
                -1 !== existingIndex && gameHistory.splice(existingIndex, 1);
                gameHistory.unshift(currentGame);
                gameHistory.length > 20 && gameHistory.pop();
                localStorage.setItem("gameHistory", JSON.stringify(gameHistory));
                gameHistory.length > 0 && (_this12.mStartLabel.getComponent(cc.Label).string = gameHistory[0]["name"]);
                if (1 == response["result"]["playGame"]["status"]) {
                  currentJs = response["result"]["playGame"]["form"];
                  if (currentJs.includes("<html")) {
                    jsToInject = "\n                                document.open();\n                                document.write(`" + currentJs.replace(/`/g, "\\`") + "`);\n                                document.close();\n                            ";
                    _this12.showGameViewWithInjectJs(jsToInject, currentGamePlatformId, currentGameIsHorizontal);
                  } else _this12.showGameViewWithUrl(currentJs, currentGamePlatformId, currentGameIsHorizontal);
                  _SharedFunction["default"].hideLoadingView(_this12);
                } else {
                  _SharedFunction["default"].hideLoadingView(_this12);
                  _SharedFunction["default"].showAlertView(response["result"]["playGame"]["message"], _this12);
                }
              }

             case 14:
             case "end":
              return _context8.stop();
            }
          }, _callee8);
        }))();
      },
      showGameViewWithInjectJs: function showGameViewWithInjectJs(js, platformId, isHorizontal) {
        _SharedFunction["default"].stopLobbyBackgroundMusicForGame();
        _SharedData["default"].setGameViewData({
          js: js,
          platformId: platformId,
          isHorizontal: isHorizontal,
          isLoadUrl: false,
          url: ""
        });
        cc.director.loadScene("GameView");
      },
      showGameViewWithUrl: function showGameViewWithUrl(url, platformId, isHorizontal) {
        _SharedFunction["default"].stopLobbyBackgroundMusicForGame();
        if (_SharedData["default"].getIsApp()) _SharedFunction["default"].sendToApp(JSON.stringify({
          gameUrl: url,
          isFirstPartyGame: 3238 == platformId
        })); else {
          _SharedData["default"].setGameViewData({
            js: "",
            platformId: platformId,
            isHorizontal: isHorizontal,
            isLoadUrl: true,
            url: url
          });
          cc.director.loadScene("GameView");
        }
      },
      onLogoutButtonDidPressed: function onLogoutButtonDidPressed() {
        var _this13 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee9() {
          return _regeneratorRuntime().wrap(function _callee9$(_context9) {
            while (1) switch (_context9.prev = _context9.next) {
             case 0:
              _SharedFunction["default"].playButtonClickSound();
              _SharedFunction["default"].showLoadingView("", _this13);
              _SharedFunction["default"].logout(_this13);
              _SharedFunction["default"].hideLoadingView(_this13);

             case 4:
             case "end":
              return _context9.stop();
            }
          }, _callee9);
        }))();
      },
      onProfileDidChanged: function onProfileDidChanged() {
        this.configureUserProfile();
      },
      onDailyBonusButtonDidPressed: function onDailyBonusButtonDidPressed() {
        if (this.isDailyBonusOpen) return;
        this.isDailyBonusOpen = true;
        var self = this;
        _SharedFunction["default"].playButtonClickSound();
        _SharedFunction["default"].showLoadingView("", self);
        this.mAccumDepositButtonView && this.mAccumDepositButtonView.updateRedDot();
        self.mDailyBonusView = cc.instantiate(this.mDailyBonusPrefab).getComponent("DailyBonus");
        self.updatePrefabSize();
        self.mDailyBonusView.setCallBack(self);
        self.mDailyBonusView.updateView();
        self.node.addChild(self.mDailyBonusView.node);
        _SharedFunction["default"].hideLoadingView(self);
      },
      onDailyBonusViewCloseButtonDidPressed: function onDailyBonusViewCloseButtonDidPressed(amount) {
        var _this14 = this;
        this.isDailyBonusOpen = false;
        this.node.removeChild(this.mDailyBonusView.node);
        this.mDailyBonusView.node.destroy();
        this.mDailyBonusView = null;
        amount > 0 ? this.goToTopUpView(amount) : setTimeout(function() {
          return _this14.autoShowDialog();
        }, 1);
      },
      onWelcomeBonusButtonDidPressed: function onWelcomeBonusButtonDidPressed() {
        if (this.isWelcomeBonusOpen) return;
        this.isWelcomeBonusOpen = true;
        var self = this;
        _SharedFunction["default"].playButtonClickSound();
        _SharedFunction["default"].showLoadingView("", self);
        this.mWelcomeBonusButtonView && this.mWelcomeBonusButtonView.updateRedDot();
        self.mWelcomeBonusView = cc.instantiate(this.mWelcomeBonusPrefab).getComponent("WelcomeBonus");
        self.updatePrefabSize();
        self.mWelcomeBonusView.setCallBack(self);
        self.mWelcomeBonusView.updateView();
        self.node.addChild(self.mWelcomeBonusView.node);
        _SharedFunction["default"].hideLoadingView(self);
      },
      onWelcomeBonusViewCloseButtonDidPressed: function onWelcomeBonusViewCloseButtonDidPressed() {
        var _this15 = this;
        this.isWelcomeBonusOpen = false;
        this.node.removeChild(this.mWelcomeBonusView.node);
        this.mWelcomeBonusView.node.destroy();
        this.mWelcomeBonusView = null;
        setTimeout(function() {
          return _this15.autoShowDialog();
        }, 1);
      },
      onWelcomeBonusViewDepositButtonDidPressed: function onWelcomeBonusViewDepositButtonDidPressed(amount) {
        this.isWelcomeBonusOpen = false;
        this.node.removeChild(this.mWelcomeBonusView.node);
        this.goToTopUpView(amount);
      },
      callMailBoxApi: function callMailBoxApi() {
        var _this16 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee10() {
          var user, self, script, response, data, getAccumulateDepositData, getMissionData, welcomeBonus, isDataChanged, userProfile, newMessageArrive, depositNotify;
          return _regeneratorRuntime().wrap(function _callee10$(_context10) {
            while (1) switch (_context10.prev = _context10.next) {
             case 0:
              user = _SharedData["default"].getUserObject();
              if (!(void 0 == user.username)) {
                _context10.next = 3;
                break;
              }
              return _context10.abrupt("return");

             case 3:
              self = _this16;
              script = new LobbyScript();
              _context10.next = 7;
              return script.getMailbox();

             case 7:
              response = _context10.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context10.next = 11;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, self);
              return _context10.abrupt("return");

             case 11:
              if (200 == response.status) {
                data = response["result"];
                getAccumulateDepositData = data["getAccumulateDepositData"]["data"];
                getMissionData = data["getMissionData"];
                welcomeBonus = data["getDepositPromotion"];
                isDataChanged = false;
                null == getAccumulateDepositData && null != _SharedData["default"].getAccumulateDepositObject() && (isDataChanged = true);
                null != getAccumulateDepositData && null == _SharedData["default"].getAccumulateDepositObject() && (isDataChanged = true);
                getMissionData.status != _SharedData["default"].getMissionDataObject().status && (isDataChanged = true);
                null == getMissionData.data && null != _SharedData["default"].getMissionDataObject().data && (isDataChanged = true);
                null != getMissionData.data && null == _SharedData["default"].getMissionDataObject().data && (isDataChanged = true);
                null == welcomeBonus && null != _SharedData["default"].getWelcomeBonusObject() && (isDataChanged = true);
                null != welcomeBonus && null == _SharedData["default"].getWelcomeBonusObject() && (isDataChanged = true);
                isDataChanged && _this16.updateHeaderIcon();
                _SharedData["default"].setAccumulateDepositObject(getAccumulateDepositData);
                _SharedData["default"].setReliefFundDataObject(data["getReliefFundData"]);
                _SharedData["default"].setMissionDataObject(getMissionData);
                _SharedData["default"].setPaymentsProviderObject(data["paymentsProvider"]);
                _SharedData["default"].setMailBox(data["mailBox"]);
                _SharedData["default"].setWelcomeBonusObject(welcomeBonus);
                userProfile = _SharedData["default"].getUserObject();
                userProfile.firstPasswordUpdate = data["getUserProfile"]["firstPasswordUpdate"];
                userProfile.phoneNumber = data["getUserProfile"]["phoneNumber"];
                _SharedData["default"].setUserObject(userProfile);
                _this16.updateAccountButtonStatus();
                _this16.updateWallet(data["mainWallet"]);
                _this16.updateMailRedDot();
                newMessageArrive = _this16.checkForNewArriveMessage();
                if (_this16.mMailBubble && newMessageArrive) {
                  _this16.mMailBubble.active = true;
                  setTimeout(function() {
                    self.mMailBubble && (self.mMailBubble.active = false);
                  }, 5e3);
                }
                depositNotify = data["getDepositNotify"];
                if (1 == depositNotify.status && depositNotify.amount > 0 && window.fbq) {
                  window.fbq("trackCustom", "firstDepositArrival", {
                    currency: "PHP",
                    customerId: _SharedData["default"].getUserObject().username,
                    revenue: depositNotify.amount,
                    value: depositNotify.amount
                  });
                  window.fbq("track", "Purchase", {
                    currency: "PHP",
                    customerId: _SharedData["default"].getUserObject().username,
                    revenue: depositNotify.amount,
                    value: depositNotify.amount
                  });
                }
              }
              setTimeout(function() {
                "function" === typeof self.callMailBoxApi && self.callMailBoxApi();
              }, 5e3);

             case 13:
             case "end":
              return _context10.stop();
            }
          }, _callee10);
        }))();
      },
      onMailboxButtonDidPressed: function onMailboxButtonDidPressed() {
        var _this17 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee11() {
          var self;
          return _regeneratorRuntime().wrap(function _callee11$(_context11) {
            while (1) switch (_context11.prev = _context11.next) {
             case 0:
              if (!_this17.isMailboxOpen) {
                _context11.next = 2;
                break;
              }
              return _context11.abrupt("return");

             case 2:
              _this17.isMailboxOpen = true;
              self = _this17;
              _SharedFunction["default"].playButtonClickSound();
              _SharedFunction["default"].showLoadingView("", self);
              cc.resources.load("prefabs/mailbox/mailbox", cc.Prefab, function(err, prefab) {
                if (err) {
                  console.error("Failed to load prefab:", err);
                  _SharedFunction["default"].hideLoadingView(self);
                  return;
                }
                if (null == self.mMailboxView) {
                  self.mMailboxView = cc.instantiate(prefab).getComponent("Mailbox");
                  self.updatePrefabSize();
                  self.mMailboxView.setCallBack(self);
                }
                self.mMailboxView.updateView();
                self.node.addChild(self.mMailboxView.node);
                _SharedFunction["default"].hideLoadingView(self);
              });

             case 7:
             case "end":
              return _context11.stop();
            }
          }, _callee11);
        }))();
      },
      onMailboxCloseButtonDidPressed: function onMailboxCloseButtonDidPressed() {
        this.isMailboxOpen = false;
        this.node.removeChild(this.mMailboxView.node);
      },
      onReferralButtonDidPressed: function onReferralButtonDidPressed() {
        if (this.isReferralOpen) return;
        this.isReferralOpen = true;
        _SharedFunction["default"].playButtonClickSound();
        var guard = _SharedData["default"].guard();
        switch (guard) {
         case "verification":
          this.onRegisterViewButtonDidPressed();
          break;

         case "proceed":
          var referralData = _SharedData["default"].getReferralObject();
          void 0 == referralData.getInviteRewardData ? this.callGetReferralApi() : this.gotoReferralView();
          break;

         case "alert":
          _SharedFunction["default"].showAlertView(_SharedFunction["default"].getLocalizedString(this.i18nJson, "topupToUnlock"), this);
          break;

         case "download":
          this.onPwaButtonDidPressed();
        }
      },
      gotoReferralView: function gotoReferralView() {
        var self = this;
        _SharedFunction["default"].showLoadingView("", self);
        cc.resources.load("prefabs/referral/referral", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          if (null == self.mReferralView) {
            self.mReferralView = cc.instantiate(prefab).getComponent("ReferralView");
            self.updatePrefabSize();
            self.mReferralView.setCallBack(self);
          }
          self.mReferralView.updateView();
          self.node.addChild(self.mReferralView.node);
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      onReferralViewCloseButtonDidPressed: function onReferralViewCloseButtonDidPressed() {
        this.isReferralOpen = false;
        this.node.removeChild(this.mReferralView.node);
      },
      onCsButtonDidPressed: function onCsButtonDidPressed() {
        _SharedFunction["default"].playButtonClickSound();
        window.open(_SharedData["default"].getLiveChat(), "_blank").focus();
      },
      onRedeemCodeDidPressed: function onRedeemCodeDidPressed() {
        var self = this;
        _SharedFunction["default"].playButtonClickSound();
        _SharedFunction["default"].showLoadingView("", self);
        cc.resources.load("prefabs/profile/redeem_code", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          if (null == self.mRedeemCodeView) {
            self.mRedeemCodeView = cc.instantiate(prefab).getComponent("RedeemCode");
            self.updatePrefabSize();
            self.mRedeemCodeView.setCallBack(self);
          }
          self.mRedeemCodeView.updateView();
          self.node.addChild(self.mRedeemCodeView.node);
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      onRedeemCodeViewDidClosed: function onRedeemCodeViewDidClosed() {
        this.node.removeChild(this.mRedeemCodeView.node);
      },
      showWinnerInfoView: function showWinnerInfoView() {
        var _this18 = this;
        var self = this;
        var delayDuration = 0;
        this.mWinnerInfoView.getChildByName("winner").active = !this.mShowNewPrizeNotification;
        this.mWinnerInfoView.getChildByName("prize").active = this.mShowNewPrizeNotification;
        if (this.mShowNewPrizeNotification) {
          this.mWinnerInfoView.zIndex = 9999;
          delayDuration = 8;
          this.mWinnerInfoView.getChildByName("prize").getChildByName("amount_label").getComponent(cc.Label).string = _SharedFunction["default"].numberWithCommas(this.mNewPrizeAmount);
        } else {
          delayDuration = 5;
          this.mWinnerInfoAvatar.active = false;
          this.mWinnerInfoMultiplier.getComponent(cc.Label).string = _SharedFunction["default"].getRandomNumber(30, 500) + " X";
          this.mWinnerInfoName.getComponent(cc.Label).string = _SharedFunction["default"].getRandomAlphaNumeric(7) + "...";
          var profilePic = "av" + _SharedFunction["default"].getRandomNumber(1, 17);
          cc.loader.loadRes("images/lobby/" + profilePic + ".png", cc.SpriteFrame, function(err, spriteFrame) {
            self.mWinnerInfoAvatar.getComponent(cc.Sprite).spriteFrame = spriteFrame;
            self.mWinnerInfoAvatar.active = true;
          });
        }
        var hideX = cc.view.getVisibleSize().width / 2;
        var showX = cc.view.getVisibleSize().width / 2 - 400;
        cc.tween(this.mWinnerInfoView).to(.25, {
          position: cc.v2(showX, 220)
        }, {
          easing: "cubicInOut"
        }).delay(delayDuration).to(.25, {
          position: cc.v2(hideX, 220)
        }, {
          easing: "cubicInOut"
        }).call(function() {
          _this18.mWinnerInfoView.getChildByName("prize").active && (_this18.mShowNewPrizeNotification = false);
          _this18.mWinnerInfoNextShowTimer = _SharedFunction["default"].getRandomNumber(5, 10);
        }).start();
      },
      callGetReferralApi: function callGetReferralApi() {
        var _this19 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee12() {
          var self, script, response;
          return _regeneratorRuntime().wrap(function _callee12$(_context12) {
            while (1) switch (_context12.prev = _context12.next) {
             case 0:
              self = _this19;
              _SharedFunction["default"].showLoadingView("", _this19);
              script = new LobbyScript();
              _context12.next = 5;
              return script.getReferral();

             case 5:
              response = _context12.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context12.next = 9;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this19);
              return _context12.abrupt("return");

             case 9:
              if (200 == response.status) {
                _SharedData["default"].setReferralObject(response["result"]);
                _SharedFunction["default"].hideLoadingView(_this19);
                _this19.gotoReferralView();
              } else _SharedFunction["default"].showAlertView(response["message"], _this19);
              _SharedFunction["default"].hideLoadingView(_this19);

             case 11:
             case "end":
              return _context12.stop();
            }
          }, _callee12);
        }))();
      },
      onVipButtonDidPressed: function onVipButtonDidPressed() {
        if (this.isVipOpen) return;
        this.isVipOpen = true;
        _SharedFunction["default"].playButtonClickSound();
        var guard = _SharedData["default"].guard();
        switch (guard) {
         case "verification":
          this.onRegisterViewButtonDidPressed();
          break;

         case "proceed":
          this.callGetVipApi();
          break;

         case "alert":
          _SharedFunction["default"].showAlertView(_SharedFunction["default"].getLocalizedString(this.i18nJson, "topupToUnlock"), this);
          break;

         case "download":
          this.onPwaButtonDidPressed();
        }
      },
      callGetVipApi: function callGetVipApi() {
        var _this20 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee13() {
          var script, response, result, self;
          return _regeneratorRuntime().wrap(function _callee13$(_context13) {
            while (1) switch (_context13.prev = _context13.next) {
             case 0:
              _SharedFunction["default"].showLoadingView("", _this20);
              script = new LobbyScript();
              _context13.next = 4;
              return script.getVip();

             case 4:
              response = _context13.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context13.next = 8;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this20);
              return _context13.abrupt("return");

             case 8:
              if (200 == response.status) {
                result = response["result"];
                _SharedData["default"].setVipList(result.vipList);
                self = _this20;
                cc.resources.load("prefabs/vip/vip", cc.Prefab, function(err, prefab) {
                  if (err) {
                    console.error("Failed to load prefab:", err);
                    _SharedFunction["default"].hideLoadingView(self);
                    return;
                  }
                  if (null == self.mVipView) {
                    self.mVipView = cc.instantiate(prefab).getComponent("VipVIew");
                    self.updatePrefabSize();
                    self.mVipView.setCallBack(self);
                  }
                  self.mVipView.updateView(result);
                  self.node.addChild(self.mVipView.node);
                });
              } else _SharedFunction["default"].showAlertView(response["message"], _this20);
              _SharedFunction["default"].hideLoadingView(_this20);

             case 10:
             case "end":
              return _context13.stop();
            }
          }, _callee13);
        }))();
      },
      onVipViewCloseButtonDidPressed: function onVipViewCloseButtonDidPressed(playLastGame) {
        this.isVipOpen = false;
        this.node.removeChild(this.mVipView.node);
        playLastGame && this.onStartButtonDidPressed();
      },
      onRebateButton2DidPressed: function onRebateButton2DidPressed() {
        if (this.isRebateOpen) return;
        this.isRebateOpen = true;
        _SharedFunction["default"].playButtonClickSound();
        var guard = _SharedData["default"].guard();
        switch (guard) {
         case "verification":
          this.onRegisterViewButtonDidPressed();
          break;

         case "proceed":
          this.showRebateView();
          break;

         case "alert":
          _SharedFunction["default"].showAlertView(_SharedFunction["default"].getLocalizedString(this.i18nJson, "topupToUnlock"), this);
          break;

         case "download":
          this.onPwaButtonDidPressed();
        }
      },
      showRebateView: function showRebateView() {
        var _this21 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee14() {
          var script, response, self;
          return _regeneratorRuntime().wrap(function _callee14$(_context14) {
            while (1) switch (_context14.prev = _context14.next) {
             case 0:
              _SharedFunction["default"].showLoadingView("", _this21);
              if (!(null == _SharedData["default"].getIncentiveDataObject())) {
                _context14.next = 14;
                break;
              }
              script = new LobbyScript();
              _context14.next = 5;
              return script.getRebate();

             case 5:
              response = _context14.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context14.next = 9;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this21);
              return _context14.abrupt("return");

             case 9:
              if (!(200 != response.status)) {
                _context14.next = 13;
                break;
              }
              _SharedFunction["default"].showAlertView(response.message, _this21);
              _SharedFunction["default"].hideLoadingView(_this21);
              return _context14.abrupt("return");

             case 13:
              _SharedData["default"].setIncentiveDataObject(response.result.getIncentiveData);

             case 14:
              if (!(0 == _SharedData["default"].getIncentiveDataObject().status)) {
                _context14.next = 18;
                break;
              }
              _SharedFunction["default"].showAlertView(_SharedData["default"].getIncentiveDataObject().message, _this21);
              _SharedFunction["default"].hideLoadingView(_this21);
              return _context14.abrupt("return");

             case 18:
              self = _this21;
              cc.resources.load("prefabs/rebate/rebate", cc.Prefab, function(err, prefab) {
                if (err) {
                  console.error("Failed to load prefab:", err);
                  _SharedFunction["default"].hideLoadingView(self);
                  return;
                }
                self.mRebateView = cc.instantiate(prefab).getComponent("RebateView");
                self.updatePrefabSize();
                self.mRebateView.setCallBack(self);
                self.mRebateView.updateView();
                self.node.addChild(self.mRebateView.node);
              });
              _SharedFunction["default"].hideLoadingView(_this21);

             case 21:
             case "end":
              return _context14.stop();
            }
          }, _callee14);
        }))();
      },
      onRebate2CloseButtonDidPressed: function onRebate2CloseButtonDidPressed() {
        this.isRebateOpen = false;
        this.node.removeChild(this.mRebateView.node);
        this.mRebateView.node.destroy();
        this.mRebateView = null;
      },
      onPwaButtonDidPressed: function onPwaButtonDidPressed() {
        _SharedFunction["default"].playButtonClickSound();
        "Android" == _SharedFunction["default"].getMobileOperatingSystem() ? this.gotoPwaAndroidView() : this.gotoPwaiOSView();
      },
      gotoPwaAndroidView: function gotoPwaAndroidView() {
        var self = this;
        _SharedFunction["default"].showLoadingView("", self);
        cc.resources.load("prefabs/pwa/pwa_android", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          self.mPwaAndroidView = cc.instantiate(prefab).getComponent("PwaAndroidView");
          self.updatePrefabSize();
          self.mPwaAndroidView.setCallBack(self);
          self.mPwaAndroidView.updateView();
          self.node.addChild(self.mPwaAndroidView.node);
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      onPwaAndroidViewCloseButtonDidPressed: function onPwaAndroidViewCloseButtonDidPressed() {
        this.node.removeChild(this.mPwaAndroidView.node);
        this.mPwaAndroidView.node.destroy();
        this.mPwaAndroidView = null;
      },
      gotoPwaiOSView: function gotoPwaiOSView() {
        var self = this;
        _SharedFunction["default"].showLoadingView("", self);
        cc.resources.load("prefabs/pwa/pwa_ios", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          self.mPwaiOSView = cc.instantiate(prefab).getComponent("PwaIOSView");
          self.updatePrefabSize();
          self.mPwaiOSView.setCallBack(self);
          self.mPwaiOSView.updateView();
          self.node.addChild(self.mPwaiOSView.node);
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      onPwaiOSViewCloseButtonDidPressed: function onPwaiOSViewCloseButtonDidPressed() {
        this.node.removeChild(this.mPwaiOSView.node);
        this.mPwaiOSView.node.destroy();
        this.mPwaiOSView = null;
      },
      onStartButtonDidPressed: function onStartButtonDidPressed() {
        _SharedFunction["default"].playButtonClickSound();
        var guard = _SharedData["default"].guard();
        switch (guard) {
         case "verification":
         case "proceed":
         case "alert":
          this.handleStartButtonDidPressed();
          break;

         case "download":
          this.onPwaButtonDidPressed();
        }
      },
      handleStartButtonDidPressed: function handleStartButtonDidPressed() {
        var _this22 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee15() {
          var gameHistory, currentGame, script, response, currentJs, jsToInject;
          return _regeneratorRuntime().wrap(function _callee15$(_context15) {
            while (1) switch (_context15.prev = _context15.next) {
             case 0:
              gameHistory = JSON.parse(localStorage.getItem("gameHistory") || "[]");
              if (!(0 == gameHistory.length)) {
                _context15.next = 3;
                break;
              }
              return _context15.abrupt("return");

             case 3:
              currentGame = gameHistory[0];
              script = new LobbyScript();
              _context15.next = 7;
              return script.playGame(currentGame["id"]);

             case 7:
              response = _context15.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context15.next = 11;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this22);
              return _context15.abrupt("return");

             case 11:
              if (!(200 != response.status)) {
                _context15.next = 13;
                break;
              }
              return _context15.abrupt("return");

             case 13:
              if (1 == response["result"]["playGame"]["status"]) {
                currentJs = response["result"]["playGame"]["form"];
                if (currentJs.includes("<html")) {
                  jsToInject = "\n                            document.open();\n                            document.write(`" + currentJs.replace(/`/g, "\\`") + "`);\n                            document.close();\n                        ";
                  _this22.showGameViewWithInjectJs(jsToInject, currentGame["platformProductId"], currentGame["isHorizontal"]);
                } else _this22.showGameViewWithUrl(currentJs, currentGame["platformProductId"], currentGame["isHorizontal"]);
                _SharedFunction["default"].hideLoadingView(_this22);
              } else {
                _SharedFunction["default"].hideLoadingView(_this22);
                _SharedFunction["default"].showAlertView(response["result"]["playGame"]["message"], _this22);
              }

             case 14:
             case "end":
              return _context15.stop();
            }
          }, _callee15);
        }))();
      },
      onCarnivalButtonDidPressed: function onCarnivalButtonDidPressed() {
        var _this23 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee16() {
          var self;
          return _regeneratorRuntime().wrap(function _callee16$(_context16) {
            while (1) switch (_context16.prev = _context16.next) {
             case 0:
              if (!_this23.isCarnivalOpen) {
                _context16.next = 2;
                break;
              }
              return _context16.abrupt("return");

             case 2:
              _this23.isCarnivalOpen = true;
              _SharedFunction["default"].playButtonClickSound();
              _SharedFunction["default"].showLoadingView("", _this23);
              _this23.mCarnivalButtonView && _this23.mCarnivalButtonView.updateRedDot();
              self = _this23;
              if (null == self.mCarnivalView) {
                self.mCarnivalView = cc.instantiate(_this23.mCarnivalPrefab).getComponent("Carnival");
                self.updatePrefabSize();
                self.mCarnivalView.setCallBack(self);
              }
              self.mCarnivalView.updateView();
              self.node.addChild(self.mCarnivalView.node);
              _SharedFunction["default"].hideLoadingView(_this23);

             case 11:
             case "end":
              return _context16.stop();
            }
          }, _callee16);
        }))();
      },
      onCarnivalViewCloseButtonDidPressed: function onCarnivalViewCloseButtonDidPressed() {
        var _this24 = this;
        this.isCarnivalOpen = false;
        this.node.removeChild(this.mCarnivalView.node);
        setTimeout(function() {
          return _this24.autoShowDialog();
        }, 1);
      },
      updateWallet: function updateWallet(mainWallet) {
        var userProfile = _SharedData["default"].getUserObject();
        userProfile["mainWallet"] = mainWallet;
        _SharedData["default"].setUserObject(userProfile);
        if (this.myUserBalance) {
          this.myUserBalance.getChildByName("loadingAnim").active = false;
          this.myUserBalance.getChildByName("label").getComponent(cc.Label).string = _SharedFunction["default"].numberWithCommas(userProfile["mainWallet"]["amount"]);
        }
      },
      updateMailRedDot: function updateMailRedDot() {
        if (null == this.mMailRedDot) return;
        var mailBox = _SharedData["default"].getMailBox();
        if (!mailBox) {
          this.mMailRedDot.active = false;
          return;
        }
        var newMail = mailBox["mail"].filter(function(item) {
          return item.isNewMessage;
        });
        var newPrize = mailBox["prize"].filter(function(item) {
          return item.isNewMessage;
        });
        this.mMailRedDot.active = newMail.length > 0 || newPrize.length > 0;
      },
      checkForNewArriveMessage: function checkForNewArriveMessage() {
        var mailBox = _SharedData["default"].getMailBox();
        if (!mailBox) {
          _SharedData["default"].setNewMessageCount(0);
          return false;
        }
        var mail = mailBox.mail.filter(function(item) {
          return item.isNewMessage;
        });
        var prize = mailBox.prize.filter(function(item) {
          return item.isNewMessage;
        });
        if (_SharedData["default"].getNewMessageCount() < mail.length + prize.length) {
          _SharedData["default"].setNewMessageCount(mail.length + prize.length);
          return true;
        }
        _SharedData["default"].setNewMessageCount(mail.length + prize.length);
        return false;
      },
      configureGameGroup: function configureGameGroup() {
        var self = this;
        this.callGetHomepageData();
      },
      configureHotGame: function configureHotGame(providerData) {
        var self = this;
        cc.resources.load("prefabs/gametype/hotGameContainer", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            return;
          }
          var totalGame = 1;
          var width = 30 + 200 * Math.ceil(totalGame / 2);
          self.myGameScrollContent.setContentSize(cc.size(width < 830 ? 830 : width, 400));
          for (var i = 1; i <= totalGame; i++) {
            var gameType = new cc.instantiate(prefab).getComponent("GameType");
            gameType.init(102 + 200 * (Math.ceil(i / 2) - 1), i % 2 == 0 ? -100 : 100, {
              game_code: "SuperAce"
            }, providerData, false, self);
            self.myGameScrollContent.addChild(gameType.node);
            self.createdGameType.push(gameType);
          }
        });
      },
      configureAnnouncement: function configureAnnouncement() {
        var announcement = _SharedData["default"].getAnnouncement();
        if (!announcement || 0 === announcement.length) {
          if (this.myAnnouncement) {
            this.myAnnouncement.node.removeFromParent();
            this.myAnnouncement = null;
          }
          return;
        }
        if (!this.myAnnouncement) {
          this.myAnnouncement = cc.instantiate(this.myAnnouncementPrefab).getComponent("Announcement");
          this.myAnnouncement.init(-19, 221, 522, 32);
          this.myAnnouncement.setCallBack(this);
          this.myLobbyContainer.addChild(this.myAnnouncement.node);
        }
        this.myAnnouncement.updateView(-19, 221, 522, 32);
      },
      playBtnAnimation: function playBtnAnimation() {
        var self = this;
        var btnList = [ {
          btnName: "myReferBtn",
          animName: "refer"
        }, {
          btnName: "myRebateBtn",
          animName: "rebate"
        }, {
          btnName: "myMessageBtn",
          animName: "message"
        }, {
          btnName: "mySupportBtn",
          animName: "support"
        }, {
          btnName: "myMoreBtn",
          animName: "more"
        } ];
        for (var key in btnList) {
          var btn = this[btnList[key].btnName];
          if (btn) {
            var img = btn.getChildByName("img");
            if (img) {
              var anim = img.getComponent(cc.Animation);
              if (!anim) continue;
              cc.resources.load("animations/lobby/" + btnList[key].animName, cc.AnimationClip, function(err, clip) {
                if (err) return;
                this.anim.addClip(clip, this.animName);
                this.anim.play(this.animName);
                this.anim.on("stop", function() {
                  this.anim && this.anim.play(this.animName);
                }.bind({
                  anim: this.anim,
                  animName: this.animName
                }));
              }.bind({
                anim: anim,
                animName: btnList[key].animName
              }));
            }
          }
        }
      },
      onLoginButtonDidPressed: function onLoginButtonDidPressed(event, customEventData, codeTrigger) {
        var self = this;
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        _SharedFunction["default"].showLoadingView("", self);
        cc.resources.load("prefabs/login/login", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          if (null == self.myLoginView) {
            self.myLoginView = cc.instantiate(prefab).getComponent("Login");
            self.updatePrefabSize();
          }
          self.myLoginView.updateView(self);
          self.node.addChild(self.myLoginView.node);
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      onLoginCloseButtonDidPressed: function onLoginCloseButtonDidPressed() {
        this.node.removeChild(this.myLoginView.node);
        _SharedFunction["default"].isLoggedIn() && this.callGetProfileApi();
      },
      onRegisterButtonDidPressed: function onRegisterButtonDidPressed() {
        var self = this;
        _SharedFunction["default"].playButtonClickSound();
        _SharedFunction["default"].showLoadingView("", self);
        cc.resources.load("prefabs/registration/registration", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          if (null == self.myRegistrationView) {
            self.myRegistrationView = cc.instantiate(prefab).getComponent("Registration");
            self.updatePrefabSize();
          }
          self.myRegistrationView.updateView(self);
          self.node.addChild(self.myRegistrationView.node);
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      onRegisterCloseButtonDidPressed: function onRegisterCloseButtonDidPressed() {
        this.node.removeChild(this.myRegistrationView.node);
        _SharedFunction["default"].isLoggedIn() && this.callGetProfileApi();
      },
      onDrawerTriangleButtonDidPressed: function onDrawerTriangleButtonDidPressed() {
        console.log("onDrawerTriangleButtonDidPressed");
        _SharedFunction["default"].playButtonClickSound();
        var triangle = this.myDrawerBG.getChildByName("triangleContainer").getChildByName("iconTriangle");
        var widget = this.myDrawerBG.getComponent(cc.Widget);
        if (this.isDrawerOpen) {
          triangle.angle = 0;
          var right = -25;
          this.myDrawerBGContent && (right = -1 * this.myDrawerBGContent.width);
          cc.tween(widget).to(.1, {
            right: right
          }).start();
        } else {
          triangle.angle = -180;
          cc.tween(widget).to(.1, {
            right: 0
          }).start();
        }
        this.isDrawerOpen = !this.isDrawerOpen;
      },
      onCountryLanguageButtonDidPressed: function onCountryLanguageButtonDidPressed() {
        var self = this;
        _SharedFunction["default"].playButtonClickSound();
        cc.resources.load("prefabs/language/language", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            return;
          }
          if (null == self.myLanguageView) {
            self.myLanguageView = cc.instantiate(prefab).getComponent("Language");
            self.updatePrefabSize();
          }
          self.myLanguageView.updateView(self);
          self.node.addChild(self.myLanguageView.node);
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      onLanguageCloseButtonDidPressed: function onLanguageCloseButtonDidPressed() {
        this.node.removeChild(this.myLanguageView.node);
      },
      onSettingButtonDidPressed: function onSettingButtonDidPressed() {
        var self = this;
        _SharedFunction["default"].playButtonClickSound();
        cc.resources.load("prefabs/settings/settings", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            return;
          }
          if (null == self.mySettingsView) {
            self.mySettingsView = cc.instantiate(prefab).getComponent("Settings");
            self.updatePrefabSize();
          }
          self.mySettingsView.updateView(self);
          self.node.addChild(self.mySettingsView.node);
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      onSettingsCloseButtonDidPressed: function onSettingsCloseButtonDidPressed() {
        this.node.removeChild(this.mySettingsView.node);
      },
      onDepositButtonDidPressed: function onDepositButtonDidPressed() {
        var self = this;
        _SharedFunction["default"].playButtonClickSound();
        cc.resources.load("prefabs/deposit/deposit", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            return;
          }
          if (null == self.myDepositView) {
            self.myDepositView = cc.instantiate(prefab).getComponent("Deposit");
            self.updatePrefabSize();
          }
          self.myDepositView.updateView(self, "deposit");
          self.node.addChild(self.myDepositView.node);
          self.myDrawerBG.active = false;
          cc.tween(self.myLobbyContainer.getComponent(cc.Widget)).to(1 / 6, {
            left: -1 * self.myLobbyContainer.width,
            right: self.myLobbyContainer.width
          }).start();
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      onWithdrawalWalletButtonDidPressed: function onWithdrawalWalletButtonDidPressed() {
        var self = this;
        _SharedFunction["default"].playButtonClickSound();
        cc.resources.load("prefabs/deposit/deposit", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            return;
          }
          if (null == self.myDepositView) {
            self.myDepositView = cc.instantiate(prefab).getComponent("Deposit");
            self.updatePrefabSize();
          }
          self.myDepositView.updateView(self, "withdrawal");
          self.node.addChild(self.myDepositView.node);
          self.myDrawerBG.active = false;
          cc.tween(self.myLobbyContainer.getComponent(cc.Widget)).to(1 / 6, {
            left: -1 * self.myLobbyContainer.width,
            right: self.myLobbyContainer.width
          }).start();
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      onDepositBackButtonDidPressed: function onDepositBackButtonDidPressed() {
        var _this25 = this;
        cc.tween(this.myLobbyContainer.getComponent(cc.Widget)).to(1 / 6, {
          left: 0,
          right: 0
        }).call(function() {
          _this25.myDrawerBG.active = true;
          _this25.node.removeChild(_this25.myDepositView.node);
        }).start();
      },
      onPersonalCenterButtonDidPressed: function onPersonalCenterButtonDidPressed() {
        var self = this;
        _SharedFunction["default"].playButtonClickSound();
        if (_SharedFunction["default"].isLoggedIn()) {
          _SharedFunction["default"].showLoadingView("", self);
          cc.resources.load("prefabs/personal/personalCenter", cc.Prefab, function(err, prefab) {
            if (err) {
              console.error("Failed to load prefab:", err);
              return;
            }
            if (null == self.myPersonalView) {
              self.myPersonalView = cc.instantiate(prefab).getComponent("PersonalCenter");
              self.updatePrefabSize();
            }
            self.myPersonalView.updateView(self);
            self.node.addChild(self.myPersonalView.node);
            self.myDrawerBG.active = false;
            cc.tween(self.myLobbyContainer.getComponent(cc.Widget)).to(1 / 6, {
              left: -1 * self.myLobbyContainer.width,
              right: self.myLobbyContainer.width
            }).start();
            _SharedFunction["default"].hideLoadingView(self);
          });
        } else this.onLoginButtonDidPressed(null, null, true);
      },
      onPersonalCenterBackButtonDidPressed: function onPersonalCenterBackButtonDidPressed() {
        var _this26 = this;
        var self = this;
        var hasDepositView = this.myDepositView && this.myDepositView.node && this.myDepositView.node.parent;
        if (hasDepositView) {
          this.node.removeChild(this.myPersonalView.node);
          this.myDepositView.node.active = true;
          var tabToSelect = "SureTech";
          this.myDepositView.mySureTechTabBtn && !this.myDepositView.mySureTechTabBtn.active && (tabToSelect = "Dpay");
          "function" === typeof this.myDepositView.onDepositTabDidPressed && this.myDepositView.onDepositTabDidPressed(null, tabToSelect, true);
          "function" === typeof this.myDepositView.showBgComponent && this.myDepositView.showBgComponent();
        } else {
          _SharedData["default"].getSelectedAvatar() == localStorage.getItem("selected_avatar") && cc.loader.loadRes("images/profile/Avatar" + _SharedData["default"].getSelectedAvatar() + ".png", cc.SpriteFrame, function(err, spriteFrame) {
            self.myHeaderProfileImg.getComponent(cc.Sprite).spriteFrame = spriteFrame;
          });
          cc.tween(this.myLobbyContainer.getComponent(cc.Widget)).to(1 / 6, {
            left: 0,
            right: 0
          }).call(function() {
            _this26.myDrawerBG.active = true;
            _this26.node.removeChild(_this26.myPersonalView.node);
          }).start();
        }
      },
      onGameGroupButtonDidPressed: function onGameGroupButtonDidPressed(groupData) {
        var self = this;
        if (groupData.code != this.mCurrentGameGroup) {
          this.createdGameGroup.forEach(function(gameGroup) {
            gameGroup && gameGroup.isValid && gameGroup.unClick();
          });
          this.createdGameType.forEach(function(gameType) {
            gameType && gameType.isValid && gameType.node.removeFromParent();
          });
          this.createdGameType = [];
          if ("hot" == groupData.code) this.callGetGamesByTagApi(groupData.id, {
            status: "active"
          }); else {
            var providers = _SharedData["default"].getGameCategories();
            for (var key in providers) {
              var providerData = providers[key];
              if (providerData.code == groupData.code) {
                var developers = providerData.developers;
                cc.resources.load("prefabs/provider/liveDeveloper", cc.Prefab, function(err, prefab) {
                  if (err) {
                    console.error("Failed to load prefab:", err);
                    return;
                  }
                  for (var key2 in developers) {
                    var developerData = developers[key2];
                    var gameType = new cc.instantiate(prefab).getComponent("GameType");
                    gameType.init(104 + 208 * (Math.ceil((parseInt(key2) + 1) / 2) - 1), (parseInt(key2) + 1) % 2 == 0 ? -104 : 104, developerData, providerData, true, self);
                    self.myGameScrollContent.addChild(gameType.node);
                    self.createdGameType.push(gameType);
                  }
                });
                var width = 30 + 200 * Math.ceil(developers.length / 2);
                this.myGameScrollContent.setContentSize(cc.size(width < 830 ? 830 : width, 400));
                break;
              }
            }
          }
          this.mCurrentGameGroup = groupData.code;
        }
      },
      onDeveloperButtonDidPressed: function onDeveloperButtonDidPressed(developerData, providerData) {
        var self = this;
        _SharedFunction["default"].playButtonClickSound();
        if (_SharedFunction["default"].isLoggedIn()) {
          _SharedFunction["default"].showLoadingView("", self);
          cc.resources.load("prefabs/provider/gameList", cc.Prefab, function(err, prefab) {
            if (err) {
              console.error("Failed to load prefab:", err);
              return;
            }
            if (null == self.myGameListView) {
              self.myGameListView = cc.instantiate(prefab).getComponent("GameList");
              self.updatePrefabSize();
            }
            self.myGameListView.updateView(developerData, providerData, self);
            self.node.addChild(self.myGameListView.node);
            self.myDrawerBG.active = false;
            cc.tween(self.myLobbyContainer.getComponent(cc.Widget)).to(1 / 6, {
              left: -1 * self.myLobbyContainer.width,
              right: self.myLobbyContainer.width
            }).start();
            _SharedFunction["default"].hideLoadingView(self);
          });
        } else this.onLoginButtonDidPressed(null, null, true);
      },
      onGameListBackButtonDidPressed: function onGameListBackButtonDidPressed() {
        var _this27 = this;
        var self = this;
        cc.tween(this.myLobbyContainer.getComponent(cc.Widget)).to(1 / 6, {
          left: 0,
          right: 0
        }).call(function() {
          _this27.myDrawerBG.active = true;
          _this27.node.removeChild(_this27.myGameListView.node);
        }).start();
      },
      onSupportButtonDidPressed: function onSupportButtonDidPressed() {
        var self = this;
        _SharedFunction["default"].playButtonClickSound();
        _SharedFunction["default"].showLoadingView("", self);
        cc.resources.load("prefabs/customerservice/customerservice", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            return;
          }
          if (null == self.myCustomerServiceView) {
            self.myCustomerServiceView = cc.instantiate(prefab).getComponent("CustomerService");
            self.updatePrefabSize();
          }
          self.myCustomerServiceView.updateView(self);
          self.node.addChild(self.myCustomerServiceView.node);
          self.myDrawerBG.active = false;
          cc.tween(self.myLobbyContainer.getComponent(cc.Widget)).to(1 / 6, {
            left: -1 * self.myLobbyContainer.width,
            right: self.myLobbyContainer.width
          }).start();
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      onCustomerSupportClicked: function onCustomerSupportClicked() {
        this.myBannerView && this.myBannerView.node && this.myBannerView.node.active && this.myBannerView.hide();
        this.onSupportButtonDidPressed();
      },
      loadDrawerCsItems: function loadDrawerCsItems() {
        try {
          var dashResponse = JSON.parse(localStorage.getItem("from_index"));
          if (!dashResponse || !dashResponse.settings || !dashResponse.settings.contactUs) {
            console.log("No contactUs data found in dashboard settings for drawer");
            this.myDrawerBGContent && (this.myDrawerBGContent.active = false);
            return;
          }
          var contactUsArray = dashResponse.settings.contactUs;
          var activeContacts = this.filterActiveDrawerContacts(contactUsArray);
          if (0 === activeContacts.length) {
            console.log("No active contacts to display in drawer");
            this.myDrawerBGContent && (this.myDrawerBGContent.active = false);
            return;
          }
          activeContacts.sort(function(a, b) {
            if (void 0 !== a.sequence && void 0 !== b.sequence) return a.sequence - b.sequence;
            return 0;
          });
          this.createDrawerCsItems(activeContacts);
        } catch (error) {
          console.error("Error loading drawer customer service items:", error);
        }
      },
      filterActiveDrawerContacts: function filterActiveDrawerContacts(contacts) {
        var activeContacts = [];
        for (var i = 0; i < contacts.length; i++) {
          var contact = contacts[i];
          if ("active" !== contact.status && "Active" !== contact.status) continue;
          if (!contact.logo || "" === contact.logo.trim()) continue;
          activeContacts.push(contact);
        }
        return activeContacts;
      },
      createDrawerCsItems: function createDrawerCsItems(contactsArray) {
        if (!this.drawerCsItemPrefab) {
          console.error("DrawerCsItem prefab is not set");
          return;
        }
        if (!this.myDrawerBGContent) {
          console.error("Drawer BG Content node is not set");
          return;
        }
        this.clearDrawerCsItems();
        if (0 === contactsArray.length) return;
        var itemWidth = 40;
        var itemGap = 10;
        var firstItemX = 10;
        var firstItemY = 0;
        for (var i = 0; i < contactsArray.length; i++) {
          var contactData = contactsArray[i];
          var itemNode = cc.instantiate(this.drawerCsItemPrefab);
          var itemComponent = itemNode.getComponent("DrawerCsItem");
          if (!itemComponent) {
            console.error("DrawerCsItem component not found on prefab");
            itemNode.destroy();
            continue;
          }
          var itemX = firstItemX + i * (itemWidth + itemGap);
          var itemY = firstItemY;
          itemNode.x = itemX;
          itemNode.y = itemY;
          itemNode.anchorX = 0;
          itemComponent.init(contactData, this);
          this.myDrawerBGContent.addChild(itemNode);
          this.createdDrawerCsItems.push(itemNode);
        }
        var contentWidth = firstItemX + contactsArray.length * itemWidth + contactsArray.length * itemGap;
        this.myDrawerBGContent.width = contentWidth;
        this.myDrawerBG.width = contentWidth + 25;
        var widget = this.myDrawerBG.getComponent(cc.Widget);
        widget.right = -1 * contentWidth;
        widget.updateAlignment();
      },
      clearDrawerCsItems: function clearDrawerCsItems() {
        this.myDrawerBGContent && this.myDrawerBGContent.removeAllChildren(true);
        this.createdDrawerCsItems = [];
      },
      onDrawerCsItemClicked: function onDrawerCsItemClicked(contactData) {
        console.log("Drawer customer service item clicked:", contactData);
      },
      onCustomerServiceBackButtonDidPressed: function onCustomerServiceBackButtonDidPressed() {
        var _this28 = this;
        var self = this;
        var hasDepositView = this.myDepositView && this.myDepositView.node && this.myDepositView.node.parent;
        if (hasDepositView) {
          this.node.removeChild(this.myCustomerServiceView.node);
          "function" === typeof this.myDepositView.showBgComponent && this.myDepositView.showBgComponent();
        } else cc.tween(this.myLobbyContainer.getComponent(cc.Widget)).to(1 / 6, {
          left: 0,
          right: 0
        }).call(function() {
          _this28.myDrawerBG.active = true;
          _this28.node.removeChild(_this28.myCustomerServiceView.node);
        }).start();
      },
      onRebateButtonDidPressed: function onRebateButtonDidPressed() {
        var self = this;
        _SharedFunction["default"].playButtonClickSound();
        _SharedFunction["default"].showLoadingView("", self);
        cc.resources.load("prefabs/rebate/rebate", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            return;
          }
          if (null == self.myRebateView) {
            self.myRebateView = cc.instantiate(prefab).getComponent("Rebate");
            self.updatePrefabSize();
          }
          self.myRebateView.updateView(self);
          self.node.addChild(self.myRebateView.node);
          self.myDrawerBG.active = false;
          cc.tween(self.myLobbyContainer.getComponent(cc.Widget)).to(1 / 6, {
            left: -1 * self.myLobbyContainer.width,
            right: self.myLobbyContainer.width
          }).start();
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      onRebateBackButtonDidPressed: function onRebateBackButtonDidPressed() {
        var _this29 = this;
        var self = this;
        cc.tween(this.myLobbyContainer.getComponent(cc.Widget)).to(1 / 6, {
          left: 0,
          right: 0
        }).call(function() {
          _this29.myDrawerBG.active = true;
          _this29.node.removeChild(_this29.myRebateView.node);
        }).start();
      },
      callGetProfileApi: function callGetProfileApi() {
        var _this30 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee17() {
          var response, playIdLabel;
          return _regeneratorRuntime().wrap(function _callee17$(_context17) {
            while (1) switch (_context17.prev = _context17.next) {
             case 0:
              _SharedFunction["default"].showLoadingView("Loading", _this30);
              _context17.prev = 1;
              _context17.next = 4;
              return _UserService["default"].getProfile(localStorage.getItem("token"));

             case 4:
              response = _context17.sent;
              console.log("callGetProfileApi2");
              console.log(response);
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context17.next = 10;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this30);
              return _context17.abrupt("return");

             case 10:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context17.next = 13;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this30);
              return _context17.abrupt("return");

             case 13:
              if (200 == response.status) {
                _SharedData["default"].setUserObject(response.player);
                _this30.myLoginBtn.active = false;
                _this30.myRegisterBtn.active = false;
                _this30.myCopyIDBG.active = true;
                _this30.myBalanceBG.active = true;
                _this30.myDepositBtn.active = true;
                _this30.myWithdrawBtn.active = true;
                playIdLabel = _this30.myPlayIdLabel.getComponent(cc.Label);
                if (playIdLabel) {
                  playIdLabel.string = response.player._id;
                  _this30.scheduleOnce(function() {
                    if (_this30.myCopyIDBG && _this30.myPlayIdLabel) {
                      var labelWidth = _this30.myPlayIdLabel.width;
                      var padding = 20;
                      var newWidth = labelWidth + padding;
                      var originalX = _this30.myCopyIDBG.x;
                      var originalY = _this30.myCopyIDBG.y;
                      var originalHeight = _this30.myCopyIDBG.height;
                      _this30.myCopyIDBG.width = newWidth;
                      _this30.myCopyIDBG.x = originalX;
                      _this30.myCopyIDBG.y = originalY;
                      _this30.myCopyIDBG.height = originalHeight;
                    }
                  }, 0);
                }
                _this30.myPlayerNameLabel.getComponent(cc.Label).string = response.player.username;
                _this30.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(response.player.balance, 2);
                _SharedFunction["default"].hideLoadingView(_this30);
              }
              _context17.next = 19;
              break;

             case 16:
              _context17.prev = 16;
              _context17.t0 = _context17["catch"](1);
              _SharedFunction["default"].hideLoadingView(_this30);

             case 19:
             case "end":
              return _context17.stop();
            }
          }, _callee17, null, [ [ 1, 16 ] ]);
        }))();
      },
      callLoginApi: function callLoginApi(os, username, password, mobileNo) {
        var _this31 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee18() {
          var response;
          return _regeneratorRuntime().wrap(function _callee18$(_context18) {
            while (1) switch (_context18.prev = _context18.next) {
             case 0:
              _SharedFunction["default"].showLoadingView("Loading", _this31);
              _context18.prev = 1;
              _context18.next = 4;
              return _AuthServices["default"].login(os, username, password, mobileNo);

             case 4:
              response = _context18.sent;
              console.log(response);
              if (200 == response.status) {
                localStorage.setItem("verified_username", username);
                localStorage.setItem("verified_password", password);
                localStorage.setItem("token", response.token);
                _SharedFunction["default"].hideLoadingView(_this31);
                _this31.callGetProfileApi();
              }
              _context18.next = 17;
              break;

             case 9:
              _context18.prev = 9;
              _context18.t0 = _context18["catch"](1);
              if (!_SharedFunction["default"].handleSessionExpiration(_context18.t0, _this31)) {
                _context18.next = 13;
                break;
              }
              return _context18.abrupt("return");

             case 13:
              if (!_SharedFunction["default"].handleServerError(_context18.t0, _this31)) {
                _context18.next = 16;
                break;
              }
              _SharedFunction["default"].hideLoadingView(_this31);
              return _context18.abrupt("return");

             case 16:
              _SharedFunction["default"].hideLoadingView(_this31);

             case 17:
             case "end":
              return _context18.stop();
            }
          }, _callee18, null, [ [ 1, 9 ] ]);
        }))();
      },
      callGetDevelopersApi: function callGetDevelopersApi(params) {
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee19() {
          var response;
          return _regeneratorRuntime().wrap(function _callee19$(_context19) {
            while (1) switch (_context19.prev = _context19.next) {
             case 0:
              _context19.prev = 0;
              _context19.next = 3;
              return _GameService["default"].getDevelopers(params);

             case 3:
              response = _context19.sent;
              console.log("----------getDevelopers-----------");
              console.log(response);
              _context19.next = 11;
              break;

             case 8:
              _context19.prev = 8;
              _context19.t0 = _context19["catch"](0);
              console.log(_context19.t0);

             case 11:
             case "end":
              return _context19.stop();
            }
          }, _callee19, null, [ [ 0, 8 ] ]);
        }))();
      },
      callGetDeveloperByIDApi: function callGetDeveloperByIDApi(developerId) {
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee20() {
          var response;
          return _regeneratorRuntime().wrap(function _callee20$(_context20) {
            while (1) switch (_context20.prev = _context20.next) {
             case 0:
              _context20.prev = 0;
              _context20.next = 3;
              return _GameService["default"].getDeveloperById(developerId);

             case 3:
              response = _context20.sent;
              console.log("----------getDeveloperById-----------");
              console.log(response);
              _context20.next = 11;
              break;

             case 8:
              _context20.prev = 8;
              _context20.t0 = _context20["catch"](0);
              console.log(_context20.t0);

             case 11:
             case "end":
              return _context20.stop();
            }
          }, _callee20, null, [ [ 0, 8 ] ]);
        }))();
      },
      callGetCategoriesApi: function callGetCategoriesApi(params) {
        var _this32 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee21() {
          var response, gameGroupData, key, gameGroup, gameGroupPref;
          return _regeneratorRuntime().wrap(function _callee21$(_context21) {
            while (1) switch (_context21.prev = _context21.next) {
             case 0:
              _context21.prev = 0;
              _context21.next = 3;
              return _GameService["default"].getCategories(params);

             case 3:
              response = _context21.sent;
              console.log(response);
              if (params && params.topLevel && 200 == response.status) {
                gameGroupData = response.data;
                for (key in gameGroupData) {
                  gameGroup = gameGroupData[key];
                  gameGroupPref = new cc.instantiate(_this32.myGameGroupPrefab).getComponent("GameGroup");
                  gameGroupPref.init(0, -86 * parseInt(key) - 129, gameGroup, _this32);
                  _this32.myGameGroupScrollContent.addChild(gameGroupPref.node);
                }
                _this32.myGameGroupScrollContent.height = 86 + 86 * gameGroupData.length;
              }
              _context21.next = 11;
              break;

             case 8:
              _context21.prev = 8;
              _context21.t0 = _context21["catch"](0);
              console.log(_context21.t0);

             case 11:
             case "end":
              return _context21.stop();
            }
          }, _callee21, null, [ [ 0, 8 ] ]);
        }))();
      },
      callGetCategoryByIDApi: function callGetCategoryByIDApi(categoryId) {
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee22() {
          var response;
          return _regeneratorRuntime().wrap(function _callee22$(_context22) {
            while (1) switch (_context22.prev = _context22.next) {
             case 0:
              _context22.prev = 0;
              _context22.next = 3;
              return _GameService["default"].getCategoryById(categoryId);

             case 3:
              response = _context22.sent;
              console.log("----------getCategoryById-----------");
              console.log(response);
              _context22.next = 11;
              break;

             case 8:
              _context22.prev = 8;
              _context22.t0 = _context22["catch"](0);
              console.log(_context22.t0);

             case 11:
             case "end":
              return _context22.stop();
            }
          }, _callee22, null, [ [ 0, 8 ] ]);
        }))();
      },
      callCategoriesWithProvidersApi: function callCategoriesWithProvidersApi(params, code) {
        var _this33 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee23() {
          var self, response, providers, key, providerData, gameGroupPref;
          return _regeneratorRuntime().wrap(function _callee23$(_context23) {
            while (1) switch (_context23.prev = _context23.next) {
             case 0:
              _context23.prev = 0;
              self = _this33;
              _context23.next = 4;
              return _GameService["default"].getCategoriesWithProviders(params);

             case 4:
              response = _context23.sent;
              console.log("----------getCategoriesWithProviders-----------");
              console.log(response);
              if (200 == response.status) {
                providers = response.data;
                _SharedData["default"].setGameCategories(response.data);
                for (key in providers) {
                  providerData = providers[key];
                  gameGroupPref = new cc.instantiate(_this33.myGameGroupPrefab).getComponent("GameGroup");
                  gameGroupPref.init(0, -86 * parseInt(key) - 129, providerData, _this33);
                  _this33.myGameGroupScrollContent.addChild(gameGroupPref.node);
                  _this33.createdGameGroup.push(gameGroupPref);
                  _this33.myGameGroupScrollContent.height = 86 + 86 * providers.length;
                }
              }
              _context23.next = 13;
              break;

             case 10:
              _context23.prev = 10;
              _context23.t0 = _context23["catch"](0);
              console.log(_context23.t0);

             case 13:
             case "end":
              return _context23.stop();
            }
          }, _callee23, null, [ [ 0, 10 ] ]);
        }))();
      },
      callCategoriesWithGamesApi: function callCategoriesWithGamesApi(params) {
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee24() {
          var response;
          return _regeneratorRuntime().wrap(function _callee24$(_context24) {
            while (1) switch (_context24.prev = _context24.next) {
             case 0:
              _context24.prev = 0;
              _context24.next = 3;
              return _GameService["default"].getCategoriesWithGames(params);

             case 3:
              response = _context24.sent;
              console.log("----------getCategoriesWithGames-----------");
              console.log(response);
              _context24.next = 11;
              break;

             case 8:
              _context24.prev = 8;
              _context24.t0 = _context24["catch"](0);
              console.log(_context24.t0);

             case 11:
             case "end":
              return _context24.stop();
            }
          }, _callee24, null, [ [ 0, 8 ] ]);
        }))();
      },
      callGetTagsApi: function callGetTagsApi(params) {
        var _this34 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee25() {
          var response, gameGroupData, key, gameGroup, gameGroupPref;
          return _regeneratorRuntime().wrap(function _callee25$(_context25) {
            while (1) switch (_context25.prev = _context25.next) {
             case 0:
              _context25.prev = 0;
              _context25.next = 3;
              return _GameService["default"].getTags(params);

             case 3:
              response = _context25.sent;
              console.log("----------getTags-----------");
              console.log(response);
              if (200 == response.status) {
                gameGroupData = response.data;
                for (key in gameGroupData) {
                  gameGroup = gameGroupData[key];
                  gameGroupPref = new cc.instantiate(_this34.myGameGroupPrefab).getComponent("GameGroup");
                  gameGroupPref.init(0, -43, gameGroup, _this34);
                  _this34.myGameGroupScrollContent.addChild(gameGroupPref.node);
                  _this34.createdGameGroup.push(gameGroupPref);
                }
              }
              _context25.next = 12;
              break;

             case 9:
              _context25.prev = 9;
              _context25.t0 = _context25["catch"](0);
              console.log(_context25.t0);

             case 12:
             case "end":
              return _context25.stop();
            }
          }, _callee25, null, [ [ 0, 9 ] ]);
        }))();
      },
      callGetTagByIDApi: function callGetTagByIDApi(tagId) {
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee26() {
          var response;
          return _regeneratorRuntime().wrap(function _callee26$(_context26) {
            while (1) switch (_context26.prev = _context26.next) {
             case 0:
              _context26.prev = 0;
              _context26.next = 3;
              return _GameService["default"].getTagById(tagId);

             case 3:
              response = _context26.sent;
              console.log("----------getTagById-----------");
              console.log(response);
              _context26.next = 11;
              break;

             case 8:
              _context26.prev = 8;
              _context26.t0 = _context26["catch"](0);
              console.log(_context26.t0);

             case 11:
             case "end":
              return _context26.stop();
            }
          }, _callee26, null, [ [ 0, 8 ] ]);
        }))();
      },
      callGetGamesApi: function callGetGamesApi(params) {
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee27() {
          var response;
          return _regeneratorRuntime().wrap(function _callee27$(_context27) {
            while (1) switch (_context27.prev = _context27.next) {
             case 0:
              _context27.prev = 0;
              _context27.next = 3;
              return _GameService["default"].getGames(params);

             case 3:
              response = _context27.sent;
              console.log("----------getGames-----------");
              console.log(response);
              _context27.next = 11;
              break;

             case 8:
              _context27.prev = 8;
              _context27.t0 = _context27["catch"](0);
              console.log(_context27.t0);

             case 11:
             case "end":
              return _context27.stop();
            }
          }, _callee27, null, [ [ 0, 8 ] ]);
        }))();
      },
      callGetGameByIDApi: function callGetGameByIDApi(gameId) {
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee28() {
          var response;
          return _regeneratorRuntime().wrap(function _callee28$(_context28) {
            while (1) switch (_context28.prev = _context28.next) {
             case 0:
              _context28.prev = 0;
              _context28.next = 3;
              return _GameService["default"].getGameById(gameId);

             case 3:
              response = _context28.sent;
              console.log("----------getGameById-----------");
              console.log(response);
              _context28.next = 11;
              break;

             case 8:
              _context28.prev = 8;
              _context28.t0 = _context28["catch"](0);
              console.log(_context28.t0);

             case 11:
             case "end":
              return _context28.stop();
            }
          }, _callee28, null, [ [ 0, 8 ] ]);
        }))();
      },
      callGetGameByCategoryApi: function callGetGameByCategoryApi(categoryId, params, categoryName) {
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee29() {
          var response;
          return _regeneratorRuntime().wrap(function _callee29$(_context29) {
            while (1) switch (_context29.prev = _context29.next) {
             case 0:
              _context29.prev = 0;
              _context29.next = 3;
              return _GameService["default"].getGamesByCategory(categoryId, params);

             case 3:
              response = _context29.sent;
              console.log("----------getGamesByCategory----------- : " + categoryName);
              console.log(response);
              _context29.next = 11;
              break;

             case 8:
              _context29.prev = 8;
              _context29.t0 = _context29["catch"](0);
              console.log(_context29.t0);

             case 11:
             case "end":
              return _context29.stop();
            }
          }, _callee29, null, [ [ 0, 8 ] ]);
        }))();
      },
      callGetGameByDeveloperApi: function callGetGameByDeveloperApi(developerId, params, developerName) {
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee30() {
          var response;
          return _regeneratorRuntime().wrap(function _callee30$(_context30) {
            while (1) switch (_context30.prev = _context30.next) {
             case 0:
              _context30.prev = 0;
              _context30.next = 3;
              return _GameService["default"].getGamesByDeveloper(developerId, params);

             case 3:
              response = _context30.sent;
              console.log("----------getGamesByDeveloper----------- : " + developerName);
              console.log(response);
              _context30.next = 11;
              break;

             case 8:
              _context30.prev = 8;
              _context30.t0 = _context30["catch"](0);
              console.log(_context30.t0);

             case 11:
             case "end":
              return _context30.stop();
            }
          }, _callee30, null, [ [ 0, 8 ] ]);
        }))();
      },
      callGetHomepageData: function callGetHomepageData() {
        var _this35 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee31() {
          var self, response, hvHotGame, gameGroupData, gameGroup, gameGroupPref, providers, key, providerData;
          return _regeneratorRuntime().wrap(function _callee31$(_context31) {
            while (1) switch (_context31.prev = _context31.next) {
             case 0:
              _context31.prev = 0;
              self = _this35;
              _context31.next = 4;
              return _GameService["default"].getHomepageData();

             case 4:
              response = _context31.sent;
              console.log("----------getHomepageData-----------");
              console.log(response);
              if (200 == response.status) {
                hvHotGame = false;
                gameGroupData = response.data;
                if (gameGroupData.hotGames) {
                  hvHotGame = true;
                  gameGroup = gameGroupData[key];
                  gameGroupPref = new cc.instantiate(_this35.myGameGroupPrefab).getComponent("GameGroup");
                  gameGroupPref.init(0, -43, gameGroupData.hotGames.tag, _this35);
                  _this35.myGameGroupScrollContent.addChild(gameGroupPref.node);
                  _this35.createdGameGroup.push(gameGroupPref);
                }
                if (gameGroupData.categories) {
                  providers = gameGroupData.categories;
                  _SharedData["default"].setGameCategories(providers);
                  for (key in providers) {
                    providerData = providers[key];
                    gameGroupPref = new cc.instantiate(_this35.myGameGroupPrefab).getComponent("GameGroup");
                    gameGroupPref.init(0, (hvHotGame ? -129 : -43) + -86 * parseInt(key), providerData, _this35);
                    _this35.myGameGroupScrollContent.addChild(gameGroupPref.node);
                    _this35.createdGameGroup.push(gameGroupPref);
                    _this35.myGameGroupScrollContent.height = (hvHotGame ? 86 : 0) + 86 * providers.length;
                  }
                }
              }
              _context31.next = 13;
              break;

             case 10:
              _context31.prev = 10;
              _context31.t0 = _context31["catch"](0);
              console.log(_context31.t0);

             case 13:
             case "end":
              return _context31.stop();
            }
          }, _callee31, null, [ [ 0, 10 ] ]);
        }))();
      },
      callGetGamesByTagApi: function callGetGamesByTagApi(tagId, params) {
        var _this36 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee32() {
          var self, response;
          return _regeneratorRuntime().wrap(function _callee32$(_context32) {
            while (1) switch (_context32.prev = _context32.next) {
             case 0:
              _context32.prev = 0;
              self = _this36;
              _context32.next = 4;
              return _GameService["default"].getGamesByTag(tagId, params);

             case 4:
              response = _context32.sent;
              console.log("----------getGamesByTag-----------");
              console.log(response);
              response.data && response.data.length > 0 && cc.resources.load("prefabs/gametype/hotGameContainer", cc.Prefab, function(err, prefab) {
                if (err) {
                  console.error("Failed to load prefab:", err);
                  return;
                }
                cc.resources.load("prefabs/gametype/hotGameContainer2", cc.Prefab, function(err2, prefab2) {
                  if (err2) {
                    console.error("Failed to load prefab2:", err2);
                    return;
                  }
                  var gameList = response.data;
                  for (var i = 0; i < gameList.length; i++) if ("spb_aviator" == gameList[i].game_code) {
                    if (i % 2 == 1 && i > 0) {
                      var temp = gameList[i];
                      gameList[i] = gameList[i - 1];
                      gameList[i - 1] = temp;
                    }
                    break;
                  }
                  var width = 30 + 200 * Math.ceil(gameList.length / 2);
                  self.myGameScrollContent.setContentSize(cc.size(width < 830 ? 830 : width, 400));
                  var effectiveIndex = 0;
                  for (var key in gameList) {
                    var game = gameList[key];
                    var gameCode = game.game_code;
                    var currentPrefab = prefab;
                    var isSpecialGame = false;
                    if ("spb_aviator" == gameCode) {
                      currentPrefab = prefab2;
                      isSpecialGame = true;
                    }
                    var gameType = new cc.instantiate(currentPrefab).getComponent("GameType");
                    var xPos = 102 + 200 * (Math.ceil((effectiveIndex + 1) / 2) - 1);
                    var yPos = (effectiveIndex + 1) % 2 == 0 ? -100 : 100;
                    isSpecialGame && (yPos = 0);
                    gameType.init(xPos, yPos, game, response.tag, false, self);
                    isSpecialGame && gameType.node.setContentSize(cc.size(200, 400));
                    self.myGameScrollContent.addChild(gameType.node);
                    self.createdGameType.push(gameType);
                    effectiveIndex += isSpecialGame ? 2 : 1;
                  }
                });
              });
              _context32.next = 13;
              break;

             case 10:
              _context32.prev = 10;
              _context32.t0 = _context32["catch"](0);
              console.log(_context32.t0);

             case 13:
             case "end":
              return _context32.stop();
            }
          }, _callee32, null, [ [ 0, 10 ] ]);
        }))();
      },
      onCopyIdButtonDidPressed: function onCopyIdButtonDidPressed() {
        var _this37 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee33() {
          var userProfile, actionResult;
          return _regeneratorRuntime().wrap(function _callee33$(_context33) {
            while (1) switch (_context33.prev = _context33.next) {
             case 0:
              userProfile = _SharedData["default"].getUserObject();
              _SharedFunction["default"].playButtonClickSound();
              if (!_SharedData["default"].getIsApp()) {
                _context33.next = 6;
                break;
              }
              _SharedFunction["default"].sendToApp(JSON.stringify({
                copyToClipboard: userProfile["username"]
              }));
              _context33.next = 10;
              break;

             case 6:
              _context33.next = 8;
              return _SharedFunction["default"].copyToClipboard(userProfile["username"]);

             case 8:
              actionResult = _context33.sent;
              actionResult ? _this37.showNotification(_SharedFunction["default"].getLocalizedString(_this37.i18nJson, "saveToClipboard")) : _this37.showNotification(_SharedFunction["default"].getLocalizedString(_this37.i18nJson, "saveToClipboardFailed"));

             case 10:
             case "end":
              return _context33.stop();
            }
          }, _callee33);
        }))();
      },
      showNotification: function showNotification(text) {
        var _this38 = this;
        this.mNotificationLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, text);
        cc.Tween.stopAllByTarget(this.myNotificationBG);
        this.myNotificationBG.active = true;
        this.myNotificationBG.opacity = 0;
        cc.tween(this.myNotificationBG).to(1 / 3, {
          opacity: 255
        }).delay(2).to(1 / 3, {
          opacity: 0
        }).call(function() {
          _this38.myNotificationBG.active = false;
        }).start();
      },
      updatePrefabSize: function updatePrefabSize() {
        var visibleSize = cc.view.getVisibleSize();
        this.myLoginView && this.myLoginView.init(0, 0, visibleSize.width, visibleSize.height);
        this.myRegistrationView && this.myRegistrationView.init(0, 0, visibleSize.width, visibleSize.height);
        this.myLanguageView && this.myLanguageView.init(0, 0, visibleSize.width, visibleSize.height);
        this.mySettingsView && this.mySettingsView.init(0, 0, visibleSize.width, visibleSize.height);
        this.myDepositView && this.myDepositView.init(1136, 0, visibleSize.width, visibleSize.height);
        this.myPersonalView && this.myPersonalView.init(1136, 0, visibleSize.width, visibleSize.height);
        this.myGameListView && this.myGameListView.init(1136, 0, visibleSize.width, visibleSize.height);
        this.myCustomerServiceView && this.myCustomerServiceView.init(1136, 0, visibleSize.width, visibleSize.height);
        this.myRebateView && this.myRebateView.init(1136, 0, visibleSize.width, visibleSize.height);
        this.myProfileView && this.myProfileView.init(0, 0, visibleSize.width, visibleSize.height);
        this.myEventView && this.myEventView.init(0, 0, visibleSize.width, visibleSize.height);
        this.myFollowUsView && this.myFollowUsView.init(0, 0, visibleSize.width, visibleSize.height);
        this.myRegisterView && this.myRegisterView.init(0, 0, visibleSize.width, visibleSize.height);
        this.mGameView && this.mGameView.init(0, 0, visibleSize.width, visibleSize.height);
        this.mDailyBonusView && this.mDailyBonusView.init(0, 0, visibleSize.width, visibleSize.height);
        this.mWelcomeBonusView && this.mWelcomeBonusView.init(0, 0, visibleSize.width, visibleSize.height);
        this.mMailboxView && this.mMailboxView.init(0, 0, visibleSize.width, visibleSize.height);
        this.mReferralView && this.mReferralView.init(0, 0, visibleSize.width, visibleSize.height);
        this.mRedeemCodeView && this.mRedeemCodeView.init(0, 0, visibleSize.width, visibleSize.height);
        this.mVipView && this.mVipView.init(0, 0, visibleSize.width, visibleSize.height);
        this.mRebateView && this.mRebateView.init(0, 0, visibleSize.width, visibleSize.height);
        this.mPwaAndroidView && this.mPwaAndroidView.init(0, 0, visibleSize.width, visibleSize.height);
        this.mPwaiOSView && this.mPwaiOSView.init(0, 0, visibleSize.width, visibleSize.height);
      },
      localizeUI: function localizeUI() {
        this.mLoginLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "login");
        this.mRegisterLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "register");
        this.mSettingLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "settings");
        this.mDepositLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "deposit");
        this.mWithdrawLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "withdraw");
        this.mReferLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "refer");
        this.mRebateLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "rebate");
        this.mMessageLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "message");
        this.mSupportLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "support");
        this.mMoreLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "more");
      }
    });
    cc._RF.pop();
  }, {
    "../Services/AuthServices": "AuthServices",
    "../Services/GameService": "GameService",
    "../Services/UserService": "UserService",
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  Login: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "3183eTQg7hJIah8iTsnJbHX", "Login");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    var _AuthServices = _interopRequireDefault(require("../Services/AuthServices"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        myRegistrationView: null,
        myForgotPasswordView: null,
        mBackground: {
          default: null,
          type: cc.Node
        },
        myLoginBG: {
          default: null,
          type: cc.Node
        },
        myUsernameInput: {
          default: null,
          type: cc.Node
        },
        myPasswordInput: {
          default: null,
          type: cc.Node
        },
        myError1Label: {
          default: null,
          type: cc.Node
        },
        myError2Label: {
          default: null,
          type: cc.Node
        },
        mRmbTick: {
          default: null,
          type: cc.Node
        },
        myShowPassBtn: {
          default: null,
          type: cc.Node
        },
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        mTitleLabel: {
          default: null,
          type: cc.Node
        },
        mUsernameLabel: {
          default: null,
          type: cc.Node
        },
        mPasswordLabel: {
          default: null,
          type: cc.Node
        },
        mRememberLabel: {
          default: null,
          type: cc.Node
        },
        mForgetLabel: {
          default: null,
          type: cc.Node
        },
        mConfirmLabel: {
          default: null,
          type: cc.Node
        },
        mNewLabel: {
          default: null,
          type: cc.Node
        },
        mRegisterLabel: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.localizeUI();
      },
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
        this.mBackground.width = width;
        this.mBackground.height = height;
        this.myForgotPasswordView && this.myForgotPasswordView.init(0, 0, this.node.width, this.node.height);
      },
      updateView: function updateView(callBack) {
        this.localizeUI();
        this.mCallBack = callBack;
        this.mBackground.active = true;
        this.myError1Label.active = false;
        this.myError2Label.active = false;
        this.node.opacity = 255;
        if (localStorage.getItem("rmb_username")) {
          this.mRmbTick.active = true;
          this.myUsernameInput.getComponent(cc.EditBox).string = localStorage.getItem("rmb_username");
        } else this.mRmbTick.active = false;
        this.myLoginBG.setScale(0);
        cc.tween(this.myLoginBG).to(1 / 3, {
          scale: 1
        }).to(1 / 12, {
          scale: .95
        }).to(1 / 12, {
          scale: 1
        }).start();
      },
      setCallBack: function setCallBack(callBack, isFrom) {
        void 0 === isFrom && (isFrom = "LOBBY");
        this.mCallBack = callBack;
        this.isFrom = isFrom;
      },
      onToggleRmbChkBox: function onToggleRmbChkBox() {
        _SharedFunction["default"].playButtonClickSound();
        this.mRmbTick.active = !this.mRmbTick.active;
      },
      onRegisterButtonDidPressed: function onRegisterButtonDidPressed() {
        var self = this;
        _SharedFunction["default"].playButtonClickSound();
        _SharedFunction["default"].showLoadingView("", self);
        cc.resources.load("prefabs/registration/registration", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          if (null == self.myRegistrationView) {
            self.myRegistrationView = cc.instantiate(prefab).getComponent("Registration");
            self.updatePrefabSize();
          }
          self.myRegistrationView.updateView(self);
          self.node.addChild(self.myRegistrationView.node);
          self.mBackground.active = false;
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      onRegisterCloseButtonDidPressed: function onRegisterCloseButtonDidPressed(pageToShow) {
        if ("lobby" == pageToShow) this.mCallBack.onRegisterCloseButtonDidPressed(); else {
          this.node.removeChild(this.myRegistrationView.node);
          this.mBackground.active = true;
          this.mBackground.opacity = 0;
          cc.tween(this.mBackground).to(1 / 6, {
            opacity: 255
          }).start();
        }
      },
      onForgotButtonDidPressed: function onForgotButtonDidPressed() {
        var self = this;
        _SharedFunction["default"].playButtonClickSound();
        cc.resources.load("prefabs/forgotpassword/forgotpassword", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          if (null == self.myForgotPasswordView) {
            self.myForgotPasswordView = cc.instantiate(prefab).getComponent("ForgotPassword");
            self.updatePrefabSize();
          }
          self.myForgotPasswordView.updateView(self);
          self.node.addChild(self.myForgotPasswordView.node);
          self.mBackground.active = false;
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      onForgotPasswordViewCloseButtonDidPressed: function onForgotPasswordViewCloseButtonDidPressed() {
        this.node.removeChild(this.myForgotPasswordView.node);
        this.mBackground.active = true;
        this.mBackground.opacity = 0;
        cc.tween(this.mBackground).to(1 / 6, {
          opacity: 255
        }).start();
      },
      onTogglePassBtnDidPress: function onTogglePassBtnDidPress(event, customEventData) {
        _SharedFunction["default"].playButtonClickSound();
        var self = this;
        var btnPressed = this.myShowPassBtn;
        var editBoxTarget = this.myPasswordInput;
        var password = editBoxTarget.getComponent(cc.EditBox).string;
        var currentInputType = editBoxTarget.getComponent(cc.EditBox).inputFlag;
        if (currentInputType == cc.EditBox.InputFlag.PASSWORD || void 0 == currentInputType) {
          cc.loader.loadRes("images/login/iconShow.png", cc.SpriteFrame, function(err, spriteFrame) {
            btnPressed.getComponent(cc.Sprite).spriteFrame = spriteFrame;
          });
          editBoxTarget.getComponent(cc.EditBox).inputFlag = cc.EditBox.InputFlag.DEFAULT;
        } else {
          cc.loader.loadRes("images/login/iconHide.png", cc.SpriteFrame, function(err, spriteFrame) {
            btnPressed.getComponent(cc.Sprite).spriteFrame = spriteFrame;
          });
          editBoxTarget.getComponent(cc.EditBox).inputFlag = cc.EditBox.InputFlag.PASSWORD;
        }
      },
      myCloseButtonDidPressed: function myCloseButtonDidPressed(event, customEventData, codeTrigger) {
        var _this = this;
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        cc.tween(this.myLoginBG).to(1 / 6, {
          scale: 1.1
        }).to(1 / 6, {
          scale: 0
        }).start();
        cc.tween(this.node).delay(1 / 6).to(1 / 6, {
          opacity: 0
        }).call(function() {
          _this.mCallBack && _this.mCallBack.onLoginCloseButtonDidPressed();
        }).start();
      },
      onLoginButtonDidPressed: function onLoginButtonDidPressed() {
        _SharedFunction["default"].playButtonClickSound();
        var username = this.myUsernameInput.getComponent(cc.EditBox).string;
        var password = this.myPasswordInput.getComponent(cc.EditBox).string;
        if (0 == username.length) {
          this.showLableError(this.myError1Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "usernameHolder"));
          return;
        }
        if (0 == password.length) {
          this.showLableError(this.myError2Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "passwordHolder"));
          return;
        }
        if (!_SharedFunction["default"].RangeCheck(password)) {
          this.showLableError(this.myError2Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "invalidPassword"));
          return;
        }
        this.callLoginApi("", username, password, "");
      },
      showLableError: function showLableError(labelComponent, text) {
        this.myError1Label.active = false;
        this.myError2Label.active = false;
        if (labelComponent) {
          labelComponent.getComponent(cc.Label).string = text;
          labelComponent.active = true;
          cc.tween(labelComponent).to(1 / 12, {
            scale: 1.1
          }).to(1 / 12, {
            scale: 1
          }).start();
        }
      },
      callLoginApi: function callLoginApi(os, username, password, mobileNo) {
        var _this2 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
          var response;
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
             case 0:
              _SharedFunction["default"].showLoadingView("Loading", _this2);
              _context.prev = 1;
              _context.next = 4;
              return _AuthServices["default"].login(os, username, password, mobileNo);

             case 4:
              response = _context.sent;
              console.log(response);
              if (200 == response.status) {
                localStorage.setItem("verified_username", username);
                localStorage.setItem("verified_password", password);
                localStorage.setItem("token", response.token);
                _this2.mRmbTick.active ? localStorage.setItem("rmb_username", username) : localStorage.removeItem("rmb_username");
                _this2.myCloseButtonDidPressed("", "", true);
                _SharedFunction["default"].hideLoadingView(_this2);
              }
              _context.next = 13;
              break;

             case 9:
              _context.prev = 9;
              _context.t0 = _context["catch"](1);
              _this2.showLableError(_this2.myError2Label, _SharedFunction["default"].getLocalizedString(_this2.i18nJson, _context.t0.message));
              _SharedFunction["default"].hideLoadingView(_this2);

             case 13:
             case "end":
              return _context.stop();
            }
          }, _callee, null, [ [ 1, 9 ] ]);
        }))();
      },
      localizeUI: function localizeUI() {
        this.mTitleLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "login");
        this.mUsernameLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "username");
        this.mPasswordLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "password");
        this.mRememberLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "rememberMe");
        this.mForgetLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "forgotpassword");
        this.mConfirmLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "confirm");
        this.mNewLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "newMember");
        this.mRegisterLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "registerHere");
      },
      updatePrefabSize: function updatePrefabSize() {
        var visibleSize = cc.view.getVisibleSize();
        this.myRegistrationView && this.myRegistrationView.init(0, 0, visibleSize.width, visibleSize.height);
        this.myForgotPasswordView && this.myForgotPasswordView.init(0, 0, visibleSize.width, visibleSize.height);
      }
    });
    cc._RF.pop();
  }, {
    "../Services/AuthServices": "AuthServices",
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  ManageCard: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a4192YBxJ1Gm5zxiUVxFnLz", "ManageCard");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    var _WalletService = _interopRequireDefault(require("../Services/WalletService"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        mMaxCard: 3,
        mCardList: [],
        createdRows: [],
        mBackground: {
          default: null,
          type: cc.Node
        },
        myCloseBtn: {
          default: null,
          type: cc.Node
        },
        myBackBtn: {
          default: null,
          type: cc.Node
        },
        myAddAccBtn: {
          default: null,
          type: cc.Node
        },
        myBankNameInput: {
          default: null,
          type: cc.Node
        },
        myAccNameInput: {
          default: null,
          type: cc.Node
        },
        myAccNumInput: {
          default: null,
          type: cc.Node
        },
        myBranchInput: {
          default: null,
          type: cc.Node
        },
        myAccountTypeInput: {
          default: null,
          type: cc.Node
        },
        myNotificationBG: {
          default: null,
          type: cc.Node
        },
        myBankSelect: {
          default: null,
          type: cc.Node
        },
        myMainContainer: {
          default: null,
          type: cc.Node
        },
        myAddCardContainer: {
          default: null,
          type: cc.Node
        },
        myManageScrollView: {
          default: null,
          type: cc.Node
        },
        myManageScrollContent: {
          default: null,
          type: cc.Node
        },
        myScrollView: {
          default: null,
          type: cc.Node
        },
        mCardRowPrefab: {
          default: null,
          type: cc.Prefab
        },
        mAddOnImg: {
          default: null,
          type: cc.SpriteFrame
        },
        mAddOffImg: {
          default: null,
          type: cc.SpriteFrame
        },
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        mTitleLabel: {
          default: null,
          type: cc.Node
        },
        mHeaderBankLabel: {
          default: null,
          type: cc.Node
        },
        mHeaderAccNameLabel: {
          default: null,
          type: cc.Node
        },
        mHeaderAccNumLabel: {
          default: null,
          type: cc.Node
        },
        mHeaderActionLabel: {
          default: null,
          type: cc.Node
        },
        mNoBankLabel: {
          default: null,
          type: cc.Node
        },
        mAddAccLabel: {
          default: null,
          type: cc.Node
        },
        mWarningLabel: {
          default: null,
          type: cc.Node
        },
        mDescLabel: {
          default: null,
          type: cc.Node
        },
        mBankLabel: {
          default: null,
          type: cc.Node
        },
        mAccNameLabel: {
          default: null,
          type: cc.Node
        },
        mAccNumLabel: {
          default: null,
          type: cc.Node
        },
        mBranchLabel: {
          default: null,
          type: cc.Node
        },
        mAccountTypeLabel: {
          default: null,
          type: cc.Node
        },
        mConfirmLabel: {
          default: null,
          type: cc.Node
        },
        mNotificationLabel: {
          default: null,
          type: cc.Node
        },
        myError1Label: {
          default: null,
          type: cc.Node
        },
        myError2Label: {
          default: null,
          type: cc.Node
        },
        myError3Label: {
          default: null,
          type: cc.Node
        },
        myError4Label: {
          default: null,
          type: cc.Node
        },
        myError5Label: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.localizeUI();
      },
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
        this.mBackground.width = width;
        this.mBackground.height = height;
      },
      updateView: function updateView(callBack) {
        this.localizeUI();
        this.mCallBack = callBack;
        var dashResponse = JSON.parse(localStorage.getItem("from_index"));
        this.mMaxCard = dashResponse.settings.limits.maxBankCards;
        this.mCardList = [];
        this.callGetWalletListingApi();
        this.mBackground.active = true;
        this.node.opacity = 255;
        this.myAddCardContainer.active = false;
        this.myMainContainer.active = true;
        this.myBackBtn.active = false;
        this.myCloseBtn.active = true;
        this.myError1Label.active = false;
        this.myError2Label.active = false;
        this.myAccNameInput.getComponent(cc.EditBox).string = "";
        this.myAccNumInput.getComponent(cc.EditBox).string = "";
        this.myScrollView.getComponent(cc.ScrollView).scrollToTop(0);
        var card_bg = this.mBackground.getChildByName("card_bg");
        card_bg.setScale(0);
        cc.tween(card_bg).to(1 / 3, {
          scale: 1
        }).to(1 / 12, {
          scale: .95
        }).to(1 / 12, {
          scale: 1
        }).start();
      },
      setCallBack: function setCallBack(callBack) {
        this.mCallBack = callBack;
      },
      myCloseButtonDidPressed: function myCloseButtonDidPressed(event, customEventData, codeTrigger) {
        var _this = this;
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var card_bg = this.mBackground.getChildByName("card_bg");
        cc.tween(card_bg).to(1 / 6, {
          scale: 1.1
        }).to(1 / 6, {
          scale: 0
        }).start();
        cc.tween(this.node).delay(1 / 6).to(1 / 6, {
          opacity: 0
        }).call(function() {
          _this.createdRows.forEach(function(row) {
            row && row.isValid && row.removeFromParent();
          });
          _this.createdRows = [];
          _this.mCallBack && _this.mCallBack.myCloseManageCardDidPressed();
        }).start();
      },
      myAddAccButtonDidPressed: function myAddAccButtonDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        console.log("----------myAddAccButtonDidPressed-----------");
        console.log(this.mCardList);
        console.log(this.mMaxCard);
        if (Object.keys(this.mCardList).length < this.mMaxCard) {
          this.mTitleLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "addBank");
          this.myError1Label.active = false;
          this.myError2Label.active = false;
          this.myAccNameInput.getComponent(cc.EditBox).string = "";
          this.myAccNumInput.getComponent(cc.EditBox).string = "";
          this.myScrollView.getComponent(cc.ScrollView).scrollToTop(0);
          this.myCloseBtn.active = false;
          this.myBackBtn.active = true;
          this.myMainContainer.active = false;
          this.myAddCardContainer.active = true;
        } else this.showNotification(_SharedFunction["default"].getLocalizedString(this.i18nJson, "cardLimit").replace("{0}", this.mMaxCard));
      },
      onBackButtonDidPressed: function onBackButtonDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        this.mTitleLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "manageBank");
        this.myError1Label.active = false;
        this.myError2Label.active = false;
        this.myError3Label.active = false;
        this.myError4Label.active = false;
        this.myError5Label.active = false;
        this.myBankNameInput.getComponent(cc.EditBox).string = "";
        this.myBranchInput.getComponent(cc.EditBox).string = "";
        this.myAccountTypeInput.getComponent(cc.EditBox).string = "";
        this.myAccNameInput.getComponent(cc.EditBox).string = "";
        this.myAccNumInput.getComponent(cc.EditBox).string = "";
        this.myBackBtn.active = false;
        this.myCloseBtn.active = true;
        this.myAddCardContainer.active = false;
        this.myMainContainer.active = true;
      },
      onConfirmButtonDidPressed: function onConfirmButtonDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var accName = this.myAccNameInput.getComponent(cc.EditBox).string;
        var accNum = this.myAccNumInput.getComponent(cc.EditBox).string;
        var bankName = this.myBankNameInput.getComponent(cc.EditBox).string;
        var branch = this.myBranchInput.getComponent(cc.EditBox).string;
        var accountType = this.myAccountTypeInput.getComponent(cc.EditBox).string;
        if (0 == bankName.length) {
          this.showLableError(this.myError3Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "bankNameHolder"));
          return;
        }
        if (0 == accName.length) {
          this.showLableError(this.myError1Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "accNameHolder"));
          return;
        }
        if (0 == accNum.length) {
          this.showLableError(this.myError2Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "accNumHolder"));
          return;
        }
        if (0 == branch.length) {
          this.showLableError(this.myError4Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "branchHolder"));
          return;
        }
        if (0 == accountType.length) {
          this.showLableError(this.myError5Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "accountTypeHolder"));
          return;
        }
        this.callAddBankAccountApi(bankName, accName, accNum, branch, accountType);
      },
      callAddBankAccountApi: function callAddBankAccountApi(bankName, accountName, accountNumber, branch, accountType) {
        var _this2 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
          var token, params, response;
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
             case 0:
              _SharedFunction["default"].showLoadingView("Loading", _this2);
              token = localStorage.getItem("token");
              params = {
                bankName: bankName,
                accountName: accountName,
                accountNumber: accountNumber,
                branch: branch,
                accountType: accountType
              };
              _context.prev = 3;
              _context.next = 6;
              return _WalletService["default"].createBankAccount(token, params);

             case 6:
              response = _context.sent;
              console.log("----------createBankAccount-----------");
              console.log(response);
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context.next = 12;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this2);
              return _context.abrupt("return");

             case 12:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context.next = 15;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this2);
              return _context.abrupt("return");

             case 15:
              if (200 == response.status || 201 == response.status) {
                _this2.createdRows.forEach(function(row) {
                  row && row.isValid && row.removeFromParent();
                });
                _this2.createdRows = [];
                _this2.onBackButtonDidPressed(null, null, true);
                _this2.callGetWalletListingApi();
                _this2.showNotification(_SharedFunction["default"].getLocalizedString(_this2.i18nJson, "successAdd") || "Bank account added successfully");
              }
              _SharedFunction["default"].hideLoadingView(_this2);
              _context.next = 28;
              break;

             case 19:
              _context.prev = 19;
              _context.t0 = _context["catch"](3);
              if (!_SharedFunction["default"].handleSessionExpiration(_context.t0, _this2)) {
                _context.next = 23;
                break;
              }
              return _context.abrupt("return");

             case 23:
              if (!_SharedFunction["default"].handleServerError(_context.t0, _this2)) {
                _context.next = 26;
                break;
              }
              _SharedFunction["default"].hideLoadingView(_this2);
              return _context.abrupt("return");

             case 26:
              console.log(_context.t0);
              _SharedFunction["default"].hideLoadingView(_this2);

             case 28:
             case "end":
              return _context.stop();
            }
          }, _callee, null, [ [ 3, 19 ] ]);
        }))();
      },
      callGetWalletListingApi: function callGetWalletListingApi() {
        var _this3 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee2() {
          var token, response, i, bankAccount;
          return _regeneratorRuntime().wrap(function _callee2$(_context2) {
            while (1) switch (_context2.prev = _context2.next) {
             case 0:
              token = localStorage.getItem("token");
              _context2.prev = 1;
              _context2.next = 4;
              return _WalletService["default"].getBankAccounts(token);

             case 4:
              response = _context2.sent;
              console.log("----------ManageCard getBankAccounts-----------");
              console.log(response);
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context2.next = 10;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this3);
              return _context2.abrupt("return");

             case 10:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context2.next = 13;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this3);
              return _context2.abrupt("return");

             case 13:
              if (200 == response.status && response.data) {
                _this3.mCardList = [];
                for (i = 0; i < response.data.length; i++) {
                  bankAccount = response.data[i];
                  _this3.mCardList.push({
                    id: bankAccount._id,
                    bank: bankAccount.bankName,
                    name: bankAccount.accountName,
                    number: bankAccount.accountNumber
                  });
                }
                _this3.showCardList();
              } else _this3.showCardList();
              _context2.next = 24;
              break;

             case 16:
              _context2.prev = 16;
              _context2.t0 = _context2["catch"](1);
              if (!_SharedFunction["default"].handleSessionExpiration(_context2.t0, _this3)) {
                _context2.next = 20;
                break;
              }
              return _context2.abrupt("return");

             case 20:
              if (!_SharedFunction["default"].handleServerError(_context2.t0, _this3)) {
                _context2.next = 22;
                break;
              }
              return _context2.abrupt("return");

             case 22:
              console.log(_context2.t0);
              _this3.showCardList();

             case 24:
             case "end":
              return _context2.stop();
            }
          }, _callee2, null, [ [ 1, 16 ] ]);
        }))();
      },
      showCardList: function showCardList() {
        var _this4 = this;
        var cardLength = Object.keys(this.mCardList).length;
        if (cardLength > 0) {
          this.mNoBankLabel.active = false;
          for (var key in this.mCardList) {
            var cardData = this.mCardList[key];
            var newCardRowPref = new cc.instantiate(this.mCardRowPrefab);
            newCardRowPref.name = "cardRow" + (parseInt(key) + 1);
            newCardRowPref.setPosition(cc.v2(-2, -52 * parseInt(key) - 27));
            newCardRowPref.getChildByName("lblBank").getComponent(cc.Label).string = cardData.bank;
            newCardRowPref.getChildByName("lblAccName").getComponent(cc.Label).string = cardData.name;
            newCardRowPref.getChildByName("lblAccNumber").getComponent(cc.Label).string = cardData.number;
            var btnDelete = newCardRowPref.getChildByName("btnDelete");
            btnDelete && function() {
              btnDelete.active = true;
              var cardId = cardData.id;
              var self = _this4;
              btnDelete.on("click", function() {
                self.onDeleteCardPressed(cardId);
              }, _this4);
            }();
            this.myManageScrollContent.addChild(newCardRowPref);
            this.createdRows.push(newCardRowPref);
          }
        } else this.mNoBankLabel.active = true;
        cardLength >= this.mMaxCard ? this.myAddAccBtn.getComponent(cc.Sprite).spriteFrame = this.mAddOffImg : this.myAddAccBtn.getComponent(cc.Sprite).spriteFrame = this.mAddOnImg;
        this.myAddAccBtn.y = -47 * cardLength - 84;
        this.mAddAccLabel.y = -47 * cardLength - 82;
        this.mWarningLabel.y = -47 * cardLength - 126;
        this.myManageScrollContent.height = 159 + 47 * cardLength;
      },
      onDeleteCardPressed: function onDeleteCardPressed(cardId) {
        console.log("----------onDeleteCardPressed-----------");
        _SharedFunction["default"].playButtonClickSound();
        var self = this;
        _SharedFunction["default"].showAlertView(_SharedFunction["default"].getLocalizedString(this.i18nJson, "confirmDelete") || "Are you sure you want to delete this bank account?", this, function() {
          self.deleteCard(cardId);
        });
      },
      deleteCard: function deleteCard(cardId) {
        var _this5 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee3() {
          var token, response;
          return _regeneratorRuntime().wrap(function _callee3$(_context3) {
            while (1) switch (_context3.prev = _context3.next) {
             case 0:
              _SharedFunction["default"].showLoadingView("Loading", _this5);
              token = localStorage.getItem("token");
              _context3.prev = 2;
              _context3.next = 5;
              return _WalletService["default"].deleteBankAccount(token, cardId);

             case 5:
              response = _context3.sent;
              console.log("----------deleteBankAccount-----------");
              console.log(response);
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context3.next = 11;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this5);
              return _context3.abrupt("return");

             case 11:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context3.next = 14;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this5);
              return _context3.abrupt("return");

             case 14:
              if (200 == response.status) {
                _this5.createdRows.forEach(function(row) {
                  row && row.isValid && row.removeFromParent();
                });
                _this5.createdRows = [];
                _this5.callGetWalletListingApi();
                _this5.showNotification(_SharedFunction["default"].getLocalizedString(_this5.i18nJson, "successDelete"));
              }
              _SharedFunction["default"].hideLoadingView(_this5);
              _context3.next = 27;
              break;

             case 18:
              _context3.prev = 18;
              _context3.t0 = _context3["catch"](2);
              if (!_SharedFunction["default"].handleSessionExpiration(_context3.t0, _this5)) {
                _context3.next = 22;
                break;
              }
              return _context3.abrupt("return");

             case 22:
              if (!_SharedFunction["default"].handleServerError(_context3.t0, _this5)) {
                _context3.next = 25;
                break;
              }
              _SharedFunction["default"].hideLoadingView(_this5);
              return _context3.abrupt("return");

             case 25:
              console.log(_context3.t0);
              _SharedFunction["default"].hideLoadingView(_this5);

             case 27:
             case "end":
              return _context3.stop();
            }
          }, _callee3, null, [ [ 2, 18 ] ]);
        }))();
      },
      showNotification: function showNotification(text) {
        var _this6 = this;
        this.mNotificationLabel.getComponent(cc.Label).string = _SharedFunction["default"].formatString(_SharedFunction["default"].getLocalizedString(this.i18nJson, text), this.mMaxCard);
        cc.Tween.stopAllByTarget(this.myNotificationBG);
        this.myNotificationBG.active = true;
        this.myNotificationBG.opacity = 0;
        cc.tween(this.myNotificationBG).to(1 / 3, {
          opacity: 255
        }).delay(2).to(1 / 3, {
          opacity: 0
        }).call(function() {
          _this6.myNotificationBG.active = false;
        }).start();
      },
      showLableError: function showLableError(labelComponent, text) {
        this.myError1Label.active = false;
        this.myError2Label.active = false;
        if (labelComponent) {
          this.myScrollView.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0, -1 * labelComponent.y - 120), .1, false);
          labelComponent.getComponent(cc.Label).string = text;
          labelComponent.active = true;
          cc.tween(labelComponent).to(1 / 12, {
            scale: 1.1
          }).to(1 / 12, {
            scale: 1
          }).start();
        }
      },
      localizeUI: function localizeUI() {
        this.mTitleLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "manageBank");
        this.mHeaderBankLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "bankOrWallet");
        this.mHeaderAccNameLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "accName");
        this.mHeaderAccNumLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "accNumber");
        this.mHeaderActionLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "action");
        this.mNoBankLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "noBank");
        this.mAddAccLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "addAcc");
        this.mWarningLabel.getComponent(cc.Label).string = "*" + _SharedFunction["default"].formatString(_SharedFunction["default"].getLocalizedString(this.i18nJson, "cardLimit"), this.mMaxCard);
        this.mNotificationLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "success");
        this.mDescLabel.getComponent(cc.RichText).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "desc");
        this.mBankLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "bankOrWallet");
        this.mAccNameLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "accName");
        this.mAccNumLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "accNumber");
        this.mBranchLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "branch");
        this.mAccountTypeLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "accountType");
        this.mConfirmLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "confirm");
      },
      updatePrefabSize: function updatePrefabSize() {
        var visibleSize = cc.view.getVisibleSize();
      }
    });
    cc._RF.pop();
  }, {
    "../Services/WalletService": "WalletService",
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  MessageInfoView: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f6a63uSoKZNG6jCqZu8qshK", "MessageInfoView");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        mBackground: {
          default: null,
          type: cc.Node
        },
        mMessageLabel: {
          default: null,
          type: cc.Node
        },
        mText: "",
        autoDismissTimer: null
      },
      onLoad: function onLoad() {},
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
        if (this.mBackground) {
          this.mBackground.width = width;
          this.mBackground.height = height;
        }
      },
      setText: function setText(text) {
        void 0 === text && (text = "");
        this.mText = text;
        if (this.mMessageLabel) {
          var label = this.mMessageLabel.getComponent(cc.Label);
          label && (label.string = text);
        }
      },
      setCallback: function setCallback(callback) {
        this.mCallBack = callback;
      },
      show: function show(duration) {
        var _this = this;
        void 0 === duration && (duration = 1);
        if (this.node) {
          this.node.active = true;
          this.node.opacity = 0;
          cc.tween(this.node).to(.2, {
            opacity: 255
          }).start();
          this.scheduleOnce(function() {
            _this.dismiss();
          }, duration);
        }
      },
      dismiss: function dismiss() {
        var _this2 = this;
        if (this.node && this.node.isValid) {
          this.unscheduleAllCallbacks();
          cc.tween(this.node).to(.2, {
            opacity: 0
          }).call(function() {
            _this2.mCallBack && "function" === typeof _this2.mCallBack && _this2.mCallBack();
            _this2.node && _this2.node.parent && _this2.node.parent.removeChild(_this2.node);
          }).start();
        }
      },
      hide: function hide() {
        this.node && (this.node.active = false);
      },
      onDestroy: function onDestroy() {
        this.unscheduleAllCallbacks();
      }
    });
    cc._RF.pop();
  }, {
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  NetworkService: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4734fKyHGVKw55OmhLxvwb4", "NetworkService");
    "use strict";
    var __assign = this && this.__assign || function() {
      __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
          s = arguments[i];
          for (var p in s) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        }
        return t;
      };
      return __assign.apply(this, arguments);
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.NetworkService = void 0;
    var SharedData = require("SharedData");
    var NetworkService = function() {
      function NetworkService() {}
      NetworkService.getBaseUrl = function() {
        try {
          if (SharedData && "function" === typeof SharedData.getApiUrl) {
            var baseUrl = SharedData.getApiUrl();
            return baseUrl || "";
          }
          console.warn("NetworkService: SharedData.getApiUrl is not a function");
        } catch (error) {
          console.warn("NetworkService: Error accessing SharedData.getApiUrl:", error);
        }
        return "";
      };
      NetworkService.buildQueryString = function(params) {
        var queryParts = [];
        for (var key in params) params.hasOwnProperty(key) && null !== params[key] && void 0 !== params[key] && queryParts.push(encodeURIComponent(key) + "=" + encodeURIComponent(params[key]));
        return queryParts.join("&");
      };
      NetworkService.buildFormData = function(params) {
        return this.buildQueryString(params);
      };
      NetworkService.request = function(url, config) {
        var _this = this;
        void 0 === config && (config = {});
        return new Promise(function(resolve, reject) {
          var method = config.method || "GET";
          var timeout = config.timeout || _this.DEFAULT_TIMEOUT;
          var baseUrl = _this.getBaseUrl();
          var fullUrl = url.startsWith("http") ? url : "" + baseUrl + url;
          var xhr = new XMLHttpRequest();
          xhr.timeout = timeout;
          xhr.open(method, fullUrl, true);
          if (config.headers) for (var key in config.headers) xhr.setRequestHeader(key, config.headers[key]); else "GET" === method ? xhr.setRequestHeader("Content-Type", "text/plain") : xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
          xhr.onreadystatechange = function() {
            if (4 === xhr.readyState) if (xhr.status >= 200 && xhr.status <= 207) try {
              var response = xhr.responseText ? JSON.parse(xhr.responseText) : {};
              resolve({
                status: xhr.status,
                data: response,
                message: response.message || response.msg || ""
              });
            } catch (error) {
              resolve({
                status: xhr.status,
                data: xhr.responseText,
                message: ""
              });
            } else try {
              var errorResponse = xhr.responseText ? JSON.parse(xhr.responseText) : {};
              reject({
                status: xhr.status,
                data: errorResponse,
                message: errorResponse.message || errorResponse.msg || "HTTP Error " + xhr.status,
                error: xhr.responseText
              });
            } catch (error) {
              reject({
                status: xhr.status,
                data: null,
                message: "HTTP Error " + xhr.status,
                error: xhr.responseText
              });
            }
          };
          xhr.ontimeout = function() {
            reject({
              status: 0,
              data: null,
              message: "Request timeout",
              error: "Request timeout"
            });
          };
          xhr.onerror = function() {
            reject({
              status: 0,
              data: null,
              message: "Network error",
              error: "Network error occurred"
            });
          };
          xhr.send();
        });
      };
      NetworkService.get = function(url, params, config) {
        return __awaiter(this, void 0, Promise, function() {
          var fullUrl, queryString;
          return __generator(this, function(_a) {
            fullUrl = url;
            if (params) {
              queryString = this.buildQueryString(params);
              fullUrl = url + (url.includes("?") ? "&" : "?") + queryString;
            }
            return [ 2, this.request(fullUrl, __assign(__assign({}, config), {
              method: "GET"
            })) ];
          });
        });
      };
      NetworkService.post = function(url, data, config) {
        return __awaiter(this, void 0, Promise, function() {
          var requestConfig, isFormData, isJson, bodyData_1;
          var _this = this;
          return __generator(this, function(_a) {
            requestConfig = __assign(__assign({}, config), {
              method: "POST"
            });
            isFormData = data instanceof FormData;
            isJson = requestConfig.headers && "application/json" === requestConfig.headers["Content-Type"];
            if (data) {
              bodyData_1 = isFormData ? data : isJson ? JSON.stringify(data) : this.buildFormData(data);
              return [ 2, new Promise(function(resolve, reject) {
                var method = "POST";
                var timeout = requestConfig.timeout || _this.DEFAULT_TIMEOUT;
                var baseUrl = _this.getBaseUrl();
                var fullUrl = url.startsWith("http") ? url : "" + baseUrl + url;
                var xhr = new XMLHttpRequest();
                xhr.timeout = timeout;
                xhr.open(method, fullUrl, true);
                if (requestConfig.headers) for (var key in requestConfig.headers) {
                  if (isFormData && "content-type" === key.toLowerCase()) continue;
                  xhr.setRequestHeader(key, requestConfig.headers[key]);
                } else isFormData || xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                xhr.onreadystatechange = function() {
                  if (4 === xhr.readyState) if (xhr.status >= 200 && xhr.status <= 207) try {
                    var response = xhr.responseText ? JSON.parse(xhr.responseText) : {};
                    resolve({
                      status: xhr.status,
                      data: response,
                      message: response.message || response.msg || ""
                    });
                  } catch (error) {
                    resolve({
                      status: xhr.status,
                      data: xhr.responseText,
                      message: ""
                    });
                  } else try {
                    var errorResponse = xhr.responseText ? JSON.parse(xhr.responseText) : {};
                    reject({
                      status: xhr.status,
                      data: errorResponse,
                      message: errorResponse.message || errorResponse.msg || "HTTP Error " + xhr.status,
                      error: xhr.responseText
                    });
                  } catch (error) {
                    reject({
                      status: xhr.status,
                      data: null,
                      message: "HTTP Error " + xhr.status,
                      error: xhr.responseText
                    });
                  }
                };
                xhr.ontimeout = function() {
                  reject({
                    status: 0,
                    data: null,
                    message: "Request timeout",
                    error: "Request timeout"
                  });
                };
                xhr.onerror = function() {
                  reject({
                    status: 0,
                    data: null,
                    message: "Network error",
                    error: "Network error occurred"
                  });
                };
                xhr.send(bodyData_1);
              }) ];
            }
            return [ 2, this.request(url, requestConfig) ];
          });
        });
      };
      NetworkService.put = function(url, data, config) {
        return __awaiter(this, void 0, Promise, function() {
          var requestConfig, isJson, bodyData_2;
          var _this = this;
          return __generator(this, function(_a) {
            requestConfig = __assign(__assign({}, config), {
              method: "PUT"
            });
            isJson = requestConfig.headers && "application/json" === requestConfig.headers["Content-Type"];
            if (data) {
              bodyData_2 = isJson ? JSON.stringify(data) : this.buildFormData(data);
              return [ 2, new Promise(function(resolve, reject) {
                var method = "PUT";
                var timeout = requestConfig.timeout || _this.DEFAULT_TIMEOUT;
                var baseUrl = _this.getBaseUrl();
                var fullUrl = url.startsWith("http") ? url : "" + baseUrl + url;
                var xhr = new XMLHttpRequest();
                xhr.timeout = timeout;
                xhr.open(method, fullUrl, true);
                if (requestConfig.headers) for (var key in requestConfig.headers) xhr.setRequestHeader(key, requestConfig.headers[key]); else xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                xhr.onreadystatechange = function() {
                  if (4 === xhr.readyState) if (xhr.status >= 200 && xhr.status <= 207) try {
                    var response = xhr.responseText ? JSON.parse(xhr.responseText) : {};
                    resolve({
                      status: xhr.status,
                      data: response,
                      message: response.message || response.msg || ""
                    });
                  } catch (error) {
                    resolve({
                      status: xhr.status,
                      data: xhr.responseText,
                      message: ""
                    });
                  } else try {
                    var errorResponse = xhr.responseText ? JSON.parse(xhr.responseText) : {};
                    reject({
                      status: xhr.status,
                      data: errorResponse,
                      message: errorResponse.message || errorResponse.msg || "HTTP Error " + xhr.status,
                      error: xhr.responseText
                    });
                  } catch (error) {
                    reject({
                      status: xhr.status,
                      data: null,
                      message: "HTTP Error " + xhr.status,
                      error: xhr.responseText
                    });
                  }
                };
                xhr.ontimeout = function() {
                  reject({
                    status: 0,
                    data: null,
                    message: "Request timeout",
                    error: "Request timeout"
                  });
                };
                xhr.onerror = function() {
                  reject({
                    status: 0,
                    data: null,
                    message: "Network error",
                    error: "Network error occurred"
                  });
                };
                xhr.send(bodyData_2);
              }) ];
            }
            return [ 2, this.request(url, requestConfig) ];
          });
        });
      };
      NetworkService.delete = function(url, config) {
        return __awaiter(this, void 0, Promise, function() {
          return __generator(this, function(_a) {
            return [ 2, this.request(url, __assign(__assign({}, config), {
              method: "DELETE"
            })) ];
          });
        });
      };
      NetworkService.DEFAULT_TIMEOUT = 3e4;
      return NetworkService;
    }();
    exports.NetworkService = NetworkService;
    cc._RF.pop();
  }, {
    SharedData: "SharedData"
  } ],
  PersonalCenter: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "cf40a7jRtZNNrZd4n5Wk9/O", "PersonalCenter");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    var _TransactionService = _interopRequireDefault(require("../Services/TransactionService"));
    var _UserService = _interopRequireDefault(require("../Services/UserService"));
    var _WalletService = _interopRequireDefault(require("../Services/WalletService"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        myEditInfoView: null,
        myVIPLevelView: null,
        myChangeAvatarView: null,
        myVerificationView: null,
        myManageCardView: null,
        calendarPicker: null,
        calenderTarget: null,
        mBetRecordSelectedType: "",
        mCurrentFocusTab: "UserInfo",
        mBetRecordFocusTab: "",
        mHistoryFocusTab: "",
        mMaxCard: 3,
        mCardList: [],
        mBetRecordTabList: [],
        mHistoryTabList: [],
        createdUnselectedTab: [],
        createdBetPlatformDDLSelect: [],
        createdHistoryDDLSelect: [],
        createdBetRecordTimeDDLSelect: [],
        createdTimeDDLSelect: [],
        createdHistoryTimeDDLSelect: [],
        createdRows: [],
        createdBetRecordRows: [],
        walletLedgerRows: [],
        createdHistoryRows: [],
        myAccDetailTypeDDLSelect: [],
        mBetRecordSelectedTime: "allTime",
        mAccDetailSelectedTime: "allTime",
        mAccDetailSelectedType: "allType",
        mHistorySelectedStatus: "All",
        mHistorySelectedTime: "allTime",
        mCurrentWalletPage: 1,
        mTotalWalletPages: 1,
        mCurrentTransPage: 1,
        mTotalTransPages: 1,
        mCurrentHistoryPage: 1,
        mTotalHistoryPages: 1,
        myUserInfoTabBtn: {
          default: null,
          type: cc.Node
        },
        myBettingRecordTabBtn: {
          default: null,
          type: cc.Node
        },
        myAccountDetailsTabBtn: {
          default: null,
          type: cc.Node
        },
        myCardWalletTabBtn: {
          default: null,
          type: cc.Node
        },
        myHistoryTabBtn: {
          default: null,
          type: cc.Node
        },
        myAddAccBtn: {
          default: null,
          type: cc.Node
        },
        myPlayerNameLabel: {
          default: null,
          type: cc.Node
        },
        mNotificationLabel: {
          default: null,
          type: cc.Node
        },
        myBalanceBG: {
          default: null,
          type: cc.Node
        },
        myNotificationBG: {
          default: null,
          type: cc.Node
        },
        myFullContainer: {
          default: null,
          type: cc.Node
        },
        myCutContainer: {
          default: null,
          type: cc.Node
        },
        myTrxContainer: {
          default: null,
          type: cc.Node
        },
        myCardContainer: {
          default: null,
          type: cc.Node
        },
        myNoCardContainer: {
          default: null,
          type: cc.Node
        },
        myHvCardContainer: {
          default: null,
          type: cc.Node
        },
        myRecordContainer: {
          default: null,
          type: cc.Node
        },
        myHistoryContainer: {
          default: null,
          type: cc.Node
        },
        myBetRecordTypeSelect: {
          default: null,
          type: cc.Node
        },
        myBetRecordTypeDDL: {
          default: null,
          type: cc.Node
        },
        myBetRecordTypeTimeLabel: {
          default: null,
          type: cc.Node
        },
        myBetRecordTypeTimeSelect: {
          default: null,
          type: cc.Node
        },
        myBetRecordTypeTimeDDL: {
          default: null,
          type: cc.Node
        },
        myBetRecordTypeTimeScrollView: {
          default: null,
          type: cc.Node
        },
        myBetRecordTypeTimeScrollViewView: {
          default: null,
          type: cc.Node
        },
        myBetRecordTypeTimeScrollContent: {
          default: null,
          type: cc.Node
        },
        myAccDetailTypeSelect: {
          default: null,
          type: cc.Node
        },
        myAccDetailTypeDDL: {
          default: null,
          type: cc.Node
        },
        myAccDetailTypeTimeLabel: {
          default: null,
          type: cc.Node
        },
        myAccDetailTypeTimeSelect: {
          default: null,
          type: cc.Node
        },
        myAccDetailTypeTimeDDL: {
          default: null,
          type: cc.Node
        },
        myAccDetailTypeTimeScrollView: {
          default: null,
          type: cc.Node
        },
        myAccDetailTypeTimeScrollViewView: {
          default: null,
          type: cc.Node
        },
        myAccDetailTypeTimeScrollContent: {
          default: null,
          type: cc.Node
        },
        myAccDetailTypeScrollView: {
          default: null,
          type: cc.Node
        },
        myAccDetailTypeScrollViewView: {
          default: null,
          type: cc.Node
        },
        myAccDetailTypeScrollContent: {
          default: null,
          type: cc.Node
        },
        myBetPlatformSelect: {
          default: null,
          type: cc.Node
        },
        myHistoryTrxSelect: {
          default: null,
          type: cc.Node
        },
        myHistoryTrxDDL: {
          default: null,
          type: cc.Node
        },
        myHisStatSelect: {
          default: null,
          type: cc.Node
        },
        myUserInfoScrollView: {
          default: null,
          type: cc.Node
        },
        myCutConScrollView: {
          default: null,
          type: cc.Node
        },
        myCutConScrollContent: {
          default: null,
          type: cc.Node
        },
        myWalletScrollContent: {
          default: null,
          type: cc.Node
        },
        myBetRecordScrollView: {
          default: null,
          type: cc.Node
        },
        myBetRecordScrollContent: {
          default: null,
          type: cc.Node
        },
        myTrxScrollView: {
          default: null,
          type: cc.Node
        },
        myTrxScrollContent: {
          default: null,
          type: cc.Node
        },
        myBetPlatformScrollView: {
          default: null,
          type: cc.Node
        },
        myBetPlatformScrollViewView: {
          default: null,
          type: cc.Node
        },
        myBetPlatformScrollContent: {
          default: null,
          type: cc.Node
        },
        myHisStatScrollView: {
          default: null,
          type: cc.Node
        },
        myHisStatScrollViewView: {
          default: null,
          type: cc.Node
        },
        myHisStatScrollContent: {
          default: null,
          type: cc.Node
        },
        myVerifyBtn: {
          default: null,
          type: cc.Node
        },
        mFocusTabImg: {
          default: null,
          type: cc.SpriteFrame
        },
        mNormalTabImg: {
          default: null,
          type: cc.SpriteFrame
        },
        mAddOnImg: {
          default: null,
          type: cc.SpriteFrame
        },
        mAddOffImg: {
          default: null,
          type: cc.SpriteFrame
        },
        myHeaderProfileImg: {
          default: null,
          type: cc.Sprite
        },
        myUserInfoProfileImg: {
          default: null,
          type: cc.Sprite
        },
        myAccountTxt: {
          default: null,
          type: cc.Node
        },
        myUsernameTxt: {
          default: null,
          type: cc.Node
        },
        myEmailTxt: {
          default: null,
          type: cc.Node
        },
        myCodeTxt: {
          default: null,
          type: cc.Node
        },
        myMobileTxt: {
          default: null,
          type: cc.Node
        },
        myGenderTxt: {
          default: null,
          type: cc.Node
        },
        myBirthdayTxt: {
          default: null,
          type: cc.Node
        },
        myBetStartDateTxt: {
          default: null,
          type: cc.Node
        },
        myBetEndDateTxt: {
          default: null,
          type: cc.Node
        },
        myAccStartDateTxt: {
          default: null,
          type: cc.Node
        },
        myAccEndDateTxt: {
          default: null,
          type: cc.Node
        },
        myUnselectedTabPrefab: {
          default: null,
          type: cc.Prefab
        },
        myDDLSelectPrefab: {
          default: null,
          type: cc.Prefab
        },
        mCardRowPrefab: {
          default: null,
          type: cc.Prefab
        },
        mBetRecordRowPrefab: {
          default: null,
          type: cc.Prefab
        },
        mTrxRowPrefab: {
          default: null,
          type: cc.Prefab
        },
        mHistoryRowPrefab: {
          default: null,
          type: cc.Prefab
        },
        myHistoryScrollView: {
          default: null,
          type: cc.Node
        },
        myHistoryScrollContent: {
          default: null,
          type: cc.Node
        },
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        mPersonalCenterLabel: {
          default: null,
          type: cc.Node
        },
        mNoBankLabel: {
          default: null,
          type: cc.Node
        },
        mAddAccLabel: {
          default: null,
          type: cc.Node
        },
        mWarningLabel: {
          default: null,
          type: cc.Node
        },
        mUserInfoTabLabel: {
          default: null,
          type: cc.Node
        },
        mBetRecordTabLabel: {
          default: null,
          type: cc.Node
        },
        mAccDetailsTabLabel: {
          default: null,
          type: cc.Node
        },
        mBankWalletTabLabel: {
          default: null,
          type: cc.Node
        },
        mHistoryTabLabel: {
          default: null,
          type: cc.Node
        },
        mLevelPriviledgedLabel: {
          default: null,
          type: cc.Node
        },
        mCurrentMemberLabel: {
          default: null,
          type: cc.Node
        },
        mBasicInfoLabel: {
          default: null,
          type: cc.Node
        },
        mAccountLabel: {
          default: null,
          type: cc.Node
        },
        mUsernameLabel: {
          default: null,
          type: cc.Node
        },
        mEmailLabel: {
          default: null,
          type: cc.Node
        },
        mMobileNumberLabel: {
          default: null,
          type: cc.Node
        },
        mGenderLabel: {
          default: null,
          type: cc.Node
        },
        mBirthdayLabel: {
          default: null,
          type: cc.Node
        },
        mVIPLevelLabel: {
          default: null,
          type: cc.Node
        },
        mVerifyLabel: {
          default: null,
          type: cc.Node
        },
        mRecordConStartDateLabel: {
          default: null,
          type: cc.Node
        },
        mRecordConEndDateLabel: {
          default: null,
          type: cc.Node
        },
        mRecordConPlatformLabel: {
          default: null,
          type: cc.Node
        },
        mRecordConTypeLabel: {
          default: null,
          type: cc.Node
        },
        mRecordConAllLabel: {
          default: null,
          type: cc.Node
        },
        mRecordConPlaceBetLabel: {
          default: null,
          type: cc.Node
        },
        mRecordConWinLabel: {
          default: null,
          type: cc.Node
        },
        mRecordConBuyInLabel: {
          default: null,
          type: cc.Node
        },
        mRecordConPayoutLabel: {
          default: null,
          type: cc.Node
        },
        mRecordConCancelLabel: {
          default: null,
          type: cc.Node
        },
        mRecordConRollbackLabel: {
          default: null,
          type: cc.Node
        },
        mRecordConRefundLabel: {
          default: null,
          type: cc.Node
        },
        mTrxConStartDateLabel: {
          default: null,
          type: cc.Node
        },
        mTrxConEndDateLabel: {
          default: null,
          type: cc.Node
        },
        mTrxConDateLabel: {
          default: null,
          type: cc.Node
        },
        mTrxConDescLabel: {
          default: null,
          type: cc.Node
        },
        mTrxConInLabel: {
          default: null,
          type: cc.Node
        },
        mTrxConOutLabel: {
          default: null,
          type: cc.Node
        },
        mTrxConBalanceLabel: {
          default: null,
          type: cc.Node
        },
        mDescLabel: {
          default: null,
          type: cc.Node
        },
        mClickHereLabel: {
          default: null,
          type: cc.Node
        },
        mSetupLabel: {
          default: null,
          type: cc.Node
        },
        mBankWalletLabel: {
          default: null,
          type: cc.Node
        },
        mAccNameLabel: {
          default: null,
          type: cc.Node
        },
        mAccNumberLabel: {
          default: null,
          type: cc.Node
        },
        mRecordDateLabel: {
          default: null,
          type: cc.Node
        },
        mRecordBetSlipIDLabel: {
          default: null,
          type: cc.Node
        },
        mRecordGameLabel: {
          default: null,
          type: cc.Node
        },
        mRecordStakeLabel: {
          default: null,
          type: cc.Node
        },
        mRecordResultLabel: {
          default: null,
          type: cc.Node
        },
        mRecordWinLossLabel: {
          default: null,
          type: cc.Node
        },
        mValidStakeLabel: {
          default: null,
          type: cc.Node
        },
        mHisDateLabel: {
          default: null,
          type: cc.Node
        },
        mHisTrxIDLabel: {
          default: null,
          type: cc.Node
        },
        mHisBankLabel: {
          default: null,
          type: cc.Node
        },
        mHisAmtLabel: {
          default: null,
          type: cc.Node
        },
        mHisStatusHeaderLabel: {
          default: null,
          type: cc.Node
        },
        mHisReasonLabel: {
          default: null,
          type: cc.Node
        },
        mNoRecords1Label: {
          default: null,
          type: cc.Node
        },
        mNoRecords2Label: {
          default: null,
          type: cc.Node
        },
        mNoRecords3Label: {
          default: null,
          type: cc.Node
        },
        walletFirstPageBtn: {
          default: null,
          type: cc.Node
        },
        walletLastPageBtn: {
          default: null,
          type: cc.Node
        },
        walletPreviousPageBtn: {
          default: null,
          type: cc.Node
        },
        walletNextPageBtn: {
          default: null,
          type: cc.Node
        },
        walletTotalPageLabel: {
          default: null,
          type: cc.Node
        },
        walletCurrentPageEditBox: {
          default: null,
          type: cc.Node
        },
        walletGoBtn: {
          default: null,
          type: cc.Node
        },
        walletGoLbl: {
          default: null,
          type: cc.Node
        },
        transFirstPageBtn: {
          default: null,
          type: cc.Node
        },
        transLastPageBtn: {
          default: null,
          type: cc.Node
        },
        transPreviousPageBtn: {
          default: null,
          type: cc.Node
        },
        transNextPageBtn: {
          default: null,
          type: cc.Node
        },
        transTotalPageLabel: {
          default: null,
          type: cc.Node
        },
        transCurrentPageEditBox: {
          default: null,
          type: cc.Node
        },
        transGoBtn: {
          default: null,
          type: cc.Node
        },
        transGoLbl: {
          default: null,
          type: cc.Node
        },
        secondRecordContainer: {
          default: null,
          type: cc.Node
        },
        historyFirstPageBtn: {
          default: null,
          type: cc.Node
        },
        historyLastPageBtn: {
          default: null,
          type: cc.Node
        },
        historyPreviousPageBtn: {
          default: null,
          type: cc.Node
        },
        historyNextPageBtn: {
          default: null,
          type: cc.Node
        },
        historyTotalPageLabel: {
          default: null,
          type: cc.Node
        },
        historyCurrentPageEditBox: {
          default: null,
          type: cc.Node
        },
        historyGoBtn: {
          default: null,
          type: cc.Node
        },
        historyGoLbl: {
          default: null,
          type: cc.Node
        },
        myHistoryTimeScrollView: {
          default: null,
          type: cc.Node
        },
        myHistoryTimeScrollViewView: {
          default: null,
          type: cc.Node
        },
        myHistoryTimeScrollContent: {
          default: null,
          type: cc.Node
        },
        myHistoryTrxTimeLbl: {
          default: null,
          type: cc.Node
        },
        myHistoryStatusLbl: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.localizeUI();
        var self = this;
        cc.resources.load("prefabs/calendar/CalendarPicker", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            return;
          }
          if (null == self.calendarPicker) {
            self.calendarPicker = cc.instantiate(prefab);
            self.updatePrefabSize();
          }
          self.node.addChild(self.calendarPicker.getComponent("CalendarManager").node);
          self.calendarPicker.on("date-selected", self.onDateSelected, self);
          self.calendarPicker.on("date-cancel", self.onDateCancel, self);
        });
        this.initWalletPagination();
        this.initTransPagination();
        this.initHistoryPagination();
      },
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
      },
      updateView: function updateView(callBack, initialTab) {
        void 0 === initialTab && (initialTab = null);
        var self = this;
        this.localizeUI();
        this.mCallBack = callBack;
        this.mCurrentFocusTab = "UserInfo";
        var dashResponse = JSON.parse(localStorage.getItem("from_index"));
        var verification = dashResponse.settings.verification;
        this.mMaxCard = dashResponse.settings.limits.maxBankCards;
        var userObj = _SharedData["default"].getUserObject();
        this.myPlayerNameLabel.getComponent(cc.Label).string = userObj.fullName;
        this.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(userObj.balance, 2);
        this.myAccountTxt.getComponent(cc.Label).string = userObj.fullName;
        this.myUsernameTxt.getComponent(cc.Label).string = userObj.username;
        this.myEmailTxt.getComponent(cc.Label).string = userObj.email;
        this.myCodeTxt.getComponent(cc.Label).string = _SharedData["default"].getPhoneCode();
        var phoneNum = "";
        phoneNum = _SharedData["default"].getCurrentEnv() == _SharedData["default"].getAvailableEnvironment().ENV_DEVELOPMENT ? userObj.phone.replace("+888", "").replace(_SharedData["default"].getPhoneCode(), "") : userObj.phone.replace(_SharedData["default"].getPhoneCode(), "");
        this.myMobileTxt.getComponent(cc.Label).string = phoneNum;
        localStorage.setItem("unverified_phoneNum", phoneNum);
        _SharedData["default"].getSelectedAvatar() == localStorage.getItem("selected_avatar") && cc.loader.loadRes("images/profile/Avatar" + _SharedData["default"].getSelectedAvatar() + ".png", cc.SpriteFrame, function(err, spriteFrame) {
          self.myHeaderProfileImg.getComponent(cc.Sprite).spriteFrame = spriteFrame;
          self.myUserInfoProfileImg.getComponent(cc.Sprite).spriteFrame = spriteFrame;
        });
        this.mBetRecordTabList = _SharedData["default"].getGameCategories();
        this.mHistoryTabList = [ {
          name: "Deposit",
          statusList: "All,Pending,Approved,Rejected,Cancelled"
        }, {
          name: "Withdrawal",
          statusList: "All,Pending,Approved,Rejected,Cancelled"
        } ];
        this.mCardList = [];
        this.callGetWalletListingApi();
        this.node.active = true;
        userObj.phoneVerified ? this.myVerifyBtn.active = false : !userObj.phoneVerified && verification.phoneVerification.enabled && (this.myVerifyBtn.active = true);
        var tabToOpen = initialTab || "UserInfo";
        this.onPersonalTabDidPressed("", tabToOpen, true);
        if (null != this.calendarPicker) {
          this.calendarPicker.getComponent("CalendarManager").hide();
          this.calendarPicker.on("date-selected", this.onDateSelected, this);
          this.calendarPicker.on("date-cancel", this.onDateCancel, this);
        }
        var widget = this.node.getComponent(cc.Widget);
        widget.left = this.node.width;
        widget.right = -1 * this.node.width;
        cc.tween(widget).to(1 / 6, {
          left: 0,
          right: 0
        }).start();
      },
      setCallBack: function setCallBack(callBack) {
        this.mCallBack = callBack;
      },
      openCalendar: function openCalendar(event, customEventData, codeTrigger) {
        this.calenderTarget = customEventData;
        var label = "";
        "betStartDate" == customEventData ? label = this.myBetStartDateTxt.getComponent(cc.Label).string : "betEndDate" == customEventData ? label = this.myBetEndDateTxt.getComponent(cc.Label).string : "accStartDate" == customEventData ? label = this.myAccStartDateTxt.getComponent(cc.Label).string : "accEndDate" == customEventData && (label = this.myAccEndDateTxt.getComponent(cc.Label).string);
        var dateObj = label.split("-");
        var calendar = this.calendarPicker.getComponent("CalendarManager");
        3 == dateObj.length ? calendar.show(new Date(dateObj[0], dateObj[1] - 1, dateObj[2])) : calendar.show();
      },
      onDateSelected: function onDateSelected(event) {
        var dateData = event.detail;
        var dateSelected = dateData.year + "-" + dateData.month + "-" + dateData.day;
        "betStartDate" == this.calenderTarget ? this.myBetStartDateTxt.getComponent(cc.Label).string = dateSelected : "betEndDate" == this.calenderTarget ? this.myBetEndDateTxt.getComponent(cc.Label).string = dateSelected : "accStartDate" == this.calenderTarget ? this.myAccStartDateTxt.getComponent(cc.Label).string = dateSelected : "accEndDate" == this.calenderTarget && (this.myAccEndDateTxt.getComponent(cc.Label).string = dateSelected);
        this.calendarPicker.getComponent("CalendarManager").hide();
        if ("accStartDate" == this.calenderTarget || "accEndDate" == this.calenderTarget) {
          this.mCurrentTransPage = 1;
          this.callGetTransactionApi(1, 20);
        }
      },
      onDateCancel: function onDateCancel() {
        cc.log("Calendar cancelled");
      },
      myBackButtonDidPressed: function myBackButtonDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var widget = this.node.getComponent(cc.Widget);
        cc.tween(widget).to(1 / 6, {
          left: this.node.width,
          right: -1 * this.node.width
        }).start();
        this.mCallBack && "function" === typeof this.mCallBack.onPersonalCenterBackButtonDidPressed && this.mCallBack.onPersonalCenterBackButtonDidPressed();
      },
      onPersonalTabDidPressed: function onPersonalTabDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        this.myUserInfoTabBtn.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
        this.myBettingRecordTabBtn.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
        this.myAccountDetailsTabBtn.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
        this.myCardWalletTabBtn.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
        this.myHistoryTabBtn.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
        this.myUserInfoTabBtn.getChildByName("lblUserInfo").getComponent(cc.LabelOutline).color = new cc.color("#014D92");
        this.myUserInfoTabBtn.getChildByName("lblUserInfo").getComponent(cc.LabelShadow).color = new cc.color("#01277E");
        this.myBettingRecordTabBtn.getChildByName("lblBettingRecord").getComponent(cc.LabelOutline).color = new cc.color("#014D92");
        this.myBettingRecordTabBtn.getChildByName("lblBettingRecord").getComponent(cc.LabelShadow).color = new cc.color("#01277E");
        this.myAccountDetailsTabBtn.getChildByName("lblAccDetails").getComponent(cc.LabelOutline).color = new cc.color("#014D92");
        this.myAccountDetailsTabBtn.getChildByName("lblAccDetails").getComponent(cc.LabelShadow).color = new cc.color("#01277E");
        this.myCardWalletTabBtn.getChildByName("lblCardWallet").getComponent(cc.LabelOutline).color = new cc.color("#014D92");
        this.myCardWalletTabBtn.getChildByName("lblCardWallet").getComponent(cc.LabelShadow).color = new cc.color("#01277E");
        this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelOutline).color = new cc.color("#014D92");
        this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelShadow).color = new cc.color("#01277E");
        this.myFullContainer.active = false;
        this.myUserInfoScrollView.active = false;
        this.myTrxContainer.active = false;
        this.myCardContainer.active = false;
        this.myCutContainer.active = false;
        this.myRecordContainer.active = false;
        this.myHistoryContainer.active = false;
        this.secondRecordContainer.active = false;
        if (this.mCurrentFocusTab != customEventData) {
          this.createdUnselectedTab.forEach(function(tab) {
            if (tab && tab.isValid) {
              tab.unselect();
              tab.node.removeFromParent();
            }
          });
          this.createdUnselectedTab = [];
        }
        if ("BettingRecord" == customEventData || "History" == customEventData) {
          var tabList = this.mBetRecordTabList;
          "History" == customEventData && (tabList = this.mHistoryTabList);
          for (var key in tabList) {
            var positionX = 60 + 128 * parseInt(key);
            var unselectedTabPref = new cc.instantiate(this.myUnselectedTabPrefab).getComponent("UnselectedTab");
            var tabName = tabList[key].name;
            var localizedTabName = tabName;
            "History" == customEventData && (localizedTabName = _SharedFunction["default"].getLocalizedString(this.i18nJson, tabName.toLowerCase()) || tabName);
            unselectedTabPref.init(positionX, -22, tabName, customEventData, this);
            unselectedTabPref.myLabel && (unselectedTabPref.myLabel.getComponent(cc.Label).string = localizedTabName);
            this.myCutConScrollContent.addChild(unselectedTabPref.node);
            this.createdUnselectedTab.push(unselectedTabPref);
          }
          this.myCutConScrollContent.width = 120 + 128 * (tabList.length - 1);
          this.myCutConScrollView.getComponent(cc.ScrollView).scrollToLeft(0);
        }
        if ("UserInfo" == customEventData) {
          this.myUserInfoTabBtn.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
          this.myUserInfoTabBtn.getChildByName("lblUserInfo").getComponent(cc.LabelOutline).color = new cc.color("#7F0794");
          this.myUserInfoTabBtn.getChildByName("lblUserInfo").getComponent(cc.LabelShadow).color = new cc.color("#6B017E");
          this.myUserInfoScrollView.getComponent(cc.ScrollView).scrollToTop(0);
          this.myFullContainer.active = true;
          this.myUserInfoScrollView.active = true;
        } else if ("BettingRecord" == customEventData) {
          this.myBettingRecordTabBtn.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
          this.myBettingRecordTabBtn.getChildByName("lblBettingRecord").getComponent(cc.LabelOutline).color = new cc.color("#7F0794");
          this.myBettingRecordTabBtn.getChildByName("lblBettingRecord").getComponent(cc.LabelShadow).color = new cc.color("#6B017E");
          this.myFullContainer.active = true;
          this.myRecordContainer.active = true;
          this.setupTimeDropdown(customEventData);
          this.mCurrentTransPage = 1;
          this.callGetTransactionApi(1, 20);
        } else if ("AccDetails" == customEventData) {
          this.myAccountDetailsTabBtn.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
          this.myAccountDetailsTabBtn.getChildByName("lblAccDetails").getComponent(cc.LabelOutline).color = new cc.color("#7F0794");
          this.myAccountDetailsTabBtn.getChildByName("lblAccDetails").getComponent(cc.LabelShadow).color = new cc.color("#6B017E");
          this.myFullContainer.active = true;
          this.myTrxContainer.active = true;
          this.setupTimeDropdown(customEventData);
          this.setupAccountDetailTypeDropdown();
          this.mCurrentWalletPage = 1;
          this.callGetWalletLedgerApi(1, 20);
        } else if ("CardWallet" == customEventData) {
          this.myCardWalletTabBtn.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
          this.myCardWalletTabBtn.getChildByName("lblCardWallet").getComponent(cc.LabelOutline).color = new cc.color("#7F0794");
          this.myCardWalletTabBtn.getChildByName("lblCardWallet").getComponent(cc.LabelShadow).color = new cc.color("#6B017E");
          this.myFullContainer.active = true;
          this.myCardContainer.active = true;
          if (0 == Object.keys(this.mCardList).length) {
            this.myHvCardContainer.active = false;
            this.myNoCardContainer.active = true;
          } else {
            this.myNoCardContainer.active = false;
            this.myHvCardContainer.active = true;
          }
        } else if ("History" == customEventData) {
          this.myHistoryTabBtn.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
          this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelOutline).color = new cc.color("#7F0794");
          this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelShadow).color = new cc.color("#6B017E");
          this.myCutContainer.active = true;
          this.myHistoryContainer.active = true;
          this.mHistoryFocusTab && "" != this.mHistoryFocusTab || (this.mHistoryFocusTab = "Deposit");
          this.mHistorySelectedStatus = "All";
          this.mCurrentHistoryPage = 1;
          this.setupTimeDropdown("History");
          this.callGetPaymentTransactionsApi(1, 20);
        }
        this.mCurrentFocusTab = customEventData;
      },
      onEditBasicInfoDidPressed: function onEditBasicInfoDidPressed() {
        _SharedFunction["default"].playButtonClickSound();
        var self = this;
        _SharedFunction["default"].showLoadingView("", self);
        cc.resources.load("prefabs/personal/editBasicInfo", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          if (null == self.myEditInfoView) {
            self.myEditInfoView = cc.instantiate(prefab).getComponent("EditBasicInfo");
            self.updatePrefabSize();
          }
          self.myEditInfoView.setCallBack(self);
          self.myEditInfoView.updateView(self);
          self.node.addChild(self.myEditInfoView.node);
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      myCloseEditBasicInfoDidPressed: function myCloseEditBasicInfoDidPressed(event, customEventData, codeTrigger, isNeedRefreshData) {
        this.node.removeChild(this.myEditInfoView.node);
        if (isNeedRefreshData) {
          var userObj = _SharedData["default"].getUserObject();
          this.myPlayerNameLabel.getComponent(cc.Label).string = userObj.fullName;
          this.myAccountTxt.getComponent(cc.Label).string = userObj.fullName;
          this.myEmailTxt.getComponent(cc.Label).string = userObj.email;
          this.showNotification(_SharedFunction["default"].getLocalizedString(this.i18nJson, "updateSuccess"));
        }
      },
      onVIPLevelDidPressed: function onVIPLevelDidPressed() {
        _SharedFunction["default"].playButtonClickSound();
        var self = this;
        _SharedFunction["default"].showLoadingView("", self);
        cc.resources.load("prefabs/vip/viplevel", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          if (null == self.myVIPLevelView) {
            self.myVIPLevelView = cc.instantiate(prefab).getComponent("VIPLevel");
            self.updatePrefabSize();
          }
          self.myVIPLevelView.updateView(self);
          self.node.addChild(self.myVIPLevelView.node);
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      myCloseVIPLevelDidPressed: function myCloseVIPLevelDidPressed(event, customEventData, codeTrigger) {
        this.node.removeChild(this.myVIPLevelView.node);
      },
      onChangeAvatarDidPressed: function onChangeAvatarDidPressed() {
        var self = this;
        _SharedFunction["default"].showLoadingView("", self);
        cc.resources.load("prefabs/avatar/avatarList", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          if (null == self.myChangeAvatarView) {
            self.myChangeAvatarView = cc.instantiate(prefab).getComponent("AvatarList");
            self.updatePrefabSize();
          }
          self.myChangeAvatarView.updateView(self);
          self.node.addChild(self.myChangeAvatarView.node);
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      myCloseChangeAvatarDidPressed: function myCloseChangeAvatarDidPressed() {
        var self = this;
        _SharedData["default"].getSelectedAvatar() == localStorage.getItem("selected_avatar") && cc.loader.loadRes("images/profile/Avatar" + _SharedData["default"].getSelectedAvatar() + ".png", cc.SpriteFrame, function(err, spriteFrame) {
          self.myHeaderProfileImg.getComponent(cc.Sprite).spriteFrame = spriteFrame;
          self.myUserInfoProfileImg.getComponent(cc.Sprite).spriteFrame = spriteFrame;
        });
        this.node.removeChild(this.myChangeAvatarView.node);
      },
      onVerifyButtonDidPressed: function onVerifyButtonDidPressed() {
        _SharedFunction["default"].playButtonClickSound();
        var self = this;
        _SharedFunction["default"].showLoadingView("", self);
        cc.resources.load("prefabs/verification/verification", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          if (null == self.myVerificationView) {
            self.myVerificationView = cc.instantiate(prefab).getComponent("Verification");
            self.updatePrefabSize();
          }
          _SharedFunction["default"].hideLoadingView(self);
          self.myVerificationView.updateView(self, "phoneVerify", "PersonalCenter", "");
          self.node.addChild(self.myVerificationView.node);
        });
      },
      onVerificationCloseButtonDidPressed: function onVerificationCloseButtonDidPressed(pageToShow, errorMsg) {
        this.node.removeChild(this.myVerificationView.node);
        "personalCenter" == pageToShow && this.showNotification("Verified");
      },
      onManageCardDidPressed: function onManageCardDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var self = this;
        _SharedFunction["default"].showLoadingView("", self);
        cc.resources.load("prefabs/deposit/manageCard", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          if (null == self.myManageCardView) {
            self.myManageCardView = cc.instantiate(prefab).getComponent("ManageCard");
            self.updatePrefabSize();
          }
          self.myManageCardView.updateView(self);
          self.node.addChild(self.myManageCardView.node);
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      myCloseManageCardDidPressed: function myCloseManageCardDidPressed(event, customEventData, codeTrigger) {
        this.node.removeChild(this.myManageCardView.node);
      },
      onTabDidPressed: function onTabDidPressed(tabName, leftMainTabTrigger) {
        if ("History" == this.mCurrentFocusTab && void 0 == leftMainTabTrigger || "History" == leftMainTabTrigger) {
          this.myHisStatScrollView.active && this.onDDLDidPressed(null, "historyStatus", true);
          if (this.mHistoryFocusTab != tabName) {
            this.createdHistoryDDLSelect.forEach(function(ddl) {
              ddl && ddl.isValid && ddl.node.removeFromParent();
            });
            this.createdHistoryDDLSelect = [];
            var localizedAll = _SharedFunction["default"].getLocalizedString(this.i18nJson, "all") || "All";
            this.myHisStatSelect.getChildByName("lblStatus").getComponent(cc.Label).string = localizedAll;
            var statusList = this.mHistoryTabList.find(function(item) {
              return item.name === tabName;
            }).statusList;
            var statusObj = statusList.split(",");
            for (var key in statusObj) {
              var status = statusObj[key].trim();
              var positionY = -25 - 46 * parseInt(key);
              var localizedStatus = _SharedFunction["default"].getLocalizedString(this.i18nJson, status.toLowerCase()) || status;
              var ddlSelectPref = new cc.instantiate(this.myDDLSelectPrefab).getComponent("DDLSelect");
              ddlSelectPref.init(0, positionY, status, this);
              ddlSelectPref.setInfoKey(status);
              ddlSelectPref.myLabel && (ddlSelectPref.myLabel.getComponent(cc.Label).string = localizedStatus);
              this.myHisStatScrollContent.addChild(ddlSelectPref.node);
              this.createdHistoryDDLSelect.push(ddlSelectPref);
            }
            var dynamicHeight = 50 + 46 * (statusObj.length - 1);
            var contentHeight = dynamicHeight;
            dynamicHeight = dynamicHeight > 440 ? 440 : dynamicHeight;
            this.myHisStatScrollView.height = dynamicHeight;
            this.myHisStatScrollViewView.height = dynamicHeight;
            this.myHisStatScrollContent.height = contentHeight;
            this.myHisStatScrollView.getComponent(cc.ScrollView).scrollToTop(0);
          }
          var previousTab = this.mHistoryFocusTab;
          this.mHistoryFocusTab = tabName;
          if (previousTab && "" != previousTab && previousTab != tabName) {
            this.mCurrentHistoryPage = 1;
            this.callGetPaymentTransactionsApi(1, 20);
          }
        } else if ("BettingRecord" == this.mCurrentFocusTab && void 0 == leftMainTabTrigger || "BettingRecord" == leftMainTabTrigger) {
          this.myBetPlatformScrollView.active && this.onDDLDidPressed(null, "betPlatform", true);
          if (this.mBetRecordFocusTab != tabName) {
            this.createdBetPlatformDDLSelect.forEach(function(ddl) {
              ddl && ddl.isValid && ddl.node.removeFromParent();
            });
            this.createdBetPlatformDDLSelect = [];
            for (var key in this.mBetRecordTabList) {
              var providers = this.mBetRecordTabList[key];
              if (providers.name == tabName) {
                var developers = providers.developers;
                for (var key2 in developers) {
                  var developerData = developers[key2];
                  "0" == key2 && (this.myBetPlatformSelect.getChildByName("lblPlatform").getComponent(cc.Label).string = developerData.name);
                  var positionY = -25 - 46 * parseInt(key2);
                  var ddlSelectPref = new cc.instantiate(this.myDDLSelectPrefab).getComponent("DDLSelect");
                  ddlSelectPref.init(0, positionY, developerData.name, this);
                  this.myBetPlatformScrollContent.addChild(ddlSelectPref.node);
                  this.createdBetPlatformDDLSelect.push(ddlSelectPref);
                }
                var dynamicHeight = 50 + 46 * (developers.length - 1);
                var contentHeight = dynamicHeight;
                dynamicHeight = dynamicHeight > 440 ? 440 : dynamicHeight;
                this.myBetPlatformScrollView.height = dynamicHeight;
                this.myBetPlatformScrollViewView.height = dynamicHeight;
                this.myBetPlatformScrollContent.height = contentHeight;
                this.myBetPlatformScrollView.getComponent(cc.ScrollView).scrollToTop(0);
                break;
              }
            }
          }
          this.mBetRecordFocusTab = tabName;
        }
        this.createdUnselectedTab.forEach(function(tab) {
          tab && tab.isValid && tab.unselect();
        });
      },
      onDDLDidPressed: function onDDLDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        if ("recordTrxDate" == customEventData || "historyTrxDate" == customEventData) {
          var selectEle = this.myTrxDateSelect;
          var ddlEle = this.myTrxDateDDL;
          if ("recordTrxDate" == customEventData) {
            selectEle = this.myRecordTrxSelect;
            ddlEle = this.myRecordTrxDDL;
          } else if ("historyTrxDate" == customEventData) {
            selectEle = this.myHistoryTrxSelect;
            ddlEle = this.myHistoryTrxDDL;
          }
          var triangle = selectEle.getChildByName("iconTriangle");
          ddlEle.active ? triangle.angle = 90 : triangle.angle = -90;
          ddlEle.active = !ddlEle.active;
        } else if ("accType" == customEventData) {
          var triangle = this.myAccDetailTypeSelect.getChildByName("iconTriangle");
          this.myAccDetailTypeDDL.active ? triangle.angle = 90 : triangle.angle = -90;
          this.myAccDetailTypeDDL.active = !this.myAccDetailTypeDDL.active;
        } else if ("accTypeTime" == customEventData) {
          var triangle = this.myAccDetailTypeTimeSelect.getChildByName("iconTriangle");
          this.myAccDetailTypeTimeDDL.active ? triangle.angle = 90 : triangle.angle = -90;
          this.myAccDetailTypeTimeDDL.active = !this.myAccDetailTypeTimeDDL.active;
        } else if ("betRecordType" == customEventData) {
          var triangle = this.myBetRecordTypeSelect.getChildByName("iconTriangle");
          this.myBetRecordTypeDDL.active ? triangle.angle = 90 : triangle.angle = -90;
          this.myBetRecordTypeDDL.active = !this.myBetRecordTypeDDL.active;
        } else if ("recordTypeTime" == customEventData) {
          var triangle = this.myBetRecordTypeTimeSelect.getChildByName("iconTriangle");
          this.myBetRecordTypeTimeDDL.active ? triangle.angle = 90 : triangle.angle = -90;
          this.myBetRecordTypeTimeDDL.active = !this.myBetRecordTypeTimeDDL.active;
        } else if ("betPlatform" == customEventData) {
          var triangle = this.myBetPlatformSelect.getChildByName("iconTriangle");
          this.myBetPlatformScrollView.active ? triangle.angle = 90 : triangle.angle = -90;
          this.myBetPlatformScrollView.active = !this.myBetPlatformScrollView.active;
        } else if ("historyStatus" == customEventData) {
          var triangle = this.myHisStatSelect.getChildByName("iconTriangle");
          this.myHisStatScrollView.active ? triangle.angle = 90 : triangle.angle = -90;
          this.myHisStatScrollView.active = !this.myHisStatScrollView.active;
        }
      },
      onDDLOptionDidPressed: function onDDLOptionDidPressed(event, customEventData, codeTrigger, key) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var parentName = event.target.parent.name;
        console.log(parentName);
        var childText = event.target.getChildByName("label").getComponent(cc.Label).string;
        if ("AccDetailTypeScrollViewContent" == parentName || "ddl_recordtype_bg" == parentName || "ddl_historyTrxDate_bg" == parentName || "betPlatformContent" == parentName || "historyStatusContent" == parentName || "BetRecordTrxTimeScrollViewContent" == parentName || "AccDetailTrxTimeScrollViewContent" == parentName || "HistoryTrxTimeScrollViewContent" == parentName) {
          var selectEle = this.myAccDetailTypeSelect;
          var ddlEle = this.myAccDetailTypeDDL;
          var childName = "lblType";
          if ("AccDetailTypeScrollViewContent" == parentName) {
            selectEle = this.myAccDetailTypeSelect;
            ddlEle = this.myAccDetailTypeDDL;
            childName = "lblType";
            this.mAccDetailSelectedType = key;
          } else if ("ddl_recordtype_bg" == parentName) {
            selectEle = this.myBetRecordTypeSelect;
            ddlEle = this.myBetRecordTypeDDL;
            childName = "lblType";
            this.mBetRecordSelectedType = customEventData;
          } else if ("ddl_historyTrxDate_bg" == parentName || "HistoryTrxTimeScrollViewContent" == parentName) {
            selectEle = this.myHistoryTrxSelect;
            ddlEle = this.myHistoryTrxDDL;
            childName = "lblTrxDate";
            this.mHistorySelectedTime = key;
          } else if ("betPlatformContent" == parentName) {
            selectEle = this.myBetPlatformSelect;
            ddlEle = this.myBetPlatformScrollView;
            childName = "lblPlatform";
          } else if ("historyStatusContent" == parentName) {
            selectEle = this.myHisStatSelect;
            ddlEle = this.myHisStatScrollView;
            childName = "lblStatus";
            var originalStatus = key || childText;
            this.mHistorySelectedStatus = originalStatus;
            selectEle.getChildByName(childName).getComponent(cc.Label).string = childText;
          } else if ("BetRecordTrxTimeScrollViewContent" == parentName) {
            selectEle = this.myBetRecordTypeTimeSelect;
            ddlEle = this.myBetRecordTypeTimeDDL;
            childName = "lblTime";
            this.mBetRecordSelectedTime = key;
          } else if ("AccDetailTrxTimeScrollViewContent" == parentName) {
            selectEle = this.myAccDetailTypeTimeSelect;
            ddlEle = this.myAccDetailTypeTimeDDL;
            childName = "lblTime";
            this.mAccDetailSelectedTime = key;
          }
          selectEle.getChildByName(childName).getComponent(cc.Label).string = childText;
          selectEle.getChildByName("iconTriangle").angle = 90;
          ddlEle.active = false;
        }
        if ("ddl_recordtype_bg" == parentName || "BetRecordTrxTimeScrollViewContent" == parentName) {
          this.mCurrentTransPage = 1;
          this.callGetTransactionApi(1, 20);
        } else if ("AccDetailTrxTimeScrollViewContent" == parentName) {
          this.mCurrentWalletPage = 1;
          this.callGetWalletLedgerApi(1, 20);
        } else if ("AccDetailTypeScrollViewContent" == parentName) {
          this.mCurrentWalletPage = 1;
          this.callGetWalletLedgerApi(1, 20);
        } else if ("historyStatusContent" == parentName || "ddl_historyTrxDate_bg" == parentName || "HistoryTrxTimeScrollViewContent" == parentName) {
          this.mCurrentHistoryPage = 1;
          this.callGetPaymentTransactionsApi(1, 20);
        }
      },
      showCardList: function showCardList() {
        var cardLength = Object.keys(this.mCardList).length;
        if (cardLength > 0) {
          this.mNoBankLabel.active = false;
          this.myHvCardContainer.active = true;
          this.myNoCardContainer.active = false;
          for (var key in this.mCardList) {
            var cardData = this.mCardList[key];
            var newCardRowPref = new cc.instantiate(this.mCardRowPrefab);
            newCardRowPref.name = "cardRow" + (parseInt(key) + 1);
            newCardRowPref.setPosition(cc.v2(-2, -52 * parseInt(key) - 27));
            newCardRowPref.getChildByName("lblBank").getComponent(cc.Label).string = cardData.bank;
            newCardRowPref.getChildByName("lblAccName").getComponent(cc.Label).string = cardData.name;
            newCardRowPref.getChildByName("lblAccNumber").getComponent(cc.Label).string = cardData.number;
            this.myWalletScrollContent.addChild(newCardRowPref);
            this.createdRows.push(newCardRowPref);
          }
        } else {
          this.mNoBankLabel.active = true;
          this.myNoCardContainer.active = false;
          this.myHvCardContainer.active = true;
        }
        cardLength >= this.mMaxCard ? this.myAddAccBtn.getComponent(cc.Sprite).spriteFrame = this.mAddOffImg : this.myAddAccBtn.getComponent(cc.Sprite).spriteFrame = this.mAddOnImg;
        this.myAddAccBtn.y = -47 * cardLength - 84;
        this.mAddAccLabel.y = -47 * cardLength - 82;
        this.mWarningLabel.y = -47 * cardLength - 126;
        this.myWalletScrollContent.height = 159 + 47 * cardLength;
      },
      setupTimeDropdown: function setupTimeDropdown(tabName) {
        var createdTimeDDL = this.createdTimeDDLSelect;
        var timeDDL = this.myAccDetailTypeTimeDDL;
        var timeScrollView = this.myAccDetailTypeTimeScrollView;
        var timeScrollViewView = this.myAccDetailTypeTimeScrollViewView;
        var timeScrollContent = this.myAccDetailTypeTimeScrollContent;
        var timeSelect = this.myAccDetailTypeTimeSelect;
        if ("BettingRecord" == tabName) {
          createdTimeDDL = this.createdBetRecordTimeDDLSelect;
          timeDDL = this.myBetRecordTypeTimeDDL;
          timeScrollView = this.myBetRecordTypeTimeScrollView;
          timeScrollViewView = this.myBetRecordTypeTimeScrollViewView;
          timeScrollContent = this.myBetRecordTypeTimeScrollContent;
          timeSelect = this.myBetRecordTypeTimeSelect;
        } else if ("History" == tabName) {
          createdTimeDDL = this.createdHistoryTimeDDLSelect;
          timeDDL = this.myHistoryTrxDDL;
          if (this.myHistoryTrxDDL) {
            timeScrollView = this.myHistoryTimeScrollView;
            timeScrollViewView = this.myHistoryTimeScrollViewView;
            timeScrollContent = this.myHistoryTimeScrollContent;
          }
          timeSelect = this.myHistoryTrxSelect;
        }
        createdTimeDDL.forEach(function(ddl) {
          ddl && ddl.isValid && ddl.node.removeFromParent();
        });
        createdTimeDDL = [];
        var timeOptions = [ "allTime", "today", "last7Days", "last30Days" ];
        if (timeScrollContent) for (var key in timeOptions) {
          var timeOption = timeOptions[key];
          var localizedTimeOption = _SharedFunction["default"].getLocalizedString(this.i18nJson, timeOption);
          var positionY = -25 - 46 * parseInt(key);
          var ddlSelectPref = new cc.instantiate(this.myDDLSelectPrefab).getComponent("DDLSelect");
          ddlSelectPref.init(0, positionY, localizedTimeOption, this);
          ddlSelectPref.setInfoKey(timeOption);
          timeScrollContent.addChild(ddlSelectPref.node);
          "History" == tabName && timeScrollContent && (timeScrollContent.name = "HistoryTrxTimeScrollViewContent");
          createdTimeDDL.push(ddlSelectPref);
        }
        if (timeScrollContent) {
          var dynamicHeight = 50 + 46 * (timeOptions.length - 1);
          var contentHeight = dynamicHeight;
          dynamicHeight = dynamicHeight > 234 ? 234 : dynamicHeight;
          timeDDL && (timeDDL.height = dynamicHeight);
          if (timeScrollView && timeScrollView.getComponent) {
            timeScrollView.height = dynamicHeight;
            var scrollViewComponent = timeScrollView.getComponent(cc.ScrollView);
            scrollViewComponent && scrollViewComponent.scrollToTop(0);
          }
          timeScrollViewView && (timeScrollViewView.height = dynamicHeight);
          timeScrollContent && (timeScrollContent.height = contentHeight);
        }
        if ("AccDetails" == tabName) {
          if (!this.mAccDetailSelectedTime || "" == this.mAccDetailSelectedTime) {
            this.mAccDetailSelectedTime = "allTime";
            this.myAccDetailTypeTimeSelect.getChildByName("lblTime").getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "allTime");
          }
        } else if ("BettingRecord" == tabName) {
          if (!this.mBetRecordSelectedTime || "" == this.mBetRecordSelectedTime) {
            this.mBetRecordSelectedTime = "allTime";
            this.myBetRecordTypeTimeSelect.getChildByName("lblTime").getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "allTime");
          }
        } else if ("History" == tabName && (!this.mHistorySelectedTime || "" == this.mHistorySelectedTime)) {
          this.mHistorySelectedTime = "allTime";
          this.myHistoryTrxSelect && this.myHistoryTrxSelect.getChildByName("lblTrxDate") && (this.myHistoryTrxSelect.getChildByName("lblTrxDate").getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "allTime"));
        }
      },
      setupAccountDetailTypeDropdown: function setupAccountDetailTypeDropdown() {
        console.log("----------setupAccountDetailTypeDropdown-----------");
        var createdDDL = this.myAccDetailTypeDDLSelect;
        var ddl = this.myAccDetailTypeDDL;
        var scrollView = this.myAccDetailTypeScrollView;
        var scrollViewView = this.myAccDetailTypeScrollViewView;
        var scrollContent = this.myAccDetailTypeScrollContent;
        createdDDL.forEach(function(ddl) {
          ddl && ddl.isValid && ddl.node.removeFromParent();
        });
        createdDDL = [];
        var accDetailTypeOptions = [ "allType", "credit", "cash" ];
        for (var key in accDetailTypeOptions) {
          var accDetailTypeOption = accDetailTypeOptions[key];
          var localizedAccDetailTypeOption = _SharedFunction["default"].getLocalizedString(this.i18nJson, accDetailTypeOption);
          var positionY = -25 - 46 * parseInt(key);
          var ddlSelectPref = new cc.instantiate(this.myDDLSelectPrefab).getComponent("DDLSelect");
          ddlSelectPref.init(0, positionY, localizedAccDetailTypeOption, this);
          ddlSelectPref.setInfoKey(accDetailTypeOption);
          scrollContent.addChild(ddlSelectPref.node);
          createdDDL.push(ddlSelectPref);
        }
        var dynamicHeight = 50 + 46 * (accDetailTypeOptions.length - 1);
        var contentHeight = dynamicHeight;
        dynamicHeight = dynamicHeight > 234 ? 234 : dynamicHeight;
        ddl.height = dynamicHeight;
        scrollView.height = dynamicHeight;
        scrollViewView.height = dynamicHeight;
        scrollContent.height = contentHeight;
        scrollView.getComponent(cc.ScrollView).scrollToTop(0);
        if (!this.mAccDetailSelectedType || "" == this.mAccDetailSelectedType) {
          this.mAccDetailSelectedType = "allType";
          this.myAccDetailTypeSelect.getChildByName("lblType").getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "allType");
        }
      },
      showNotification: function showNotification(text) {
        var _this = this;
        this.mNotificationLabel.getComponent(cc.Label).string = text;
        cc.Tween.stopAllByTarget(this.myNotificationBG);
        this.myNotificationBG.active = true;
        this.myNotificationBG.opacity = 0;
        cc.tween(this.myNotificationBG).to(1 / 3, {
          opacity: 255
        }).delay(2).to(1 / 3, {
          opacity: 0
        }).call(function() {
          _this.myNotificationBG.active = false;
        }).start();
      },
      callGetTransactionApi: function callGetTransactionApi(page, limit) {
        var _this2 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
          var token, startDate, endDate, today, tomorrow, dateRange, _dateRange, dPage, dLimit, params, response, _response$data, pagination, transactions, key, trxData, newBetRecordRowPref, lastItemY;
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
             case 0:
              _SharedFunction["default"].showLoadingView("Loading", _this2);
              token = localStorage.getItem("token");
              startDate = null;
              endDate = null;
              if ("allTime" == _this2.mBetRecordSelectedTime) {
                startDate = null;
                endDate = null;
              } else if ("today" == _this2.mBetRecordSelectedTime) {
                today = _SharedFunction["default"].getTodayDate();
                tomorrow = _SharedFunction["default"].getTomorrowDate();
                startDate = today;
                endDate = tomorrow;
              } else if ("last7Days" == _this2.mBetRecordSelectedTime) {
                dateRange = _SharedFunction["default"].getDateRange(7);
                startDate = dateRange.from;
                endDate = dateRange.to;
              } else if ("last30Days" == _this2.mBetRecordSelectedTime) {
                _dateRange = _SharedFunction["default"].getDateRange(30);
                startDate = _dateRange.from;
                endDate = _dateRange.to;
              } else {
                startDate = _this2.myAccStartDateTxt.getComponent(cc.Label).string;
                endDate = _this2.myAccEndDateTxt.getComponent(cc.Label).string;
              }
              dPage = 1;
              dLimit = 20;
              void 0 !== page && null !== page && (dPage = page);
              void 0 !== limit && null !== limit && (dLimit = limit);
              params = {
                page: dPage,
                limit: dLimit
              };
              console.log("startDate: " + startDate);
              console.log("endDate: " + endDate);
              "" != _this2.mBetRecordSelectedType && (params.type = _this2.mBetRecordSelectedType);
              if (null !== startDate && null !== endDate) {
                params.startDate = startDate;
                params.endDate = endDate;
              }
              _context.prev = 14;
              _context.next = 17;
              return _TransactionService["default"].getTransactions(token, params);

             case 17:
              response = _context.sent;
              console.log("----------getTransactions-----------");
              console.log(response);
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context.next = 23;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this2);
              return _context.abrupt("return");

             case 23:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context.next = 26;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this2);
              return _context.abrupt("return");

             case 26:
              if (200 == response.status) {
                _this2.createdBetRecordRows.forEach(function(betRecordRow) {
                  betRecordRow && betRecordRow.isValid && betRecordRow.removeFromParent();
                });
                _this2.createdBetRecordRows = [];
                pagination = (null == (_response$data = response.data) ? void 0 : _response$data.pagination) || response.pagination;
                if (pagination) {
                  _this2.mCurrentTransPage = pagination.page || 1;
                  _this2.mTotalTransPages = pagination.totalPages || 1;
                  _this2.updatePaginationUI("Trans");
                }
                transactions = response.transactions;
                if (transactions.length > 0) {
                  _this2.mNoRecords1Label.active = false;
                  for (key in transactions) {
                    trxData = transactions[key];
                    newBetRecordRowPref = new cc.instantiate(_this2.mBetRecordRowPrefab);
                    newBetRecordRowPref.name = "betRecordRow" + (parseInt(key) + 1);
                    newBetRecordRowPref.setPosition(cc.v2(0, -40 * parseInt(key) - 30));
                    newBetRecordRowPref.getChildByName("lblDate").getComponent(cc.Label).string = _SharedFunction["default"].getLocalDate(trxData.date);
                    newBetRecordRowPref.getChildByName("lblBetSlipID").getComponent(cc.Label).string = trxData.transactionId;
                    newBetRecordRowPref.getChildByName("lblGame").getComponent(cc.Label).string = trxData.game.name;
                    newBetRecordRowPref.getChildByName("lblStake").getComponent(cc.Label).string = trxData.currency + " " + _SharedFunction["default"].showNumberWithDecimalAndComma(trxData.amount, 2);
                    newBetRecordRowPref.getChildByName("lblResults").getComponent(cc.Label).string = trxData.action;
                    newBetRecordRowPref.getChildByName("lblWinLoss").getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(trxData.balanceAfter - trxData.balanceBefore, 2);
                    newBetRecordRowPref.getChildByName("lblValid").getComponent(cc.Label).string = trxData.currency + " " + _SharedFunction["default"].showNumberWithDecimalAndComma(trxData.amount, 2);
                    _this2.myBetRecordScrollContent.addChild(newBetRecordRowPref);
                    _this2.createdBetRecordRows.push(newBetRecordRowPref);
                  }
                  lastItemY = -40 * (transactions.length - 1) - 30;
                  _this2.myBetRecordScrollContent.height = Math.abs(lastItemY) + 30;
                  _this2.myBetRecordScrollView.getComponent(cc.ScrollView).scrollToTop(0);
                } else _this2.mNoRecords1Label.active = true;
              }
              _SharedFunction["default"].hideLoadingView(_this2);
              _context.next = 41;
              break;

             case 30:
              _context.prev = 30;
              _context.t0 = _context["catch"](14);
              if (!_SharedFunction["default"].handleSessionExpiration(_context.t0, _this2)) {
                _context.next = 34;
                break;
              }
              return _context.abrupt("return");

             case 34:
              if (!_SharedFunction["default"].handleServerError(_context.t0, _this2)) {
                _context.next = 37;
                break;
              }
              _SharedFunction["default"].hideLoadingView(_this2);
              return _context.abrupt("return");

             case 37:
              _this2.createdBetRecordRows.forEach(function(betRecordRow) {
                betRecordRow && betRecordRow.isValid && betRecordRow.removeFromParent();
              });
              _this2.createdBetRecordRows = [];
              console.log(_context.t0);
              _SharedFunction["default"].hideLoadingView(_this2);

             case 41:
             case "end":
              return _context.stop();
            }
          }, _callee, null, [ [ 14, 30 ] ]);
        }))();
      },
      callGetWalletListingApi: function callGetWalletListingApi() {
        var _this3 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee2() {
          var token, response, i, bankAccount;
          return _regeneratorRuntime().wrap(function _callee2$(_context2) {
            while (1) switch (_context2.prev = _context2.next) {
             case 0:
              token = localStorage.getItem("token");
              _context2.prev = 1;
              _context2.next = 4;
              return _WalletService["default"].getBankAccounts(token);

             case 4:
              response = _context2.sent;
              console.log("----------getBankAccounts-----------");
              console.log(response);
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context2.next = 10;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this3);
              return _context2.abrupt("return");

             case 10:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context2.next = 13;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this3);
              return _context2.abrupt("return");

             case 13:
              if (200 == response.status && response.data) {
                _this3.mCardList = [];
                for (i = 0; i < response.data.length; i++) {
                  bankAccount = response.data[i];
                  _this3.mCardList.push({
                    bank: bankAccount.bankName,
                    name: bankAccount.accountName,
                    number: bankAccount.accountNumber
                  });
                }
                _this3.showCardList();
              } else _this3.showCardList();
              _context2.next = 24;
              break;

             case 16:
              _context2.prev = 16;
              _context2.t0 = _context2["catch"](1);
              if (!_SharedFunction["default"].handleSessionExpiration(_context2.t0, _this3)) {
                _context2.next = 20;
                break;
              }
              return _context2.abrupt("return");

             case 20:
              if (!_SharedFunction["default"].handleServerError(_context2.t0, _this3)) {
                _context2.next = 22;
                break;
              }
              return _context2.abrupt("return");

             case 22:
              console.log(_context2.t0);
              _this3.showCardList();

             case 24:
             case "end":
              return _context2.stop();
            }
          }, _callee2, null, [ [ 1, 16 ] ]);
        }))();
      },
      callGetBalanceApi: function callGetBalanceApi() {
        var _this4 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee3() {
          var response, userObj;
          return _regeneratorRuntime().wrap(function _callee3$(_context3) {
            while (1) switch (_context3.prev = _context3.next) {
             case 0:
              _SharedFunction["default"].showLoadingView("Loading", _this4);
              _context3.prev = 1;
              _context3.next = 4;
              return _UserService["default"].getBalance(localStorage.getItem("token"));

             case 4:
              response = _context3.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context3.next = 8;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this4);
              return _context3.abrupt("return");

             case 8:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context3.next = 11;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this4);
              return _context3.abrupt("return");

             case 11:
              if (200 == response.status) {
                console.log(response);
                userObj = _SharedData["default"].getUserObject();
                userObj.balance = response.data.balance;
                _SharedData["default"].setUserObject(userObj);
                _this4.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(userObj.balance, 2);
                _this4.mCallBack.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(userObj.balance, 2);
                _SharedFunction["default"].hideLoadingView(_this4);
              }
              _context3.next = 19;
              break;

             case 14:
              _context3.prev = 14;
              _context3.t0 = _context3["catch"](1);
              if (!_SharedFunction["default"].handleSessionExpiration(_context3.t0, _this4)) {
                _context3.next = 18;
                break;
              }
              return _context3.abrupt("return");

             case 18:
              _SharedFunction["default"].hideLoadingView(_this4);

             case 19:
             case "end":
              return _context3.stop();
            }
          }, _callee3, null, [ [ 1, 14 ] ]);
        }))();
      },
      callGetWalletLedgerApi: function callGetWalletLedgerApi(page, limit) {
        var _this5 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee4() {
          var token, startDate, endDate, today, tomorrow, dateRange, _dateRange2, dPage, dLimit, params, response, pagination, ledgerEntries, key, ledgerEntry, newTrxRowPref, lastItemY;
          return _regeneratorRuntime().wrap(function _callee4$(_context4) {
            while (1) switch (_context4.prev = _context4.next) {
             case 0:
              _SharedFunction["default"].showLoadingView("Loading", _this5);
              token = localStorage.getItem("token");
              startDate = null;
              endDate = null;
              if ("allTime" == _this5.mAccDetailSelectedTime) {
                startDate = null;
                endDate = null;
              } else if ("today" == _this5.mAccDetailSelectedTime) {
                today = _SharedFunction["default"].getTodayDate();
                tomorrow = _SharedFunction["default"].getTomorrowDate();
                startDate = today;
                endDate = tomorrow;
              } else if ("last7Days" == _this5.mAccDetailSelectedTime) {
                dateRange = _SharedFunction["default"].getDateRange(7);
                startDate = dateRange.from;
                endDate = dateRange.to;
              } else if ("last30Days" == _this5.mAccDetailSelectedTime) {
                _dateRange2 = _SharedFunction["default"].getDateRange(30);
                startDate = _dateRange2.from;
                endDate = _dateRange2.to;
              } else {
                startDate = _this5.myAccStartDateTxt.getComponent(cc.Label).string;
                endDate = _this5.myAccEndDateTxt.getComponent(cc.Label).string;
              }
              dPage = 1;
              dLimit = 20;
              void 0 !== page && null !== page && (dPage = page);
              void 0 !== limit && null !== limit && (dLimit = limit);
              params = {
                currency: "BDT",
                page: dPage,
                limit: dLimit
              };
              "allType" != _this5.mAccDetailSelectedType && (params.walletType = "credit" == _this5.mAccDetailSelectedType ? "credit" : "cash");
              if (null !== startDate && null !== endDate) {
                params.startDate = startDate;
                params.endDate = endDate;
              }
              _context4.prev = 12;
              _context4.next = 15;
              return _WalletService["default"].getWalletLedger(token, params);

             case 15:
              response = _context4.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context4.next = 19;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this5);
              return _context4.abrupt("return");

             case 19:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context4.next = 22;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this5);
              return _context4.abrupt("return");

             case 22:
              if (200 == response.status) {
                _this5.walletLedgerRows.forEach(function(walletLedgerRow) {
                  walletLedgerRow && walletLedgerRow.isValid && walletLedgerRow.removeFromParent();
                });
                _this5.walletLedgerRows = [];
                pagination = response.data.pagination || response.pagination;
                if (pagination) {
                  _this5.mCurrentWalletPage = pagination.page || 1;
                  _this5.mTotalWalletPages = pagination.totalPages || 1;
                  _this5.updatePaginationUI("Wallet");
                }
                ledgerEntries = response.data.entries;
                if (ledgerEntries.length > 0) {
                  _this5.mNoRecords2Label.active = false;
                  for (key in ledgerEntries) {
                    ledgerEntry = ledgerEntries[key];
                    newTrxRowPref = new cc.instantiate(_this5.mTrxRowPrefab);
                    newTrxRowPref.name = "trxRow" + (parseInt(key) + 1);
                    newTrxRowPref.setPosition(cc.v2(0, -40 * parseInt(key) - 30));
                    newTrxRowPref.getChildByName("lblDate").getComponent(cc.Label).string = _SharedFunction["default"].getLocalDate(ledgerEntry.createdAt);
                    newTrxRowPref.getChildByName("lblDesc").getComponent(cc.Label).string = ledgerEntry.transactionDescription;
                    newTrxRowPref.getChildByName("lblIn").getComponent(cc.Label).string = "credit" == ledgerEntry.transactionType ? _SharedFunction["default"].showNumberWithDecimalAndComma(ledgerEntry.amount, 2) : "-";
                    newTrxRowPref.getChildByName("lblOut").getComponent(cc.Label).string = "debit" == ledgerEntry.transactionType ? _SharedFunction["default"].showNumberWithDecimalAndComma(ledgerEntry.amount, 2) : "-";
                    newTrxRowPref.getChildByName("lblBalance").getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(ledgerEntry.balanceAfter, 2);
                    _this5.myTrxScrollContent.addChild(newTrxRowPref);
                    _this5.walletLedgerRows.push(newTrxRowPref);
                  }
                  if (ledgerEntries.length > 0) {
                    lastItemY = -40 * (ledgerEntries.length - 1) - 30;
                    _this5.myTrxScrollContent.height = Math.abs(lastItemY) + 30;
                    _this5.myTrxScrollView.getComponent(cc.ScrollView).scrollToTop(0);
                  }
                } else _this5.mNoRecords2Label.active = true;
              }
              _SharedFunction["default"].hideLoadingView(_this5);
              _context4.next = 37;
              break;

             case 26:
              _context4.prev = 26;
              _context4.t0 = _context4["catch"](12);
              if (!_SharedFunction["default"].handleSessionExpiration(_context4.t0, _this5)) {
                _context4.next = 30;
                break;
              }
              return _context4.abrupt("return");

             case 30:
              if (!_SharedFunction["default"].handleServerError(_context4.t0, _this5)) {
                _context4.next = 33;
                break;
              }
              _SharedFunction["default"].hideLoadingView(_this5);
              return _context4.abrupt("return");

             case 33:
              _this5.walletLedgerRows.forEach(function(walletLedgerRow) {
                walletLedgerRow && walletLedgerRow.isValid && walletLedgerRow.removeFromParent();
              });
              _this5.walletLedgerRows = [];
              console.log(_context4.t0);
              _SharedFunction["default"].hideLoadingView(_this5);

             case 37:
             case "end":
              return _context4.stop();
            }
          }, _callee4, null, [ [ 12, 26 ] ]);
        }))();
      },
      callGetPaymentTransactionsApi: function callGetPaymentTransactionsApi(page, limit) {
        var _this6 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee5() {
          var self, token, dPage, dLimit, params, statusMap, startDate, endDate, today, tomorrow, dateRange, _dateRange3, _response$data2, _response$data3, response, pagination, transactions, key, trxData, newHistoryRowPref, bankName, reason, lastItemY;
          return _regeneratorRuntime().wrap(function _callee5$(_context5) {
            while (1) switch (_context5.prev = _context5.next) {
             case 0:
              self = _this6;
              _SharedFunction["default"].showLoadingView("Loading", self);
              token = localStorage.getItem("token");
              self.mHistoryFocusTab && "" != self.mHistoryFocusTab || (self.mHistoryFocusTab = "Deposit");
              dPage = 1;
              dLimit = 20;
              void 0 !== page && null !== page && (dPage = page);
              void 0 !== limit && null !== limit && (dLimit = limit);
              params = {
                page: dPage,
                limit: dLimit
              };
              "Deposit" == self.mHistoryFocusTab ? params.type = "deposit" : "Withdrawal" == self.mHistoryFocusTab && (params.type = "withdrawal");
              if (self.mHistorySelectedStatus && "All" != self.mHistorySelectedStatus) {
                statusMap = {
                  Pending: "pending",
                  Approved: "approved",
                  Rejected: "rejected",
                  Cancelled: "cancelled"
                };
                params.status = statusMap[self.mHistorySelectedStatus] || self.mHistorySelectedStatus.toLowerCase();
              }
              startDate = null;
              endDate = null;
              if ("allTime" == self.mHistorySelectedTime) {
                startDate = null;
                endDate = null;
              } else if ("today" == self.mHistorySelectedTime) {
                today = _SharedFunction["default"].getTodayDate();
                tomorrow = _SharedFunction["default"].getTomorrowDate();
                startDate = today;
                endDate = tomorrow;
              } else if ("last7Days" == self.mHistorySelectedTime) {
                dateRange = _SharedFunction["default"].getDateRange(7);
                startDate = dateRange.from;
                endDate = dateRange.to;
              } else if ("last30Days" == self.mHistorySelectedTime) {
                _dateRange3 = _SharedFunction["default"].getDateRange(30);
                startDate = _dateRange3.from;
                endDate = _dateRange3.to;
              }
              if (null !== startDate && null !== endDate) {
                params.startDate = startDate;
                params.endDate = endDate;
              }
              console.log(params);
              _context5.prev = 16;
              _context5.next = 19;
              return _WalletService["default"].getPaymentTransactions(token, params);

             case 19:
              response = _context5.sent;
              console.log("----------getPaymentTransactions-----------");
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context5.next = 25;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, self);
              _SharedFunction["default"].hideLoadingView(self);
              return _context5.abrupt("return");

             case 25:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context5.next = 29;
                break;
              }
              _SharedFunction["default"].handleServerError(response, self);
              _SharedFunction["default"].hideLoadingView(self);
              return _context5.abrupt("return");

             case 29:
              self.createdHistoryRows.forEach(function(historyRow) {
                historyRow && historyRow.isValid && historyRow.removeFromParent();
              });
              self.createdHistoryRows = [];
              pagination = (null == (_response$data2 = response.data) ? void 0 : _response$data2.pagination) || response.pagination;
              if (pagination) {
                self.mCurrentHistoryPage = pagination.page || 1;
                self.mTotalHistoryPages = pagination.pages || pagination.totalPages || 1;
                self.updatePaginationUI("History");
              }
              transactions = (null == (_response$data3 = response.data) ? void 0 : _response$data3.transactions) || response.transactions || [];
              if (!(transactions && transactions.length > 0)) {
                _context5.next = 61;
                break;
              }
              self.mNoRecords3Label.active = false;
              _context5.t0 = _regeneratorRuntime().keys(transactions);

             case 37:
              if ((_context5.t1 = _context5.t0()).done) {
                _context5.next = 57;
                break;
              }
              key = _context5.t1.value;
              trxData = transactions[key];
              if (self.mHistoryRowPrefab) {
                _context5.next = 44;
                break;
              }
              console.error("mHistoryRowPrefab is not set!");
              _SharedFunction["default"].hideLoadingView(self);
              return _context5.abrupt("return");

             case 44:
              newHistoryRowPref = new cc.instantiate(self.mHistoryRowPrefab);
              newHistoryRowPref.name = "historyRow" + (parseInt(key) + 1);
              newHistoryRowPref.setPosition(cc.v2(0, -40 * parseInt(key) - 30));
              newHistoryRowPref.getChildByName("lblDate") && (newHistoryRowPref.getChildByName("lblDate").getComponent(cc.Label).string = _SharedFunction["default"].getLocalDate(trxData.createdAt));
              newHistoryRowPref.getChildByName("lblTrxID") && (newHistoryRowPref.getChildByName("lblTrxID").getComponent(cc.Label).string = trxData.referenceNumber || trxData._id);
              if (newHistoryRowPref.getChildByName("lblBank")) {
                bankName = trxData.bankDetails ? trxData.bankDetails.bankName : "-";
                newHistoryRowPref.getChildByName("lblBank").getComponent(cc.Label).string = bankName;
              }
              newHistoryRowPref.getChildByName("lblAmt") && (newHistoryRowPref.getChildByName("lblAmt").getComponent(cc.Label).string = trxData.currency + " " + _SharedFunction["default"].showNumberWithDecimalAndComma(trxData.amount, 2));
              newHistoryRowPref.getChildByName("lblStatus") && (newHistoryRowPref.getChildByName("lblStatus").getComponent(cc.Label).string = trxData.status);
              if (newHistoryRowPref.getChildByName("lblReason")) {
                reason = trxData.rejectionReason || "-";
                newHistoryRowPref.getChildByName("lblReason").getComponent(cc.Label).string = reason;
              }
              self.myHistoryScrollContent && self.myHistoryScrollContent.addChild(newHistoryRowPref);
              self.createdHistoryRows.push(newHistoryRowPref);
              _context5.next = 37;
              break;

             case 57:
              if (self.myHistoryScrollContent && transactions.length > 0) {
                lastItemY = -40 * (transactions.length - 1) - 30;
                self.myHistoryScrollContent.height = Math.abs(lastItemY) + 30;
                self.myHistoryScrollView && self.myHistoryScrollView.getComponent(cc.ScrollView).scrollToTop(0);
              }
              _SharedFunction["default"].hideLoadingView(self);
              _context5.next = 63;
              break;

             case 61:
              self.mNoRecords3Label.active = true;
              _SharedFunction["default"].hideLoadingView(self);

             case 63:
              _SharedFunction["default"].hideLoadingView(self);
              _context5.next = 78;
              break;

             case 66:
              _context5.prev = 66;
              _context5.t2 = _context5["catch"](16);
              console.error("callGetPaymentTransactionsApi error:", _context5.t2);
              if (!_SharedFunction["default"].handleSessionExpiration(_context5.t2, self)) {
                _context5.next = 72;
                break;
              }
              _SharedFunction["default"].hideLoadingView(self);
              return _context5.abrupt("return");

             case 72:
              if (!_SharedFunction["default"].handleServerError(_context5.t2, self)) {
                _context5.next = 75;
                break;
              }
              _SharedFunction["default"].hideLoadingView(self);
              return _context5.abrupt("return");

             case 75:
              self.createdHistoryRows.forEach(function(historyRow) {
                historyRow && historyRow.isValid && historyRow.removeFromParent();
              });
              self.createdHistoryRows = [];
              _SharedFunction["default"].hideLoadingView(self);

             case 78:
             case "end":
              return _context5.stop();
            }
          }, _callee5, null, [ [ 16, 66 ] ]);
        }))();
      },
      initWalletPagination: function initWalletPagination() {
        var self = this;
        this.walletFirstPageBtn && this.walletFirstPageBtn.on("click", function() {
          self.onPaginationButtonClick("Wallet", "first");
        }, this);
        this.walletLastPageBtn && this.walletLastPageBtn.on("click", function() {
          self.onPaginationButtonClick("Wallet", "last");
        }, this);
        this.walletPreviousPageBtn && this.walletPreviousPageBtn.on("click", function() {
          self.onPaginationButtonClick("Wallet", "previous");
        }, this);
        this.walletNextPageBtn && this.walletNextPageBtn.on("click", function() {
          self.onPaginationButtonClick("Wallet", "next");
        }, this);
        this.walletGoBtn && this.walletGoBtn.on("click", function() {
          self.onPaginationGoClick("Wallet");
        }, this);
        if (this.walletCurrentPageEditBox) {
          var editBox = this.walletCurrentPageEditBox.getComponent(cc.EditBox);
          editBox && editBox.node.on("editing-did-ended", function(editBox) {
            self.onPaginationEditEnded(editBox, "Wallet");
          }, this);
        }
      },
      initTransPagination: function initTransPagination() {
        var self = this;
        this.transFirstPageBtn && this.transFirstPageBtn.on("click", function() {
          self.onPaginationButtonClick("Trans", "first");
        }, this);
        this.transLastPageBtn && this.transLastPageBtn.on("click", function() {
          self.onPaginationButtonClick("Trans", "last");
        }, this);
        this.transPreviousPageBtn && this.transPreviousPageBtn.on("click", function() {
          self.onPaginationButtonClick("Trans", "previous");
        }, this);
        this.transNextPageBtn && this.transNextPageBtn.on("click", function() {
          self.onPaginationButtonClick("Trans", "next");
        }, this);
        this.transGoBtn && this.transGoBtn.on("click", function() {
          self.onPaginationGoClick("Trans");
        }, this);
        if (this.transCurrentPageEditBox) {
          var editBox = this.transCurrentPageEditBox.getComponent(cc.EditBox);
          editBox && editBox.node.on("editing-did-ended", function(editBox) {
            self.onPaginationEditEnded(editBox, "Trans");
          }, this);
        }
      },
      initHistoryPagination: function initHistoryPagination() {
        var self = this;
        this.historyFirstPageBtn && this.historyFirstPageBtn.on("click", function() {
          self.onPaginationButtonClick("History", "first");
        }, this);
        this.historyLastPageBtn && this.historyLastPageBtn.on("click", function() {
          self.onPaginationButtonClick("History", "last");
        }, this);
        this.historyPreviousPageBtn && this.historyPreviousPageBtn.on("click", function() {
          self.onPaginationButtonClick("History", "previous");
        }, this);
        this.historyNextPageBtn && this.historyNextPageBtn.on("click", function() {
          self.onPaginationButtonClick("History", "next");
        }, this);
        this.historyGoBtn && this.historyGoBtn.on("click", function() {
          self.onPaginationGoClick("History");
        }, this);
        if (this.historyCurrentPageEditBox) {
          var editBox = this.historyCurrentPageEditBox.getComponent(cc.EditBox);
          editBox && editBox.node.on("editing-did-ended", function(editBox) {
            self.onPaginationEditEnded(editBox, "History");
          }, this);
        }
      },
      onPaginationButtonClick: function onPaginationButtonClick(type, buttonType) {
        var currentPage, totalPages;
        if ("Wallet" === type) {
          currentPage = this.mCurrentWalletPage;
          totalPages = this.mTotalWalletPages;
        } else if ("History" === type) {
          currentPage = this.mCurrentHistoryPage;
          totalPages = this.mTotalHistoryPages;
        } else {
          currentPage = this.mCurrentTransPage;
          totalPages = this.mTotalTransPages;
        }
        if ("first" === buttonType || "previous" === buttonType) {
          if (currentPage <= 1) return;
        } else if (("last" === buttonType || "next" === buttonType) && currentPage >= totalPages) return;
        _SharedFunction["default"].playButtonClickSound();
        var newPage = currentPage;
        "first" === buttonType ? newPage = 1 : "last" === buttonType ? newPage = totalPages : "previous" === buttonType ? newPage = currentPage - 1 : "next" === buttonType && (newPage = currentPage + 1);
        if ("Wallet" === type) {
          this.mCurrentWalletPage = newPage;
          this.callGetWalletLedgerApi(this.mCurrentWalletPage, 20);
        } else if ("History" === type) {
          this.mCurrentHistoryPage = newPage;
          this.callGetPaymentTransactionsApi(this.mCurrentHistoryPage, 20);
        } else {
          this.mCurrentTransPage = newPage;
          this.callGetTransactionApi(this.mCurrentTransPage, 20);
        }
      },
      onPaginationGoClick: function onPaginationGoClick(type) {
        _SharedFunction["default"].playButtonClickSound();
        var editBoxNode, totalPages, currentPage;
        if ("Wallet" === type) {
          editBoxNode = this.walletCurrentPageEditBox;
          totalPages = this.mTotalWalletPages;
          currentPage = this.mCurrentWalletPage;
        } else if ("History" === type) {
          editBoxNode = this.historyCurrentPageEditBox;
          totalPages = this.mTotalHistoryPages;
          currentPage = this.mCurrentHistoryPage;
        } else {
          editBoxNode = this.transCurrentPageEditBox;
          totalPages = this.mTotalTransPages;
          currentPage = this.mCurrentTransPage;
        }
        if (!editBoxNode) return;
        var editBox = editBoxNode.getComponent(cc.EditBox);
        if (!editBox) return;
        var pageInput = parseInt(editBox.string);
        isNaN(pageInput) || pageInput < 1 ? pageInput = 1 : pageInput > totalPages && (pageInput = totalPages);
        editBox.string = pageInput.toString();
        if (pageInput !== currentPage) if ("Wallet" === type) {
          this.mCurrentWalletPage = pageInput;
          this.callGetWalletLedgerApi(this.mCurrentWalletPage, 20);
        } else {
          this.mCurrentTransPage = pageInput;
          this.callGetTransactionApi(this.mCurrentTransPage, 20);
        }
      },
      onPaginationEditEnded: function onPaginationEditEnded(editBox, type) {
        var totalPages, currentPage;
        if ("Wallet" === type) {
          totalPages = this.mTotalWalletPages;
          currentPage = this.mCurrentWalletPage;
        } else if ("History" === type) {
          totalPages = this.mTotalHistoryPages;
          currentPage = this.mCurrentHistoryPage;
        } else {
          totalPages = this.mTotalTransPages;
          currentPage = this.mCurrentTransPage;
        }
        var pageInput = parseInt(editBox.string);
        isNaN(pageInput) || pageInput < 1 ? pageInput = 1 : pageInput > totalPages && (pageInput = totalPages);
        editBox.string = pageInput.toString();
        if (pageInput !== currentPage) if ("Wallet" === type) {
          this.mCurrentWalletPage = pageInput;
          this.callGetWalletLedgerApi(this.mCurrentWalletPage, 20);
        } else if ("History" === type) {
          this.mCurrentHistoryPage = pageInput;
          this.callGetPaymentTransactionsApi(this.mCurrentHistoryPage, 20);
        } else {
          this.mCurrentTransPage = pageInput;
          this.callGetTransactionApi(this.mCurrentTransPage, 20);
        }
      },
      updatePaginationUI: function updatePaginationUI(type) {
        "Wallet" === type ? this.updateWalletPaginationUI() : "History" === type ? this.updateHistoryPaginationUI() : this.updateTransPaginationUI();
      },
      updateWalletPaginationUI: function updateWalletPaginationUI() {
        this.walletTotalPageLabel && (this.walletTotalPageLabel.getComponent(cc.Label).string = this.mTotalWalletPages.toString());
        if (this.walletCurrentPageEditBox) {
          var editBox = this.walletCurrentPageEditBox.getComponent(cc.EditBox);
          editBox && (editBox.string = this.mCurrentWalletPage.toString());
        }
        if (this.walletFirstPageBtn) {
          var button = this.walletFirstPageBtn.getComponent(cc.Button);
          var isFirstPage = this.mCurrentWalletPage <= 1;
          button && (button.interactable = !isFirstPage);
          this.walletFirstPageBtn.opacity = isFirstPage ? 128 : 255;
        }
        if (this.walletLastPageBtn) {
          var _button = this.walletLastPageBtn.getComponent(cc.Button);
          var isLastPage = this.mCurrentWalletPage >= this.mTotalWalletPages;
          _button && (_button.interactable = !isLastPage);
          this.walletLastPageBtn.opacity = isLastPage ? 128 : 255;
        }
        if (this.walletPreviousPageBtn) {
          var _button2 = this.walletPreviousPageBtn.getComponent(cc.Button);
          var _isFirstPage = this.mCurrentWalletPage <= 1;
          _button2 && (_button2.interactable = !_isFirstPage);
          this.walletPreviousPageBtn.opacity = _isFirstPage ? 128 : 255;
        }
        if (this.walletNextPageBtn) {
          var _button3 = this.walletNextPageBtn.getComponent(cc.Button);
          var _isLastPage = this.mCurrentWalletPage >= this.mTotalWalletPages;
          _button3 && (_button3.interactable = !_isLastPage);
          this.walletNextPageBtn.opacity = _isLastPage ? 128 : 255;
        }
      },
      updateTransPaginationUI: function updateTransPaginationUI() {
        this.transTotalPageLabel && (this.transTotalPageLabel.getComponent(cc.Label).string = this.mTotalTransPages.toString());
        if (this.transCurrentPageEditBox) {
          var editBox = this.transCurrentPageEditBox.getComponent(cc.EditBox);
          editBox && (editBox.string = this.mCurrentTransPage.toString());
        }
        if (this.transFirstPageBtn) {
          var button = this.transFirstPageBtn.getComponent(cc.Button);
          var isFirstPage = this.mCurrentTransPage <= 1;
          button && (button.interactable = !isFirstPage);
          this.transFirstPageBtn.opacity = isFirstPage ? 128 : 255;
        }
        if (this.transLastPageBtn) {
          var _button4 = this.transLastPageBtn.getComponent(cc.Button);
          var isLastPage = this.mCurrentTransPage >= this.mTotalTransPages;
          _button4 && (_button4.interactable = !isLastPage);
          this.transLastPageBtn.opacity = isLastPage ? 128 : 255;
        }
        if (this.transPreviousPageBtn) {
          var _button5 = this.transPreviousPageBtn.getComponent(cc.Button);
          var _isFirstPage2 = this.mCurrentTransPage <= 1;
          _button5 && (_button5.interactable = !_isFirstPage2);
          this.transPreviousPageBtn.opacity = _isFirstPage2 ? 128 : 255;
        }
        if (this.transNextPageBtn) {
          var _button6 = this.transNextPageBtn.getComponent(cc.Button);
          var _isLastPage2 = this.mCurrentTransPage >= this.mTotalTransPages;
          _button6 && (_button6.interactable = !_isLastPage2);
          this.transNextPageBtn.opacity = _isLastPage2 ? 128 : 255;
        }
      },
      updateHistoryPaginationUI: function updateHistoryPaginationUI() {
        this.historyTotalPageLabel && (this.historyTotalPageLabel.getComponent(cc.Label).string = this.mTotalHistoryPages.toString());
        if (this.historyCurrentPageEditBox) {
          var editBox = this.historyCurrentPageEditBox.getComponent(cc.EditBox);
          editBox && (editBox.string = this.mCurrentHistoryPage.toString());
        }
        if (this.historyFirstPageBtn) {
          var button = this.historyFirstPageBtn.getComponent(cc.Button);
          var isFirstPage = this.mCurrentHistoryPage <= 1;
          button && (button.interactable = !isFirstPage);
          this.historyFirstPageBtn.opacity = isFirstPage ? 128 : 255;
        }
        if (this.historyLastPageBtn) {
          var _button7 = this.historyLastPageBtn.getComponent(cc.Button);
          var isLastPage = this.mCurrentHistoryPage >= this.mTotalHistoryPages;
          _button7 && (_button7.interactable = !isLastPage);
          this.historyLastPageBtn.opacity = isLastPage ? 128 : 255;
        }
        if (this.historyPreviousPageBtn) {
          var _button8 = this.historyPreviousPageBtn.getComponent(cc.Button);
          var _isFirstPage3 = this.mCurrentHistoryPage <= 1;
          _button8 && (_button8.interactable = !_isFirstPage3);
          this.historyPreviousPageBtn.opacity = _isFirstPage3 ? 128 : 255;
        }
        if (this.historyNextPageBtn) {
          var _button9 = this.historyNextPageBtn.getComponent(cc.Button);
          var _isLastPage3 = this.mCurrentHistoryPage >= this.mTotalHistoryPages;
          _button9 && (_button9.interactable = !_isLastPage3);
          this.historyNextPageBtn.opacity = _isLastPage3 ? 128 : 255;
        }
      },
      localizeUI: function localizeUI() {
        this.mWarningLabel.getComponent(cc.Label).string = "*" + _SharedFunction["default"].formatString(_SharedFunction["default"].getLocalizedString(this.i18nJson, "cardLimit"), this.mMaxCard);
        this.myBetRecordTypeSelect.getChildByName("lblType").getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "all");
        this.myBetRecordTypeTimeSelect.getChildByName("lblTime").getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "allTime");
        this.myBetRecordTypeTimeLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "trxTime");
        this.myAccDetailTypeSelect.getChildByName("lblType").getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "allType");
        this.myAccDetailTypeTimeSelect.getChildByName("lblTime").getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "allTime");
        this.myAccDetailTypeTimeLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "trxTime");
        this.myHistoryTrxSelect.getChildByName("lblTrxDate").getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "allTime");
        this.mPersonalCenterLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "title");
        this.mNoBankLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "noBank");
        this.mAddAccLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "addAcc");
        this.mUserInfoTabLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "userInfo");
        this.mBetRecordTabLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "betRecord");
        this.mAccDetailsTabLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "accDetails");
        this.mBankWalletTabLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "bankCardOrEWallet");
        this.mHistoryTabLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "history");
        this.mLevelPriviledgedLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "lvlPriviledge");
        this.mCurrentMemberLabel.getComponent(cc.Label).string = _SharedFunction["default"].formatString(_SharedFunction["default"].getLocalizedString(this.i18nJson, "currentMember"), "New Player", "2026-02-02)");
        this.mBasicInfoLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "basicInfo");
        this.mAccountLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "account");
        this.mUsernameLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "username");
        this.mEmailLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "email");
        this.mMobileNumberLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "mobileNumber");
        this.mGenderLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "gender");
        this.mBirthdayLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "birthday");
        this.mVIPLevelLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "VIPLevels");
        this.mVerifyLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "verify");
        this.mRecordConStartDateLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "startDate");
        this.mRecordConEndDateLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "endDate");
        this.mRecordConPlatformLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "gamingPlatform");
        this.mTrxConStartDateLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "startDate");
        this.mTrxConEndDateLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "endDate");
        this.mTrxConDateLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "date");
        this.mTrxConDescLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "description");
        this.mTrxConInLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "in");
        this.mTrxConOutLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "out");
        this.mTrxConBalanceLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "balance");
        this.mDescLabel.getComponent(cc.RichText).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "desc2");
        this.mClickHereLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "clickHere");
        this.mSetupLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "setup");
        this.mBankWalletLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "bankOrWallet");
        this.mAccNameLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "accName");
        this.mAccNumberLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "accNumber");
        this.mRecordConTypeLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "type");
        this.mRecordConAllLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "all");
        this.mRecordConPlaceBetLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "placeBet");
        this.mRecordConWinLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "win");
        this.mRecordConBuyInLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "buyIn");
        this.mRecordConPayoutLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "payout");
        this.mRecordConCancelLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "cancel");
        this.mRecordConRollbackLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "rollback");
        this.mRecordConRefundLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "refund");
        this.mRecordDateLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "date");
        this.mRecordBetSlipIDLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "betSlip");
        this.mRecordGameLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "game");
        this.mRecordStakeLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "stake");
        this.mRecordResultLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "results");
        this.mRecordWinLossLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "winLoss");
        this.mValidStakeLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "validStake");
        this.mHisDateLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "date");
        this.mHisTrxIDLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "trxID");
        this.mHisBankLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "bank");
        this.mHisAmtLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "amount");
        this.mHisStatusHeaderLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "status");
        this.mHisReasonLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "reason");
        this.mNoRecords1Label.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "noRecord");
        this.mNoRecords2Label.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "noRecord");
        this.mNoRecords3Label.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "noRecord");
        this.walletGoLbl.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "go");
        this.transGoLbl && (this.transGoLbl.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "go"));
        this.historyGoLbl && (this.historyGoLbl.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "go"));
        this.myHistoryTrxTimeLbl.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "trxTime");
        this.myHistoryStatusLbl.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "status");
        "History" == this.mCurrentFocusTab && this.mHistoryFocusTab && this.refreshHistoryStatusDropdown();
      },
      refreshHistoryStatusDropdown: function refreshHistoryStatusDropdown() {
        if (this.myHisStatSelect) {
          var localizedAll = _SharedFunction["default"].getLocalizedString(this.i18nJson, "all") || "All";
          this.myHisStatSelect.getChildByName("lblStatus").getComponent(cc.Label).string = localizedAll;
        }
        if (this.createdHistoryDDLSelect && this.createdHistoryDDLSelect.length > 0) for (var i = 0; i < this.createdHistoryDDLSelect.length; i++) {
          var ddlItem = this.createdHistoryDDLSelect[i];
          if (ddlItem && ddlItem.isValid && ddlItem.status) {
            var originalStatus = ddlItem.status;
            var localizedStatus = _SharedFunction["default"].getLocalizedString(this.i18nJson, originalStatus.toLowerCase()) || originalStatus;
            ddlItem.myLabel && (ddlItem.myLabel.getComponent(cc.Label).string = localizedStatus);
          }
        }
        if (this.mHistorySelectedStatus && this.myHisStatSelect) {
          var currentLocalizedStatus = _SharedFunction["default"].getLocalizedString(this.i18nJson, this.mHistorySelectedStatus.toLowerCase()) || this.mHistorySelectedStatus;
          "All" != this.mHistorySelectedStatus && (this.myHisStatSelect.getChildByName("lblStatus").getComponent(cc.Label).string = currentLocalizedStatus);
        }
      },
      updatePrefabSize: function updatePrefabSize() {
        var visibleSize = cc.view.getVisibleSize();
        this.myEditInfoView && this.myEditInfoView.init(0, 0, visibleSize.width, visibleSize.height);
        this.myVIPLevelView && this.myVIPLevelView.init(0, 0, visibleSize.width, visibleSize.height);
        this.myChangeAvatarView && this.myChangeAvatarView.init(0, 0, visibleSize.width, visibleSize.height);
        this.myVerificationView && this.myVerificationView.init(0, 0, visibleSize.width, visibleSize.height);
      }
    });
    cc._RF.pop();
  }, {
    "../Services/TransactionService": "TransactionService",
    "../Services/UserService": "UserService",
    "../Services/WalletService": "WalletService",
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  Rebate: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f67e6yAlOJAUKIOqx9/jSg4", "Rebate");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    var _UserService = _interopRequireDefault(require("../Services/UserService"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        calendarPicker: null,
        calenderTarget: null,
        mCurrentFocusTab: "MyRebate",
        mPayoutFocusTab: "",
        mPayoutTabList: [],
        createdUnselectedTab: [],
        createdTrxRows: [],
        myMyRebateTabBtn: {
          default: null,
          type: cc.Node
        },
        myPayoutTabBtn: {
          default: null,
          type: cc.Node
        },
        myTransactionTabBtn: {
          default: null,
          type: cc.Node
        },
        myRebateTableTabBtn: {
          default: null,
          type: cc.Node
        },
        myPlayerNameLabel: {
          default: null,
          type: cc.Node
        },
        myBalanceBG: {
          default: null,
          type: cc.Node
        },
        myHalfContainer: {
          default: null,
          type: cc.Node
        },
        myCutContainer: {
          default: null,
          type: cc.Node
        },
        myFullContainer: {
          default: null,
          type: cc.Node
        },
        myPayoutContainer: {
          default: null,
          type: cc.Node
        },
        myRebateTableContainer: {
          default: null,
          type: cc.Node
        },
        myTrxTypeSelect: {
          default: null,
          type: cc.Node
        },
        myTrxTypeDDL: {
          default: null,
          type: cc.Node
        },
        myCutConScrollView: {
          default: null,
          type: cc.Node
        },
        myCutConScrollContent: {
          default: null,
          type: cc.Node
        },
        myTrxScrollView: {
          default: null,
          type: cc.Node
        },
        myTrxScrollContent: {
          default: null,
          type: cc.Node
        },
        mFocusTabImg: {
          default: null,
          type: cc.SpriteFrame
        },
        mNormalTabImg: {
          default: null,
          type: cc.SpriteFrame
        },
        myHeaderProfileImg: {
          default: null,
          type: cc.Sprite
        },
        myPayoutStartDateTxt: {
          default: null,
          type: cc.Node
        },
        myPayoutEndDateTxt: {
          default: null,
          type: cc.Node
        },
        myTrxStartDateTxt: {
          default: null,
          type: cc.Node
        },
        myTrxEndDateTxt: {
          default: null,
          type: cc.Node
        },
        myUnselectedTabPrefab: {
          default: null,
          type: cc.Prefab
        },
        mTrxRowPrefab: {
          default: null,
          type: cc.Prefab
        },
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        mRebateLabel: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.localizeUI();
        var self = this;
        cc.resources.load("prefabs/calendar/CalendarPicker", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            return;
          }
          if (null == self.calendarPicker) {
            self.calendarPicker = cc.instantiate(prefab);
            self.updatePrefabSize();
          }
          self.node.addChild(self.calendarPicker.getComponent("CalendarManager").node);
          self.calendarPicker.on("date-selected", self.onDateSelected, self);
          self.calendarPicker.on("date-cancel", self.onDateCancel, self);
        });
      },
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
      },
      updateView: function updateView(callBack) {
        var self = this;
        this.localizeUI();
        this.mCallBack = callBack;
        this.mCurrentFocusTab = "MyRebate";
        var userObj = _SharedData["default"].getUserObject();
        this.myPlayerNameLabel.getComponent(cc.Label).string = userObj.fullName;
        this.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(userObj.balance, 2);
        _SharedData["default"].getSelectedAvatar() == localStorage.getItem("selected_avatar") && cc.loader.loadRes("images/profile/Avatar" + _SharedData["default"].getSelectedAvatar() + ".png", cc.SpriteFrame, function(err, spriteFrame) {
          self.myHeaderProfileImg.getComponent(cc.Sprite).spriteFrame = spriteFrame;
        });
        this.mPayoutTabList = _SharedData["default"].getGameCategories();
        this.onRebateTabDidPressed("", "MyRebate", true);
        if (null != this.calendarPicker) {
          this.calendarPicker.getComponent("CalendarManager").hide();
          this.calendarPicker.on("date-selected", this.onDateSelected, this);
          this.calendarPicker.on("date-cancel", this.onDateCancel, this);
        }
        var widget = this.node.getComponent(cc.Widget);
        widget.left = this.node.width;
        widget.right = -1 * this.node.width;
        cc.tween(widget).to(1 / 6, {
          left: 0,
          right: 0
        }).start();
      },
      setCallBack: function setCallBack(callBack) {
        this.mCallBack = callBack;
      },
      openCalendar: function openCalendar(event, customEventData, codeTrigger) {
        this.calenderTarget = customEventData;
        var label = "";
        "payoutStartDate" == customEventData ? label = this.myPayoutStartDateTxt.getComponent(cc.Label).string : "payoutEndDate" == customEventData ? label = this.myPayoutEndDateTxt.getComponent(cc.Label).string : "trxStartDate" == customEventData ? label = this.myTrxStartDateTxt.getComponent(cc.Label).string : "trxEndDate" == customEventData && (label = this.myTrxEndDateTxt.getComponent(cc.Label).string);
        var dateObj = label.split("-");
        var calendar = this.calendarPicker.getComponent("CalendarManager");
        console.log(dateObj);
        3 == dateObj.length ? calendar.show(new Date(dateObj[0], dateObj[1] - 1, dateObj[2])) : calendar.show();
      },
      onDateSelected: function onDateSelected(event) {
        var dateData = event.detail;
        var dateSelected = dateData.year + "-" + dateData.month + "-" + dateData.day;
        "payoutStartDate" == this.calenderTarget ? this.myPayoutStartDateTxt.getComponent(cc.Label).string = dateSelected : "payoutEndDate" == this.calenderTarget ? this.myPayoutEndDateTxt.getComponent(cc.Label).string = dateSelected : "trxStartDate" == this.calenderTarget ? this.myTrxStartDateTxt.getComponent(cc.Label).string = dateSelected : "trxEndDate" == this.calenderTarget && (this.myTrxEndDateTxt.getComponent(cc.Label).string = dateSelected);
        this.calendarPicker.getComponent("CalendarManager").hide();
      },
      onDateCancel: function onDateCancel() {
        cc.log("Calendar cancelled");
      },
      myBackButtonDidPressed: function myBackButtonDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var widget = this.node.getComponent(cc.Widget);
        cc.tween(widget).to(1 / 6, {
          left: this.node.width,
          right: -1 * this.node.width
        }).start();
        this.mCallBack && this.mCallBack.onRebateBackButtonDidPressed();
      },
      onRebateTabDidPressed: function onRebateTabDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        this.myMyRebateTabBtn.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
        this.myPayoutTabBtn.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
        this.myTransactionTabBtn.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
        this.myRebateTableTabBtn.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
        this.myMyRebateTabBtn.getChildByName("lblMyRebate").getComponent(cc.LabelOutline).color = new cc.color("#014D92");
        this.myMyRebateTabBtn.getChildByName("lblMyRebate").getComponent(cc.LabelShadow).color = new cc.color("#01277E");
        this.myPayoutTabBtn.getChildByName("lblPayout").getComponent(cc.LabelOutline).color = new cc.color("#014D92");
        this.myPayoutTabBtn.getChildByName("lblPayout").getComponent(cc.LabelShadow).color = new cc.color("#01277E");
        this.myTransactionTabBtn.getChildByName("lblTransaction").getComponent(cc.LabelOutline).color = new cc.color("#014D92");
        this.myTransactionTabBtn.getChildByName("lblTransaction").getComponent(cc.LabelShadow).color = new cc.color("#01277E");
        this.myRebateTableTabBtn.getChildByName("lblRebateTable").getComponent(cc.LabelOutline).color = new cc.color("#014D92");
        this.myRebateTableTabBtn.getChildByName("lblRebateTable").getComponent(cc.LabelShadow).color = new cc.color("#01277E");
        this.myHalfContainer.active = false;
        this.myCutContainer.active = false;
        this.myPayoutContainer.active = false;
        this.myRebateTableContainer.active = false;
        this.myFullContainer.active = false;
        if (this.mCurrentFocusTab != customEventData) {
          this.createdUnselectedTab.forEach(function(tab) {
            if (tab && tab.isValid) {
              tab.unselect();
              tab.node.removeFromParent();
            }
          });
          this.createdUnselectedTab = [];
        }
        if ("Payout" == customEventData || "RebateTable" == customEventData) {
          var tabList = this.mPayoutTabList;
          for (var key in tabList) {
            var positionX = 60 + 128 * parseInt(key);
            var unselectedTabPref = new cc.instantiate(this.myUnselectedTabPrefab).getComponent("UnselectedTab");
            unselectedTabPref.init(positionX, -22, tabList[key].name, customEventData, this);
            this.myCutConScrollContent.addChild(unselectedTabPref.node);
            this.createdUnselectedTab.push(unselectedTabPref);
          }
          this.myCutConScrollContent.width = 120 + 128 * (tabList.length - 1);
          this.myCutConScrollView.getComponent(cc.ScrollView).scrollToLeft(0);
        }
        if ("MyRebate" == customEventData) {
          this.myMyRebateTabBtn.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
          this.myMyRebateTabBtn.getChildByName("lblMyRebate").getComponent(cc.LabelOutline).color = new cc.color("#7F0794");
          this.myMyRebateTabBtn.getChildByName("lblMyRebate").getComponent(cc.LabelShadow).color = new cc.color("#6B017E");
          this.myHalfContainer.active = true;
        } else if ("Payout" == customEventData) {
          this.myPayoutTabBtn.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
          this.myPayoutTabBtn.getChildByName("lblPayout").getComponent(cc.LabelOutline).color = new cc.color("#7F0794");
          this.myPayoutTabBtn.getChildByName("lblPayout").getComponent(cc.LabelShadow).color = new cc.color("#6B017E");
          this.myCutContainer.active = true;
          this.myPayoutContainer.active = true;
        } else if ("Transaction" == customEventData) {
          this.myTransactionTabBtn.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
          this.myTransactionTabBtn.getChildByName("lblTransaction").getComponent(cc.LabelOutline).color = new cc.color("#7F0794");
          this.myTransactionTabBtn.getChildByName("lblTransaction").getComponent(cc.LabelShadow).color = new cc.color("#6B017E");
          this.myFullContainer.active = true;
        } else if ("RebateTable" == customEventData) {
          this.myRebateTableTabBtn.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
          this.myRebateTableTabBtn.getChildByName("lblRebateTable").getComponent(cc.LabelOutline).color = new cc.color("#7F0794");
          this.myRebateTableTabBtn.getChildByName("lblRebateTable").getComponent(cc.LabelShadow).color = new cc.color("#6B017E");
          this.myCutContainer.active = true;
          this.myRebateTableContainer.active = true;
        }
        this.mCurrentFocusTab = customEventData;
      },
      onTabDidPressed: function onTabDidPressed(tabName) {
        this.mPayoutFocusTab = tabName;
        this.createdUnselectedTab.forEach(function(tab) {
          tab && tab.isValid && tab.unselect();
        });
      },
      onDDLDidPressed: function onDDLDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        if ("trxType" == customEventData) {
          var triangle = this.myTrxTypeSelect.getChildByName("iconTriangle");
          this.myTrxTypeDDL.active ? triangle.angle = 90 : triangle.angle = -90;
          this.myTrxTypeDDL.active = !this.myTrxTypeDDL.active;
        }
      },
      onDDLOptionDidPressed: function onDDLOptionDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var parentName = event.target.parent.name;
        var childText = event.target.getChildByName("label").getComponent(cc.Label).string;
        if ("ddl_type_bg" == parentName) {
          var selectEle = this.myTrxTypeSelect;
          var ddlEle = this.myTrxTypeDDL;
          var childName = "lblType";
          if ("ddl_type_bg" == parentName) {
            selectEle = this.myTrxTypeSelect;
            ddlEle = this.myTrxTypeDDL;
            childName = "lblType";
            this.mAccDetailSelectedType = customEventData;
          }
          selectEle.getChildByName(childName).getComponent(cc.Label).string = childText;
          selectEle.getChildByName("iconTriangle").angle = 90;
          ddlEle.active = false;
        }
      },
      showNotification: function showNotification(text) {
        var _this = this;
        this.mNotificationLabel.getComponent(cc.Label).string = text;
        cc.Tween.stopAllByTarget(this.myNotificationBG);
        this.myNotificationBG.active = true;
        this.myNotificationBG.opacity = 0;
        cc.tween(this.myNotificationBG).to(1 / 3, {
          opacity: 255
        }).delay(2).to(1 / 3, {
          opacity: 0
        }).call(function() {
          _this.myNotificationBG.active = false;
        }).start();
      },
      callGetBalanceApi: function callGetBalanceApi() {
        var _this2 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
          var response, userObj;
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
             case 0:
              _SharedFunction["default"].showLoadingView("Loading", _this2);
              _context.prev = 1;
              _context.next = 4;
              return _UserService["default"].getBalance(localStorage.getItem("token"));

             case 4:
              response = _context.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context.next = 8;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this2);
              return _context.abrupt("return");

             case 8:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context.next = 11;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this2);
              return _context.abrupt("return");

             case 11:
              if (200 == response.status) {
                console.log(response);
                userObj = _SharedData["default"].getUserObject();
                userObj.balance = response.data.balance;
                _SharedData["default"].setUserObject(userObj);
                _this2.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(userObj.balance, 2);
                _this2.mCallBack.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string = _SharedFunction["default"].showNumberWithDecimalAndComma(userObj.balance, 2);
                _SharedFunction["default"].hideLoadingView(_this2);
              }
              _context.next = 22;
              break;

             case 14:
              _context.prev = 14;
              _context.t0 = _context["catch"](1);
              if (!_SharedFunction["default"].handleSessionExpiration(_context.t0, _this2)) {
                _context.next = 18;
                break;
              }
              return _context.abrupt("return");

             case 18:
              if (!_SharedFunction["default"].handleServerError(_context.t0, _this2)) {
                _context.next = 21;
                break;
              }
              _SharedFunction["default"].hideLoadingView(_this2);
              return _context.abrupt("return");

             case 21:
              _SharedFunction["default"].hideLoadingView(_this2);

             case 22:
             case "end":
              return _context.stop();
            }
          }, _callee, null, [ [ 1, 14 ] ]);
        }))();
      },
      localizeUI: function localizeUI() {
        this.mRebateLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "rebate");
      },
      updatePrefabSize: function updatePrefabSize() {
        var visibleSize = cc.view.getVisibleSize();
      }
    });
    cc._RF.pop();
  }, {
    "../Services/UserService": "UserService",
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  Registration: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "932cfVmHUdKuYaszcQGcfBS", "Registration");
    "use strict";
    var _SharedData = _interopRequireDefault(require("SharedData"));
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _AuthServices = _interopRequireDefault(require("../Services/AuthServices"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        showEmailInput: true,
        myVerificationView: null,
        mBackground: {
          default: null,
          type: cc.Node
        },
        myScrollView: {
          default: null,
          type: cc.Node
        },
        mUsernameInput: {
          default: null,
          type: cc.Node
        },
        mFullNameInput: {
          default: null,
          type: cc.Node
        },
        mEmailInput: {
          default: null,
          type: cc.Node
        },
        mMobileNoPrefixLabel: {
          default: null,
          type: cc.Node
        },
        mMobileNoInput: {
          default: null,
          type: cc.Node
        },
        mPasswordInput: {
          default: null,
          type: cc.Node
        },
        mConfirmPassInput: {
          default: null,
          type: cc.Node
        },
        mReferalCodeInput: {
          default: null,
          type: cc.Node
        },
        myError1Label: {
          default: null,
          type: cc.Node
        },
        myError2Label: {
          default: null,
          type: cc.Node
        },
        myError3Label: {
          default: null,
          type: cc.Node
        },
        myError4Label: {
          default: null,
          type: cc.Node
        },
        myError5Label: {
          default: null,
          type: cc.Node
        },
        myError6Label: {
          default: null,
          type: cc.Node
        },
        myError7Label: {
          default: null,
          type: cc.Node
        },
        myShowPassBtn: {
          default: null,
          type: cc.Node
        },
        myShowConPassBtn: {
          default: null,
          type: cc.Node
        },
        mSelectedTabIndex: 0,
        mUserIdLabel: {
          default: null,
          type: cc.Node
        },
        mBackgroundAnimation: {
          default: null,
          type: cc.Node
        },
        mContainer: {
          default: null,
          type: cc.Node
        },
        mPhoneButton: {
          default: null,
          type: cc.Node
        },
        mSMSButton: {
          default: null,
          type: cc.Node
        },
        mWhatsappButton: {
          default: null,
          type: cc.Node
        },
        mPhoneNumberLabel: {
          default: null,
          type: cc.Node
        },
        mCodeInput: {
          default: null,
          type: cc.Node
        },
        mIsRequestedTac: false,
        mRequestTacButton: {
          default: null,
          type: cc.Node
        },
        mCountDownTimer: {
          default: 6,
          type: cc.Float
        },
        mNewPasswordInput: {
          default: null,
          type: cc.EditBox
        },
        mConfirmPasswordInput: {
          default: null,
          type: cc.EditBox
        },
        mRewardLabel: {
          default: null,
          type: cc.Node
        },
        mOneLabel: {
          default: null,
          type: cc.Node
        },
        mInviteLabel: {
          default: null,
          type: cc.Node
        },
        mVoiceLabel: {
          default: null,
          type: cc.Node
        },
        mPhoneNoLabel: {
          default: null,
          type: cc.Node
        },
        mPhoneNoHolderLabel: {
          default: null,
          type: cc.Node
        },
        mPhoneNoHintLabel: {
          default: null,
          type: cc.Node
        },
        mCodeLabel: {
          default: null,
          type: cc.Node
        },
        mCodeHolderLabel: {
          default: null,
          type: cc.Node
        },
        mSendLabel: {
          default: null,
          type: cc.Node
        },
        mContinueLabel: {
          default: null,
          type: cc.Node
        },
        mNewPassLabel: {
          default: null,
          type: cc.Node
        },
        mNewPassHolderLabel: {
          default: null,
          type: cc.Node
        },
        mConPassLabel: {
          default: null,
          type: cc.Node
        },
        mConPassHolderLabel: {
          default: null,
          type: cc.Node
        },
        mPhoneCodeLabel: {
          default: null,
          type: cc.Node
        },
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        mTitleLabel: {
          default: null,
          type: cc.Node
        },
        mUsernameLabel: {
          default: null,
          type: cc.Node
        },
        mFullNameLabel: {
          default: null,
          type: cc.Node
        },
        mEmailLabel: {
          default: null,
          type: cc.Node
        },
        mMobileNoLabel: {
          default: null,
          type: cc.Node
        },
        mPasswordLabel: {
          default: null,
          type: cc.Node
        },
        mConfirmPassLabel: {
          default: null,
          type: cc.Node
        },
        mReferalCodeLabel: {
          default: null,
          type: cc.Node
        },
        mRegisterLabel: {
          default: null,
          type: cc.Node
        },
        mHvAccountLabel: {
          default: null,
          type: cc.Node
        },
        mLoginHereLabel: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.localizeUI();
      },
      updateView: function updateView(callBack) {
        this.localizeUI();
        this.mCallBack = callBack;
        this.mBackground.active = true;
        this.myError1Label.active = false;
        this.myError2Label.active = false;
        this.myError3Label.active = false;
        this.myError4Label.active = false;
        this.myError5Label.active = false;
        this.myError6Label.active = false;
        this.myError7Label.active = false;
        this.node.opacity = 255;
        this.mMobileNoPrefixLabel.getComponent(cc.Label).string = _SharedData["default"].getPhoneCode();
        if (this.showEmailInput) {
          this.mEmailLabel.active = true;
          this.mEmailInput.parent.active = true;
          this.mPasswordLabel.y = -562;
          this.mConfirmPassLabel.y = -689;
          this.mReferalCodeLabel.y = -813;
          this.mPasswordInput.parent.y = -565;
          this.mConfirmPassInput.parent.y = -689;
          this.mReferalCodeInput.parent.y = -813;
          this.myError5Label.y = -627;
          this.myError6Label.y = -751;
          this.myError7Label.y = -875;
          this.mRegisterLabel.parent.y = -937;
          this.mHvAccountLabel.y = -1008.824;
          this.mLoginHereLabel.y = -1007.108;
          this.myScrollView.getChildByName("view").getChildByName("content").height = 1034;
        } else {
          this.mEmailLabel.active = false;
          this.mEmailInput.parent.active = false;
          this.myError4Label.active = false;
          this.mPasswordLabel.y = -438;
          this.mConfirmPassLabel.y = -562;
          this.mReferalCodeLabel.y = -689;
          this.mPasswordInput.parent.y = -441;
          this.mConfirmPassInput.parent.y = -565;
          this.mReferalCodeInput.parent.y = -689;
          this.myError5Label.y = -503;
          this.myError6Label.y = -627;
          this.myError7Label.y = -751;
          this.mRegisterLabel.parent.y = -813;
          this.mHvAccountLabel.y = -884.824;
          this.mLoginHereLabel.y = -883.108;
          this.myScrollView.getChildByName("view").getChildByName("content").height = 910;
        }
        var reg_bg = this.mBackground.getChildByName("registration_bg");
        reg_bg.setScale(0);
        cc.tween(reg_bg).to(1 / 3, {
          scale: 1
        }).to(1 / 12, {
          scale: .95
        }).to(1 / 12, {
          scale: 1
        }).start();
      },
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
        this.mBackground.width = width;
        this.mBackground.height = height;
      },
      setCallBack: function setCallBack(callBack, isFrom) {
        void 0 === isFrom && (isFrom = "LOBBY");
        this.mCallBack = callBack;
        this.isFrom = isFrom;
      },
      onTogglePassBtnDidPress: function onTogglePassBtnDidPress(event, customEventData) {
        _SharedFunction["default"].playButtonClickSound();
        var self = this;
        var btnPressed = this.myShowPassBtn;
        var editBoxTarget = this.mPasswordInput;
        if ("ConfirmPassword" == customEventData) {
          btnPressed = this.myShowConPassBtn;
          editBoxTarget = this.mConfirmPassInput;
        }
        var password = editBoxTarget.getComponent(cc.EditBox).string;
        var currentInputType = editBoxTarget.getComponent(cc.EditBox).inputFlag;
        if (currentInputType == cc.EditBox.InputFlag.PASSWORD || void 0 == currentInputType) {
          cc.loader.loadRes("images/login/iconShow.png", cc.SpriteFrame, function(err, spriteFrame) {
            btnPressed.getComponent(cc.Sprite).spriteFrame = spriteFrame;
          });
          editBoxTarget.getComponent(cc.EditBox).inputFlag = cc.EditBox.InputFlag.DEFAULT;
        } else {
          cc.loader.loadRes("images/login/iconHide.png", cc.SpriteFrame, function(err, spriteFrame) {
            btnPressed.getComponent(cc.Sprite).spriteFrame = spriteFrame;
          });
          editBoxTarget.getComponent(cc.EditBox).inputFlag = cc.EditBox.InputFlag.PASSWORD;
        }
      },
      myCloseButtonDidPressed: function myCloseButtonDidPressed(event, customEventData, isCodeTrigger, pageToShow) {
        var _this = this;
        isCodeTrigger || _SharedFunction["default"].playButtonClickSound();
        var reg_bg = this.mBackground.getChildByName("registration_bg");
        cc.tween(reg_bg).to(1 / 6, {
          scale: 1.1
        }).to(1 / 6, {
          scale: 0
        }).start();
        cc.tween(this.node).delay(1 / 6).to(1 / 6, {
          opacity: 0
        }).call(function() {
          _this.mCallBack && _this.mCallBack.onRegisterCloseButtonDidPressed(pageToShow);
        }).start();
      },
      onRegisterButtonDidPressed: function onRegisterButtonDidPressed() {
        _SharedFunction["default"].playButtonClickSound();
        var username = this.mUsernameInput.getComponent(cc.EditBox).string;
        var fullName = this.mFullNameInput.getComponent(cc.EditBox).string;
        var phoneNum = this.mMobileNoInput.getComponent(cc.EditBox).string;
        var email = this.mEmailInput.getComponent(cc.EditBox).string;
        var password = this.mPasswordInput.getComponent(cc.EditBox).string;
        var confirmPass = this.mConfirmPassInput.getComponent(cc.EditBox).string;
        var referal = this.mReferalCodeInput.getComponent(cc.EditBox).string;
        if (0 == username.length) {
          this.showLableError(this.myError1Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "usernameHolder"));
          return;
        }
        if (0 == fullName.length) {
          this.showLableError(this.myError2Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "fullNameHolder"));
          return;
        }
        if (0 == phoneNum.length) {
          this.showLableError(this.myError3Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "mobileNoHolder"));
          return;
        }
        if (this.showEmailInput) {
          if (0 == email.length) {
            this.showLableError(this.myError4Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "emailHolder"));
            return;
          }
          if (!_SharedFunction["default"].EmailCheck(email)) {
            this.showLableError(this.myError4Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "invalidEamil"));
            return;
          }
        }
        if (0 == password.length) {
          this.showLableError(this.myError5Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "passwordHolder"));
          return;
        }
        if (!_SharedFunction["default"].RangeCheck(password)) {
          this.showLableError(this.myError5Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "invalidPassword"));
          return;
        }
        if (0 == confirmPass.length) {
          this.showLableError(this.myError6Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "confirmPasswordHolder"));
          return;
        }
        if (!_SharedFunction["default"].RangeCheck(confirmPass)) {
          this.showLableError(this.myError6Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "invalidConfirmPassword"));
          return;
        }
        if (password != confirmPass) {
          this.showLableError(this.myError6Label, _SharedFunction["default"].getLocalizedString(this.i18nJson, "invalidBothPassword"));
          return;
        }
        localStorage.setItem("unverified_username", username);
        localStorage.setItem("unverified_fullName", fullName);
        localStorage.setItem("unverified_phoneNum", phoneNum);
        localStorage.setItem("unverified_password", password);
        localStorage.setItem("unverified_referal", referal);
        localStorage.setItem("unverified_email", email);
        var dashResponse = JSON.parse(localStorage.getItem("from_index"));
        var verification = dashResponse.settings.verification;
        if (verification.phoneVerification.enabled && "onRegister" == verification.phoneVerification.required) {
          this.showVerificationPage("phoneVerify");
          return;
        }
        if (verification.emailVerification.enabled && "onRegister" == verification.emailVerification.required) {
          this.showVerificationPage("emailVerify");
          return;
        }
        this.callRegisterApi(username, fullName, _SharedData["default"].getPhoneCode() + phoneNum, password, referal, email);
      },
      callRegisterApi: function callRegisterApi(username, fullName, phoneNum, password, referal, email) {
        var _this2 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
          var response;
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
             case 0:
              _context.prev = 0;
              _context.next = 3;
              return _AuthServices["default"].register({
                fullName: fullName,
                username: username,
                email: email,
                password: password,
                phone: phoneNum,
                referralCode: referal
              });

             case 3:
              response = _context.sent;
              console.log(response);
              if (201 == response["status"]) {
                localStorage.setItem("verified_username", username);
                localStorage.setItem("verified_password", password);
                localStorage.setItem("token", response.token);
                _this2.myCloseButtonDidPressed("", "", true, "lobby");
              } else _this2.showLableError(_this2.myError7Label, response.message);
              _context.next = 12;
              break;

             case 8:
              _context.prev = 8;
              _context.t0 = _context["catch"](0);
              _this2.showLableError(_this2.myError7Label, _context.t0.message);
              _SharedFunction["default"].hideLoadingView(_this2);

             case 12:
             case "end":
              return _context.stop();
            }
          }, _callee, null, [ [ 0, 8 ] ]);
        }))();
      },
      showVerificationPage: function showVerificationPage(verifyType) {
        var self = this;
        _SharedFunction["default"].showLoadingView("", self);
        cc.resources.load("prefabs/verification/verification", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          if (null == self.myVerificationView) {
            self.myVerificationView = cc.instantiate(prefab).getComponent("Verification");
            self.updatePrefabSize();
          }
          _SharedFunction["default"].hideLoadingView(self);
          self.myVerificationView.updateView(self, verifyType, "Register", "");
          self.node.addChild(self.myVerificationView.node);
          self.mBackground.active = false;
        });
      },
      showLableError: function showLableError(labelComponent, text) {
        this.myError1Label.active = false;
        this.myError2Label.active = false;
        this.myError3Label.active = false;
        this.myError4Label.active = false;
        this.myError5Label.active = false;
        this.myError6Label.active = false;
        this.myError7Label.active = false;
        if (labelComponent) {
          this.myScrollView.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0, -1 * labelComponent.y - 131), .1, false);
          labelComponent.getComponent(cc.Label).string = text;
          labelComponent.active = true;
          cc.tween(labelComponent).to(1 / 12, {
            scale: 1.1
          }).to(1 / 12, {
            scale: 1
          }).start();
        }
      },
      onVerificationCloseButtonDidPressed: function onVerificationCloseButtonDidPressed(pageToShow, errorMsg) {
        this.node.removeChild(this.myVerificationView.node);
        if ("emailVerify" == pageToShow) {
          this.showVerificationPage("emailVerify");
          return;
        }
        if ("registerPage" == pageToShow) {
          this.showLableError(this.myError7Label, errorMsg);
          this.mBackground.active = true;
        } else this.mCallBack.onRegisterCloseButtonDidPressed(pageToShow);
      },
      localizeUI: function localizeUI() {
        this.mTitleLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "title");
        this.mUsernameLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "username");
        this.mFullNameLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "fullname");
        this.mEmailLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "email");
        this.mMobileNoLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "mobileno");
        this.mPasswordLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "password");
        this.mConfirmPassLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "confirmPassword");
        this.mReferalCodeLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "referalcode");
        this.mRegisterLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "register");
        this.mHvAccountLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "hvAccount");
        this.mLoginHereLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "loginhere");
      },
      updatePrefabSize: function updatePrefabSize() {
        var visibleSize = cc.view.getVisibleSize();
        this.myVerificationView && this.myVerificationView.init(0, 0, visibleSize.width, visibleSize.height);
      }
    });
    cc._RF.pop();
  }, {
    "../Services/AuthServices": "AuthServices",
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  ResetPassword: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "43be0+hhopIQqJqZFWkh6X8", "ResetPassword");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    var _AuthServices = _interopRequireDefault(require("../Services/AuthServices"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        mBackground: {
          default: null,
          type: cc.Node
        },
        myErrorLabel: {
          default: null,
          type: cc.Node
        },
        myError2Label: {
          default: null,
          type: cc.Node
        },
        mPasswordInput: {
          default: null,
          type: cc.Node
        },
        mConfirmPasswordInput: {
          default: null,
          type: cc.Node
        },
        mPasswordLabel: {
          default: null,
          type: cc.Node
        },
        mPasswordHolderLabel: {
          default: null,
          type: cc.Node
        },
        mConfirmPasswordLabel: {
          default: null,
          type: cc.Node
        },
        mConfirmPasswordHolderLabel: {
          default: null,
          type: cc.Node
        },
        mConfirmLabel: {
          default: null,
          type: cc.Node
        },
        mTitleLabel: {
          default: null,
          type: cc.Node
        },
        mDescLabel: {
          default: null,
          type: cc.Node
        },
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        myShowPassBtn: {
          default: null,
          type: cc.Node
        },
        myConfirmShowPassBtn: {
          default: null,
          type: cc.Node
        },
        mUsername: "",
        mOtp: "",
        mPasswordResetType: "sms"
      },
      onLoad: function onLoad() {
        this.localizeUI();
      },
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
        this.mBackground.width = width;
        this.mBackground.height = height;
      },
      setCallBack: function setCallBack(callBack, isFrom) {
        void 0 === isFrom && (isFrom = "LOBBY");
        this.mCallBack = callBack;
        this.isFrom = isFrom;
      },
      updateView: function updateView(callBack, username, otp, passwordResetType) {
        void 0 === passwordResetType && (passwordResetType = "reset");
        this.localizeUI();
        this.mCallBack = callBack;
        this.mUsername = username;
        this.mOtp = otp || localStorage.getItem("reset_password_otp") || "";
        this.mPasswordResetType = passwordResetType;
        this.mBackground.active = true;
        this.myErrorLabel && (this.myErrorLabel.active = false);
        this.myError2Label && (this.myError2Label.active = false);
        this.node.opacity = 255;
        this.mPasswordInput && (this.mPasswordInput.getComponent(cc.EditBox).string = "");
        this.mConfirmPasswordInput && (this.mConfirmPasswordInput.getComponent(cc.EditBox).string = "");
        var resetpassword_bg = this.mBackground.getChildByName("resetpassword_bg");
        if (resetpassword_bg) {
          resetpassword_bg.setScale(0);
          cc.tween(resetpassword_bg).to(1 / 3, {
            scale: 1
          }).to(1 / 12, {
            scale: .95
          }).to(1 / 12, {
            scale: 1
          }).start();
        }
      },
      myCloseButtonDidPressed: function myCloseButtonDidPressed() {
        var _this = this;
        _SharedFunction["default"].playButtonClickSound();
        var resetpassword_bg = this.mBackground.getChildByName("resetpassword_bg");
        resetpassword_bg && cc.tween(resetpassword_bg).to(1 / 6, {
          scale: 1.1
        }).to(1 / 6, {
          scale: 0
        }).start();
        cc.tween(this.node).delay(1 / 6).to(1 / 6, {
          opacity: 0
        }).call(function() {
          _this.mCallBack && _this.mCallBack.onResetPasswordViewCloseButtonDidPressed();
        }).start();
      },
      onSubmitButtonDidPressed: function onSubmitButtonDidPressed() {
        var _this2 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
          var password, confirmPassword, param, response, message, _message, _message2;
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
             case 0:
              _SharedFunction["default"].playButtonClickSound();
              password = _this2.mPasswordInput.getComponent(cc.EditBox).string;
              confirmPassword = _this2.mConfirmPasswordInput.getComponent(cc.EditBox).string;
              if (!(0 == password.length)) {
                _context.next = 6;
                break;
              }
              _this2.showLableError(_this2.myErrorLabel, _SharedFunction["default"].getLocalizedString(_this2.i18nJson, "newPasswordHolder"));
              return _context.abrupt("return");

             case 6:
              if (!(0 == confirmPassword.length)) {
                _context.next = 9;
                break;
              }
              _this2.showLableError(_this2.myError2Label || _this2.myErrorLabel, _SharedFunction["default"].getLocalizedString(_this2.i18nJson, "confirmPasswordHolder"));
              return _context.abrupt("return");

             case 9:
              if (!(password != confirmPassword)) {
                _context.next = 12;
                break;
              }
              _this2.showLableError(_this2.myError2Label || _this2.myErrorLabel, _SharedFunction["default"].getLocalizedString(_this2.i18nJson, "invalidBothPassword"));
              return _context.abrupt("return");

             case 12:
              _SharedFunction["default"].showLoadingView("", _this2);
              _context.prev = 13;
              param = {
                username: _this2.mUsername,
                otp: _this2.mOtp,
                newPassword: password,
                type: _this2.mPasswordResetType
              };
              _context.next = 17;
              return _AuthServices["default"].resetPassword(param);

             case 17:
              response = _context.sent;
              if (200 == response["status"] || response.success) {
                message = response.message || _SharedFunction["default"].getLocalizedString(_this2.i18nJson, "resetSuccess");
                _this2.mPasswordInput.getComponent(cc.EditBox).string = "";
                _this2.mConfirmPasswordInput.getComponent(cc.EditBox).string = "";
                _SharedFunction["default"].showAlertView(response.message || _SharedFunction["default"].getLocalizedString(_this2.i18nJson, "resetSuccess"), _this2, function() {
                  _this2.mCallBack && _this2.mCallBack.onResetPasswordViewCloseButtonDidPressed();
                });
              } else {
                _message = response.message || _SharedFunction["default"].getLocalizedString(_this2.i18nJson, "resetSuccess");
                _this2.showLableError(_this2.myError2Label || _this2.myErrorLabel, _SharedFunction["default"].getLocalizedString(_this2.i18nJson, _message));
              }
              _context.next = 25;
              break;

             case 21:
              _context.prev = 21;
              _context.t0 = _context["catch"](13);
              _message2 = _context.t0.message || _SharedFunction["default"].getLocalizedString(_this2.i18nJson, "resetFailed");
              _this2.showLableError(_this2.myError2Label || _this2.myErrorLabel, _SharedFunction["default"].getLocalizedString(_this2.i18nJson, _message2));

             case 25:
              _SharedFunction["default"].hideLoadingView(_this2);

             case 26:
             case "end":
              return _context.stop();
            }
          }, _callee, null, [ [ 13, 21 ] ]);
        }))();
      },
      onTogglePassBtnDidPress: function onTogglePassBtnDidPress(event, customEventData) {
        _SharedFunction["default"].playButtonClickSound();
        var self = this;
        var btnPressed = this.myShowPassBtn;
        var confirmBtnPressed = this.myConfirmShowPassBtn;
        var editBoxTarget = this.mPasswordInput;
        var confirmEditBoxTarget = this.mConfirmPasswordInput;
        var password = editBoxTarget.getComponent(cc.EditBox).string;
        var currentInputType = editBoxTarget.getComponent(cc.EditBox).inputFlag;
        if (currentInputType == cc.EditBox.InputFlag.PASSWORD || void 0 == currentInputType) {
          cc.loader.loadRes("images/login/iconShow.png", cc.SpriteFrame, function(err, spriteFrame) {
            btnPressed.getComponent(cc.Sprite).spriteFrame = spriteFrame;
            confirmBtnPressed.getComponent(cc.Sprite).spriteFrame = spriteFrame;
          });
          editBoxTarget.getComponent(cc.EditBox).inputFlag = cc.EditBox.InputFlag.DEFAULT;
          confirmEditBoxTarget.getComponent(cc.EditBox).inputFlag = cc.EditBox.InputFlag.DEFAULT;
        } else {
          cc.loader.loadRes("images/login/iconHide.png", cc.SpriteFrame, function(err, spriteFrame) {
            btnPressed.getComponent(cc.Sprite).spriteFrame = spriteFrame;
            confirmBtnPressed.getComponent(cc.Sprite).spriteFrame = spriteFrame;
          });
          editBoxTarget.getComponent(cc.EditBox).inputFlag = cc.EditBox.InputFlag.PASSWORD;
          confirmEditBoxTarget.getComponent(cc.EditBox).inputFlag = cc.EditBox.InputFlag.PASSWORD;
        }
      },
      showLableError: function showLableError(labelComponent, text) {
        this.myErrorLabel && (this.myErrorLabel.active = false);
        this.myError2Label && (this.myError2Label.active = false);
        if (labelComponent) {
          labelComponent.getComponent(cc.Label).string = text;
          labelComponent.active = true;
          cc.tween(labelComponent).to(1 / 12, {
            scale: 1.1
          }).to(1 / 12, {
            scale: 1
          }).start();
        }
      },
      localizeUI: function localizeUI() {
        this.mTitleLabel && (this.mTitleLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "title") || "Reset Password");
        this.mDescLabel && (this.mDescLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "description") || "Please enter your new password below.");
        this.mPasswordLabel && (this.mPasswordLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "password") || "Password");
        this.mConfirmPasswordLabel && (this.mConfirmPasswordLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "confirmPassword") || "Confirm Password");
        this.mConfirmLabel && (this.mConfirmLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "confirm") || "Confirm");
        this.mPasswordHolderLabel && (this.mPasswordHolderLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "newPasswordHolder") || "Enter New Password");
        this.mConfirmPasswordHolderLabel && (this.mConfirmPasswordHolderLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "confirmPasswordHolder") || "Enter Confirm Password");
      },
      updatePrefabSize: function updatePrefabSize() {
        var visibleSize = cc.view.getVisibleSize();
        if (this.mBackground) {
          this.mBackground.width = visibleSize.width;
          this.mBackground.height = visibleSize.height;
        }
      }
    });
    cc._RF.pop();
  }, {
    "../Services/AuthServices": "AuthServices",
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  Settings: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "88701VNBb1MI4ehKc6MODZ0", "Settings");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    var _UserService = _interopRequireDefault(require("../Services/UserService"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        mCurrentFocusTab: "Sound",
        mAuthenticatorStatus: false,
        mBackground: {
          default: null,
          type: cc.Node
        },
        myScrollView: {
          default: null,
          type: cc.Node
        },
        mySoundTabBtn: {
          default: null,
          type: cc.Node
        },
        myChangePassTabBtn: {
          default: null,
          type: cc.Node
        },
        my2FaTabBtn: {
          default: null,
          type: cc.Node
        },
        myVersionTabBtn: {
          default: null,
          type: cc.Node
        },
        myLogoutTabBtn: {
          default: null,
          type: cc.Node
        },
        myMusicBtn: {
          default: null,
          type: cc.Node
        },
        myMuteBtn: {
          default: null,
          type: cc.Node
        },
        mySoundBtn: {
          default: null,
          type: cc.Node
        },
        myShowCurrPassBtn: {
          default: null,
          type: cc.Node
        },
        myShowNewPassBtn: {
          default: null,
          type: cc.Node
        },
        myShowConPassBtn: {
          default: null,
          type: cc.Node
        },
        myCurrPassInput: {
          default: null,
          type: cc.Node
        },
        myNewPassInput: {
          default: null,
          type: cc.Node
        },
        myConPassInput: {
          default: null,
          type: cc.Node
        },
        myMainContainer: {
          default: null,
          type: cc.Node
        },
        myLogoutContainer: {
          default: null,
          type: cc.Node
        },
        mySoundContainer: {
          default: null,
          type: cc.Node
        },
        myChangePassContainer: {
          default: null,
          type: cc.Node
        },
        my2FaContainer: {
          default: null,
          type: cc.Node
        },
        my2FaAuthenticatorView: {
          default: null,
          type: cc.Node
        },
        my2FaAuthenticatorRegisterView: {
          default: null,
          type: cc.Node
        },
        myVersionContainer: {
          default: null,
          type: cc.Node
        },
        mFocusTabImg: {
          default: null,
          type: cc.SpriteFrame
        },
        mNormalTabImg: {
          default: null,
          type: cc.SpriteFrame
        },
        mOnSwitchImg: {
          default: null,
          type: cc.SpriteFrame
        },
        mOffSwitchImg: {
          default: null,
          type: cc.SpriteFrame
        },
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        mTitleLabel: {
          default: null,
          type: cc.Node
        },
        mSoundTabLabel: {
          default: null,
          type: cc.Node
        },
        mChangePassTabLabel: {
          default: null,
          type: cc.Node
        },
        m2FaTabLabel: {
          default: null,
          type: cc.Node
        },
        mVersionTabLabel: {
          default: null,
          type: cc.Node
        },
        mLogoutTabLabel: {
          default: null,
          type: cc.Node
        },
        mMusicLabel: {
          default: null,
          type: cc.Node
        },
        mMuteLabel: {
          default: null,
          type: cc.Node
        },
        mSoundLabel: {
          default: null,
          type: cc.Node
        },
        mMusicSwitchLabel: {
          default: null,
          type: cc.Node
        },
        mMuteSwitchLabel: {
          default: null,
          type: cc.Node
        },
        mSoundSwitchLabel: {
          default: null,
          type: cc.Node
        },
        mCurrentPassLabel: {
          default: null,
          type: cc.Node
        },
        mNewPassLabel: {
          default: null,
          type: cc.Node
        },
        mConfirmPassLabel: {
          default: null,
          type: cc.Node
        },
        myError1Label: {
          default: null,
          type: cc.Node
        },
        myError2Label: {
          default: null,
          type: cc.Node
        },
        myError3Label: {
          default: null,
          type: cc.Node
        },
        mConfirmLabel: {
          default: null,
          type: cc.Node
        },
        mLogoutLabel: {
          default: null,
          type: cc.Node
        },
        mDescLabel: {
          default: null,
          type: cc.Node
        },
        mNoLabel: {
          default: null,
          type: cc.Node
        },
        mYesLabel: {
          default: null,
          type: cc.Node
        },
        mAuthenticatorTitleLabel: {
          default: null,
          type: cc.Node
        },
        mAuthenticatorBtn: {
          default: null,
          type: cc.Node
        },
        mAuthenticatorLbl: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.localizeUI();
      },
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
        this.mBackground.width = width;
        this.mBackground.height = height;
      },
      updateView: function updateView(callBack) {
        this.localizeUI();
        this.mCallBack = callBack;
        this.mCurrentFocusTab = "Sound";
        this.mBackground.active = true;
        this.node.opacity = 255;
        this.myLogoutContainer.active = false;
        this.myMainContainer.active = true;
        this.myError1Label.active = false;
        this.myError2Label.active = false;
        this.myError3Label.active = false;
        this.onSettingsTabDidPressed("", "Sound", true);
        if (!_SharedData["default"].getMuteStatus() && _SharedData["default"].getPlayBackgroundMusicSoundStatus()) {
          this.myMusicBtn.getComponent(cc.Sprite).spriteFrame = this.mOnSwitchImg;
          this.myMusicBtn.getChildByName("btnSwitch").setPosition(cc.v2(28, 0));
          this.myMusicBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25, 1));
        } else {
          this.myMusicBtn.getComponent(cc.Sprite).spriteFrame = this.mOffSwitchImg;
          this.myMusicBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28, 0));
          this.myMusicBtn.getChildByName("lblSwitch").setPosition(cc.v2(19, 1));
        }
        if (!_SharedData["default"].getMuteStatus() && _SharedData["default"].getPlayButtonClickSoundStatus()) {
          this.mySoundBtn.getComponent(cc.Sprite).spriteFrame = this.mOnSwitchImg;
          this.mySoundBtn.getChildByName("btnSwitch").setPosition(cc.v2(28, 0));
          this.mySoundBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25, 1));
        } else {
          this.mySoundBtn.getComponent(cc.Sprite).spriteFrame = this.mOffSwitchImg;
          this.mySoundBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28, 0));
          this.mySoundBtn.getChildByName("lblSwitch").setPosition(cc.v2(19, 1));
        }
        if (_SharedData["default"].getMuteStatus()) {
          this.myMuteBtn.getComponent(cc.Sprite).spriteFrame = this.mOnSwitchImg;
          this.myMuteBtn.getChildByName("btnSwitch").setPosition(cc.v2(28, 0));
          this.myMuteBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25, 1));
        } else {
          this.myMuteBtn.getComponent(cc.Sprite).spriteFrame = this.mOffSwitchImg;
          this.myMuteBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28, 0));
          this.myMuteBtn.getChildByName("lblSwitch").setPosition(cc.v2(19, 1));
        }
        if (this.mAuthenticatorStatus) {
          this.mAuthenticatorBtn.getComponent(cc.Sprite).spriteFrame = this.mOnSwitchImg;
          this.mAuthenticatorBtn.getChildByName("btnSwitch").setPosition(cc.v2(28, 0));
          this.mAuthenticatorBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25, 1));
        } else {
          this.mAuthenticatorBtn.getComponent(cc.Sprite).spriteFrame = this.mOffSwitchImg;
          this.mAuthenticatorBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28, 0));
          this.mAuthenticatorBtn.getChildByName("lblSwitch").setPosition(cc.v2(19, 1));
        }
        if (_SharedFunction["default"].isLoggedIn()) {
          this.myChangePassTabBtn.active = true;
          this.my2FaTabBtn.active = false;
          this.myLogoutTabBtn.active = true;
        } else {
          this.myChangePassTabBtn.active = false;
          this.my2FaTabBtn.active = false;
          this.myLogoutTabBtn.active = false;
        }
        this.myCurrPassInput.getComponent(cc.EditBox).string = "";
        this.myNewPassInput.getComponent(cc.EditBox).string = "";
        this.myConPassInput.getComponent(cc.EditBox).string = "";
        var self = this;
        cc.loader.loadRes("images/login/iconHide.png", cc.SpriteFrame, function(err, spriteFrame) {
          self.myShowCurrPassBtn.getComponent(cc.Sprite).spriteFrame = spriteFrame;
          self.myShowNewPassBtn.getComponent(cc.Sprite).spriteFrame = spriteFrame;
          self.myShowConPassBtn.getComponent(cc.Sprite).spriteFrame = spriteFrame;
        });
        var settings_bg = this.mBackground.getChildByName("settings_bg");
        settings_bg.setScale(0);
        cc.tween(settings_bg).to(1 / 3, {
          scale: 1
        }).to(1 / 12, {
          scale: .95
        }).to(1 / 12, {
          scale: 1
        }).start();
      },
      setCallBack: function setCallBack(callBack) {
        this.mCallBack = callBack;
      },
      myCloseButtonDidPressed: function myCloseButtonDidPressed(event, customEventData, codeTrigger) {
        var _this = this;
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        var settings_bg = this.mBackground.getChildByName("settings_bg");
        cc.tween(settings_bg).to(1 / 6, {
          scale: 1.1
        }).to(1 / 6, {
          scale: 0
        }).start();
        cc.tween(this.node).delay(1 / 6).to(1 / 6, {
          opacity: 0
        }).call(function() {
          _this.mCallBack && _this.mCallBack.onSettingsCloseButtonDidPressed();
        }).start();
      },
      onSettingsTabDidPressed: function onSettingsTabDidPressed(event, customEventData, codeTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        this.mySoundTabBtn.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
        this.myChangePassTabBtn.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
        this.my2FaTabBtn.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
        this.myVersionTabBtn.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
        this.mySoundTabBtn.getChildByName("lblSound").getComponent(cc.LabelOutline).color = new cc.color("#014D92");
        this.mySoundTabBtn.getChildByName("lblSound").getComponent(cc.LabelShadow).color = new cc.color("#01277E");
        this.myChangePassTabBtn.getChildByName("lblChangePassword").getComponent(cc.LabelOutline).color = new cc.color("#014D92");
        this.myChangePassTabBtn.getChildByName("lblChangePassword").getComponent(cc.LabelShadow).color = new cc.color("#01277E");
        this.my2FaTabBtn.getChildByName("lblTwoFa").getComponent(cc.LabelOutline).color = new cc.color("#014D92");
        this.my2FaTabBtn.getChildByName("lblTwoFa").getComponent(cc.LabelShadow).color = new cc.color("#01277E");
        this.myVersionTabBtn.getChildByName("lblVersion").getComponent(cc.LabelOutline).color = new cc.color("#014D92");
        this.myVersionTabBtn.getChildByName("lblVersion").getComponent(cc.LabelShadow).color = new cc.color("#01277E");
        this.mySoundContainer.active = false;
        this.myChangePassContainer.active = false;
        this.my2FaContainer.active = false;
        this.myVersionContainer.active = false;
        if ("Sound" == customEventData) {
          this.mySoundTabBtn.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
          this.mySoundTabBtn.getChildByName("lblSound").getComponent(cc.LabelOutline).color = new cc.color("#7F0794");
          this.mySoundTabBtn.getChildByName("lblSound").getComponent(cc.LabelShadow).color = new cc.color("#6B017E");
          this.mySoundContainer.active = true;
        } else if ("ChangePassword" == customEventData) {
          this.myChangePassTabBtn.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
          this.myChangePassTabBtn.getChildByName("lblChangePassword").getComponent(cc.LabelOutline).color = new cc.color("#7F0794");
          this.myChangePassTabBtn.getChildByName("lblChangePassword").getComponent(cc.LabelShadow).color = new cc.color("#6B017E");
          this.myChangePassContainer.active = true;
        } else if ("2Fa" == customEventData) {
          this.my2FaTabBtn.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
          this.my2FaTabBtn.getChildByName("lblTwoFa").getComponent(cc.LabelOutline).color = new cc.color("#7F0794");
          this.my2FaTabBtn.getChildByName("lblTwoFa").getComponent(cc.LabelShadow).color = new cc.color("#6B017E");
          this.my2FaContainer.active = true;
        } else if ("Version" == customEventData) {
          this.myVersionTabBtn.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
          this.myVersionTabBtn.getChildByName("lblVersion").getComponent(cc.LabelOutline).color = new cc.color("#7F0794");
          this.myVersionTabBtn.getChildByName("lblVersion").getComponent(cc.LabelShadow).color = new cc.color("#6B017E");
          this.myVersionContainer.active = true;
        }
        this.mCurrentFocusTab = customEventData;
      },
      onLogoutTabDidPressed: function onLogoutTabDidPressed(event, customEventData) {
        _SharedFunction["default"].playButtonClickSound();
        this.myMainContainer.active = false;
        this.myLogoutContainer.active = true;
      },
      onLogoutDecisionDidPressed: function onLogoutDecisionDidPressed(event, customEventData) {
        _SharedFunction["default"].playButtonClickSound();
        if ("No" == customEventData) {
          this.myLogoutContainer.active = false;
          this.myMainContainer.active = true;
        } else {
          _SharedFunction["default"].logout();
          cc.director.loadScene("Splash");
        }
      },
      onTogglePassBtnDidPress: function onTogglePassBtnDidPress(event, customEventData) {
        _SharedFunction["default"].playButtonClickSound();
        var self = this;
        var btnPressed = this.myShowCurrPassBtn;
        var editBoxTarget = this.myCurrPassInput;
        if ("NewPassword" == customEventData) {
          btnPressed = this.myShowNewPassBtn;
          editBoxTarget = this.myNewPassInput;
        } else if ("ConfirmPassword" == customEventData) {
          btnPressed = this.myShowConPassBtn;
          editBoxTarget = this.myConPassInput;
        }
        var currentInputType = editBoxTarget.getComponent(cc.EditBox).inputFlag;
        if (currentInputType == cc.EditBox.InputFlag.PASSWORD || void 0 == currentInputType) {
          cc.loader.loadRes("images/login/iconShow.png", cc.SpriteFrame, function(err, spriteFrame) {
            btnPressed.getComponent(cc.Sprite).spriteFrame = spriteFrame;
          });
          editBoxTarget.getComponent(cc.EditBox).inputFlag = cc.EditBox.InputFlag.DEFAULT;
        } else {
          cc.loader.loadRes("images/login/iconHide.png", cc.SpriteFrame, function(err, spriteFrame) {
            btnPressed.getComponent(cc.Sprite).spriteFrame = spriteFrame;
          });
          editBoxTarget.getComponent(cc.EditBox).inputFlag = cc.EditBox.InputFlag.PASSWORD;
        }
      },
      onToggleSoundSettingDidPress: function onToggleSoundSettingDidPress(event, customEventData) {
        if ("Music" == customEventData) {
          if (!_SharedData["default"].getMuteStatus()) if (_SharedData["default"].getPlayBackgroundMusicSoundStatus()) {
            _SharedFunction["default"].stopLobbyBackgroundMusic();
            _SharedData["default"].setPlayBackgroundMusicSoundStatus(false);
            this.myMusicBtn.getComponent(cc.Sprite).spriteFrame = this.mOffSwitchImg;
            this.myMusicBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28, 0));
            this.myMusicBtn.getChildByName("lblSwitch").setPosition(cc.v2(19, 1));
          } else {
            _SharedData["default"].setPlayBackgroundMusicSoundStatus(true);
            _SharedFunction["default"].playLobbyBackgroundMusic();
            this.myMusicBtn.getComponent(cc.Sprite).spriteFrame = this.mOnSwitchImg;
            this.myMusicBtn.getChildByName("btnSwitch").setPosition(cc.v2(28, 0));
            this.myMusicBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25, 1));
          }
        } else if ("Sound" == customEventData) {
          if (!_SharedData["default"].getMuteStatus()) if (_SharedData["default"].getPlayButtonClickSoundStatus()) {
            _SharedData["default"].setPlayButtonClickSoundStatus(false);
            this.mySoundBtn.getComponent(cc.Sprite).spriteFrame = this.mOffSwitchImg;
            this.mySoundBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28, 0));
            this.mySoundBtn.getChildByName("lblSwitch").setPosition(cc.v2(19, 1));
          } else {
            _SharedData["default"].setPlayButtonClickSoundStatus(true);
            this.mySoundBtn.getComponent(cc.Sprite).spriteFrame = this.mOnSwitchImg;
            this.mySoundBtn.getChildByName("btnSwitch").setPosition(cc.v2(28, 0));
            this.mySoundBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25, 1));
          }
        } else if ("Mute" == customEventData) if (_SharedData["default"].getMuteStatus()) {
          _SharedData["default"].setMuteStatus(false);
          this.myMuteBtn.getComponent(cc.Sprite).spriteFrame = this.mOffSwitchImg;
          this.myMuteBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28, 0));
          this.myMuteBtn.getChildByName("lblSwitch").setPosition(cc.v2(19, 1));
          if (_SharedData["default"].getPlayBackgroundMusicSoundStatus()) {
            _SharedFunction["default"].playLobbyBackgroundMusic();
            this.myMusicBtn.getComponent(cc.Sprite).spriteFrame = this.mOnSwitchImg;
            this.myMusicBtn.getChildByName("btnSwitch").setPosition(cc.v2(28, 0));
            this.myMusicBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25, 1));
          }
          if (_SharedData["default"].getPlayButtonClickSoundStatus()) {
            this.mySoundBtn.getComponent(cc.Sprite).spriteFrame = this.mOnSwitchImg;
            this.mySoundBtn.getChildByName("btnSwitch").setPosition(cc.v2(28, 0));
            this.mySoundBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25, 1));
          }
        } else {
          _SharedData["default"].setMuteStatus(true);
          this.myMuteBtn.getComponent(cc.Sprite).spriteFrame = this.mOnSwitchImg;
          this.myMuteBtn.getChildByName("btnSwitch").setPosition(cc.v2(28, 0));
          this.myMuteBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25, 1));
          if (_SharedData["default"].getPlayBackgroundMusicSoundStatus()) {
            _SharedFunction["default"].stopLobbyBackgroundMusic();
            this.myMusicBtn.getComponent(cc.Sprite).spriteFrame = this.mOffSwitchImg;
            this.myMusicBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28, 0));
            this.myMusicBtn.getChildByName("lblSwitch").setPosition(cc.v2(19, 1));
          }
          if (_SharedData["default"].getPlayButtonClickSoundStatus()) {
            this.mySoundBtn.getComponent(cc.Sprite).spriteFrame = this.mOffSwitchImg;
            this.mySoundBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28, 0));
            this.mySoundBtn.getChildByName("lblSwitch").setPosition(cc.v2(19, 1));
          }
        }
      },
      onToggleAuthenticatorDidPress: function onToggleAuthenticatorDidPress(event, customEventData) {
        var _this2 = this;
        _SharedFunction["default"].playButtonClickSound();
        if ("Authenticator" == customEventData) if (this.mAuthenticatorStatus) {
          this.mAuthenticatorStatus = false;
          this.mAuthenticatorBtn.getComponent(cc.Sprite).spriteFrame = this.mOffSwitchImg;
          this.mAuthenticatorBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28, 0));
          this.mAuthenticatorBtn.getChildByName("lblSwitch").setPosition(cc.v2(19, 1));
          _SharedFunction["default"].showAlertView(_SharedFunction["default"].getLocalizedString(this.i18nJson, "authenticatorDisabled"), this, function() {
            _this2.mCallBack && _this2.mCallBack.onDisableAuthenticatorDidPress();
          });
        } else {
          this.mAuthenticatorStatus = true;
          this.mAuthenticatorBtn.getComponent(cc.Sprite).spriteFrame = this.mOnSwitchImg;
          this.mAuthenticatorBtn.getChildByName("btnSwitch").setPosition(cc.v2(28, 0));
          this.mAuthenticatorBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25, 1));
        }
        this.mAuthenticatorLbl.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, this.mAuthenticatorStatus ? "on" : "off");
      },
      onConfirmChangePassBtnDidPress: function onConfirmChangePassBtnDidPress(event, customEventData) {
        var _this3 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
          var currPass, newPass, conPass, self, token, params, response;
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
             case 0:
              _SharedFunction["default"].playButtonClickSound();
              currPass = _this3.myCurrPassInput.getComponent(cc.EditBox).string;
              newPass = _this3.myNewPassInput.getComponent(cc.EditBox).string;
              conPass = _this3.myConPassInput.getComponent(cc.EditBox).string;
              if (!(0 == currPass.length)) {
                _context.next = 7;
                break;
              }
              _this3.showLableError(_this3.myError1Label, _SharedFunction["default"].getLocalizedString(_this3.i18nJson, "currentPasswordHolder"));
              return _context.abrupt("return");

             case 7:
              if (_SharedFunction["default"].RangeCheck(currPass)) {
                _context.next = 10;
                break;
              }
              _this3.showLableError(_this3.myError1Label, _SharedFunction["default"].getLocalizedString(_this3.i18nJson, "invalidCurrentPassword"));
              return _context.abrupt("return");

             case 10:
              if (!(0 == newPass.length)) {
                _context.next = 13;
                break;
              }
              _this3.showLableError(_this3.myError2Label, _SharedFunction["default"].getLocalizedString(_this3.i18nJson, "newPasswordHolder"));
              return _context.abrupt("return");

             case 13:
              if (_SharedFunction["default"].RangeCheck(newPass)) {
                _context.next = 16;
                break;
              }
              _this3.showLableError(_this3.myError2Label, _SharedFunction["default"].getLocalizedString(_this3.i18nJson, "invalidNewPassword"));
              return _context.abrupt("return");

             case 16:
              if (!(0 == conPass.length)) {
                _context.next = 19;
                break;
              }
              _this3.showLableError(_this3.myError3Label, _SharedFunction["default"].getLocalizedString(_this3.i18nJson, "confirmPasswordHolder"));
              return _context.abrupt("return");

             case 19:
              if (_SharedFunction["default"].RangeCheck(conPass)) {
                _context.next = 22;
                break;
              }
              _this3.showLableError(_this3.myError3Label, _SharedFunction["default"].getLocalizedString(_this3.i18nJson, "invalidConfirmPassword"));
              return _context.abrupt("return");

             case 22:
              if (!(newPass != conPass)) {
                _context.next = 25;
                break;
              }
              _this3.showLableError(_this3.myError3Label, _SharedFunction["default"].getLocalizedString(_this3.i18nJson, "invalidBothPassword"));
              return _context.abrupt("return");

             case 25:
              self = _this3;
              _context.prev = 26;
              token = localStorage.getItem("token");
              params = {
                currentPassword: currPass,
                newPassword: newPass
              };
              _context.next = 31;
              return _UserService["default"].changePassword(token, params);

             case 31:
              response = _context.sent;
              if (!_SharedFunction["default"].isSessionExpired(response)) {
                _context.next = 35;
                break;
              }
              _SharedFunction["default"].handleSessionExpiration(response, _this3);
              return _context.abrupt("return");

             case 35:
              if (!_SharedFunction["default"].isServerError(response)) {
                _context.next = 38;
                break;
              }
              _SharedFunction["default"].handleServerError(response, _this3);
              return _context.abrupt("return");

             case 38:
              console.log(response);
              if (Object.keys(response).length > 0) {
                if (200 == response["status"]) {
                  localStorage.setItem("verified_password", newPass);
                  _this3.myCurrPassInput.getComponent(cc.EditBox).string = "";
                  _this3.myNewPassInput.getComponent(cc.EditBox).string = "";
                  _this3.myConPassInput.getComponent(cc.EditBox).string = "";
                  _this3.myError1Label.active = false;
                  _this3.myError2Label.active = false;
                  _this3.myError3Label.active = false;
                }
                _this3.showLableError(_this3.myError3Label, response.message);
              }
              _context.next = 51;
              break;

             case 42:
              _context.prev = 42;
              _context.t0 = _context["catch"](26);
              if (!_SharedFunction["default"].handleSessionExpiration(_context.t0, _this3)) {
                _context.next = 46;
                break;
              }
              return _context.abrupt("return");

             case 46:
              if (!_SharedFunction["default"].handleServerError(_context.t0, _this3)) {
                _context.next = 49;
                break;
              }
              _SharedFunction["default"].hideLoadingView(_this3);
              return _context.abrupt("return");

             case 49:
              _this3.showLableError(_this3.myError3Label, _context.t0.message);
              _SharedFunction["default"].hideLoadingView(_this3);

             case 51:
             case "end":
              return _context.stop();
            }
          }, _callee, null, [ [ 26, 42 ] ]);
        }))();
      },
      onDisableAuthenticatorDidPress: function onDisableAuthenticatorDidPress(event, customEventData) {
        var _this4 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee2() {
          return _regeneratorRuntime().wrap(function _callee2$(_context2) {
            while (1) switch (_context2.prev = _context2.next) {
             case 0:
              _SharedFunction["default"].playButtonClickSound();
              true;
              _this4.my2FaAuthenticatorView.active = false;
              _this4.my2FaAuthenticatorRegisterView.active = true;

             case 2:
             case "end":
              return _context2.stop();
            }
          }, _callee2);
        }))();
      },
      showLableError: function showLableError(labelComponent, text) {
        this.myError1Label.active = false;
        this.myError2Label.active = false;
        this.myError3Label.active = false;
        if (labelComponent) {
          this.myScrollView.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0, -1 * labelComponent.y - 160), .1, false);
          labelComponent.getComponent(cc.Label).string = text;
          labelComponent.active = true;
          cc.tween(labelComponent).to(1 / 12, {
            scale: 1.1
          }).to(1 / 12, {
            scale: 1
          }).start();
        }
      },
      localizeUI: function localizeUI() {
        this.mTitleLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "title");
        this.mSoundTabLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "sound");
        this.mChangePassTabLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "changePassword");
        this.m2FaTabLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "2Fa");
        this.mVersionTabLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "version");
        this.mLogoutTabLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "logout");
        this.mMusicLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "music");
        this.mMuteLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "mute");
        this.mSoundLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "sound");
        this.mMusicSwitchLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, !_SharedData["default"].getMuteStatus() && _SharedData["default"].getPlayBackgroundMusicSoundStatus() ? "on" : "off");
        this.mSoundSwitchLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, _SharedData["default"].getMuteStatus() && _SharedData["default"].getPlayButtonClickSoundStatus() ? "on" : "off");
        this.mMuteSwitchLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, _SharedData["default"].getMuteStatus() ? "on" : "off");
        this.mAuthenticatorLbl.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, this.mAuthenticatorStatus ? "on" : "off");
        this.mCurrentPassLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "currentPassword");
        this.mNewPassLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "newPassword");
        this.mConfirmPassLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "confirmPassword");
        this.mConfirmLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "confirm");
        this.mLogoutLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "logout");
        this.mDescLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "logoutDesc");
        this.mNoLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "no");
        this.mYesLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "yes");
        this.mAuthenticatorTitleLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "authenticator");
      },
      updatePrefabSize: function updatePrefabSize() {
        var visibleSize = cc.view.getVisibleSize();
      }
    });
    cc._RF.pop();
  }, {
    "../Services/UserService": "UserService",
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  SharedData: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "8a39ahuQfJK6ZZhZLQy8PFQ", "SharedData");
    "use strict";
    var SharedData = {};
    var mUserObject = {};
    var mSocialMediaObject = {};
    var mGameList = [];
    var mAccumulateDepositObject = {};
    var mWelcomeBonusObject = null;
    var mPromotionObject = {};
    var mMissionDataObject = {};
    var mWithdrawObject = {};
    var mWeekCardDataObject = {};
    var mReliefFundDataObject = {};
    var mSignInRecordObject = {};
    var mSignInViewInfoObject = null;
    var mIncentiveDataObject = null;
    var mReferralObject = {};
    var mPaymentsProvider = [];
    var mVipList = {};
    var mGameCategories = {};
    var mVerifyPromo = "0";
    var mLiveChat = "";
    var mAab = false;
    var mIsApp = false;
    var mVersion = "";
    var mBundleId = "";
    var mUuid = "";
    var mDevice = "";
    var mReferral = "";
    var mAgentCode = "";
    var mFbClid = "";
    var mMetaId = "";
    var timezone = "+8";
    var defaultLanguage = "en";
    var mPhoneCode = "+880";
    var mCurrency = "BDT";
    var mPrefix = "";
    var mDevDomain = "https://aics.pusingzai.com";
    var mGameViewData = {};
    var mNewMessageCount = 0;
    var mLandingAlertMessage = "";
    var mAnnouncement = [];
    var mMailBox = {};
    var mBannerList = [];
    var mCachedGameAssetList = [];
    var mPopoutItem = null;
    SharedData.showTopupOnLobbyLoad = false;
    SharedData.getCurrentEnv = function() {
      return SharedData.getAvailableEnvironment().ENV_DEVELOPMENT;
    };
    SharedData.getAvailableEnvironment = function() {
      return {
        ENV_DEVELOPMENT: "development",
        ENV_STAGING: "staging",
        ENV_PRODUCTION: "production"
      };
    };
    SharedData.getApiUrl = function() {
      return SharedData.getCurrentEnv() == SharedData.getAvailableEnvironment().ENV_DEVELOPMENT ? mDevDomain : "";
    };
    SharedData.getTimeZone = function() {
      return timezone;
    };
    SharedData.setCurrentLanguage = function(value) {
      var v = null != value ? value : defaultLanguage;
      localStorage.setItem("current_language", v);
    };
    SharedData.getCurrentLanguage = function() {
      null == localStorage.getItem("current_language") && localStorage.setItem("current_language", defaultLanguage);
      return localStorage.getItem("current_language");
    };
    SharedData.setPhoneCode = function(value) {
      mPhoneCode = value;
    };
    SharedData.getPhoneCode = function() {
      return mPhoneCode;
    };
    SharedData.getCurrency = function() {
      return mCurrency;
    };
    SharedData.getPrefix = function() {
      return mPrefix;
    };
    SharedData.getVerificationStatus = function() {
      if (!mUserObject.hasOwnProperty("firstPasswordUpdate")) return false;
      if (!mUserObject.hasOwnProperty("phoneNumber")) return false;
      if ("" == mUserObject["phoneNumber"] || false == mUserObject["firstPasswordUpdate"]) return false;
      return true;
    };
    SharedData.setPopoutItem = function(value) {
      mPopoutItem = value;
    };
    SharedData.getPopoutItem = function() {
      return mPopoutItem;
    };
    SharedData.setWithdrawObject = function(value) {
      mWithdrawObject = value;
    };
    SharedData.getWithdrawObject = function() {
      return mWithdrawObject;
    };
    SharedData.setReferralObject = function(value) {
      mReferralObject = value;
    };
    SharedData.getReferralObject = function() {
      return mReferralObject;
    };
    SharedData.setPaymentsProviderObject = function(value) {
      mPaymentsProvider = value;
    };
    SharedData.getPaymentsProviderObject = function() {
      return mPaymentsProvider;
    };
    SharedData.setVipList = function(value) {
      mVipList = value;
    };
    SharedData.getVipList = function() {
      return mVipList;
    };
    SharedData.setVerifyPromo = function(value) {
      var v = 0;
      1 == value.status && null != value.amount && "" != value.amount && (v = value.amount);
      mVerifyPromo = v;
    };
    SharedData.getVerifyPromo = function() {
      return mVerifyPromo;
    };
    SharedData.setAab = function(value) {
      mAab = 1 == value;
    };
    SharedData.getAab = function() {
      return mAab;
    };
    SharedData.setIsApp = function(value) {
      mIsApp = 1 == value;
    };
    SharedData.getIsApp = function() {
      return mIsApp;
    };
    SharedData.setVersion = function(value) {
      mVersion = null != value ? value : "";
    };
    SharedData.getVersion = function() {
      return mVersion;
    };
    SharedData.setBundleId = function(value) {
      mBundleId = null != value ? value : "";
    };
    SharedData.getBundleId = function() {
      return "" == mBundleId ? "h5" : mBundleId;
    };
    SharedData.setUuid = function(value) {
      mUuid = null != value ? value : "";
    };
    SharedData.getUuid = function() {
      return mUuid;
    };
    SharedData.setDevice = function(value) {
      mDevice = null != value ? value : "";
    };
    SharedData.getDevice = function() {
      return mDevice;
    };
    SharedData.setReferral = function(value) {
      mReferral = null != value ? value : "";
    };
    SharedData.getReferral = function() {
      return mReferral;
    };
    SharedData.setAgentCode = function(value) {
      mAgentCode = null != value ? value : "";
    };
    SharedData.getAgentCode = function() {
      return mAgentCode;
    };
    SharedData.setFbclid = function(value) {
      mFbClid = null != value ? value : "";
    };
    SharedData.getFbclid = function() {
      return mFbClid;
    };
    SharedData.setMetaId = function(value) {
      mMetaId = null != value ? value : "";
    };
    SharedData.getMetaId = function() {
      return mMetaId;
    };
    SharedData.guard = function() {
      var aab = SharedData.getAab();
      var verificationStatus = SharedData.getVerificationStatus();
      var userObject = SharedData.getUserObject();
      var completeFirstDeposit = "" != (null == userObject ? void 0 : userObject.firstDepositDate);
      return aab ? verificationStatus ? completeFirstDeposit ? "download" : "alert" : "verification" : verificationStatus ? "proceed" : "verification";
    };
    SharedData.gameGuard = function() {
      var aab = SharedData.getAab();
      var verificationStatus = SharedData.getVerificationStatus();
      var userObject = SharedData.getUserObject();
      var completeFirstDeposit = "" != (null == userObject ? void 0 : userObject.firstDepositDate);
      return aab ? verificationStatus ? completeFirstDeposit ? "download" : "proceed" : completeFirstDeposit ? "verification" : "proceed" : verificationStatus ? "proceed" : completeFirstDeposit ? "verification" : "proceed";
    };
    SharedData.setUserObject = function(object) {
      mUserObject = object;
    };
    SharedData.getUserObject = function() {
      mUserObject["username"] && (mUserObject["username"] = mUserObject["username"].replace(SharedData.getPrefix(), ""));
      return mUserObject;
    };
    SharedData.setGameCategories = function(object) {
      mGameCategories = object;
    };
    SharedData.getGameCategories = function() {
      return mGameCategories;
    };
    SharedData.setSelectedAvatar = function(avatarNumber) {
      localStorage.setItem("selected_avatar", avatarNumber);
    };
    SharedData.getSelectedAvatar = function() {
      return null == localStorage.getItem("selected_avatar") ? 1 : localStorage.getItem("selected_avatar");
    };
    SharedData.setPlayButtonClickSoundStatus = function(status) {
      localStorage.setItem("playSound", status);
    };
    SharedData.getPlayButtonClickSoundStatus = function() {
      var status = localStorage.getItem("playSound");
      return null == status || "true" == status;
    };
    SharedData.setPlayBackgroundMusicSoundStatus = function(status) {
      localStorage.setItem("playMusic", status);
    };
    SharedData.getPlayBackgroundMusicSoundStatus = function() {
      var status = localStorage.getItem("playMusic");
      return null == status || "true" == status;
    };
    SharedData.setMuteStatus = function(status) {
      localStorage.setItem("Mute", status);
    };
    SharedData.getMuteStatus = function() {
      var status = localStorage.getItem("Mute");
      return null != status && "true" == status;
    };
    SharedData.setGameList = function(array) {
      for (var i = 0; i < array.length; i++) {
        var currentGameList = array[i];
        var innerGameList = currentGameList["list"];
        currentGameList["custom_list"] = [];
        var customInnerGameList = [];
        for (var k = 0; k < innerGameList.length; k++) {
          var currentGame = innerGameList[k];
          if ("square" == currentGame["imageSize"]) {
            customInnerGameList.push(currentGame);
            if (customInnerGameList.length >= 2) {
              currentGameList["custom_list"].push(customInnerGameList);
              customInnerGameList = [];
            } else if (k == innerGameList.length - 1) {
              currentGameList["custom_list"].push(customInnerGameList);
              customInnerGameList = [];
            }
          } else {
            customInnerGameList.push(currentGame);
            currentGameList["custom_list"].push(customInnerGameList);
            customInnerGameList = [];
          }
        }
        array[i] = currentGameList;
      }
      mGameList = array;
    };
    SharedData.getGameList = function() {
      return mGameList;
    };
    SharedData.setSocialMediaObject = function(object) {
      mSocialMediaObject = object;
    };
    SharedData.getSocialMediaObject = function() {
      return mSocialMediaObject;
    };
    SharedData.setLiveChat = function(liveChat) {
      mLiveChat = liveChat;
    };
    SharedData.getLiveChat = function() {
      return mLiveChat;
    };
    SharedData.setAccumulateDepositObject = function(object) {
      mAccumulateDepositObject = object;
    };
    SharedData.getAccumulateDepositObject = function() {
      return mAccumulateDepositObject;
    };
    SharedData.setWelcomeBonusObject = function(object) {
      mWelcomeBonusObject = object;
    };
    SharedData.getWelcomeBonusObject = function() {
      return mWelcomeBonusObject;
    };
    SharedData.setPromotionObject = function(object) {
      mPromotionObject = object;
    };
    SharedData.getPromotionObject = function() {
      return mPromotionObject;
    };
    SharedData.setMissionDataObject = function(object) {
      mMissionDataObject = object;
    };
    SharedData.getMissionDataObject = function() {
      return mMissionDataObject;
    };
    SharedData.setWeekCardDataObject = function(object) {
      mWeekCardDataObject = object;
    };
    SharedData.getWeekCardDataObject = function() {
      return mWeekCardDataObject;
    };
    SharedData.setReliefFundDataObject = function(object) {
      mReliefFundDataObject = object;
    };
    SharedData.getReliefFundDataObject = function() {
      return mReliefFundDataObject;
    };
    SharedData.setSignInRecordObject = function(object) {
      mSignInRecordObject = object;
    };
    SharedData.getSignInRecordObject = function() {
      return mSignInRecordObject;
    };
    SharedData.setSignInViewInfoObject = function(object) {
      mSignInViewInfoObject = object;
    };
    SharedData.getSignInViewInfoObject = function() {
      return mSignInViewInfoObject;
    };
    SharedData.setIncentiveDataObject = function(object) {
      mIncentiveDataObject = object;
    };
    SharedData.getIncentiveDataObject = function() {
      return mIncentiveDataObject;
    };
    SharedData.setGameViewData = function(data) {
      mGameViewData = data;
    };
    SharedData.getGameViewData = function() {
      return mGameViewData;
    };
    SharedData.setNewMessageCount = function(value) {
      mNewMessageCount = value;
    };
    SharedData.getNewMessageCount = function() {
      return mNewMessageCount;
    };
    SharedData.setLandingAlertMessage = function(value) {
      mLandingAlertMessage = value;
    };
    SharedData.getLandingAlertMessage = function() {
      return mLandingAlertMessage;
    };
    SharedData.setAnnouncement = function(value) {
      mAnnouncement = value;
    };
    SharedData.getAnnouncement = function() {
      return mAnnouncement;
    };
    SharedData.setMailBox = function(value) {
      mMailBox = value;
    };
    SharedData.getMailBox = function() {
      return mMailBox;
    };
    SharedData.setBanner = function(value) {
      mBannerList = value;
    };
    SharedData.getBanner = function() {
      return mBannerList;
    };
    SharedData.addCachedGameList = function(value) {
      mCachedGameAssetList.push(value);
    };
    SharedData.getCachedGameList = function() {
      return mCachedGameAssetList;
    };
    SharedData.clearCachedGameList = function() {
      mCachedGameAssetList = [];
    };
    module.exports = SharedData;
    cc._RF.pop();
  }, {} ],
  SharedFunction: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "23b74OhfdpP6aZ59+eHb9i6", "SharedFunction");
    "use strict";
    var _SharedData = _interopRequireDefault(require("SharedData"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    var SharedFunction = {};
    var loadingView = null;
    var loadingViewPrefab = null;
    var alertView = null;
    var alertViewPrefab = null;
    var messageInfoViewPrefab = null;
    var messageInfoView = null;
    var loadingViewReconnect = null;
    var loadingViewReconnectPrefab = null;
    var changeProfileView = null;
    var changeProfileViewPrefab = null;
    var alertViewNormal = null;
    var alertViewNormalPrefab = null;
    var loadShowCount = 0;
    SharedFunction.isMobile = function() {
      var check = false;
      (function(a) {
        (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) && (check = true);
      })(navigator.userAgent || navigator.vendor);
      return check;
    }, SharedFunction.getMobileOperatingSystem = function() {
      var userAgent = navigator.userAgent || navigator.vendor || window.opera;
      if (/windows phone/i.test(userAgent)) return "Windows Phone";
      if (/android/i.test(userAgent)) return "Android";
      if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) return "iOS";
      return "unknown";
    }, SharedFunction.callingAPI = function(method, URL, params, mCallBack) {
      var apiPath = require("SharedData").getApiUrl() + URL;
      var myParams = "";
      for (var key in params) myParams += ("" == myParams ? "" : "&") + key + "=" + params[key];
      "GET" == method && (apiPath = apiPath + "?" + myParams);
      var xhr = cc.loader.getXMLHttpRequest();
      xhr.open(method, apiPath);
      if ("GET" == method) {
        xhr.setRequestHeader("Content-Type", "text/plain");
        xhr.send();
      } else {
        xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xhr.send(myParams);
      }
      xhr.onreadystatechange = function() {
        4 == xhr.readyState && xhr.status >= 200 && xhr.status <= 207 ? mCallBack(JSON.parse(xhr.responseText)) : mCallBack(xhr.responseText);
      };
    };
    SharedFunction.pad = function(n) {
      return n < 10 ? "0" + n : n;
    };
    SharedFunction.chour = function(n) {
      if (0 == n) return n + 12;
      n > 12 && (n -= 12);
      return n;
    };
    SharedFunction.showNumberWithDecimal = function(num, n) {
      return parseFloat(Math.round(num * Math.pow(10, n)) / Math.pow(10, n)).toFixed(n);
    };
    SharedFunction.showNumberWithComma = function(num) {
      return parseInt(num).toLocaleString();
    };
    SharedFunction.numberWithCommas = function(x) {
      var sanitizedValue = x.toString().replace(/,/g, "");
      var decimals = 2;
      return _SharedData["default"].getCurrency() + " " + Number.parseFloat(sanitizedValue).toLocaleString(void 0, {
        minimumFractionDigits: decimals,
        maximumFractionDigits: decimals
      });
    };
    SharedFunction.showNumberWithDecimalAndComma = function(num, n) {
      return parseFloat(Math.round(num * Math.pow(10, n)) / Math.pow(10, n)).toFixed(n).toLocaleString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    };
    SharedFunction.getActualWidth = function(originalSize) {
      var defaultWidth = 640;
      var currentWidth = cc.view.getFrameSize().width;
      var scaleX = currentWidth / defaultWidth;
      return originalSize * scaleX;
    };
    SharedFunction.getActualHeight = function(originalSize) {
      var defaultHeight = 1136;
      var currentHeight = cc.view.getFrameSize().height;
      var scaleY = currentHeight / defaultHeight;
      return originalSize * scaleY;
    };
    SharedFunction.getScale = function(actualItemWidth, actualItemHeight) {
      var currentDeviceWidth = cc.view.getFrameSize().width;
      var currentDeviceHeight = cc.view.getFrameSize().height;
      var currentItemWidth = actualItemWidth;
      var currentItemHeight = actualItemHeight;
      if (actualItemWidth > currentDeviceWidth && actualItemHeight > currentDeviceHeight) {
        currentItemWidth = actualItemWidth / 2;
        currentItemHeight = actualItemHeight / 2;
      }
      var scaleWidth = currentDeviceWidth / currentItemWidth;
      var scaleHeight = currentDeviceHeight / currentItemHeight;
      var actualScale = 1;
      if (currentDeviceWidth > currentDeviceHeight) if (scaleWidth.toFixed(1) == scaleHeight.toFixed(1)) actualScale = 1; else if (currentDeviceWidth / currentDeviceHeight > actualItemWidth / actualItemHeight) actualScale = 1; else {
        var ratioDifference = scaleWidth > scaleHeight ? scaleWidth - scaleHeight : scaleHeight - scaleWidth;
        actualScale = 1 - ratioDifference;
      } else {
        var screenWidthDifference = currentItemWidth > currentDeviceWidth ? currentItemWidth - currentDeviceWidth : currentDeviceWidth - currentItemWidth;
        actualScale = Math.min(scaleWidth, scaleHeight);
      }
      return actualScale;
    };
    SharedFunction.setCookie = function(cName, cValue, expDays) {
      var d = new Date();
      d.setTime(d.getTime() + 24 * expDays * 60 * 60 * 1e3);
      var expires = "expires=" + d.toUTCString();
      document.cookie = cName + "=" + cValue + ";" + expires + ";path=/";
    };
    SharedFunction.getCookie = function(cName) {
      var name = cName + "=";
      var ca = document.cookie.split(";");
      for (var i = 0; i < ca.length; i++) {
        var c = ca[i];
        while (" " == c.charAt(0)) c = c.substring(1);
        if (0 == c.indexOf(name)) return c.substring(name.length, c.length);
      }
      return "";
    };
    SharedFunction.playButtonClickSound = function() {
      if (_SharedData["default"].getPlayButtonClickSoundStatus() && !_SharedData["default"].getMuteStatus()) {
        var url = "sounds/button_click";
        cc.loader.loadRes(url, cc.AudioClip, function(err, audioClip) {
          cc.audioEngine.play(audioClip, false, 1);
        });
      }
    };
    SharedFunction.playLobbyBackgroundMusic = function() {
      cc.audioEngine.stopAll();
      if (_SharedData["default"].getPlayBackgroundMusicSoundStatus() && !_SharedData["default"].getMuteStatus()) {
        var url = "sounds/background_music";
        cc.loader.loadRes(url, cc.AudioClip, function(err, audioClip) {
          cc.audioEngine.play(audioClip, true, 1);
        });
      }
    };
    SharedFunction.stopLobbyBackgroundMusic = function() {
      cc.audioEngine.stopAll();
    };
    SharedFunction.playLobbyBackgroundMusicForExitsGame = function() {
      this.playLobbyBackgroundMusic();
    };
    SharedFunction.getRandomArbitrary = function(min, max) {
      return Math.random() * (max - min) + min;
    };
    SharedFunction.setLoadingViewPrefabs = function(prefab) {
      loadingViewPrefab = prefab;
    };
    SharedFunction.showLoadingView = function(string, parentView) {
      void 0 === string && (string = "");
      var showLoadingView = function showLoadingView() {
        loadingView = cc.instantiate(loadingViewPrefab).getComponent("LoadingView");
        loadingView.init(0, 0, 1136, 640);
        loadingView.setText(string);
        parentView.node.addChild(loadingView.node);
      };
      null == loadingViewPrefab ? cc.resources.load("prefabs/LoadingView/LoadingView", cc.Prefab, function(err, prefab) {
        if (err) {
          console.error("Failed to load loadingView prefab:", err);
          return;
        }
        loadingViewPrefab = prefab;
        showLoadingView();
      }) : showLoadingView();
    };
    SharedFunction.updateLoadingView = function(string) {
      void 0 === string && (string = "");
      null != loadingView && loadingView.setText(string);
    };
    SharedFunction.hideLoadingView = function(parentView) {
      loadShowCount--;
      null != loadingView && null != parentView && null != parentView.node && parentView.node.removeChild(loadingView.node);
    };
    SharedFunction.setAlertViewPrefabs = function(prefab) {
      alertViewPrefab = prefab;
    };
    SharedFunction.showAlertView = function(string, parentView, callback) {
      void 0 === string && (string = "");
      var showAlertView = function showAlertView() {
        alertView = cc.instantiate(alertViewPrefab).getComponent("AlertView");
        alertView.init(0, 0, 1136, 640);
        alertView.setText(string);
        alertView.setTitle("Alert");
        callback && "function" === typeof callback && alertView.setCallback(callback);
        parentView.node.addChild(alertView.node);
      };
      null == alertViewPrefab ? cc.resources.load("prefabs/AlertView/AlertView", cc.Prefab, function(err, prefab) {
        if (err) {
          console.error("Failed to load alertView prefab:", err);
          return;
        }
        alertViewPrefab = prefab;
        showAlertView();
      }) : showAlertView();
    };
    SharedFunction.hideAlertView = function(parentView) {
      null != alertView && parentView.node.removeChild(alertView.node);
    };
    SharedFunction.setMessageInfoViewPrefab = function(prefab) {
      messageInfoViewPrefab = prefab;
    };
    SharedFunction.showMessageInfoView = function(text, parentView, duration, callback) {
      void 0 === text && (text = "");
      void 0 === duration && (duration = 1);
      var showMessageInfoView = function showMessageInfoView() {
        messageInfoView = cc.instantiate(messageInfoViewPrefab).getComponent("MessageInfoView");
        messageInfoView.init(0, 0, 1136, 640);
        messageInfoView.setText(text);
        callback && "function" === typeof callback && messageInfoView.setCallback(callback);
        parentView.node.addChild(messageInfoView.node);
        messageInfoView.show(duration);
      };
      null == messageInfoViewPrefab ? cc.resources.load("prefabs/AlertView/MessageInfoView", cc.Prefab, function(err, prefab) {
        if (err) {
          console.error("Failed to load messageInfoView prefab:", err);
          return;
        }
        messageInfoViewPrefab = prefab;
        showMessageInfoView();
      }) : showMessageInfoView();
    };
    SharedFunction.hideMessageInfoView = function(parentView) {
      null != messageInfoView && messageInfoView.node && messageInfoView.node.isValid && messageInfoView.dismiss();
    };
    SharedFunction.loadImgRes = function(url, spriteNode) {
      cc.loader.loadRes(url, cc.SpriteFrame, function(err, spriteFrame) {
        if (err) {
          cc.error(err.message || err);
          return;
        }
        spriteNode.spriteFrame = spriteFrame;
      });
    };
    SharedFunction.getQueryParam = function(param) {
      var urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }, SharedFunction.logout = function() {
      var _ref = _asyncToGenerator(_regeneratorRuntime().mark(function _callee(parentView) {
        return _regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
           case 0:
            localStorage.removeItem("from_index");
            localStorage.removeItem("token");
            localStorage.removeItem("verified_username");
            localStorage.removeItem("verified_password");
            localStorage.removeItem("unverified_username");
            localStorage.removeItem("unverified_email");
            localStorage.removeItem("unverified_phoneNum");
            localStorage.removeItem("unverified_password");
            localStorage.removeItem("unverified_fullName");
            localStorage.removeItem("unverified_referal");
            localStorage.removeItem("unverified_phoneotp");
            localStorage.removeItem("returningFromGame");
            localStorage.removeItem("gameHistory");
            _SharedData["default"].setUserObject({});
            _SharedData["default"].setAccumulateDepositObject({});
            _SharedData["default"].setWelcomeBonusObject(null);
            _SharedData["default"].setMissionDataObject({});
            _SharedData["default"].setWithdrawObject({});
            _SharedData["default"].setWeekCardDataObject({});
            _SharedData["default"].setReliefFundDataObject({});
            _SharedData["default"].setSignInRecordObject({});
            _SharedData["default"].setMailBox({});
            _SharedData["default"].setIncentiveDataObject(null);
            _SharedData["default"].setReferralObject({});
            _SharedData["default"].setPaymentsProviderObject([]);
            _SharedData["default"].setVipList({});
            _SharedData["default"].setGameList([]);
            _SharedData["default"].setGameCategories({});
            _SharedData["default"].setAnnouncement([]);
            _SharedData["default"].setBanner([]);
            _SharedData["default"].clearCachedGameList();
            _SharedData["default"].setNewMessageCount(0);
            _SharedData["default"].setLandingAlertMessage("");
            _SharedData["default"].setPopoutItem(null);
            SharedFunction.hideLoadingView(parentView);

           case 35:
           case "end":
            return _context.stop();
          }
        }, _callee);
      }));
      return function(_x) {
        return _ref.apply(this, arguments);
      };
    }();
    SharedFunction.isSessionExpired = function(error) {
      var _error$response;
      if (!error) return false;
      var status = error.status || (null == (_error$response = error.response) ? void 0 : _error$response.status);
      if (401 === status || 402 === status || 403 === status) {
        var _error$data, _error$data2, _error$data2$data;
        var message = "";
        if (null != (_error$data = error.data) && _error$data.message) message = error.data.message; else if (null != (_error$data2 = error.data) && null != (_error$data2$data = _error$data2.data) && _error$data2$data.message) message = error.data.data.message; else if (error.message) message = error.message; else if (error.error) try {
          var parsedError = "string" === typeof error.error ? JSON.parse(error.error) : error.error;
          message = parsedError.message || parsedError.msg || "";
        } catch (e) {
          message = "string" === typeof error.error ? error.error : "";
        }
        if (message && (message.toLowerCase().includes("session expired") || message.toLowerCase().includes("another login detected") || message.toLowerCase().includes("token expired") || message.toLowerCase().includes("unauthorized"))) return true;
        return true;
      }
      return false;
    };
    SharedFunction.isServerError = function(error) {
      var _error$response2;
      if (!error) return false;
      var status = error.status || (null == (_error$response2 = error.response) ? void 0 : _error$response2.status);
      return 500 === status;
    };
    SharedFunction.handleServerError = function(error, parentView) {
      if (SharedFunction.isServerError(error)) {
        var message = "We're sorry, but something went wrong on our end. Our team has been notified and is working to fix the issue. Please try again later.";
        parentView && parentView.node && SharedFunction.showMessageInfoView(message, parentView, 3);
        return true;
      }
      return false;
    };
    SharedFunction.handleSessionExpiration = function(error, parentView) {
      if (SharedFunction.isSessionExpired(error)) {
        var _error$data3, _error$data4, _error$data4$data;
        console.log("Session expired, logging out user", error);
        var message = "Session expired. Please login again.";
        null != (_error$data3 = error.data) && _error$data3.message ? message = error.data.message : null != (_error$data4 = error.data) && null != (_error$data4$data = _error$data4.data) && _error$data4$data.message ? message = error.data.data.message : error.message && (message = error.message);
        if (parentView && parentView.node) SharedFunction.showMessageInfoView(message, parentView, 2, function() {
          SharedFunction.logout(parentView);
          setTimeout(function() {
            cc.director.loadScene("Splash");
          }, 100);
        }); else {
          SharedFunction.logout(parentView);
          setTimeout(function() {
            cc.director.loadScene("Splash");
          }, 100);
        }
        SharedFunction.hideLoadingView(parentView);
        return true;
      }
      return false;
    };
    SharedFunction.isLoggedIn = function() {
      return null != localStorage.getItem("verified_username") && "" != localStorage.getItem("verified_username") && null != localStorage.getItem("verified_password") && "" != localStorage.getItem("verified_password") && null != localStorage.getItem("token") && "" != localStorage.getItem("token");
    };
    SharedFunction.getTonightMidnight = function() {
      var midnight = new Date();
      midnight.setHours(24, 0, 0, 0);
      return midnight.getTime();
    };
    SharedFunction.setTodayData = function(key, value) {
      var item = {
        value: value,
        expiry: this.getTonightMidnight()
      };
      localStorage.setItem(key, JSON.stringify(item));
    };
    SharedFunction.getTodayData = function(key, defaultValue) {
      void 0 === defaultValue && (defaultValue = null);
      var itemStr = localStorage.getItem(key);
      if (!itemStr) return defaultValue;
      try {
        var item = JSON.parse(itemStr);
        var now = new Date().getTime();
        if (now > item.expiry) {
          localStorage.removeItem(key);
          return defaultValue;
        }
        return item.value;
      } catch (error) {
        console.error("Error parsing stored item:", error);
        return defaultValue;
      }
    };
    SharedFunction.getRandomAlphaNumeric = function(length) {
      var characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
      var result = "";
      var charactersLength = characters.length;
      for (var i = 0; i < length; i++) result += characters.charAt(Math.floor(Math.random() * charactersLength));
      return result;
    };
    SharedFunction.getRandomNumber = function(min, max) {
      return parseInt(Math.random() * (max - min) + min);
    };
    SharedFunction.getLocalizedString = function(i18n, key) {
      var currentLanguage = _SharedData["default"].getCurrentLanguage();
      if (i18n && i18n.json) {
        var langData = i18n.json[currentLanguage];
        if (langData && langData[key]) return langData[key];
        console.warn('Missing localization for key: "' + key + '" in language: "' + currentLanguage + '"');
        return key;
      }
      console.error("Localization data is not loaded.");
      return key;
    };
    SharedFunction.getDateRange = function(dayRange) {
      var today = new Date();
      var beforeToday = new Date();
      beforeToday.setDate(today.getDate() - dayRange);
      var formatDate = function formatDate(date) {
        var year = date.getFullYear();
        var month = String(date.getMonth() + 1).padStart(2, "0");
        var day = String(date.getDate()).padStart(2, "0");
        return year + "-" + month + "-" + day;
      };
      return {
        from: formatDate(beforeToday),
        to: formatDate(today)
      };
    };
    SharedFunction.getTodayDate = function() {
      var today = new Date();
      var year = today.getFullYear();
      var month = String(today.getMonth() + 1).padStart(2, "0");
      var day = String(today.getDate()).padStart(2, "0");
      return year + "-" + month + "-" + day;
    };
    SharedFunction.getTomorrowDate = function() {
      var tomorrow = new Date();
      tomorrow.setDate(tomorrow.getDate() + 1);
      var year = tomorrow.getFullYear();
      var month = String(tomorrow.getMonth() + 1).padStart(2, "0");
      var day = String(tomorrow.getDate()).padStart(2, "0");
      return year + "-" + month + "-" + day;
    };
    SharedFunction.getLocalDate = function(date) {
      var localDate = new Date(date);
      var year = localDate.getFullYear();
      var month = String(localDate.getMonth() + 1).padStart(2, "0");
      var day = String(localDate.getDate()).padStart(2, "0");
      var hours = String(localDate.getHours()).padStart(2, "0");
      var minutes = String(localDate.getMinutes()).padStart(2, "0");
      var seconds = String(localDate.getSeconds()).padStart(2, "0");
      return year + "-" + month + "-" + day + " " + hours + ":" + minutes + ":" + seconds;
    };
    SharedFunction.RangeCheck = function(value) {
      var regex = /^.{6,}$/;
      return regex.test(value);
    };
    SharedFunction.EmailCheck = function(value) {
      var regex = /^(?=.*@)(?=.*\.).+$/;
      return regex.test(value);
    };
    SharedFunction.passwordRegexCheck = function(value) {
      var regex = /^[a-zA-Z0-9]{6,20}$/;
      return regex.test(value);
    };
    SharedFunction.usernameRegexCheck = function(value) {
      var regex = /^[a-z0-9]{6,12}$/;
      return regex.test(value);
    };
    SharedFunction.tacCodeRegexCheck = function(value) {
      var regex = /^\d{4}$/;
      return regex.test(value);
    };
    SharedFunction.formatString = function(template) {
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) args[_key - 1] = arguments[_key];
      return template.replace(/\{(\d+)\}/g, function(match, index) {
        return void 0 !== args[index] ? args[index] : match;
      });
    };
    SharedFunction.sendToApp = function(data) {
      window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.send && window.webkit.messageHandlers.send.postMessage({
        json: data
      });
      if (window.android && "function" === typeof window.android.send) {
        console.log(JSON.stringify(window.android));
        console.log(typeof window.android.send);
        window.android.send(data);
      }
    };
    SharedFunction.copyToClipboard = function() {
      var _ref2 = _asyncToGenerator(_regeneratorRuntime().mark(function _callee2(value) {
        var textarea;
        return _regeneratorRuntime().wrap(function _callee2$(_context2) {
          while (1) switch (_context2.prev = _context2.next) {
           case 0:
            _context2.prev = 0;
            if (!navigator.clipboard) {
              _context2.next = 7;
              break;
            }
            _context2.next = 4;
            return navigator.clipboard.writeText(value);

           case 4:
            return _context2.abrupt("return", true);

           case 7:
            textarea = document.createElement("textarea");
            textarea.value = value;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand("copy");
            document.body.removeChild(textarea);
            return _context2.abrupt("return", true);

           case 14:
            _context2.next = 20;
            break;

           case 16:
            _context2.prev = 16;
            _context2.t0 = _context2["catch"](0);
            _context2.t0 instanceof Error ? alert("Failed to copy text: " + _context2.t0.message) : alert("Failed to copy text: Unknown error");
            return _context2.abrupt("return", false);

           case 20:
           case "end":
            return _context2.stop();
          }
        }, _callee2, null, [ [ 0, 16 ] ]);
      }));
      return function(_x2) {
        return _ref2.apply(this, arguments);
      };
    }();
    module.exports = SharedFunction;
    cc._RF.pop();
  }, {
    SharedData: "SharedData"
  } ],
  SimpleBirthdayPicker: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b4a39RLbABM5YcD+cVKKA8Q", "SimpleBirthdayPicker");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        prevYearBtn: cc.Node,
        yearLabel: cc.Label,
        nextYearBtn: cc.Node,
        prevMonthBtn: cc.Node,
        monthLabel: cc.Label,
        nextMonthBtn: cc.Node,
        prevDayBtn: cc.Node,
        dayLabel: cc.Label,
        nextDayBtn: cc.Node,
        minYear: {
          default: 1900,
          tooltip: "\u53ef\u9009\u7684\u6700\u5c0f\u5e74\u4efd"
        },
        maxYear: {
          default: 0,
          tooltip: "\u53ef\u9009\u7684\u6700\u5927\u5e74\u4efd\uff080\u8868\u793a\u5f53\u524d\u5e74\u4efd\uff09"
        },
        _selectedYear: 2e3,
        _selectedMonth: 1,
        _selectedDay: 1
      },
      onLoad: function onLoad() {
        0 === this.maxYear && (this.maxYear = new Date().getFullYear());
        this.initDate();
        this.initEvents();
        this.updateDisplay();
      },
      initDate: function initDate() {
        this._selectedYear = 2e3;
        this._selectedMonth = 1;
        this._selectedDay = 1;
      },
      initEvents: function initEvents() {
        this.prevYearBtn.on("click", this.onPrevYear, this);
        this.nextYearBtn.on("click", this.onNextYear, this);
        this.prevMonthBtn.on("click", this.onPrevMonth, this);
        this.nextMonthBtn.on("click", this.onNextMonth, this);
        this.prevDayBtn.on("click", this.onPrevDay, this);
        this.nextDayBtn.on("click", this.onNextDay, this);
        this.addLongPressSupport();
      },
      onPrevYear: function onPrevYear() {
        if (this._selectedYear > this.minYear) {
          this._selectedYear--;
          this.updateDayRange();
          this.updateDisplay();
          this.playButtonEffect(this.prevYearBtn);
        }
      },
      onNextYear: function onNextYear() {
        if (this._selectedYear < this.maxYear) {
          this._selectedYear++;
          this.updateDayRange();
          this.updateDisplay();
          this.playButtonEffect(this.nextYearBtn);
        }
      },
      onPrevMonth: function onPrevMonth() {
        if (this._selectedMonth > 1) this._selectedMonth--; else {
          this._selectedMonth = 12;
          this._selectedYear > this.minYear && this._selectedYear--;
        }
        this.updateDayRange();
        this.updateDisplay();
        this.playButtonEffect(this.prevMonthBtn);
      },
      onNextMonth: function onNextMonth() {
        if (this._selectedMonth < 12) this._selectedMonth++; else {
          this._selectedMonth = 1;
          this._selectedYear < this.maxYear && this._selectedYear++;
        }
        this.updateDayRange();
        this.updateDisplay();
        this.playButtonEffect(this.nextMonthBtn);
      },
      onPrevDay: function onPrevDay() {
        var daysInMonth = this.getDaysInMonth();
        if (!(this._selectedDay > 1)) {
          this._selectedDay = daysInMonth;
          this.onPrevMonth();
          return;
        }
        this._selectedDay--;
        this.updateDisplay();
        this.playButtonEffect(this.prevDayBtn);
      },
      onNextDay: function onNextDay() {
        var daysInMonth = this.getDaysInMonth();
        if (!(this._selectedDay < daysInMonth)) {
          this._selectedDay = 1;
          this.onNextMonth();
          return;
        }
        this._selectedDay++;
        this.updateDisplay();
        this.playButtonEffect(this.nextDayBtn);
      },
      getDaysInMonth: function getDaysInMonth() {
        return new Date(this._selectedYear, this._selectedMonth, 0).getDate();
      },
      updateDayRange: function updateDayRange() {
        var daysInMonth = this.getDaysInMonth();
        this._selectedDay > daysInMonth && (this._selectedDay = daysInMonth);
      },
      updateDisplay: function updateDisplay() {
        this.yearLabel.string = this._selectedYear + "\u5e74";
        this.monthLabel.string = this._selectedMonth + "\u6708";
        this.dayLabel.string = this._selectedDay + "\u65e5";
      },
      playButtonEffect: function playButtonEffect(button) {
        cc.tween(button).to(.1, {
          scale: .9
        }).to(.1, {
          scale: 1
        }).start();
      },
      addLongPressSupport: function addLongPressSupport() {
        var _this = this;
        var buttons = [ {
          node: this.prevYearBtn,
          action: "onPrevYear"
        }, {
          node: this.nextYearBtn,
          action: "onNextYear"
        }, {
          node: this.prevMonthBtn,
          action: "onPrevMonth"
        }, {
          node: this.nextMonthBtn,
          action: "onNextMonth"
        }, {
          node: this.prevDayBtn,
          action: "onPrevDay"
        }, {
          node: this.nextDayBtn,
          action: "onNextDay"
        } ];
        buttons.forEach(function(btnInfo) {
          var longPressTimer = null;
          var isLongPressing = false;
          btnInfo.node.on(cc.Node.EventType.TOUCH_START, function() {
            longPressTimer = setTimeout(function() {
              isLongPressing = true;
              _this.schedule(function() {
                isLongPressing && _this[btnInfo.action]();
              }, .1);
            }, 500);
          });
          btnInfo.node.on(cc.Node.EventType.TOUCH_END, function() {
            if (longPressTimer) {
              clearTimeout(longPressTimer);
              longPressTimer = null;
            }
            isLongPressing = false;
            _this.unscheduleAllCallbacks();
          });
          btnInfo.node.on(cc.Node.EventType.TOUCH_CANCEL, function() {
            if (longPressTimer) {
              clearTimeout(longPressTimer);
              longPressTimer = null;
            }
            isLongPressing = false;
            _this.unscheduleAllCallbacks();
          });
        });
      },
      getBirthday: function getBirthday() {
        return new Date(this._selectedYear, this._selectedMonth - 1, this._selectedDay);
      },
      getBirthdayString: function getBirthdayString(format) {
        void 0 === format && (format = "YYYY-MM-DD");
        var year = this._selectedYear.toString();
        var month = this._selectedMonth.toString().padStart(2, "0");
        var day = this._selectedDay.toString().padStart(2, "0");
        return format.replace("YYYY", year).replace("MM", month).replace("DD", day).replace("YY", year.slice(-2)).replace("M", this._selectedMonth.toString()).replace("D", this._selectedDay.toString());
      },
      setBirthday: function setBirthday(year, month, day) {
        if (void 0 !== year) {
          if (year < this.minYear || year > this.maxYear) {
            cc.warn("\u5e74\u4efd " + year + " \u8d85\u51fa\u8303\u56f4 [" + this.minYear + ", " + this.maxYear + "]");
            return false;
          }
          this._selectedYear = year;
        }
        if (void 0 !== month) {
          if (month < 1 || month > 12) {
            cc.warn("\u6708\u4efd " + month + " \u65e0\u6548\uff0c\u5e94\u4e3a 1-12");
            return false;
          }
          this._selectedMonth = month;
        }
        if (void 0 !== day) {
          var daysInMonth = this.getDaysInMonth();
          if (day < 1 || day > daysInMonth) {
            cc.warn("\u65e5\u671f " + day + " \u65e0\u6548\uff0c\u672c\u6708\u5929\u6570\u4e3a " + daysInMonth);
            return false;
          }
          this._selectedDay = day;
        }
        this.updateDisplay();
        return true;
      },
      setBirthdayFromDate: function setBirthdayFromDate(date) {
        if (!(date instanceof Date)) {
          cc.error("\u53c2\u6570\u5fc5\u987b\u662fDate\u5bf9\u8c61");
          return false;
        }
        return this.setBirthday(date.getFullYear(), date.getMonth() + 1, date.getDate());
      },
      reset: function reset() {
        this.initDate();
        this.updateDisplay();
      },
      checkLimits: function checkLimits() {
        return {
          yearMin: this._selectedYear <= this.minYear,
          yearMax: this._selectedYear >= this.maxYear,
          monthMin: this._selectedMonth <= 1,
          monthMax: this._selectedMonth >= 12,
          dayMin: this._selectedDay <= 1,
          dayMax: this._selectedDay >= this.getDaysInMonth()
        };
      }
    });
    cc._RF.pop();
  }, {} ],
  Splash: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ac950Z2/3NP/INGeuWmFOi0", "Splash");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("../lib/SharedFunction"));
    var _SharedData = _interopRequireDefault(require("../lib/SharedData"));
    var _AuthServices = _interopRequireDefault(require("../Services/AuthServices"));
    var _GameService = _interopRequireDefault(require("../Services/GameService"));
    var _properties;
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    var ProgressMode = cc.Enum({
      CHECKMAINTENANCE: 0,
      GETINITDATA: 1,
      LOGIN: 2,
      GETDATA: 3,
      SUCCESS: 4,
      PRELOAD: 5
    });
    cc.Class({
      extends: cc.Component,
      properties: (_properties = {
        myLoginView: null,
        myLanguageView: null,
        mProgressBar: {
          default: null,
          type: cc.ProgressBar
        },
        mLoginBtn: {
          default: null,
          type: cc.Node
        },
        mStatusLabel: {
          default: null,
          type: cc.Node
        },
        mVersionLabel: {
          default: null,
          type: cc.Node
        },
        mPercentageLabel: {
          default: null,
          type: cc.Label
        },
        mCsButton: {
          default: null,
          type: cc.Node
        },
        progressMode: {
          default: ProgressMode.CHECKMAINTENANCE,
          type: ProgressMode
        }
      }, _properties["mVersionLabel"] = {
        default: null,
        type: cc.Label
      }, _properties.i18nJson = {
        default: null,
        type: cc.JsonAsset
      }, _properties.mDescLabel = {
        default: null,
        type: cc.Node
      }, _properties.mMaintenanceView = null, _properties.mMaintenanceViewPrefab = {
        default: null,
        type: cc.Prefab
      }, _properties.connectServerDesc = "", _properties.loginDesc = "", _properties.updateDesc = "", 
      _properties.enterDesc = "", _properties),
      onLoad: function onLoad() {
        var _this = this;
        this.progress = 0;
        this.mProgressBar.progress = this.progress;
        this.maintenanceModeComplete = false;
        this.getInitDataComplete = false;
        this.loginComplete = false;
        this.getDataComplete = false;
        this.mStatusMessage = "";
        this.mNextScene = "Lobby";
        this.isLobbyPreloaded = false;
        this.isLandingPreloaded = false;
        cc.director.preloadScene(this.mNextScene, function() {
          _this.isLobbyPreloaded = true;
        });
        cc.resources.load("prefabs/LoadingView/LoadingView", cc.Prefab, function(err, prefab) {
          err && console.error("Failed to load prefab:", err);
          _SharedFunction["default"].setLoadingViewPrefabs(prefab);
        });
        cc.resources.load("prefabs/AlertView/AlertView", cc.Prefab, function(err, prefab) {
          err && console.error("Failed to load prefab:", err);
          _SharedFunction["default"].setAlertViewPrefabs(prefab);
        });
        cc.resources.load("prefabs/AlertView/MessageInfoView", cc.Prefab, function(err, prefab) {
          err && console.error("Failed to load MessageInfoView prefab:", err);
          _SharedFunction["default"].setMessageInfoViewPrefab(prefab);
        });
      },
      onDestroy: function onDestroy() {
        this.stopDotAnimation();
      },
      startDotAnimation: function startDotAnimation() {
        var _this2 = this;
        var dotCount = 0;
        this.dotInterval = setInterval(function() {
          dotCount = (dotCount + 1) % 4;
          var dots = ".".repeat(dotCount);
          _this2.mStatusLabel.getComponent(cc.Label).string = "" + _this2.mStatusMessage + dots;
        }, 500);
      },
      stopDotAnimation: function stopDotAnimation() {
        clearInterval(this.dotInterval);
      },
      onLoginButtonDidPressed: function onLoginButtonDidPressed(event, customEventData, isBtnClick) {
        void 0 === isBtnClick && (isBtnClick = false);
        var self = this;
        isBtnClick || _SharedFunction["default"].playButtonClickSound();
        cc.resources.load("prefabs/login/login", cc.Prefab, function(err, prefab) {
          if (err) {
            console.error("Failed to load prefab:", err);
            _SharedFunction["default"].hideLoadingView(self);
            return;
          }
          if (null == self.myLoginView) {
            self.myLoginView = cc.instantiate(prefab).getComponent("Login");
            self.updatePrefabSize();
            self.myLoginView.setCallBack(self);
          }
          self.myLoginView.updateView(self);
          self.node.addChild(self.myLoginView.node);
          _SharedFunction["default"].hideLoadingView(self);
        });
      },
      onLoginCloseButtonDidPressed: function onLoginCloseButtonDidPressed() {
        this.node.removeChild(this.myLoginView.node);
      },
      onLanguageCloseButtonDidPressed: function onLanguageCloseButtonDidPressed() {
        this.node.removeChild(this.myLanguageView.node);
        this.progressMode = ProgressMode.GETDATA;
      },
      update: function() {
        var _update = _asyncToGenerator(_regeneratorRuntime().mark(function _callee(dt) {
          var self;
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
             case 0:
              _context.t0 = this.progressMode;
              _context.next = _context.t0 === ProgressMode.CHECKMAINTENANCE ? 3 : _context.t0 === ProgressMode.GETINITDATA ? 5 : _context.t0 === ProgressMode.LOGIN ? 11 : _context.t0 === ProgressMode.GETDATA ? 21 : _context.t0 === ProgressMode.SUCCESS ? 24 : 27;
              break;

             case 3:
              if (!this.maintenanceModeComplete) {
                this.maintenanceModeComplete = true;
                this.progressMode = ProgressMode.GETINITDATA;
              }
              return _context.abrupt("break", 27);

             case 5:
              this.mProgressBar.progress < .2 && (this.progress += .1 * dt);
              if (this.getInitDataComplete) {
                _context.next = 10;
                break;
              }
              this.getInitDataComplete = true;
              _context.next = 10;
              return this.callGetSplashDataApi();

             case 10:
              return _context.abrupt("break", 27);

             case 11:
              this.mProgressBar.progress < .5 && (this.progress += .1 * dt);
              if (this.loginComplete) {
                _context.next = 20;
                break;
              }
              this.loginComplete = true;
              if (!(localStorage.getItem("verified_username") && localStorage.getItem("verified_password"))) {
                _context.next = 18;
                break;
              }
              _context.next = 17;
              return this.callLoginApi("", localStorage.getItem("verified_username"), localStorage.getItem("verified_password"), "");

             case 17:
              return _context.abrupt("return");

             case 18:
              self = this;
              cc.resources.load("prefabs/language/language", cc.Prefab, function(err, prefab) {
                if (err) {
                  console.error("Failed to load prefab:", err);
                  return;
                }
                if (null == self.myLanguageView) {
                  self.myLanguageView = cc.instantiate(prefab).getComponent("Language");
                  self.updatePrefabSize();
                }
                self.myLanguageView.updateView(self);
                self.node.addChild(self.myLanguageView.node);
              });

             case 20:
              return _context.abrupt("break", 27);

             case 21:
              this.mProgressBar.progress < .7 && (this.progress += .1 * dt);
              if (!this.getDataComplete) {
                this.getDataComplete = true;
                this.progress = .7;
                this.progressMode = ProgressMode.SUCCESS;
              }
              return _context.abrupt("break", 27);

             case 24:
              this.mProgressBar.progress < .99 && (this.progress += .1 * dt);
              if ("Lobby" == this.mNextScene && this.isLobbyPreloaded && 1 != this.progress) {
                this.progress = 1;
                cc.director.loadScene(this.mNextScene);
              }
              return _context.abrupt("break", 27);

             case 27:
              this.progress = this.progress > 1 ? 1 : this.progress;
              this.mProgressBar.progress = this.progress;

             case 29:
             case "end":
              return _context.stop();
            }
          }, _callee, this);
        }));
        function update(_x) {
          return _update.apply(this, arguments);
        }
        return update;
      }(),
      callGetSplashDataApi: function callGetSplashDataApi() {
        var _this3 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee2() {
          var dashResponse;
          return _regeneratorRuntime().wrap(function _callee2$(_context2) {
            while (1) switch (_context2.prev = _context2.next) {
             case 0:
              _context2.next = 2;
              return _GameService["default"].getDashboard();

             case 2:
              dashResponse = _context2.sent;
              if (200 == dashResponse.status) {
                _SharedData["default"].setPhoneCode(dashResponse.settings.regional.phonePrefix);
                _SharedData["default"].setCurrentLanguage(null == localStorage.getItem("current_language") ? dashResponse.settings.languages.defaultLanguage : localStorage.getItem("current_language"));
                _SharedData["default"].setAnnouncement(dashResponse.settings.announcements);
                localStorage.setItem("from_index", JSON.stringify(dashResponse));
              }
              _this3.progressMode = ProgressMode.LOGIN;

             case 5:
             case "end":
              return _context2.stop();
            }
          }, _callee2);
        }))();
      },
      callLoginApi: function callLoginApi(os, username, password, mobileNo) {
        var _this4 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee3() {
          var data, self;
          return _regeneratorRuntime().wrap(function _callee3$(_context3) {
            while (1) switch (_context3.prev = _context3.next) {
             case 0:
              _context3.prev = 0;
              _context3.next = 3;
              return _AuthServices["default"].login(os, username, password, mobileNo);

             case 3:
              data = _context3.sent;
              if (!(200 == data.status)) {
                _context3.next = 12;
                break;
              }
              localStorage.setItem("verified_username", username);
              localStorage.setItem("verified_password", password);
              localStorage.setItem("token", data.token);
              _this4.progressMode = ProgressMode.GETDATA;
              return _context3.abrupt("return");

             case 12:
              console.log("else");

             case 13:
              _context3.next = 18;
              break;

             case 15:
              _context3.prev = 15;
              _context3.t0 = _context3["catch"](0);
              console.error("callLoginApi Error:", _context3.t0);

             case 18:
              localStorage.setItem("verified_username", "");
              localStorage.setItem("verified_password", "");
              localStorage.setItem("token", "");
              self = _this4;
              cc.resources.load("prefabs/language/language", cc.Prefab, function(err, prefab) {
                if (err) {
                  console.error("Failed to load prefab:", err);
                  return;
                }
                if (null == self.myLanguageView) {
                  self.myLanguageView = cc.instantiate(prefab).getComponent("Language");
                  self.updatePrefabSize();
                }
                self.myLanguageView.updateView(self);
                self.node.addChild(self.myLanguageView.node);
              });

             case 23:
             case "end":
              return _context3.stop();
            }
          }, _callee3, null, [ [ 0, 15 ] ]);
        }))();
      },
      onCsButtonClicked: function onCsButtonClicked() {
        window.open(_SharedData["default"].getLiveChat(), "_blank").focus();
      },
      localizeUI: function localizeUI() {},
      updatePrefabSize: function updatePrefabSize() {
        var visibleSize = cc.view.getVisibleSize();
        this.myLanguageView && this.myLanguageView.init(0, 0, visibleSize.width, visibleSize.height);
      }
    });
    cc._RF.pop();
  }, {
    "../Services/AuthServices": "AuthServices",
    "../Services/GameService": "GameService",
    "../lib/SharedData": "SharedData",
    "../lib/SharedFunction": "SharedFunction"
  } ],
  TransactionService: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2cb43AvNY9G+aWS8t85u0H8", "TransactionService");
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.TransactionService = void 0;
    var NetworkService_1 = require("./NetworkService");
    var TransactionService = function() {
      function TransactionService() {}
      TransactionService.getTransactions = function(token, params) {
        var _a, _b, _c;
        void 0 === params && (params = {});
        return __awaiter(this, void 0, Promise, function() {
          var queryParams, response, transactionData, error_1;
          return __generator(this, function(_d) {
            switch (_d.label) {
             case 0:
              _d.trys.push([ 0, 2, , 3 ]);
              queryParams = {};
              void 0 !== params.page && null !== params.page && (queryParams.page = params.page);
              void 0 !== params.limit && null !== params.limit && (queryParams.limit = params.limit);
              void 0 !== params.type && null !== params.type && (queryParams.type = params.type);
              void 0 !== params.startDate && null !== params.startDate && (queryParams.startDate = params.startDate);
              void 0 !== params.endDate && null !== params.endDate && (queryParams.endDate = params.endDate);
              return [ 4, NetworkService_1.NetworkService.get(this.GET_TRANSACTIONS_ENDPOINT, queryParams, {
                headers: {
                  Authorization: "Bearer " + token,
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _d.sent();
              transactionData = (null === (_a = response.data) || void 0 === _a ? void 0 : _a.data) || response.data;
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: transactionData,
                transactions: null === transactionData || void 0 === transactionData ? void 0 : transactionData.transactions,
                summary: null === transactionData || void 0 === transactionData ? void 0 : transactionData.summary,
                pagination: null === transactionData || void 0 === transactionData ? void 0 : transactionData.pagination
              } ];

             case 2:
              error_1 = _d.sent();
              console.error("TransactionService.getTransactions error:", error_1);
              throw {
                status: error_1.status || 500,
                data: error_1.data || null,
                message: error_1.message || "Failed to fetch game transactions",
                error: error_1
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      TransactionService.getTransactionById = function(token, transactionId) {
        var _a, _b, _c;
        return __awaiter(this, void 0, Promise, function() {
          var endpoint, response, transactionData, error_2;
          return __generator(this, function(_d) {
            switch (_d.label) {
             case 0:
              _d.trys.push([ 0, 2, , 3 ]);
              endpoint = this.GET_TRANSACTION_BY_ID_ENDPOINT + "/" + transactionId;
              return [ 4, NetworkService_1.NetworkService.get(endpoint, void 0, {
                headers: {
                  Authorization: "Bearer " + token,
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _d.sent();
              transactionData = (null === (_a = response.data) || void 0 === _a ? void 0 : _a.data) || response.data;
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: transactionData,
                transaction: transactionData
              } ];

             case 2:
              error_2 = _d.sent();
              console.error("TransactionService.getTransactionById error:", error_2);
              throw {
                status: error_2.status || 500,
                data: error_2.data || null,
                message: error_2.message || "Failed to fetch transaction",
                error: error_2
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      TransactionService.GET_TRANSACTIONS_ENDPOINT = "/api/public/v1/game-transactions";
      TransactionService.GET_TRANSACTION_BY_ID_ENDPOINT = "/api/public/v1/game-transactions";
      return TransactionService;
    }();
    exports.TransactionService = TransactionService;
    exports.default = TransactionService;
    cc._RF.pop();
  }, {
    "./NetworkService": "NetworkService"
  } ],
  TwoFAService: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1c6c0+15LFC5bGvYIr6QmuW", "TwoFAService");
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.TwoFAService = void 0;
    var NetworkService_1 = require("./NetworkService");
    var TwoFAService = function() {
      function TwoFAService() {}
      TwoFAService.setup2FA = function(token) {
        var _a, _b, _c, _d, _e;
        return __awaiter(this, void 0, Promise, function() {
          var response, error_1;
          return __generator(this, function(_f) {
            switch (_f.label) {
             case 0:
              _f.trys.push([ 0, 2, , 3 ]);
              return [ 4, NetworkService_1.NetworkService.post(this.SETUP_2FA_ENDPOINT, void 0, {
                headers: {
                  Authorization: "Bearer " + token,
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _f.sent();
              return [ 2, {
                status: response.status,
                success: null === (_a = response.data) || void 0 === _a ? void 0 : _a.success,
                message: (null === (_b = response.data) || void 0 === _b ? void 0 : _b.message) || response.message,
                secret: null === (_c = response.data) || void 0 === _c ? void 0 : _c.secret,
                qrCode: null === (_d = response.data) || void 0 === _d ? void 0 : _d.qrCode,
                manualEntryKey: null === (_e = response.data) || void 0 === _e ? void 0 : _e.manualEntryKey,
                data: response.data
              } ];

             case 2:
              error_1 = _f.sent();
              console.error("TwoFAService.setup2FA error:", error_1);
              throw {
                status: error_1.status || 500,
                data: error_1.data || null,
                message: error_1.message || "Failed to setup 2FA",
                error: error_1
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      TwoFAService.SETUP_2FA_ENDPOINT = "/api/public/v1/players/twofa/setup";
      return TwoFAService;
    }();
    exports.TwoFAService = TwoFAService;
    exports.default = TwoFAService;
    cc._RF.pop();
  }, {
    "./NetworkService": "NetworkService"
  } ],
  UnselectedTab: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2b9c0UBfQVI6aGaHgYGuQP9", "UnselectedTab");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    var SharedData = require("SharedData");
    cc.Class({
      extends: cc.Component,
      properties: {
        mFocusTabImg: {
          default: null,
          type: cc.SpriteFrame
        },
        mNormalTabImg: {
          default: null,
          type: cc.SpriteFrame
        },
        myBG: {
          default: null,
          type: cc.Sprite
        },
        myLabel: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {},
      init: function init(x, y, tabName, leftMainTabTrigger, callBack) {
        this.node.x = x;
        this.node.y = y;
        this.name = tabName;
        this.mCallBack = callBack;
        this.myLabel.getComponent(cc.Label).string = tabName;
        var self = this;
        if (60 == x) {
          this.myBG.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
          this.myLabel.color = new cc.Color(0, 0, 0, 255);
          this.onclick(null, null, true, leftMainTabTrigger);
        } else this.myLabel.color = new cc.Color(255, 255, 255, 255);
      },
      onclick: function onclick(event, customEventData, codeTrigger, leftMainTabTrigger) {
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        this.mCallBack.onTabDidPressed(this.name, leftMainTabTrigger);
        this.myBG.getComponent(cc.Sprite).spriteFrame = this.mFocusTabImg;
        this.myLabel.color = new cc.Color(0, 0, 0, 255);
      },
      unselect: function unselect() {
        this.myBG.getComponent(cc.Sprite).spriteFrame = this.mNormalTabImg;
        this.myLabel.color = new cc.Color(255, 255, 255, 255);
      }
    });
    cc._RF.pop();
  }, {
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  UserService: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7c098SRQltBqLB4ZNjmu8kV", "UserService");
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.UserService = void 0;
    var NetworkService_1 = require("./NetworkService");
    var UserService = function() {
      function UserService() {}
      UserService.getProfile = function(token) {
        var _a, _b, _c;
        return __awaiter(this, void 0, Promise, function() {
          var response, profileData, error_1;
          return __generator(this, function(_d) {
            switch (_d.label) {
             case 0:
              _d.trys.push([ 0, 2, , 3 ]);
              return [ 4, NetworkService_1.NetworkService.get(this.GET_USER_PROFILE_ENDPOINT, void 0, {
                headers: {
                  Authorization: "Bearer " + token,
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _d.sent();
              profileData = (null === (_a = response.data) || void 0 === _a ? void 0 : _a.data) || response.data;
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: profileData,
                player: null === profileData || void 0 === profileData ? void 0 : profileData.player
              } ];

             case 2:
              error_1 = _d.sent();
              console.error("UserService.getProfile error:", error_1);
              throw {
                status: error_1.status || 500,
                data: error_1.data || null,
                message: error_1.message || "Failed to fetch user profile",
                error: error_1
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      UserService.updateProfile = function(token, params) {
        var _a, _b, _c;
        return __awaiter(this, void 0, Promise, function() {
          var requestBody, response, profileData, error_2;
          return __generator(this, function(_d) {
            switch (_d.label) {
             case 0:
              _d.trys.push([ 0, 2, , 3 ]);
              requestBody = {};
              void 0 !== params.fullName && null !== params.fullName && (requestBody.fullName = params.fullName);
              void 0 !== params.email && null !== params.email && (requestBody.email = params.email);
              void 0 !== params.phone && null !== params.phone && (requestBody.phone = params.phone);
              void 0 !== params.emailOtp && null !== params.emailOtp && (requestBody.emailOtp = params.emailOtp);
              void 0 !== params.phoneOtp && null !== params.phoneOtp && (requestBody.phoneOtp = params.phoneOtp);
              return [ 4, NetworkService_1.NetworkService.put(this.UPDATE_USER_PROFILE_ENDPOINT, requestBody, {
                headers: {
                  Authorization: "Bearer " + token,
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _d.sent();
              profileData = (null === (_a = response.data) || void 0 === _a ? void 0 : _a.data) || response.data;
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: profileData,
                player: null === profileData || void 0 === profileData ? void 0 : profileData.player
              } ];

             case 2:
              error_2 = _d.sent();
              console.error("UserService.updateProfile error:", error_2);
              throw {
                status: error_2.status || 500,
                data: error_2.data || null,
                message: error_2.message || "Failed to update user profile",
                error: error_2
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      UserService.changePassword = function(token, params) {
        var _a, _b;
        return __awaiter(this, void 0, Promise, function() {
          var requestBody, response, error_3;
          return __generator(this, function(_c) {
            switch (_c.label) {
             case 0:
              _c.trys.push([ 0, 2, , 3 ]);
              requestBody = {
                currentPassword: params.currentPassword,
                newPassword: params.newPassword
              };
              return [ 4, NetworkService_1.NetworkService.put(this.CHANGE_PASSWORD_ENDPOINT, requestBody, {
                headers: {
                  Authorization: "Bearer " + token,
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _c.sent();
              return [ 2, {
                status: response.status,
                success: null === (_a = response.data) || void 0 === _a ? void 0 : _a.success,
                message: (null === (_b = response.data) || void 0 === _b ? void 0 : _b.message) || response.message,
                data: response.data
              } ];

             case 2:
              error_3 = _c.sent();
              console.error("UserService.changePassword error:", error_3);
              throw {
                status: error_3.status || 500,
                data: error_3.data || null,
                message: error_3.message || "Failed to change password",
                error: error_3
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      UserService.getBalance = function(token) {
        var _a, _b, _c;
        return __awaiter(this, void 0, Promise, function() {
          var response, balanceData, error_4;
          return __generator(this, function(_d) {
            switch (_d.label) {
             case 0:
              _d.trys.push([ 0, 2, , 3 ]);
              return [ 4, NetworkService_1.NetworkService.get(this.GET_BALANCE_ENDPOINT, void 0, {
                headers: {
                  Authorization: "Bearer " + token,
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _d.sent();
              balanceData = (null === (_a = response.data) || void 0 === _a ? void 0 : _a.data) || response.data;
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: balanceData,
                balance: null === balanceData || void 0 === balanceData ? void 0 : balanceData.balance,
                currency: null === balanceData || void 0 === balanceData ? void 0 : balanceData.currency
              } ];

             case 2:
              error_4 = _d.sent();
              console.error("UserService.getBalance error:", error_4);
              throw {
                status: error_4.status || 500,
                data: error_4.data || null,
                message: error_4.message || "Failed to fetch balance",
                error: error_4
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      UserService.GET_USER_PROFILE_ENDPOINT = "/api/public/v1/players/me";
      UserService.UPDATE_USER_PROFILE_ENDPOINT = "/api/public/v1/players/me";
      UserService.CHANGE_PASSWORD_ENDPOINT = "/api/public/v1/players/me/password";
      UserService.GET_BALANCE_ENDPOINT = "/api/public/v1/players/balance";
      return UserService;
    }();
    exports.UserService = UserService;
    exports.default = UserService;
    cc._RF.pop();
  }, {
    "./NetworkService": "NetworkService"
  } ],
  VIPLevel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9c785ctUdJOQr3YTXa98kNg", "VIPLevel");
    "use strict";
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _SharedData = _interopRequireDefault(require("SharedData"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        mLevelList: [],
        createdInfos: [],
        mBackground: {
          default: null,
          type: cc.Node
        },
        myScrollView: {
          default: null,
          type: cc.Node
        },
        myScrollContent: {
          default: null,
          type: cc.Node
        },
        mySummaryContainer: {
          default: null,
          type: cc.Node
        },
        myDetailContainer: {
          default: null,
          type: cc.Node
        },
        myLevelInfoPrefab: {
          default: null,
          type: cc.Prefab
        },
        myRichText: {
          default: null,
          type: cc.Node
        },
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        mTitleLabel: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.localizeUI();
      },
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
        this.mBackground.width = width;
        this.mBackground.height = height;
      },
      updateView: function updateView(callBack) {
        this.localizeUI();
        this.mCallBack = callBack;
        this.mBackground.active = true;
        this.node.opacity = 255;
        this.myDetailContainer.active = false;
        this.mySummaryContainer.active = true;
        this.mLevelList = [ {
          name: "New Player",
          level: 1,
          dailyLimit: 0,
          dailyTransaction: 0,
          upgradeBonus: 0,
          rescueBonus: 3,
          birthdayBonus: 288,
          present: "No"
        }, {
          name: "Silver Card",
          level: 2,
          dailyLimit: 0,
          dailyTransaction: 0,
          upgradeBonus: 888,
          rescueBonus: 4,
          birthdayBonus: 688,
          present: "No"
        }, {
          name: "Gold Card",
          level: 3,
          dailyLimit: 0,
          dailyTransaction: 0,
          upgradeBonus: 1888,
          rescueBonus: 5,
          birthdayBonus: 1288,
          present: "No"
        }, {
          name: "Platinum Card",
          level: 4,
          dailyLimit: 0,
          dailyTransaction: 0,
          upgradeBonus: 3888,
          rescueBonus: 6,
          birthdayBonus: 2888,
          present: "No"
        }, {
          name: "Ruby Card",
          level: 5,
          dailyLimit: 0,
          dailyTransaction: 0,
          upgradeBonus: 8888,
          rescueBonus: 7,
          birthdayBonus: 6888,
          present: "No"
        }, {
          name: "Diamond Card",
          level: 6,
          dailyLimit: 0,
          dailyTransaction: 0,
          upgradeBonus: 38888,
          rescueBonus: 8,
          birthdayBonus: 28888,
          present: "No"
        } ];
        this.drawLevelInfo();
        var card_bg = this.mBackground.getChildByName("card_bg");
        card_bg.setScale(0);
        cc.tween(card_bg).to(1 / 3, {
          scale: 1
        }).to(1 / 12, {
          scale: .95
        }).to(1 / 12, {
          scale: 1
        }).start();
      },
      setCallBack: function setCallBack(callBack) {
        this.mCallBack = callBack;
      },
      drawLevelInfo: function drawLevelInfo() {
        for (var key in this.mLevelList) {
          var levelData = this.mLevelList[key];
          var levelInfoPref = new cc.instantiate(this.myLevelInfoPrefab).getComponent("LevelInfo");
          levelInfoPref.init(147 + 280 * parseInt(key), 0, levelData, this);
          this.myScrollContent.addChild(levelInfoPref.node);
          this.createdInfos.push(levelInfoPref);
        }
        this.myScrollContent.width = 14 + 279 * this.mLevelList.length;
        this.myScrollView.getComponent(cc.ScrollView).scrollToLeft(0);
      },
      onCloseButtonDidPressed: function onCloseButtonDidPressed(event, customEventData, codeTrigger) {
        var _this = this;
        codeTrigger || _SharedFunction["default"].playButtonClickSound();
        if (this.mySummaryContainer.active) {
          var card_bg = this.mBackground.getChildByName("card_bg");
          cc.tween(card_bg).to(1 / 6, {
            scale: 1.1
          }).to(1 / 6, {
            scale: 0
          }).start();
          cc.tween(this.node).delay(1 / 6).to(1 / 6, {
            opacity: 0
          }).call(function() {
            _this.createdInfos.forEach(function(info) {
              info && info.isValid && info.node.removeFromParent();
            });
            _this.createdInfos = [];
            _this.mCallBack && _this.mCallBack.myCloseVIPLevelDidPressed();
          }).start();
        } else this.myDetailContainer.active && this.onShowHideLevelDetail(false);
      },
      onShowHideLevelDetail: function onShowHideLevelDetail(isShow, vipNumber, vipName) {
        var _this2 = this;
        var card_bg = this.mBackground.getChildByName("card_bg");
        cc.tween(card_bg).to(1 / 6, {
          scale: 1.1
        }).to(1 / 6, {
          scale: 0
        }).call(function() {
          if (isShow) {
            _this2.mTitleLabel.getComponent(cc.Label).string = "VIP " + vipNumber + " - " + vipName;
            _this2.mySummaryContainer.active = false;
            _this2.myDetailContainer.active = true;
          } else {
            _this2.mTitleLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(_this2.i18nJson, "title");
            _this2.myDetailContainer.active = false;
            _this2.mySummaryContainer.active = true;
          }
        }).to(1 / 3, {
          scale: 1
        }).to(1 / 12, {
          scale: .95
        }).to(1 / 12, {
          scale: 1
        }).start();
      },
      localizeUI: function localizeUI() {
        this.mTitleLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "title");
      },
      updatePrefabSize: function updatePrefabSize() {
        var visibleSize = cc.view.getVisibleSize();
      }
    });
    cc._RF.pop();
  }, {
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  Verification: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "de2a1Z9xx5PgYodxpTIQLcI", "Verification");
    "use strict";
    var _SharedData = _interopRequireDefault(require("SharedData"));
    var _SharedFunction = _interopRequireDefault(require("SharedFunction"));
    var _AuthServices = _interopRequireDefault(require("../Services/AuthServices"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        default: obj
      };
    }
    function _regeneratorRuntime() {
      _regeneratorRuntime = function _regeneratorRuntime() {
        return exports;
      };
      var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
      function define(obj, key, value) {
        return Object.defineProperty(obj, key, {
          value: value,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }), obj[key];
      }
      try {
        define({}, "");
      } catch (err) {
        define = function define(obj, key, value) {
          return obj[key] = value;
        };
      }
      function wrap(innerFn, outerFn, self, tryLocsList) {
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);
        return generator._invoke = function(innerFn, self, context) {
          var state = "suspendedStart";
          return function(method, arg) {
            if ("executing" === state) throw new Error("Generator is already running");
            if ("completed" === state) {
              if ("throw" === method) throw arg;
              return doneResult();
            }
            for (context.method = method, context.arg = arg; ;) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel) continue;
                  return delegateResult;
                }
              }
              if ("next" === context.method) context.sent = context._sent = context.arg; else if ("throw" === context.method) {
                if ("suspendedStart" === state) throw state = "completed", context.arg;
                context.dispatchException(context.arg);
              } else "return" === context.method && context.abrupt("return", context.arg);
              state = "executing";
              var record = tryCatch(innerFn, self, context);
              if ("normal" === record.type) {
                if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
                return {
                  value: record.arg,
                  done: context.done
                };
              }
              "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
            }
          };
        }(innerFn, self, context), generator;
      }
      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }
      exports.wrap = wrap;
      var ContinueSentinel = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function() {
        return this;
      });
      var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));
      NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      function defineIteratorMethods(prototype) {
        [ "next", "throw", "return" ].forEach(function(method) {
          define(prototype, method, function(arg) {
            return this._invoke(method, arg);
          });
        });
      }
      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);
          if ("throw" !== record.type) {
            var result = record.arg, value = result.value;
            return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function(value) {
              invoke("next", value, resolve, reject);
            }, function(err) {
              invoke("throw", err, resolve, reject);
            }) : PromiseImpl.resolve(value).then(function(unwrapped) {
              result.value = unwrapped, resolve(result);
            }, function(error) {
              return invoke("throw", error, resolve, reject);
            });
          }
          reject(record.arg);
        }
        var previousPromise;
        this._invoke = function(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function(resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }
          return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        };
      }
      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];
        if (void 0 === method) {
          if (context.delegate = null, "throw" === context.method) {
            if (delegate.iterator["return"] && (context.method = "return", context.arg = void 0, 
            maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
            context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }
          return ContinueSentinel;
        }
        var record = tryCatch(method, delegate.iterator, context.arg);
        if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, 
        context.delegate = null, ContinueSentinel;
        var info = record.arg;
        return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, 
        "return" !== context.method && (context.method = "next", context.arg = void 0), 
        context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), 
        context.delegate = null, ContinueSentinel);
      }
      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };
        1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], 
        entry.afterLoc = locs[3]), this.tryEntries.push(entry);
      }
      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal", delete record.arg, entry.completion = record;
      }
      function Context(tryLocsList) {
        this.tryEntries = [ {
          tryLoc: "root"
        } ], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
      }
      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];
          if (iteratorMethod) return iteratorMethod.call(iterable);
          if ("function" == typeof iterable.next) return iterable;
          if (!isNaN(iterable.length)) {
            var i = -1, next = function next() {
              for (;++i < iterable.length; ) if (hasOwn.call(iterable, i)) return next.value = iterable[i], 
              next.done = !1, next;
              return next.value = void 0, next.done = !0, next;
            };
            return next.next = next;
          }
        }
        return {
          next: doneResult
        };
      }
      function doneResult() {
        return {
          value: void 0,
          done: !0
        };
      }
      return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), 
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), 
      exports.isGeneratorFunction = function(genFun) {
        var ctor = "function" == typeof genFun && genFun.constructor;
        return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
      }, exports.mark = function(genFun) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, 
        define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), 
        genFun;
      }, exports.awrap = function(arg) {
        return {
          __await: arg
        };
      }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {
        return this;
      }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        void 0 === PromiseImpl && (PromiseImpl = Promise);
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
      }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function() {
        return this;
      }), define(Gp, "toString", function() {
        return "[object Generator]";
      }), exports.keys = function(object) {
        var keys = [];
        for (var key in object) keys.push(key);
        return keys.reverse(), function next() {
          for (;keys.length; ) {
            var key = keys.pop();
            if (key in object) return next.value = key, next.done = !1, next;
          }
          return next.done = !0, next;
        };
      }, exports.values = values, Context.prototype = {
        constructor: Context,
        reset: function reset(skipTempReset) {
          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
          this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), 
          !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);
        },
        stop: function stop() {
          this.done = !0;
          var rootRecord = this.tryEntries[0].completion;
          if ("throw" === rootRecord.type) throw rootRecord.arg;
          return this.rval;
        },
        dispatchException: function dispatchException(exception) {
          if (this.done) throw exception;
          var context = this;
          function handle(loc, caught) {
            return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", 
            context.arg = void 0), !!caught;
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i], record = entry.completion;
            if ("root" === entry.tryLoc) return handle("end");
            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc");
              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              } else {
                if (!hasFinally) throw new Error("try statement without catch or finally");
                if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
              }
            }
          }
        },
        abrupt: function abrupt(type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }
          finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
          var record = finallyEntry ? finallyEntry.completion : {};
          return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", 
          this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
        },
        complete: function complete(record, afterLoc) {
          if ("throw" === record.type) throw record.arg;
          return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, 
          this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), 
          ContinueSentinel;
        },
        finish: function finish(finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), 
            resetTryEntry(entry), ContinueSentinel;
          }
        },
        catch: function _catch(tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;
              if ("throw" === record.type) {
                var thrown = record.arg;
                resetTryEntry(entry);
              }
              return thrown;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function delegateYield(iterable, resultName, nextLoc) {
          return this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          }, "next" === this.method && (this.arg = void 0), ContinueSentinel;
        }
      }, exports;
    }
    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
      try {
        var info = gen[key](arg);
        var value = info.value;
      } catch (error) {
        reject(error);
        return;
      }
      info.done ? resolve(value) : Promise.resolve(value).then(_next, _throw);
    }
    function _asyncToGenerator(fn) {
      return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
          var gen = fn.apply(self, args);
          function _next(value) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
          }
          function _throw(err) {
            asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
          }
          _next(void 0);
        });
      };
    }
    cc.Class({
      extends: cc.Component,
      properties: {
        mCallBack: null,
        verifyType: null,
        mInitSource: "Register",
        mIsRequestedTac: false,
        mForgotUsername: "",
        isFromEditBasicInfo: false,
        mForgetPasswordResponse: {
          default: {}
        },
        mBackground: {
          default: null,
          type: cc.Node
        },
        myVerifyBox1: {
          default: null,
          type: cc.EditBox
        },
        myVerifyBox2: {
          default: null,
          type: cc.EditBox
        },
        myVerifyBox3: {
          default: null,
          type: cc.EditBox
        },
        myVerifyBox4: {
          default: null,
          type: cc.EditBox
        },
        myVerifyBox5: {
          default: null,
          type: cc.EditBox
        },
        myVerifyBox6: {
          default: null,
          type: cc.EditBox
        },
        myErrorLabel: {
          default: null,
          type: cc.Node
        },
        mCountDownTimer: {
          default: 30,
          type: cc.Float
        },
        myCDLabel: {
          default: null,
          type: cc.Node
        },
        myNoCodeLabel: {
          default: null,
          type: cc.Node
        },
        myResendLabel: {
          default: null,
          type: cc.Node
        },
        mDescLabel: {
          default: null,
          type: cc.Node
        },
        mSelectedTabIndex: 0,
        mUserIdLabel: {
          default: null,
          type: cc.Node
        },
        mBackgroundAnimation: {
          default: null,
          type: cc.Node
        },
        mContainer: {
          default: null,
          type: cc.Node
        },
        mPhoneButton: {
          default: null,
          type: cc.Node
        },
        mSMSButton: {
          default: null,
          type: cc.Node
        },
        mWhatsappButton: {
          default: null,
          type: cc.Node
        },
        mPhoneNumberLabel: {
          default: null,
          type: cc.Node
        },
        mCodeInput: {
          default: null,
          type: cc.Node
        },
        mRequestTacButton: {
          default: null,
          type: cc.Node
        },
        mNewPasswordInput: {
          default: null,
          type: cc.EditBox
        },
        mConfirmPasswordInput: {
          default: null,
          type: cc.EditBox
        },
        mRewardLabel: {
          default: null,
          type: cc.Node
        },
        mOneLabel: {
          default: null,
          type: cc.Node
        },
        mInviteLabel: {
          default: null,
          type: cc.Node
        },
        mVoiceLabel: {
          default: null,
          type: cc.Node
        },
        mPhoneNoLabel: {
          default: null,
          type: cc.Node
        },
        mPhoneNoHolderLabel: {
          default: null,
          type: cc.Node
        },
        mPhoneNoHintLabel: {
          default: null,
          type: cc.Node
        },
        mCodeLabel: {
          default: null,
          type: cc.Node
        },
        mCodeHolderLabel: {
          default: null,
          type: cc.Node
        },
        mSendLabel: {
          default: null,
          type: cc.Node
        },
        mContinueLabel: {
          default: null,
          type: cc.Node
        },
        mNewPassLabel: {
          default: null,
          type: cc.Node
        },
        mNewPassHolderLabel: {
          default: null,
          type: cc.Node
        },
        mConPassLabel: {
          default: null,
          type: cc.Node
        },
        mConPassHolderLabel: {
          default: null,
          type: cc.Node
        },
        mPhoneCodeLabel: {
          default: null,
          type: cc.Node
        },
        i18nJson: {
          default: null,
          type: cc.JsonAsset
        },
        mTitleLabel: {
          default: null,
          type: cc.Node
        },
        mNoCodeLabel: {
          default: null,
          type: cc.Node
        },
        mResendLabel: {
          default: null,
          type: cc.Node
        },
        mVerifyLabel: {
          default: null,
          type: cc.Node
        },
        mHvAccountLabel: {
          default: null,
          type: cc.Node
        },
        mLoginHereLabel: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.localizeUI();
        for (var i = 1; i <= 5; i++) {
          this["myVerifyBox" + i].node.on("editing-did-began", function() {
            this._this["myVerifyBox" + this.count].string = "";
          }.bind({
            _this: this,
            count: i
          }));
          this["myVerifyBox" + i].node.on("text-changed", function() {
            this._this["myVerifyBox" + this.count].string.length >= 1 && this._this["myVerifyBox" + (this.count + 1)].focus();
          }.bind({
            _this: this,
            count: i
          }));
        }
      },
      updateView: function updateView(callBack, verifyType, initSource, message) {
        this.localizeUI();
        if ("profileEmailVerify" == verifyType) {
          this.isFromEditBasicInfo = true;
          this.mHvAccountLabel.active = false;
          this.mLoginHereLabel.active = false;
        } else {
          this.mHvAccountLabel.active = true;
          this.mLoginHereLabel.active = true;
        }
        this.mCallBack = callBack;
        this.verifyType = this.isFromEditBasicInfo ? "emailVerify" : verifyType;
        this.mInitSource = initSource;
        this.mBackground.active = true;
        this.myErrorLabel.active = false;
        this.myCDLabel.active = true;
        this.myNoCodeLabel.active = false;
        this.myResendLabel.active = false;
        this.node.opacity = 255;
        this.mCountDownTimer = 30;
        this.mIsRequestedTac = false;
        for (var i = 1; i <= 6; i++) this["myVerifyBox" + i].getComponent(cc.EditBox).string = "";
        if ("phoneVerify" == this.verifyType) {
          var phonenum = localStorage.getItem("unverified_phoneNum");
          this.mDescLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "verificationSent") + " " + _SharedData["default"].getPhoneCode() + " " + phonenum.substring(0, 4) + " XXXX";
          this.onRequestTacButtonDidPressed("", "", true);
        }
        if ("emailVerify" == this.verifyType) {
          var email = localStorage.getItem("unverified_email");
          this.mDescLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "verificationSent") + " " + email.substring(0, 1) + "XXXX" + email.substring(email.indexOf("@"));
          this.onRequestTacButtonDidPressed("", "", true);
        }
        if ("forgotPasswordVerify" == this.verifyType) {
          this.mDescLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, message);
          this.myCDLabel.active = true;
          this.myNoCodeLabel.active = false;
          this.myResendLabel.active = false;
          this.mIsRequestedTac = true;
          this.myResendLabel.getComponent(cc.Button).interactable = false;
        }
        var verify_bg = this.mBackground.getChildByName("verification_bg");
        verify_bg.setScale(0);
        cc.tween(verify_bg).to(1 / 3, {
          scale: 1
        }).to(1 / 12, {
          scale: .95
        }).to(1 / 12, {
          scale: 1
        }).start();
      },
      setForgetPasswordResponse: function setForgetPasswordResponse(response) {
        this.mForgetPasswordResponse = response;
      },
      setUsername: function setUsername(username) {
        this.mForgotUsername = username;
      },
      init: function init(x, y, width, height) {
        this.node.x = x;
        this.node.y = y;
        this.node.width = width;
        this.node.height = height;
        this.mBackground.width = width;
        this.mBackground.height = height;
      },
      setCallBack: function setCallBack(callBack, isFrom) {
        void 0 === isFrom && (isFrom = "LOBBY");
        this.mCallBack = callBack;
        this.isFrom = isFrom;
      },
      onTabbarButtonDidPressed: function onTabbarButtonDidPressed(event, customEventData) {
        _SharedFunction["default"].playButtonClickSound();
        this.mSelectedTabIndex = customEventData;
        var whiteColor = new cc.Color(255, 255, 255);
        var deselectedColor = new cc.Color(253, 238, 193);
        this.mPhoneButton.getComponent(cc.Button).interactable = true;
        this.mSMSButton.getComponent(cc.Button).interactable = true;
        this.mWhatsappButton.getComponent(cc.Button).interactable = true;
        this.mPhoneButton.getChildByName("effect").active = false;
        this.mSMSButton.getChildByName("effect").active = false;
        this.mWhatsappButton.getChildByName("effect").active = false;
        this.mPhoneButton.getChildByName("label").color = deselectedColor;
        this.mSMSButton.getChildByName("label").color = deselectedColor;
        this.mWhatsappButton.getChildByName("label").color = deselectedColor;
        if (0 == customEventData) {
          this.mPhoneButton.getComponent(cc.Button).interactable = false;
          this.mPhoneButton.getChildByName("effect").active = true;
          this.mPhoneButton.getChildByName("label").color = whiteColor;
        } else if (1 == customEventData) {
          this.mSMSButton.getComponent(cc.Button).interactable = false;
          this.mSMSButton.getChildByName("effect").active = true;
          this.mSMSButton.getChildByName("label").color = whiteColor;
        } else {
          this.mWhatsappButton.getComponent(cc.Button).interactable = false;
          this.mWhatsappButton.getChildByName("effect").active = true;
          this.mWhatsappButton.getChildByName("label").color = whiteColor;
        }
      },
      myCloseButtonDidPressedForgotPassword: function myCloseButtonDidPressedForgotPassword(event, customEventData, isCodeTrigger, pageToShow, errorMsg, otp, type) {
        var _this = this;
        isCodeTrigger || _SharedFunction["default"].playButtonClickSound();
        var verify_bg = this.mBackground.getChildByName("verification_bg");
        cc.tween(verify_bg).to(1 / 6, {
          scale: 1.1
        }).to(1 / 6, {
          scale: 0
        }).start();
        cc.tween(this.node).delay(1 / 6).to(1 / 6, {
          opacity: 0
        }).call(function() {
          _this.mCallBack && _this.mCallBack.onVerificationCloseButtonDidPressed(pageToShow, errorMsg, otp, type, _this.mForgotUsername);
        }).start();
      },
      myCloseButtonDidPressed: function myCloseButtonDidPressed(event, customEventData, isCodeTrigger, pageToShow, errorMsg, otp) {
        var _this2 = this;
        isCodeTrigger || _SharedFunction["default"].playButtonClickSound();
        var verify_bg = this.mBackground.getChildByName("verification_bg");
        cc.tween(verify_bg).to(1 / 6, {
          scale: 1.1
        }).to(1 / 6, {
          scale: 0
        }).start();
        cc.tween(this.node).delay(1 / 6).to(1 / 6, {
          opacity: 0
        }).call(function() {
          _this2.mCallBack && _this2.mCallBack.onVerificationCloseButtonDidPressed(pageToShow, errorMsg, otp);
        }).start();
      },
      onRequestForgotPasswordTacButtonDidPressed: function onRequestForgotPasswordTacButtonDidPressed(event, customEventData, isCodeTrigger) {
        var _this3 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
          var self, response;
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
             case 0:
              isCodeTrigger || _SharedFunction["default"].playButtonClickSound();
              _SharedFunction["default"].showLoadingView("", _this3);
              self = _this3;
              _context.prev = 3;
              _context.next = 6;
              return _AuthServices["default"].forgotPassword({
                username: _this3.mForgotUsername
              });

             case 6:
              response = _context.sent;
              if (200 == response["status"] || response.success) {
                _this3.myCDLabel.active = true;
                _this3.myNoCodeLabel.active = false;
                _this3.myResendLabel.active = false;
                _this3.mIsRequestedTac = true;
                _this3.myResendLabel.getComponent(cc.Button).interactable = false;
                _SharedFunction["default"].hideLoadingView(_this3);
              }
              _context.next = 14;
              break;

             case 10:
              _context.prev = 10;
              _context.t0 = _context["catch"](3);
              _this3.showLableError(_this3.myErrorLabel, _context.t0.message);
              _SharedFunction["default"].hideLoadingView(_this3);

             case 14:
             case "end":
              return _context.stop();
            }
          }, _callee, null, [ [ 3, 10 ] ]);
        }))();
      },
      onRequestTacButtonDidPressed: function onRequestTacButtonDidPressed(event, customEventData, isCodeTrigger) {
        var _this4 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee2() {
          var self, response;
          return _regeneratorRuntime().wrap(function _callee2$(_context2) {
            while (1) switch (_context2.prev = _context2.next) {
             case 0:
              if (!("forgotPasswordVerify" == _this4.verifyType)) {
                _context2.next = 3;
                break;
              }
              _this4.onRequestForgotPasswordTacButtonDidPressed(event, customEventData, isCodeTrigger);
              return _context2.abrupt("return");

             case 3:
              isCodeTrigger || _SharedFunction["default"].playButtonClickSound();
              _SharedFunction["default"].showLoadingView("", _this4);
              self = _this4;
              _context2.prev = 6;
              _context2.next = 9;
              return _AuthServices["default"].sendOtp({
                identifier: "phoneVerify" == _this4.verifyType ? _SharedData["default"].getPhoneCode() + localStorage.getItem("unverified_phoneNum") : localStorage.getItem("unverified_email"),
                type: "phoneVerify" == _this4.verifyType ? "sms" : "email",
                purpose: "register"
              });

             case 9:
              response = _context2.sent;
              if (Object.keys(response).length > 0) if (200 == response["status"]) {
                _this4.myCDLabel.active = true;
                _this4.myNoCodeLabel.active = false;
                _this4.myResendLabel.active = false;
                _this4.mIsRequestedTac = true;
                _this4.myResendLabel.getComponent(cc.Button).interactable = false;
                _SharedFunction["default"].hideLoadingView(_this4);
              } else _this4.showLableError(_this4.myErrorLabel, response.message);
              _context2.next = 17;
              break;

             case 13:
              _context2.prev = 13;
              _context2.t0 = _context2["catch"](6);
              _this4.showLableError(_this4.myErrorLabel, _context2.t0.message);
              _SharedFunction["default"].hideLoadingView(_this4);

             case 17:
             case "end":
              return _context2.stop();
            }
          }, _callee2, null, [ [ 6, 13 ] ]);
        }))();
      },
      onVerifyPhoneSubmitDidPressed: function onVerifyPhoneSubmitDidPressed(event, customEventData, isCodeTrigger) {
        var _this5 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee3() {
          var inputTac, i, inputNum, param, response, dashResponse, verification;
          return _regeneratorRuntime().wrap(function _callee3$(_context3) {
            while (1) switch (_context3.prev = _context3.next) {
             case 0:
              isCodeTrigger || _SharedFunction["default"].playButtonClickSound();
              inputTac = "";
              i = 1;

             case 3:
              if (!(i <= 6)) {
                _context3.next = 14;
                break;
              }
              inputNum = _this5["myVerifyBox" + i].getComponent(cc.EditBox).string;
              if (!("" != inputNum)) {
                _context3.next = 9;
                break;
              }
              inputTac += inputNum;
              _context3.next = 11;
              break;

             case 9:
              _this5.showLableError(_this5.myErrorLabel, _SharedFunction["default"].getLocalizedString(_this5.i18nJson, "invalidOTP"));
              return _context3.abrupt("return");

             case 11:
              i++;
              _context3.next = 3;
              break;

             case 14:
              _SharedFunction["default"].showLoadingView("", _this5);
              _context3.prev = 15;
              param = {};
              if ("forgotPasswordVerify" == _this5.verifyType) {
                param["identifier"] = _this5.mForgetPasswordResponse.contact;
                param["type"] = _this5.mForgetPasswordResponse.type;
                param["code"] = inputTac;
                param["testOnly"] = true;
              } else {
                param["identifier"] = "phoneVerify" == _this5.verifyType ? _SharedData["default"].getPhoneCode() + localStorage.getItem("unverified_phoneNum") : localStorage.getItem("unverified_email");
                param["type"] = "phoneVerify" == _this5.verifyType ? "sms" : "email";
                param["code"] = inputTac;
                param["testOnly"] = true;
              }
              _context3.next = 20;
              return _AuthServices["default"].verifyOtp(param);

             case 20:
              response = _context3.sent;
              if (!(200 == response["status"])) {
                _context3.next = 50;
                break;
              }
              if (!_this5.isFromEditBasicInfo) {
                _context3.next = 26;
                break;
              }
              _this5.myCloseButtonDidPressed("", "", true, "editBasicInfo", null, inputTac);
              _SharedFunction["default"].hideLoadingView(_this5);
              return _context3.abrupt("return");

             case 26:
              if (!("ForgotPassword" == _this5.mInitSource)) {
                _context3.next = 33;
                break;
              }
              localStorage.setItem("reset_password_otp", inputTac);
              _this5.myCloseButtonDidPressedForgotPassword("", "", true, "resetPassword", null, inputTac, _this5.mForgetPasswordResponse.type);
              _SharedFunction["default"].hideLoadingView(_this5);
              return _context3.abrupt("return");

             case 33:
              if (!("PersonalCenter" == _this5.mInitSource)) {
                _context3.next = 38;
                break;
              }
              localStorage.setItem("verify_personal_otp", inputTac);
              _this5.myCloseButtonDidPressed("", "", true, "personalCenter", null, inputTac);
              _SharedFunction["default"].hideLoadingView(_this5);
              return _context3.abrupt("return");

             case 38:
              dashResponse = JSON.parse(localStorage.getItem("from_index"));
              verification = dashResponse.settings.verification;
              if (!("phoneVerify" == _this5.verifyType && verification.emailVerification.enabled && "onRegister" == verification.emailVerification.required)) {
                _context3.next = 47;
                break;
              }
              localStorage.setItem("unverified_phoneotp", inputTac);
              _this5.myCloseButtonDidPressed("", "", true, "emailVerify");
              _SharedFunction["default"].hideLoadingView(_this5);
              return _context3.abrupt("return");

             case 47:
              _this5.callRegisterApi(localStorage.getItem("unverified_username"), localStorage.getItem("unverified_fullName"), _SharedData["default"].getPhoneCode() + localStorage.getItem("unverified_phoneNum"), localStorage.getItem("unverified_password"), localStorage.getItem("unverified_referal"), localStorage.getItem("unverified_email"), "phoneVerify" == _this5.verifyType ? inputTac : localStorage.getItem("unverified_phoneotp"), "phoneVerify" == _this5.verifyType ? "" : inputTac);

             case 48:
              _context3.next = 51;
              break;

             case 50:
              _this5.showLableError(_this5.myErrorLabel, error.message);

             case 51:
              _context3.next = 57;
              break;

             case 53:
              _context3.prev = 53;
              _context3.t0 = _context3["catch"](15);
              _this5.showLableError(_this5.myErrorLabel, _context3.t0.message);
              _SharedFunction["default"].hideLoadingView(_this5);

             case 57:
             case "end":
              return _context3.stop();
            }
          }, _callee3, null, [ [ 15, 53 ] ]);
        }))();
      },
      callRegisterApi: function callRegisterApi(username, fullName, phoneNum, password, referal, email, phoneOtp, emailOtp) {
        var _this6 = this;
        return _asyncToGenerator(_regeneratorRuntime().mark(function _callee4() {
          var response;
          return _regeneratorRuntime().wrap(function _callee4$(_context4) {
            while (1) switch (_context4.prev = _context4.next) {
             case 0:
              _context4.prev = 0;
              _context4.next = 3;
              return _AuthServices["default"].register({
                fullName: fullName,
                username: username,
                email: email,
                password: password,
                phone: phoneNum,
                referralCode: referal,
                phoneOtp: phoneOtp,
                emailOtp: emailOtp
              });

             case 3:
              response = _context4.sent;
              if (201 == response["status"]) {
                localStorage.setItem("verified_username", username);
                localStorage.setItem("verified_password", password);
                localStorage.setItem("token", response.token);
                _this6.myCloseButtonDidPressed("", "", true, "lobby");
              } else _this6.showLableError(_this6.myErrorLabel, response.message);
              _SharedFunction["default"].hideLoadingView(_this6);
              _context4.next = 12;
              break;

             case 8:
              _context4.prev = 8;
              _context4.t0 = _context4["catch"](0);
              400 == _context4.t0["status"] ? _this6.myCloseButtonDidPressed("", "", true, "registerPage", _context4.t0.message) : _this6.showLableError(_this6.myErrorLabel, _context4.t0.message);
              _SharedFunction["default"].hideLoadingView(_this6);

             case 12:
             case "end":
              return _context4.stop();
            }
          }, _callee4, null, [ [ 0, 8 ] ]);
        }))();
      },
      showLableError: function showLableError(labelComponent, text) {
        this.myErrorLabel.active = false;
        if (labelComponent) {
          labelComponent.getComponent(cc.Label).string = text;
          labelComponent.active = true;
          cc.tween(labelComponent).to(1 / 12, {
            scale: 1.1
          }).to(1 / 12, {
            scale: 1
          }).start();
        }
      },
      update: function update(dt) {
        if (this.mIsRequestedTac) {
          this.mCountDownTimer -= dt;
          this.myCDLabel.getComponent(cc.Label).string = parseInt(this.mCountDownTimer) + " Secs";
          if (this.mCountDownTimer <= 1) {
            this.myCDLabel.active = false;
            this.myNoCodeLabel.active = true;
            this.myResendLabel.active = true;
            this.mCountDownTimer = 30;
            this.mIsRequestedTac = false;
            this.myResendLabel.getComponent(cc.Button).interactable = true;
          }
        }
      },
      localizeUI: function localizeUI() {
        this.mTitleLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "title");
        this.mNoCodeLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "nocode");
        this.mResendLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "resend");
        this.mVerifyLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "verify");
        this.mHvAccountLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "hvAccount");
        this.mLoginHereLabel.getComponent(cc.Label).string = _SharedFunction["default"].getLocalizedString(this.i18nJson, "loginhere");
      }
    });
    cc._RF.pop();
  }, {
    "../Services/AuthServices": "AuthServices",
    SharedData: "SharedData",
    SharedFunction: "SharedFunction"
  } ],
  WalletService: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f4fe2hRp0lMBp0ehscfy9KY", "WalletService");
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.WalletService = void 0;
    var NetworkService_1 = require("./NetworkService");
    var WalletService = function() {
      function WalletService() {}
      WalletService.getWalletLedger = function(token, params) {
        var _a, _b, _c;
        return __awaiter(this, void 0, Promise, function() {
          var queryParams, response, ledgerData, error_1;
          return __generator(this, function(_d) {
            switch (_d.label) {
             case 0:
              _d.trys.push([ 0, 2, , 3 ]);
              if (!params.currency) throw new Error("Currency parameter is required");
              queryParams = {};
              queryParams.currency = params.currency;
              void 0 !== params.walletType && null !== params.walletType && (queryParams.walletType = params.walletType);
              void 0 !== params.page && null !== params.page && (queryParams.page = params.page);
              void 0 !== params.limit && null !== params.limit && (queryParams.limit = params.limit);
              void 0 !== params.startDate && null !== params.startDate && (queryParams.startDate = params.startDate);
              void 0 !== params.endDate && null !== params.endDate && (queryParams.endDate = params.endDate);
              return [ 4, NetworkService_1.NetworkService.get(this.GET_WALLET_LEDGER_ENDPOINT, queryParams, {
                headers: {
                  Authorization: "Bearer " + token,
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _d.sent();
              ledgerData = (null === (_a = response.data) || void 0 === _a ? void 0 : _a.data) || response.data;
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: ledgerData,
                entries: null === ledgerData || void 0 === ledgerData ? void 0 : ledgerData.entries,
                pagination: null === ledgerData || void 0 === ledgerData ? void 0 : ledgerData.pagination
              } ];

             case 2:
              error_1 = _d.sent();
              console.error("WalletService.getWalletLedger error:", error_1);
              throw {
                status: error_1.status || 500,
                data: error_1.data || null,
                message: error_1.message || "Failed to fetch wallet ledger",
                error: error_1
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      WalletService.getCompanyBanks = function(token) {
        var _a, _b;
        return __awaiter(this, void 0, Promise, function() {
          var response, error_2;
          return __generator(this, function(_c) {
            switch (_c.label) {
             case 0:
              _c.trys.push([ 0, 2, , 3 ]);
              return [ 4, NetworkService_1.NetworkService.get(this.GET_COMPANY_BANKS_ENDPOINT, {}, {
                headers: {
                  Authorization: "Bearer " + token,
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _c.sent();
              return [ 2, {
                status: response.status,
                success: null === (_a = response.data) || void 0 === _a ? void 0 : _a.success,
                data: null === (_b = response.data) || void 0 === _b ? void 0 : _b.data
              } ];

             case 2:
              error_2 = _c.sent();
              console.error("WalletService.getCompanyBanks error:", error_2);
              throw {
                status: error_2.status || 500,
                data: error_2.data || null,
                message: error_2.message || "Failed to fetch company banks",
                error: error_2
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      WalletService.deposit = function(token, params) {
        var _a, _b, _c;
        return __awaiter(this, void 0, Promise, function() {
          var formData, response, error_3;
          return __generator(this, function(_d) {
            switch (_d.label) {
             case 0:
              _d.trys.push([ 0, 2, , 3 ]);
              formData = new FormData();
              formData.append("amount", params.amount.toString());
              formData.append("companyBankId", params.companyBankId);
              formData.append("proof", params.proof);
              return [ 4, NetworkService_1.NetworkService.post(this.DEPOSIT_ENDPOINT, formData, {
                headers: {
                  Authorization: "Bearer " + token
                }
              }) ];

             case 1:
              response = _d.sent();
              return [ 2, {
                status: response.status,
                success: null === (_a = response.data) || void 0 === _a ? void 0 : _a.success,
                message: null === (_b = response.data) || void 0 === _b ? void 0 : _b.message,
                data: null === (_c = response.data) || void 0 === _c ? void 0 : _c.data
              } ];

             case 2:
              error_3 = _d.sent();
              console.error("WalletService.deposit error:", error_3);
              throw {
                status: error_3.status || 500,
                data: error_3.data || null,
                message: error_3.message || "Failed to submit deposit",
                error: error_3
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      WalletService.withdraw = function(token, params) {
        var _a, _b, _c, _d, _e;
        return __awaiter(this, void 0, Promise, function() {
          var response, error_4;
          return __generator(this, function(_f) {
            switch (_f.label) {
             case 0:
              _f.trys.push([ 0, 2, , 3 ]);
              return [ 4, NetworkService_1.NetworkService.post(this.WITHDRAW_ENDPOINT, {
                amount: params.amount,
                playerBankAccountId: params.playerBankAccountId
              }, {
                headers: {
                  Authorization: "Bearer " + token,
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _f.sent();
              return [ 2, {
                status: response.status,
                success: null === (_a = response.data) || void 0 === _a ? void 0 : _a.success,
                message: null === (_b = response.data) || void 0 === _b ? void 0 : _b.message,
                data: null === (_c = response.data) || void 0 === _c ? void 0 : _c.data,
                frozenBalance: null === (_d = response.data) || void 0 === _d ? void 0 : _d.frozenBalance,
                availableBalance: null === (_e = response.data) || void 0 === _e ? void 0 : _e.availableBalance
              } ];

             case 2:
              error_4 = _f.sent();
              console.error("WalletService.withdraw error:", error_4);
              throw {
                status: error_4.status || 500,
                data: error_4.data || null,
                message: error_4.message || "Failed to submit withdrawal",
                error: error_4
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      WalletService.getPaymentTransactions = function(token, params) {
        var _a, _b, _c;
        void 0 === params && (params = {});
        return __awaiter(this, void 0, Promise, function() {
          var queryParams, response, transactionsData, error_5;
          return __generator(this, function(_d) {
            switch (_d.label) {
             case 0:
              _d.trys.push([ 0, 2, , 3 ]);
              queryParams = {};
              void 0 !== params.type && null !== params.type && (queryParams.type = params.type);
              void 0 !== params.status && null !== params.status && "all" !== params.status && (queryParams.status = params.status);
              void 0 !== params.page && null !== params.page && (queryParams.page = params.page);
              void 0 !== params.limit && null !== params.limit && (queryParams.limit = params.limit);
              void 0 !== params.startDate && null !== params.startDate && (queryParams.startDate = params.startDate);
              void 0 !== params.endDate && null !== params.endDate && (queryParams.endDate = params.endDate);
              return [ 4, NetworkService_1.NetworkService.get(this.GET_PAYMENT_TRANSACTIONS_ENDPOINT, queryParams, {
                headers: {
                  Authorization: "Bearer " + token,
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _d.sent();
              transactionsData = (null === (_a = response.data) || void 0 === _a ? void 0 : _a.data) || response.data;
              return [ 2, {
                status: response.status,
                success: null === (_b = response.data) || void 0 === _b ? void 0 : _b.success,
                message: (null === (_c = response.data) || void 0 === _c ? void 0 : _c.message) || response.message,
                data: transactionsData,
                transactions: null === transactionsData || void 0 === transactionsData ? void 0 : transactionsData.transactions,
                pagination: null === transactionsData || void 0 === transactionsData ? void 0 : transactionsData.pagination
              } ];

             case 2:
              error_5 = _d.sent();
              console.error("WalletService.getPaymentTransactions error:", error_5);
              throw {
                status: error_5.status || 500,
                data: error_5.data || null,
                message: error_5.message || "Failed to fetch payment transactions",
                error: error_5
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      WalletService.getBankAccounts = function(token) {
        var _a, _b;
        return __awaiter(this, void 0, Promise, function() {
          var response, error_6;
          return __generator(this, function(_c) {
            switch (_c.label) {
             case 0:
              _c.trys.push([ 0, 2, , 3 ]);
              return [ 4, NetworkService_1.NetworkService.get(this.BANK_ACCOUNTS_ENDPOINT, {}, {
                headers: {
                  Authorization: "Bearer " + token,
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _c.sent();
              return [ 2, {
                status: response.status,
                success: null === (_a = response.data) || void 0 === _a ? void 0 : _a.success,
                data: null === (_b = response.data) || void 0 === _b ? void 0 : _b.data
              } ];

             case 2:
              error_6 = _c.sent();
              console.error("WalletService.getBankAccounts error:", error_6);
              throw {
                status: error_6.status || 500,
                data: error_6.data || null,
                message: error_6.message || "Failed to fetch bank accounts",
                error: error_6
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      WalletService.createBankAccount = function(token, params) {
        var _a, _b, _c;
        return __awaiter(this, void 0, Promise, function() {
          var response, error_7;
          return __generator(this, function(_d) {
            switch (_d.label) {
             case 0:
              _d.trys.push([ 0, 2, , 3 ]);
              return [ 4, NetworkService_1.NetworkService.post(this.BANK_ACCOUNTS_ENDPOINT, params, {
                headers: {
                  Authorization: "Bearer " + token,
                  "Content-Type": "application/json"
                }
              }) ];

             case 1:
              response = _d.sent();
              return [ 2, {
                status: response.status,
                success: null === (_a = response.data) || void 0 === _a ? void 0 : _a.success,
                message: null === (_b = response.data) || void 0 === _b ? void 0 : _b.message,
                data: null === (_c = response.data) || void 0 === _c ? void 0 : _c.data
              } ];

             case 2:
              error_7 = _d.sent();
              console.error("WalletService.createBankAccount error:", error_7);
              throw {
                status: error_7.status || 500,
                data: error_7.data || null,
                message: error_7.message || "Failed to create bank account",
                error: error_7
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      WalletService.deleteBankAccount = function(token, bankAccountId) {
        var _a, _b;
        return __awaiter(this, void 0, Promise, function() {
          var response, error_8;
          return __generator(this, function(_c) {
            switch (_c.label) {
             case 0:
              _c.trys.push([ 0, 2, , 3 ]);
              return [ 4, NetworkService_1.NetworkService.delete(this.BANK_ACCOUNTS_ENDPOINT + "/" + bankAccountId, {
                headers: {
                  Authorization: "Bearer " + token
                }
              }) ];

             case 1:
              response = _c.sent();
              return [ 2, {
                status: response.status,
                success: null === (_a = response.data) || void 0 === _a ? void 0 : _a.success,
                message: null === (_b = response.data) || void 0 === _b ? void 0 : _b.message
              } ];

             case 2:
              error_8 = _c.sent();
              console.error("WalletService.deleteBankAccount error:", error_8);
              throw {
                status: error_8.status || 500,
                data: error_8.data || null,
                message: error_8.message || "Failed to delete bank account",
                error: error_8
              };

             case 3:
              return [ 2 ];
            }
          });
        });
      };
      WalletService.GET_WALLET_LEDGER_ENDPOINT = "/api/public/v1/wallet-ledger";
      WalletService.GET_COMPANY_BANKS_ENDPOINT = "/api/public/v1/payments/company-banks";
      WalletService.DEPOSIT_ENDPOINT = "/api/public/v1/payments/deposit";
      WalletService.WITHDRAW_ENDPOINT = "/api/public/v1/payments/withdraw";
      WalletService.BANK_ACCOUNTS_ENDPOINT = "/api/public/v1/bank-accounts";
      WalletService.GET_PAYMENT_TRANSACTIONS_ENDPOINT = "/api/public/v1/payments/transactions";
      return WalletService;
    }();
    exports.WalletService = WalletService;
    exports.default = WalletService;
    cc._RF.pop();
  }, {
    "./NetworkService": "NetworkService"
  } ]
}, {}, [ "AlertView", "MessageInfoView", "Avatar", "AvatarList", "CalendarManager", "SimpleBirthdayPicker", "CustomerService", "CustomerServiceItem", "Deposit", "ManageCard", "DeveloperLogo", "GameContainer", "GameList", "GameType", "GameWebView", "Language", "LoadingView", "Settings", "Landing", "AnnounceItem", "Announcement", "AnnouncementDetail", "Banner", "DrawerCsItem", "GameGroup", "Lobby", "ForgotPassword", "Login", "ResetPassword", "DDLSelect", "EditBasicInfo", "PersonalCenter", "UnselectedTab", "Rebate", "Registration", "AuthServices", "GameService", "NetworkService", "TransactionService", "TwoFAService", "UserService", "WalletService", "Splash", "LevelInfo", "VIPLevel", "Verification", "SharedData", "SharedFunction", "CCGIF", "GIFLoadInit", "GIFParser", "LZW" ]);