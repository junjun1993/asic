window.__require=function e(t,n,o){function a(r,c){if(!n[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return a(t[r][1][e]||e)},u,u.exports,e,t,n,o)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<o.length;r++)a(o[r]);return a}({AlertView:[function(e,t){"use strict";cc._RF.push(t,"f728bYNFEZGxpE0Z85NpgJi","AlertView");var n=o(e("SharedFunction"));function o(e){return e&&e.__esModule?e:{default:e}}o(e("SharedData")),cc.Class({extends:cc.Component,properties:{mCallBack:null,mBackground:{default:null,type:cc.Node},mAlertContainer:{default:null,type:cc.Node},mAlertTitle:{default:null,type:cc.Node},mAlertDescription:{default:null,type:cc.Node},mAlertButton:{default:null,type:cc.Node},mText:""},onLoad:function(){this.mAlertButton&&this.mAlertButton.on(cc.Node.EventType.TOUCH_END,this.onButtonClicked,this)},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground&&(this.mBackground.width=n,this.mBackground.height=o)},setText:function(e){if(void 0===e&&(e=""),this.mText=e,this.mAlertDescription){var t=this.mAlertDescription.getComponent(cc.Label);t&&(t.string=e)}},setTitle:function(e){if(void 0===e&&(e=""),this.mAlertTitle){var t=this.mAlertTitle.getComponent(cc.Label);t&&(t.string=e)}},onButtonClicked:function(){n.default.playButtonClickSound(),this.mCallBack&&"function"==typeof this.mCallBack&&this.mCallBack(),this.node&&this.node.parent&&this.node.parent.removeChild(this.node)},setCallback:function(e){this.mCallBack=e},show:function(){this.node&&(this.node.active=!0)},hide:function(){this.node&&(this.node.active=!1)},onDestroy:function(){this.mAlertButton&&this.mAlertButton.off(cc.Node.EventType.TOUCH_END,this.onButtonClicked,this)}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],AnnounceItem:[function(e,t){"use strict";cc._RF.push(t,"d125csUoYpPUp0l57JeUSkG","AnnounceItem");var n,o=(n=e("SharedFunction"))&&n.__esModule?n:{default:n},a=e("SharedData");cc.Class({extends:cc.Component,properties:{background:{default:null,type:cc.Node},announcement_date:{default:null,type:cc.Node},announcement_title:{default:null,type:cc.Node},mCallBack:null,mData:null},onLoad:function(){this.background?this.background.on(cc.Node.EventType.TOUCH_END,this.onItemClicked,this):this.node.on(cc.Node.EventType.TOUCH_END,this.onItemClicked,this)},onDestroy:function(){this.background?this.background.off(cc.Node.EventType.TOUCH_END,this.onItemClicked,this):this.node.off(cc.Node.EventType.TOUCH_END,this.onItemClicked,this)},init:function(e,t){this.mData=e,this.mCallBack=t;var n=a.getCurrentLanguage();if(this.announcement_date&&e.startDate){var o=this.announcement_date.getComponent(cc.Label);if(o){var i=new Date(e.startDate),r=this.formatDate(i);o.string=r}}if(this.announcement_title&&e.title){var c=this.announcement_title.getComponent(cc.Label);if(c){var s="";"object"==typeof e.title&&e.title[n]?s=e.title[n]:"string"==typeof e.title&&(s=e.title);var l=s.replace(/<[^>]+>/g,"").trim();c.string=l}}},formatDate:function(e){return!e||isNaN(e.getTime())?"":e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0")+" "+String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0")+":"+String(e.getSeconds()).padStart(2,"0")},onItemClicked:function(){o.default.playButtonClickSound(),this.mCallBack&&"function"==typeof this.mCallBack.onAnnouncementItemClicked&&this.mCallBack.onAnnouncementItemClicked(this.mData)},getData:function(){return this.mData}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],AnnouncementDetail:[function(e,t){"use strict";cc._RF.push(t,"a234cb15-b28b-4g63-0e36-f8c36f623a17","AnnouncementDetail");var n,o=(n=e("SharedFunction"))&&n.__esModule?n:{default:n},a=e("SharedData");cc.Class({extends:cc.Component,properties:{background:{default:null,type:cc.Node},announcement_date:{default:null,type:cc.Node},announcement_title:{default:null,type:cc.Node},accouncement_description:{default:null,type:cc.Node},accountment_image:{default:null,type:cc.Node},accountment_image2:{default:null,type:cc.Node},Collapse_Button:{default:null,type:cc.Node},mCallBack:null,mData:null},onLoad:function(){this.Collapse_Button&&this.Collapse_Button.on(cc.Node.EventType.TOUCH_END,this.onCollapseButtonClicked,this)},onDestroy:function(){if(this.Collapse_Button&&this.Collapse_Button.off(cc.Node.EventType.TOUCH_END,this.onCollapseButtonClicked,this),this.accountment_image2&&cc.isValid(this.accountment_image2)){var e=this.accountment_image2.getComponent("CCGIF");e&&"function"==typeof e.stop&&e.stop()}},init:function(e,t){var n=this;console.log("init",e),this.mData=e,this.mCallBack=t;var o=a.getCurrentLanguage();if(this.announcement_date&&e.startDate){var i=this.announcement_date.getComponent(cc.Label);if(i){var r=new Date(e.startDate),c=this.formatDate(r);i.string=c}}if(this.announcement_title&&e.title){var s=this.announcement_title.getComponent(cc.Label);if(s){var l="";"object"==typeof e.title&&e.title[o]?l=e.title[o]:"string"==typeof e.title&&(l=e.title);var u=l.replace(/<[^>]+>/g,"").trim();s.string=u}}if(this.accouncement_description&&e.description){var d="";"object"==typeof e.description&&e.description[o]?d=e.description[o]:"string"==typeof e.description&&(d=e.description);var h=this.accouncement_description.getComponent(cc.RichText);if(h){var m=this.node.width-100;h.maxWidth=m,h.string=d.trim()}}else if(this.accouncement_description){var f=this.accouncement_description.getComponent(cc.RichText);f&&(f.string="")}if(this.accountment_image&&e.image){var p=this.accountment_image.getComponent(cc.Sprite);if(p&&e.image){var g="";if("object"==typeof e.image&&e.image[o]?g=e.image[o]:"string"==typeof e.image&&(g=e.image),g)if(g.startsWith("http://")||g.startsWith("https://")){var y="https://api.codetabs.com/v1/proxy?quest="+encodeURIComponent(g);console.log("Loading image via proxy:",y);var v=this;cc.assetManager.loadRemote(y,function(e,t){if(e)return console.error("Failed to load image:",e),void v.scheduleOnce(function(){v.adjustHeight()},.1);if(g.endsWith(".gif")){if(!v.accountment_image2||!cc.isValid(v.accountment_image2))return console.error("accountment_image2 node is invalid"),void v.scheduleOnce(function(){v.adjustHeight()},.1);var n=v.accountment_image2.getComponent("CCGIF");if(!n)return console.error("CCGIF component not found on accountment_image2 node"),void v.scheduleOnce(function(){v.adjustHeight()},.1);if(!cc.isValid(n)||!cc.isValid(v.node))return console.error("GIF component or node is invalid"),void v.scheduleOnce(function(){v.adjustHeight()},.1);v.scheduleOnce(function(){n&&cc.isValid(n)&&v.node&&cc.isValid(v.node)&&v.accountment_image2&&cc.isValid(v.accountment_image2)?(n.processGifData(t),v.scheduleOnce(function(){v.adjustHeight()},.2)):(console.error("Component or node became invalid before processing GIF"),v.scheduleOnce(function(){v.adjustHeight()},.1))},.1)}else{var o=new cc.SpriteFrame(t),a=v.accountment_image.getComponent(cc.Sprite);a&&(a.type=cc.Sprite.Type.SIMPLE,v.accountment_image.getComponent(cc.Sprite).spriteFrame=o,v.fitImageToNode(!1,t.width,t.height),v.scheduleOnce(function(){v.adjustHeight()},.1))}})}else{var b=this;cc.loader.loadRes(g,cc.SpriteFrame,function(e,t){!e&&t?(p.spriteFrame=t,b.scheduleOnce(function(){b.adjustHeight()},.1)):(console.error("Failed to load image from resources:",g,e),b.scheduleOnce(function(){b.adjustHeight()},.1))})}}}else this.scheduleOnce(function(){n.adjustHeight()},.1)},fitImageToNode:function(e,t,n){if(e){if(!this.accountment_image2||!cc.isValid(this.accountment_image2))return void console.error("accountment_image node is invalid")}else if(!this.accountment_image||!cc.isValid(this.accountment_image))return void console.error("accountment_image node is invalid");var o=this.node.width,a=e?this.accountment_image2:this.accountment_image,i=o-100,r=t,c=n;if(r>i||c>450){var s=i/r,l=450/c,u=Math.min(s,l);r*=u,c*=u}a.width=r,a.height=c},adjustHeight:function(){if(this.node&&this.node.isValid&&cc.isValid(this.node)){var e=0;if(this.announcement_date&&cc.isValid(this.announcement_date)){var t=this.announcement_date.getComponent(cc.Label);t&&t.string&&""!==t.string.trim()&&(e=this.announcement_date.height)}var n=0;if(this.announcement_title&&cc.isValid(this.announcement_title)){var o=this.announcement_title.getComponent(cc.Label);o&&o.string&&""!==o.string.trim()&&(n=this.announcement_title.height)}var a=0;if(this.accountment_image&&cc.isValid(this.accountment_image)){var i=this.accountment_image.getComponent(cc.Sprite);i&&i.spriteFrame&&(a=this.accountment_image.height)}0==a&&this.accountment_image2&&cc.isValid(this.accountment_image2)&&(a=this.accountment_image2.height*this.accountment_image2.scale);var r=0;if(this.accouncement_description&&cc.isValid(this.accouncement_description)){var c=this.accouncement_description.getComponent(cc.RichText),s=!1;c&&c.string&&""!==c.string.trim()&&(s=!0),s&&(r=this.accouncement_description.height)}this.announcement_date.y=-30,this.announcement_title.y=-1*(30+e),this.accountment_image.y=-1*(30+e+n+10),this.accouncement_description.y=-1*(30+e+n+10+a+10+10);var l=30+e+n+10+a+10+10+r+30;this.background&&(this.background.height=l,this.background.setContentSize(this.background.width,l));var u=l+16;this.node.height=u,this.node.setContentSize(this.node.width,u);var d=this.node.parent;d&&(d.height=u,d.setContentSize(d.width,u)),this.mCallBack&&"function"==typeof this.mCallBack.onDetailHeightAdjusted&&this.mCallBack.onDetailHeightAdjusted(u)}},formatDate:function(e){return!e||isNaN(e.getTime())?"":e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0")+" "+String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0")+":"+String(e.getSeconds()).padStart(2,"0")},onCollapseButtonClicked:function(){o.default.playButtonClickSound(),this.mCallBack&&"function"==typeof this.mCallBack.onCollapseAnnouncementDetail&&this.mCallBack.onCollapseAnnouncementDetail()},getData:function(){return this.mData}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],Announcement:[function(e,t){"use strict";cc._RF.push(t,"2f1c8zT11NHB45v0Yx8gu3V","Announcement");var n,o=(n=e("SharedFunction"))&&n.__esModule?n:{default:n},a=e("SharedData");cc.Class({extends:cc.Component,properties:{announcementLabel:{default:null,type:cc.Node},announcementContentView:{default:null,type:cc.Node},announcementView:{default:null,type:cc.Node},announcementScrollView:cc.ScrollView,mCallBack:null},onLoad:function(){},onDestroy:function(){},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o},updateView:function(e,t,n,o){var i=this;this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o;for(var r=a.getAnnouncement(),c="",s=0;s<r.length;s++)c+=" "+r[s].title[a.getCurrentLanguage()];this.announcementLabel.getComponent(cc.Label).string=c.replace(/<[^>]+>/g,"").replace(/\n/g," "),setTimeout(function(){var e=i.announcementLabel.parent.width;i.announcementLabel.x=i.announcementLabel.width>e?0:e;var t=i.calculateDuration(),n=i.announcementLabel.width>e?-i.announcementLabel.width+e:-i.announcementLabel.width;cc.tween(i.announcementLabel).repeatForever(cc.tween().to(t,{position:cc.v2(n,i.announcementLabel.y)}).call(function(){i.announcementLabel.x=i.announcementLabel.width>e?0:e})).start()},500)},calculateDuration:function(){return(this.announcementLabel.parent.width+this.announcementLabel.width)/100},setCallBack:function(e){this.mCallBack=e},onAnnouncementClicked:function(){o.default.playButtonClickSound(),this.mCallBack&&"function"==typeof this.mCallBack.onAnnouncementClicked?this.mCallBack.onAnnouncementClicked():console.error("Callback not set or onAnnouncementClicked method not found in callback object")}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],AuthServices:[function(e,t,n){"use strict";cc._RF.push(t,"0c5dbFAbnlHlp3l7wZP+QbG","AuthServices");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{s(o.next(e))}catch(t){i(t)}}function c(e){try{s(o.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,c)}s((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(c){i=[6,c],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.AuthServices=void 0;var i=e("./NetworkService"),r=function(){function e(){}return e.login=function(e,t,n,r){var c,s,l,u;return void 0===e&&(e=""),void 0===t&&(t=""),void 0===r&&(r=""),o(this,void 0,Promise,function(){var e,o,r;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e={username:t,password:n},[4,i.NetworkService.post(this.LOGIN_ENDPOINT,e,{headers:{"Content-Type":"application/json"}})];case 1:return[2,{status:(o=a.sent()).status,success:null===(c=o.data)||void 0===c?void 0:c.success,message:(null===(s=o.data)||void 0===s?void 0:s.message)||o.message,token:null===(l=o.data)||void 0===l?void 0:l.token,player:null===(u=o.data)||void 0===u?void 0:u.player,data:o.data}];case 2:throw r=a.sent(),console.error("AuthServices.login error:",r),{status:r.status||500,data:r.data||null,message:r.message||"Login failed",error:r};case 3:return[2]}})})},e.register=function(e){var t,n,r,c;return o(this,void 0,Promise,function(){var o,s,l;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={fullName:e.fullName,username:e.username,password:e.password,phone:e.phone},void 0!==e.email&&null!==e.email&&""!==e.email&&(o.email=e.email),void 0!==e.referralCode&&null!==e.referralCode&&(o.referralCode=e.referralCode),void 0!==e.phoneOtp&&null!==e.phoneOtp&&""!==e.phoneOtp&&(o.phoneOtp=e.phoneOtp),void 0!==e.emailOtp&&null!==e.emailOtp&&""!==e.emailOtp&&(o.emailOtp=e.emailOtp),console.log(o),[4,i.NetworkService.post(this.REGISTER_ENDPOINT,o,{headers:{"Content-Type":"application/json"}})];case 1:return[2,{status:(s=a.sent()).status,success:null===(t=s.data)||void 0===t?void 0:t.success,message:(null===(n=s.data)||void 0===n?void 0:n.message)||s.message,token:null===(r=s.data)||void 0===r?void 0:r.token,player:null===(c=s.data)||void 0===c?void 0:c.player,data:s.data}];case 2:throw l=a.sent(),console.error("AuthServices.register error:",l),{status:l.status||500,data:l.data||null,message:l.message||"Registration failed",error:l};case 3:return[2]}})})},e.sendOtp=function(e){var t,n,r;return o(this,void 0,Promise,function(){var o,c,s;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={identifier:e.identifier,type:e.type,purpose:e.purpose},[4,i.NetworkService.post(this.SEND_OTP_ENDPOINT,o,{headers:{"Content-Type":"application/json"}})];case 1:return[2,{status:(c=a.sent()).status,success:null===(t=c.data)||void 0===t?void 0:t.success,message:(null===(n=c.data)||void 0===n?void 0:n.message)||c.message,expiresIn:null===(r=c.data)||void 0===r?void 0:r.expiresIn,data:c.data}];case 2:throw s=a.sent(),console.error("AuthServices.sendOtp error:",s),{status:s.status||500,data:s.data||null,message:s.message||"Send OTP failed",error:s};case 3:return[2]}})})},e.verifyOtp=function(e){var t,n;return o(this,void 0,Promise,function(){var o,r,c;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={identifier:e.identifier,type:e.type,code:e.code,testOnly:e.testOnly},[4,i.NetworkService.post(this.VERIFY_OTP_ENDPOINT,o,{headers:{"Content-Type":"application/json"}})];case 1:return[2,{status:(r=a.sent()).status,success:null===(t=r.data)||void 0===t?void 0:t.success,message:(null===(n=r.data)||void 0===n?void 0:n.message)||r.message,data:r.data}];case 2:throw c=a.sent(),console.error("AuthServices.verifyOtp error:",c),{status:c.status||500,data:c.data||null,message:c.message||"OTP verification failed",error:c};case 3:return[2]}})})},e.forgotPassword=function(e){var t,n,r,c,s,l;return o(this,void 0,Promise,function(){var o,u,d;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={username:e.username},[4,i.NetworkService.post(this.FORGOT_PASSWORD_ENDPOINT,o,{headers:{"Content-Type":"application/json"}})];case 1:return u=a.sent(),[2,{success:null===(t=u.data)||void 0===t?void 0:t.success,message:(null===(n=u.data)||void 0===n?void 0:n.message)||u.message,type:null===(r=u.data)||void 0===r?void 0:r.type,method:null===(c=u.data)||void 0===c?void 0:c.method,contact:null===(s=u.data)||void 0===s?void 0:s.contact,expiresIn:null===(l=u.data)||void 0===l?void 0:l.expiresIn,data:u.data}];case 2:throw d=a.sent(),console.error("AuthServices.forgotPassword error:",d),{status:d.status||500,data:d.data||null,message:d.message||"Failed to process forgot password request",error:d};case 3:return[2]}})})},e.resetPassword=function(e){var t,n;return o(this,void 0,Promise,function(){var o,r,c;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={username:e.username,otp:e.otp,newPassword:e.newPassword,type:e.type},[4,i.NetworkService.post(this.RESET_PASSWORD_ENDPOINT,o,{headers:{"Content-Type":"application/json"}})];case 1:return[2,{status:(r=a.sent()).status,success:null===(t=r.data)||void 0===t?void 0:t.success,message:(null===(n=r.data)||void 0===n?void 0:n.message)||r.message,data:r.data}];case 2:throw c=a.sent(),console.error("AuthServices.resetPassword error:",c),{status:c.status||500,data:c.data||null,message:c.message||"Failed to reset password",error:c};case 3:return[2]}})})},e.LOGIN_ENDPOINT="/api/public/v1/players/login",e.REGISTER_ENDPOINT="/api/public/v1/players/register",e.SEND_OTP_ENDPOINT="/api/public/v1/verification/send-otp",e.VERIFY_OTP_ENDPOINT="/api/public/v1/verification/verify-otp",e.FORGOT_PASSWORD_ENDPOINT="/api/public/v1/players/forgot-password",e.RESET_PASSWORD_ENDPOINT="/api/public/v1/players/reset-password",e}();n.AuthServices=r,n.default=r,cc._RF.pop()},{"./NetworkService":"NetworkService"}],AvatarList:[function(e,t){"use strict";cc._RF.push(t,"4fcf3Q+o4pIhojY/0U+qXmf","AvatarList");var n=a(e("SharedFunction")),o=a(e("SharedData"));function a(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{mCallBack:null,mAvatarList:[],createdAvatars:[],mBackground:{default:null,type:cc.Node},myScrollView:{default:null,type:cc.Node},myScrollContent:{default:null,type:cc.Node},myConfirmBtn:{default:null,type:cc.Node},myAvatarPrefab:{default:null,type:cc.Prefab},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node},mConfirmLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},updateView:function(e){this.localizeUI(),this.mCallBack=e,this.mBackground.active=!0,this.node.opacity=255,this.selectedAvatar=o.default.getSelectedAvatar(),this.drawAvatar();var t=this.mBackground.getChildByName("card_bg");t.setScale(0),cc.tween(t).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},setCallBack:function(e){this.mCallBack=e},drawAvatar:function(){for(var e=-130,t=1;t<=10;t++){var n=204*((t%5==0?5:t%5)-1)-409,o=-130-216*(Math.ceil(t/5)-1),a=new cc.instantiate(this.myAvatarPrefab).getComponent("Avatar");a.init(n,o,t,this),e=o,this.myScrollContent.addChild(a.node),this.createdAvatars.push(a)}this.myConfirmBtn.y=e-157,this.myScrollContent.height=-1*(e-157)+47,this.myScrollView.getComponent(cc.ScrollView).scrollToTop(0)},onAvatarDidPressed:function(e){this.selectedAvatar!=e&&(this.createdAvatars[this.selectedAvatar-1].hideBorder(),this.selectedAvatar=e)},onCloseButtonDidPressed:function(e,t,o){var a=this;o||n.default.playButtonClickSound();var i=this.mBackground.getChildByName("card_bg");cc.tween(i).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){a.createdAvatars[a.selectedAvatar-1].hideBorder(),a.createdAvatars.forEach(function(e){e&&e.isValid&&e.node.removeFromParent()}),a.createdAvatars=[],a.mCallBack&&a.mCallBack.myCloseChangeAvatarDidPressed()}).start()},onConfirmButtonDidPressed:function(){o.default.setSelectedAvatar(this.selectedAvatar),this.onCloseButtonDidPressed()},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"title"),this.mConfirmLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirm")},updatePrefabSize:function(){cc.view.getVisibleSize()}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],Avatar:[function(e,t){"use strict";var n;cc._RF.push(t,"0b963BfVctDZ5b1Ieqs9iL5","Avatar"),(n=e("SharedFunction"))&&n.__esModule;var o=e("SharedData");cc.Class({extends:cc.Component,properties:{myBorder:{default:null,type:cc.Node},myAvatarImg:{default:null,type:cc.Node}},onLoad:function(){},init:function(e,t,n,a){this.node.x=e,this.node.y=t,this.imgNumber=n,this.mCallBack=a;var i=this;cc.loader.loadRes("images/profile/Avatar"+(n%10==0?10:n%10)+".png",cc.SpriteFrame,function(e,t){i.myAvatarImg.getComponent(cc.Sprite).spriteFrame=t}),n==o.getSelectedAvatar()&&(this.myBorder.active=!0)},onclick:function(){this.myBorder.active=!0,this.mCallBack.onAvatarDidPressed(this.imgNumber)},hideBorder:function(){this.myBorder.active=!1}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],Banner:[function(e,t){"use strict";cc._RF.push(t,"8eea9J7WABNeLjz902Gn64y","Banner");var n,o=(n=e("SharedFunction"))&&n.__esModule?n:{default:n},a=e("SharedData");cc.Class({extends:cc.Component,properties:{announcementScrollView:{default:null,type:cc.ScrollView},announcementContent:{default:null,type:cc.Node},closeButton:{default:null,type:cc.Node},announcementItemPrefab:{default:null,type:cc.Prefab},announcementDetailPrefab:{default:null,type:cc.Prefab},background:{default:null,type:cc.Node},mCallBack:null,createdAnnouncementItems:[],savedAnnouncementItems:[],currentDetailNode:null,i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI(),this.createdAnnouncementItems=[],this.savedAnnouncementItems=[],this.currentDetailNode=null,this.setupBackgroundBlocker()},start:function(){},onDestroy:function(){var e=this.background||this.node;e&&(e.off(cc.Node.EventType.TOUCH_START,this.onBackgroundTouched,this),e.off(cc.Node.EventType.TOUCH_END,this.onBackgroundTouched,this))},init:function(e){if(e&&Array.isArray(e)&&0!==e.length)if(this.announcementsData=e,this.announcementScrollView&&this.announcementContent){this.clearAnnouncementItems();var t=this.filterActiveAnnouncements(e);0!==t.length?(t.sort(function(e,t){return void 0!==e.sequence&&void 0!==t.sequence?e.sequence-t.sequence:e.startDate&&t.startDate?new Date(e.startDate)-new Date(t.startDate):0}),this.createAnnouncementItems(t)):console.log("No active announcements to display")}else console.error("Announcement ScrollView or Content is not set");else console.error("Announcement data array is missing or empty")},filterActiveAnnouncements:function(e){var t=[],n=new Date,o=a.getCurrentLanguage();console.log("filterActiveAnnouncements",e);for(var i=0;i<e.length;i++){var r=e[i];if("active"===r.status||"Active"===r.status){if(r.startDate&&n<new Date(r.startDate))continue;if(r.endDate&&n>new Date(r.endDate))continue;r.title&&("object"!=typeof r.title||r.title[o]&&""!==r.title[o].trim())&&t.push(r)}}return t},createAnnouncementItems:function(e){if(this.announcementItemPrefab){var t=this.announcementScrollView.node.width;0===t&&(t=this.announcementContent.width||1076);for(var n=0,o=0;o<e.length;o++){var a=e[o],i=cc.instantiate(this.announcementItemPrefab),r=i.getComponent("AnnounceItem");r?(i.width=t,i.setPosition(0,-n),n+=125,r.init(a,this),this.announcementContent.addChild(i),this.createdAnnouncementItems.push(i)):(console.error("AnnounceItem component not found on prefab"),i.destroy())}this.announcementContent.width=t-100;var c=n-0;this.announcementContent.height=c>0?c:125,this.announcementScrollView.scrollToTop()}else console.error("AnnouncementItem prefab is not set")},clearAnnouncementItems:function(){for(var e=0;e<this.createdAnnouncementItems.length;e++)this.createdAnnouncementItems[e]&&cc.isValid(this.createdAnnouncementItems[e])&&this.createdAnnouncementItems[e].destroy();this.createdAnnouncementItems=[],this.cleanupDetailNode()},cleanupDetailNode:function(){this.currentDetailNode&&cc.isValid(this.currentDetailNode)&&(this.currentDetailNode.destroy(),this.currentDetailNode=null)},restoreListView:function(){this.createdAnnouncementItems=[];for(var e=0;e<this.savedAnnouncementItems.length;e++)this.savedAnnouncementItems[e]&&cc.isValid(this.savedAnnouncementItems[e])&&(this.savedAnnouncementItems[e].parent!==this.announcementContent&&this.announcementContent.addChild(this.savedAnnouncementItems[e]),this.createdAnnouncementItems.push(this.savedAnnouncementItems[e]));this.savedAnnouncementItems=[],this.updateContentHeight(),this.announcementScrollView.scrollToTop()},removeAnnouncementItemsFromContent:function(){for(var e=0;e<this.createdAnnouncementItems.length;e++)this.createdAnnouncementItems[e]&&cc.isValid(this.createdAnnouncementItems[e])&&this.createdAnnouncementItems[e].removeFromParent(!1)},updateContentHeight:function(){var e=this.announcementScrollView.node.width;0===e&&(e=this.announcementContent.width||1076);for(var t=0,n=0;n<this.createdAnnouncementItems.length;n++){var o=this.createdAnnouncementItems[n];o&&cc.isValid(o)&&(o.width=e,o.setPosition(0,-t),t+=125)}this.announcementContent.width=e-100;var a=t-0;this.announcementContent.height=a>0?a:125},onCloseButtonClicked:function(){o.default.playButtonClickSound(),this.hide()},setupBackgroundBlocker:function(){var e=this.background||this.node;if(e){var t=e.getComponent(cc.BlockInputEvents);t||(t=e.addComponent(cc.BlockInputEvents)),e.on(cc.Node.EventType.TOUCH_START,this.onBackgroundTouched,this),e.on(cc.Node.EventType.TOUCH_END,this.onBackgroundTouched,this)}},onBackgroundTouched:function(e){e.stopPropagation()},show:function(){if(this.localizeUI(),this.node.active=!0,this.enableBackgroundBlocker(!0),this.cleanupDetailNode(),this.savedAnnouncementItems&&this.savedAnnouncementItems.length>0){for(var e=0;e<this.savedAnnouncementItems.length;e++)this.savedAnnouncementItems[e]&&cc.isValid(this.savedAnnouncementItems[e])&&this.savedAnnouncementItems[e].destroy();this.savedAnnouncementItems=[]}var t=a.getAnnouncement();t&&t.length>0&&this.init(t)},hide:function(){this.node.active=!1,this.enableBackgroundBlocker(!1),this.cleanupDetailNode()},enableBackgroundBlocker:function(e){var t=this.background||this.node;if(t){var n=t.getComponent(cc.BlockInputEvents);n&&(n.enabled=e)}},setCallBack:function(e){this.mCallBack=e},onAnnouncementItemClicked:function(e){if(this.announcementDetailPrefab){this.savedAnnouncementItems=[];for(var t=0;t<this.createdAnnouncementItems.length;t++)this.createdAnnouncementItems[t]&&cc.isValid(this.createdAnnouncementItems[t])&&this.savedAnnouncementItems.push(this.createdAnnouncementItems[t]);this.removeAnnouncementItemsFromContent(),this.announcementScrollView.scrollToTop();var n=cc.instantiate(this.announcementDetailPrefab),o=n.getComponent("AnnouncementDetail");if(!o)return console.error("AnnouncementDetail component not found on prefab"),void n.destroy();var a=this.announcementScrollView.node.width;0===a&&(a=this.announcementContent.width||1076),n.width=a,n.setPosition(0,0),this.announcementContent.addChild(n),this.currentDetailNode=n,o.init(e,this),this.announcementContent.width=a,this.announcementContent.height=n.height||600}else console.error("AnnouncementDetail prefab is not set")},onDetailHeightAdjusted:function(e){this.announcementContent&&e&&(this.announcementContent.height=e,this.announcementContent.setContentSize(this.announcementContent.width,e),this.announcementScrollView&&this.announcementScrollView.scrollToTop())},onCollapseAnnouncementDetail:function(){this.cleanupDetailNode(),this.restoreListView()},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"title")}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],CCGIF:[function(e,t,n){"use strict";cc._RF.push(t,"2e2a9uamx1IEpYrgvW7Sbiv","CCGIF");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=r.requireComponent,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.delays=[],t.sp=null,t.frames=[],t.asset=null,t.local="",t.remote="",t._gifData=null,t.scaleFactor=1,t.frameIdx=0,t}return a(t,e),Object.defineProperty(t.prototype,"gifData",{get:function(){return this._gifData},set:function(e){this._gifData=e,e&&this.processGifData(e)},enumerable:!1,configurable:!0}),t.prototype.start=function(){var e=this;if(console.log("start"),this.node&&cc.isValid(this.node))if(this.sp=this.node.getComponent(cc.Sprite),this.sp)if(this.node.active=!1,this.asset){var t=this.asset._nativeAsset;t&&this.do(t)}else this.local?cc.resources.load(this.local,function(t,n){if(console.log("local",t,n),!t&&n){var o=n._nativeAsset;o&&e.do(o)}}):this.remote&&cc.assetManager.loadRemote(this.remote,function(t,n){if(console.log("remote",t,n),!t&&n){var o=n._nativeAsset;o&&e.do(o)}});else console.error("CCGIF: Sprite component not found on node");else console.error("CCGIF: Node is invalid in start()")},t.prototype.do=function(e){var t=this;this.sp&&cc.isValid(this.sp)||(this.node&&cc.isValid(this.node)&&(this.sp=this.node.getComponent(cc.Sprite)),this.sp&&cc.isValid(this.sp))?(this.delays=e.delays.map(function(e){return e/100}),this.frames=e.spriteFrames,this.calculateScaleFactor(e),this.applyScale(),this.play(!0),this.scheduleOnce(function(){t.calculateScaleFactor(e),t.applyScale(),t.play(!0)},0)):console.error("CCGIF: Sprite component not available, cannot load GIF")},t.prototype.calculateScaleFactor=function(e){var t=e.spriteFrames[0],n=t.getOriginalSize().width,o=t.getOriginalSize().height;if(0!==n&&0!==o){var a=this.node.parent?this.node.parent.width:cc.winSize.width,i=this.node.parent?this.node.parent.height:cc.winSize.height;this.scaleFactor=n>a||o>i?Math.min(a/n,i/o):1}else this.scaleFactor=1},t.prototype.applyScale=function(){if(this.sp&&cc.isValid(this.sp)&&this.node&&cc.isValid(this.node)&&0!==this.frames.length){var e=this.frames[0],t=e.getOriginalSize().width,n=e.getOriginalSize().height;this.sp.sizeMode=cc.Sprite.SizeMode.CUSTOM,this.sp.trim=!0,this.node.width=t*this.scaleFactor,this.node.height=n*this.scaleFactor,this.node.scaleX=1,this.node.scaleY=1;var o=this.getComponent(cc.Widget);o&&o.updateAlignment()}},t.prototype.processGifData=function(e){if(console.log("processGifData called:",e),this.node&&cc.isValid(this.node))if(this.sp&&cc.isValid(this.sp)||(this.sp=this.node.getComponent(cc.Sprite),this.sp)){this.stop(),this.frames=[],this.delays=[],this.frameIdx=0;var t=e._nativeAsset;if(t)this.do(t);else if(e.spriteFrames&&e.delays){var n={spriteFrames:e.spriteFrames,delays:e.delays,length:e.length||e.spriteFrames.length};this.do(n)}else e.frames&&e.delays?(n={spriteFrames:e.frames,delays:e.delays,length:e.length||e.frames.length},this.do(n)):console.error("Unknown GIF data format:",e)}else console.error("CCGIF: Sprite component not found, cannot process GIF data");else console.error("CCGIF: Node is invalid, cannot process GIF data")},t.prototype.loadFromUrl=function(e){var t=this;console.log("Loading GIF from URL:",e),this.stop(),this.frames=[],this.delays=[],this.frameIdx=0,cc.assetManager.loadRemote(e,function(e,n){e?console.error("Failed to load GIF:",e):(console.log("GIF loaded successfully:",n),t.processGifData(n))})},t.prototype.play=function(e,t){var n=this;if(void 0===e&&(e=!1),void 0===t&&(t=!1),this.node&&cc.isValid(this.node))if(this.sp&&cc.isValid(this.sp)||(this.sp=this.node.getComponent(cc.Sprite),this.sp&&cc.isValid(this.sp)))if(0!==this.frames.length){if(t||this.stop(),this.frames.length){if(this.frameIdx>=this.frames.length&&(this.frameIdx=0,!e))return void(this.node&&cc.isValid(this.node)&&(this.node.active=!1));if(!(this.node&&cc.isValid(this.node)&&this.sp&&cc.isValid(this.sp)))return void console.warn("Node or sprite became invalid during playback, stopping");this.node.active=!0,this.sp.spriteFrame=this.frames[this.frameIdx],this.scheduleOnce(function(){n.play(e,!0)},this.delays[this.frameIdx]||.1),this.frameIdx++}}else console.warn("No frames to play. Load GIF first.");else console.warn("Sprite component is invalid, stopping GIF playback");else console.warn("Node is invalid, stopping GIF playback")},t.prototype.stop=function(){this.frameIdx=0,this.unscheduleAllCallbacks(),this.node&&cc.isValid(this.node)&&(this.node.active=!1)},t.prototype.isPlaying=function(){return this.frameIdx>0},t.prototype.pause=function(){this.unscheduleAllCallbacks()},t.prototype.resume=function(){this.node&&cc.isValid(this.node)&&this.sp&&cc.isValid(this.sp)?this.frames.length>0&&this.frameIdx<this.frames.length&&this.play(!0,!0):console.warn("Cannot resume: node or sprite is invalid")},t.prototype.onDisable=function(){this.stop()},t.prototype.onDestroy=function(){this.stop()},t.prototype.getFrameCount=function(){return this.frames.length},i([s(cc.Asset)],t.prototype,"asset",void 0),i([s],t.prototype,"local",void 0),i([s],t.prototype,"remote",void 0),i([s],t.prototype,"gifData",null),i([c,l(cc.Sprite)],t)}(cc.Component);n.default=u,cc._RF.pop()},{}],CalendarManager:[function(e,t){"use strict";cc._RF.push(t,"d0776k7wvBJTrRS0YyA+BjM","CalendarManager"),cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label,currentMonthLabel:cc.Label,prevButton:cc.Button,nextButton:cc.Button,daysGrid:cc.Node,selectedDateLabel:cc.Label,confirmButton:cc.Button,cancelButton:cc.Button,dayCellPrefab:cc.Prefab,weekDays:{default:[],type:cc.Label},normalDayColor:cc.Color.WHITE,weekendColor:cc.Color.RED,todayColor:cc.Color.GREEN,selectedColor:cc.Color.BLUE,otherMonthColor:cc.Color.GRAY},onLoad:function(){this.currentDate=new Date,this.selectedDate=null,this.today=new Date,this.initWeekDays(),this.updateCalendar(),this.setupEventListeners()},initWeekDays:function(){for(var e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t=0;t<this.weekDays.length;t++)this.weekDays[t].string=e[t]},setupEventListeners:function(){this.prevButton.node.on("click",this.onPrevMonth,this),this.nextButton.node.on("click",this.onNextMonth,this),this.confirmButton.node.on("click",this.onConfirm,this),this.cancelButton.node.on("click",this.onCancel,this)},updateCalendar:function(){var e=this;this.daysGrid.removeAllChildren(),this.updateMonthLabel();for(var t=this.currentDate.getFullYear(),n=this.currentDate.getMonth(),o=new Date(t,n,1),a=new Date(t,n+1,0).getDate(),i=o.getDay(),r=1,c=function(o){var c=cc.instantiate(e.dayCellPrefab),s=c.getComponentInChildren(cc.Label),l=c.getComponent(cc.Button);if(o>=i&&r<=a){s.string=r.toString();var u=new Date(t,n,r);e.styleDayCell(c,u,r),l.node.on("click",function(){e.onDaySelected(u,c)}),r++}else if(o<i){var d=new Date(t,n,0).getDate()-i+o+1;s.string=d.toString(),s.node.color=e.otherMonthColor,l.interactable=!1}else{var h=o-i-a+1;s.string=h.toString(),s.node.color=e.otherMonthColor,l.interactable=!1}e.daysGrid.addChild(c)},s=0;s<42;s++)c(s)},styleDayCell:function(e,t){var n=e.getComponentInChildren(cc.Label),o=e.getComponent(cc.Button);n.node.color=this.normalDayColor,o.node.color=cc.Color.WHITE;var a=t.getDay();0!==a&&6!==a||(n.node.color=this.weekendColor),this.isSameDay(t,this.today)&&(o.node.color=this.todayColor),this.selectedDate&&this.isSameDay(t,this.selectedDate)&&(o.node.color=this.selectedColor)},isSameDay:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},updateMonthLabel:function(){var e=this.currentDate.getFullYear(),t=["January","February","March","April","May","June","July","August","September","October","November","December"][this.currentDate.getMonth()];this.currentMonthLabel.string=t+" "+e},onPrevMonth:function(){this.currentDate.setMonth(this.currentDate.getMonth()-1),this.updateCalendar()},onNextMonth:function(){this.currentDate.setMonth(this.currentDate.getMonth()+1),this.updateCalendar()},onDaySelected:function(e){this.selectedDate=e,this.updateCalendar();var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.selectedDateLabel.string="Selected: "+t},onConfirm:function(){if(this.selectedDate){var e=new cc.Event.EventCustom("date-selected",!0);e.detail={date:this.selectedDate,year:this.selectedDate.getFullYear(),month:this.selectedDate.getMonth()+1,day:this.selectedDate.getDate()},this.node.dispatchEvent(e),this.node.active=!1}else cc.log("Please select a date first")},onCancel:function(){var e=new cc.Event.EventCustom("date-cancel",!0);this.node.dispatchEvent(e),this.node.active=!1},show:function(e){void 0===e&&(e=null),this.node.active=!0,e?(this.currentDate=new Date(e),this.selectedDate=new Date(e)):(this.currentDate=new Date,this.selectedDate=null),this.updateCalendar(),this.selectedDate?this.onDaySelected(this.selectedDate,null):this.selectedDateLabel.string="Selected: "},hide:function(){this.node.active=!1}}),cc._RF.pop()},{}],CustomerServiceItem:[function(e,t){"use strict";cc._RF.push(t,"f966b94OcFMFqt8R3lzCEQe","CustomerServiceItem");var n,o=(n=e("SharedFunction"))&&n.__esModule?n:{default:n};e("SharedData"),cc.Class({extends:cc.Component,properties:{logoNode:{default:null,type:cc.Node},titleLabel:{default:null,type:cc.Node},background:{default:null,type:cc.Node},mCallBack:null,mData:null},onLoad:function(){this.background?this.background.on(cc.Node.EventType.TOUCH_END,this.onItemClicked,this):this.node.on(cc.Node.EventType.TOUCH_END,this.onItemClicked,this)},onDestroy:function(){this.background?this.background.off(cc.Node.EventType.TOUCH_END,this.onItemClicked,this):this.node.off(cc.Node.EventType.TOUCH_END,this.onItemClicked,this)},init:function(e,t){if(this.mData=e,this.mCallBack=t,this.titleLabel&&e.title){var n=this.titleLabel.getComponent(cc.Label);n&&(n.string=e.title)}this.logoNode&&e.logo&&this.loadLogoImage(e.logo)},loadLogoImage:function(e){var t=this;if(e.startsWith("http://")||e.startsWith("https://")){var n="https://api.codetabs.com/v1/proxy?quest="+encodeURIComponent(e);cc.assetManager.loadRemote(n,function(e,n){if(e)console.error("Failed to load image:",e);else if(t.logoNode&&cc.isValid(t.logoNode)){var o=t.logoNode.getComponent(cc.Sprite);o&&(o.type=cc.Sprite.Type.SIMPLE,o.spriteFrame=new cc.SpriteFrame(n),t.fitImageToNode(n.width,n.height))}else console.warn("logoNode is no longer valid, skipping image load")})}},onItemClicked:function(){o.default.playButtonClickSound(),this.mData&&this.mData.url&&(cc.sys.isBrowser?this.mData.openNewTab?window.open(this.mData.url,"_blank"):window.location.href=this.mData.url:cc.sys.openURL(this.mData.url))},fitImageToNode:function(e,t){if(this.logoNode&&cc.isValid(this.logoNode)){var n=this.logoNode;if(n&&cc.isValid(n)){var o=e,a=t;if(o>96||a>96){var i=96/o,r=96/a,c=Math.min(i,r);o*=c,a*=c}n.width=o,n.height=a}else console.error("logoNode node is invalid")}else console.error("logoNode is null or invalid")},getData:function(){return this.mData}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],CustomerService:[function(e,t){"use strict";cc._RF.push(t,"49919bo7ZhE7601N9I4ovkv","CustomerService");var n=i(e("SharedFunction")),o=i(e("SharedData")),a=i(e("../Services/UserService"));function i(e){return e&&e.__esModule?e:{default:e}}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=u(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};s(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(N([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function o(a,i,r,c){var s=u(e[a],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,c)},function(e){o("throw",e,r,c)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,c)})}c(s.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=f,s(v,"constructor",f),s(f,"constructor",m),m.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new w(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},b(v),s(v,c,"Generator"),s(v,a,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=N,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function c(e,t,n,o,a,i,r){try{var c=e[i](r),s=c.value}catch(error){return void n(error)}c.done?t(s):Promise.resolve(s).then(o,a)}cc.Class({extends:cc.Component,properties:{mCallBack:null,mCurrentFocusTab:"LiveChat",myLiveChatTabBtn:{default:null,type:cc.Node},myFAQTabBtn:{default:null,type:cc.Node},myPlayerNameLabel:{default:null,type:cc.Node},myBalanceBG:{default:null,type:cc.Node},myLiveChatContainer:{default:null,type:cc.Node},myFAQScrollView:{default:null,type:cc.Node},mFocusTabImg:{default:null,type:cc.SpriteFrame},mNormalTabImg:{default:null,type:cc.SpriteFrame},myHeaderProfileImg:{default:null,type:cc.Sprite},i18nJson:{default:null,type:cc.JsonAsset},mCustomerServiceLabel:{default:null,type:cc.Node},mLiveChatTabLabel:{default:null,type:cc.Node},mFAQTabLabel:{default:null,type:cc.Node},mAboutUsLabel:{default:null,type:cc.Node},customerServiceItemPrefab:{default:null,type:cc.Prefab},myLiveChatContent:{default:null,type:cc.Node},createdCustomerServiceItems:[]},onLoad:function(){this.localizeUI(),this.createdCustomerServiceItems=[]},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o},updateView:function(e){var t=this;if(this.localizeUI(),this.mCallBack=e,this.mCurrentFocusTab="LiveChat",n.default.isLoggedIn()){this.myPlayerNameLabel.active=!0,this.myBalanceBG.active=!0,this.myHeaderProfileImg.node.active=!0;var a=o.default.getUserObject();this.myPlayerNameLabel.getComponent(cc.Label).string=a.fullName,this.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string=n.default.showNumberWithDecimalAndComma(a.balance,2),o.default.getSelectedAvatar()==localStorage.getItem("selected_avatar")&&cc.loader.loadRes("images/profile/Avatar"+o.default.getSelectedAvatar()+".png",cc.SpriteFrame,function(e,n){t.myHeaderProfileImg.getComponent(cc.Sprite).spriteFrame=n})}this.node.active=!0,this.onCustomerServiceTabDidPressed("","LiveChat",!0),this.myFAQScrollView.active=!1,this.myLiveChatContainer.active=!0,this.loadCustomerServiceItems();var i=this.node.getComponent(cc.Widget);i.left=this.node.width,i.right=-1*this.node.width,cc.tween(i).to(1/6,{left:0,right:0}).start()},setCallBack:function(e){this.mCallBack=e},myBackButtonDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=this.node.getComponent(cc.Widget);cc.tween(a).to(1/6,{left:this.node.width,right:-1*this.node.width}).start(),this.mCallBack&&this.mCallBack.onCustomerServiceBackButtonDidPressed()},onCustomerServiceTabDidPressed:function(e,t,o){o||n.default.playButtonClickSound(),this.myLiveChatTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myFAQTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myLiveChatTabBtn.getChildByName("lblLiveChat").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myLiveChatTabBtn.getChildByName("lblLiveChat").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myFAQTabBtn.getChildByName("lblFAQ").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myFAQTabBtn.getChildByName("lblFAQ").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myLiveChatContainer.active=!1,this.myFAQScrollView.active=!1,"LiveChat"==t?(this.myLiveChatTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myLiveChatTabBtn.getChildByName("lblLiveChat").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myLiveChatTabBtn.getChildByName("lblLiveChat").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myLiveChatContainer.active=!0,"LiveChat"!==this.mCurrentFocusTab&&this.loadCustomerServiceItems()):"FAQ"==t&&(this.myFAQTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myFAQTabBtn.getChildByName("lblFAQ").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myFAQTabBtn.getChildByName("lblFAQ").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myFAQScrollView.active=!0),this.mCurrentFocusTab=t},callGetBalanceApi:function(){var e,t=this;return(e=r().mark(function e(){var i,c;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.default.showLoadingView("Loading",t),e.prev=1,e.next=4,a.default.getBalance(localStorage.getItem("token"));case 4:200==(i=e.sent).status&&(console.log(i),(c=o.default.getUserObject()).balance=i.data.balance,o.default.setUserObject(c),t.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string=n.default.showNumberWithDecimalAndComma(c.balance,2),t.mCallBack.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string=n.default.showNumberWithDecimalAndComma(c.balance,2),n.default.hideLoadingView(t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n.default.hideLoadingView(t);case 11:case"end":return e.stop()}},e,null,[[1,8]])}),function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function r(e){c(i,o,a,r,s,"next",e)}function s(e){c(i,o,a,r,s,"throw",e)}r(void 0)})})()},localizeUI:function(){this.mCustomerServiceLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"customerService"),this.mLiveChatTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"liveChat"),this.mFAQTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"faq"),this.mAboutUsLabel.getComponent(cc.RichText).string=n.default.getLocalizedString(this.i18nJson,"aboutUs")},updatePrefabSize:function(){cc.view.getVisibleSize()},loadCustomerServiceItems:function(){try{var e=JSON.parse(localStorage.getItem("from_index"));if(!e||!e.settings||!e.settings.contactUs)return void console.log("No contactUs data found in dashboard settings");var t=e.settings.contactUs,n=this.filterActiveContacts(t);if(0===n.length)return void console.log("No active contacts to display");n.sort(function(e,t){return void 0!==e.sequence&&void 0!==t.sequence?e.sequence-t.sequence:0}),this.createCustomerServiceItems(n)}catch(error){console.error("Error loading customer service items:",error)}},filterActiveContacts:function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];"active"!==o.status&&"Active"!==o.status||o.title&&""!==o.title.trim()&&t.push(o)}return t},createCustomerServiceItems:function(e){if(this.customerServiceItemPrefab)if(this.myLiveChatContent){this.clearCustomerServiceItems();for(var t=0;t<e.length;t++){var n=e[t],o=cc.instantiate(this.customerServiceItemPrefab),a=o.getComponent("CustomerServiceItem");a?(a.init(n,this),this.myLiveChatContent.addChild(o),this.createdCustomerServiceItems.push(o)):(console.error("CustomerServiceItem component not found on prefab"),o.destroy())}}else console.error("LiveChat content node is not set");else console.error("CustomerServiceItem prefab is not set")},clearCustomerServiceItems:function(){this.myLiveChatContent&&this.myLiveChatContent.removeAllChildren(!0),this.createdCustomerServiceItems=[]},onCustomerServiceItemClicked:function(e){console.log("Customer service item clicked:",e)}}),cc._RF.pop()},{"../Services/UserService":"UserService",SharedData:"SharedData",SharedFunction:"SharedFunction"}],DDLSelect:[function(e,t){"use strict";var n;cc._RF.push(t,"e1dbfgsSAhIV4cgujQ36WuJ","DDLSelect"),(n=e("SharedFunction"))&&n.__esModule,e("SharedData"),cc.Class({extends:cc.Component,properties:{myLabel:{default:null,type:cc.Node}},onLoad:function(){},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.status=n,this.mCallBack=o,this.myLabel.getComponent(cc.Label).string=n},onclick:function(e){this.mCallBack.onDDLOptionDidPressed(e)}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],Deposit:[function(e,t){"use strict";cc._RF.push(t,"1ae6bOf641LSov89cA4P55t","Deposit");var n=i(e("SharedFunction")),o=i(e("SharedData")),a=i(e("../Services/UserService"));function i(e){return e&&e.__esModule?e:{default:e}}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=u(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};s(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(N([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function o(a,i,r,c){var s=u(e[a],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,c)},function(e){o("throw",e,r,c)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,c)})}c(s.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=f,s(v,"constructor",f),s(f,"constructor",m),m.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new w(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},b(v),s(v,c,"Generator"),s(v,a,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=N,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function c(e,t,n,o,a,i,r){try{var c=e[i](r),s=c.value}catch(error){return void n(error)}c.done?t(s):Promise.resolve(s).then(o,a)}cc.Class({extends:cc.Component,properties:{mCallBack:null,myManageCardView:null,calendarPicker:null,calenderTarget:null,mCurrentFocusTab:"SureTech",mCardList:[],mySureTechTabBtn:{default:null,type:cc.Node},myDpayTabBtn:{default:null,type:cc.Node},myHistoryTabBtn:{default:null,type:cc.Node},myPlayerNameLabel:{default:null,type:cc.Node},myBalanceBG:{default:null,type:cc.Node},myCardContainer:{default:null,type:cc.Node},myNoCardContainer:{default:null,type:cc.Node},myHistoryContainer:{default:null,type:cc.Node},myStatusSelect:{default:null,type:cc.Node},myStatusDDL:{default:null,type:cc.Node},mFocusTabImg:{default:null,type:cc.SpriteFrame},mNormalTabImg:{default:null,type:cc.SpriteFrame},myHeaderProfileImg:{default:null,type:cc.Sprite},myHisStartDateTxt:{default:null,type:cc.Node},myHisEndDateTxt:{default:null,type:cc.Node},i18nJson:{default:null,type:cc.JsonAsset},mDepositLabel:{default:null,type:cc.Node},mSureTechTabLabel:{default:null,type:cc.Node},mDpayTabLabel:{default:null,type:cc.Node},mHistoryTabLabel:{default:null,type:cc.Node},mSupportTabLabel:{default:null,type:cc.Node},mDescLabel:{default:null,type:cc.Node},mClickHereLabel:{default:null,type:cc.Node},mSetupLabel:{default:null,type:cc.Node},mHisStartDateLabel:{default:null,type:cc.Node},mHisEndDateLabel:{default:null,type:cc.Node},mStatusLabel:{default:null,type:cc.Node},mStatusSelectLabel:{default:null,type:cc.Node},mDateLabel:{default:null,type:cc.Node},mTrxIDLabel:{default:null,type:cc.Node},mBankLabel:{default:null,type:cc.Node},mAmtLabel:{default:null,type:cc.Node},mStatusHeaderLabel:{default:null,type:cc.Node},mReasonLabel:{default:null,type:cc.Node},mAllLabel:{default:null,type:cc.Node},mPendingLabel:{default:null,type:cc.Node},mApprovedLabel:{default:null,type:cc.Node},mRejectedLabel:{default:null,type:cc.Node},mInProgressLabel:{default:null,type:cc.Node},mModifiedLabel:{default:null,type:cc.Node},mModifiedStatusLabel:{default:null,type:cc.Node},mFailedLabel:{default:null,type:cc.Node},mSuccessLabel:{default:null,type:cc.Node},mCancelledLabel:{default:null,type:cc.Node},mUnknownLabel:{default:null,type:cc.Node},mExpiredLabel:{default:null,type:cc.Node},mNoRecordsLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI();var e=this;cc.resources.load("prefabs/calendar/CalendarPicker",cc.Prefab,function(t,n){t?console.error("Failed to load prefab:",t):(null==e.calendarPicker&&(e.calendarPicker=cc.instantiate(n),e.updatePrefabSize()),e.node.addChild(e.calendarPicker.getComponent("CalendarManager").node),e.calendarPicker.on("date-selected",e.onDateSelected,e),e.calendarPicker.on("date-cancel",e.onDateCancel,e))})},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o},updateView:function(e){var t=this;this.localizeUI(),this.mCallBack=e,this.mCurrentFocusTab="SureTech";var a=o.default.getUserObject();console.log(a),this.myPlayerNameLabel.getComponent(cc.Label).string=a.fullName,this.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string=n.default.showNumberWithDecimalAndComma(a.balance,2),o.default.getSelectedAvatar()==localStorage.getItem("selected_avatar")&&cc.loader.loadRes("images/profile/Avatar"+o.default.getSelectedAvatar()+".png",cc.SpriteFrame,function(e,n){t.myHeaderProfileImg.getComponent(cc.Sprite).spriteFrame=n}),this.node.active=!0,this.onDepositTabDidPressed("","SureTech",!0),this.myHistoryContainer.active=!1,this.myCardContainer.active=!0,0==Object.keys(this.mCardList).length?this.myNoCardContainer.active=!0:this.myNoCardContainer.active=!1,null!=this.calendarPicker&&(this.calendarPicker.getComponent("CalendarManager").hide(),this.calendarPicker.on("date-selected",this.onDateSelected,this),this.calendarPicker.on("date-cancel",this.onDateCancel,this));var i=this.node.getComponent(cc.Widget);i.left=this.node.width,i.right=-1*this.node.width,cc.tween(i).to(1/6,{left:0,right:0}).start()},setCallBack:function(e){this.mCallBack=e},openCalendar:function(e,t){this.calenderTarget=t;var n="";"hisStartDate"==t?n=this.myHisStartDateTxt.getComponent(cc.Label).string:"hisEndDate"==t&&(n=this.myHisEndDateTxt.getComponent(cc.Label).string);var o=n.split("-"),a=this.calendarPicker.getComponent("CalendarManager");3==o.length?a.show(new Date(o[0],o[1]-1,o[2])):a.show()},onDateSelected:function(e){var t=e.detail,n=t.year+"-"+t.month+"-"+t.day;"hisStartDate"==this.calenderTarget?this.myHisStartDateTxt.getComponent(cc.Label).string=n:"hisEndDate"==this.calenderTarget&&(this.myHisEndDateTxt.getComponent(cc.Label).string=n),this.calendarPicker.getComponent("CalendarManager").hide()},onDateCancel:function(){cc.log("Calendar cancelled")},myBackButtonDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=this.node.getComponent(cc.Widget);cc.tween(a).to(1/6,{left:this.node.width,right:-1*this.node.width}).start(),this.mCallBack&&this.mCallBack.onDepositBackButtonDidPressed()},onDepositTabDidPressed:function(e,t,o){o||n.default.playButtonClickSound(),this.mySureTechTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myDpayTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myHistoryTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.mySureTechTabBtn.getChildByName("lblSureTech").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.mySureTechTabBtn.getChildByName("lblSureTech").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myDpayTabBtn.getChildByName("lblDpay").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myDpayTabBtn.getChildByName("lblDpay").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myCardContainer.active=!1,this.myHistoryContainer.active=!1,"SureTech"==t?(this.mySureTechTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.mySureTechTabBtn.getChildByName("lblSureTech").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.mySureTechTabBtn.getChildByName("lblSureTech").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myCardContainer.active=!0):"Dpay"==t?(this.myDpayTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myDpayTabBtn.getChildByName("lblDpay").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myDpayTabBtn.getChildByName("lblDpay").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myCardContainer.active=!0):"History"==t&&(this.myHistoryTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myHistoryContainer.active=!0),this.mCurrentFocusTab=t},onManageCardDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=this;n.default.showLoadingView("",a),cc.resources.load("prefabs/deposit/manageCard",cc.Prefab,function(e,t){if(e)return console.error("Failed to load prefab:",e),void n.default.hideLoadingView(a);null==a.myManageCardView&&(a.myManageCardView=cc.instantiate(t).getComponent("ManageCard"),a.updatePrefabSize()),a.myManageCardView.updateView(a),a.node.addChild(a.myManageCardView.node),n.default.hideLoadingView(a)})},myCloseManageCardDidPressed:function(){this.node.removeChild(this.myManageCardView.node)},onDDLDidPressed:function(e,t,o){if(o||n.default.playButtonClickSound(),"trxDate"==t){var a=this.myTrxDateSelect.getChildByName("iconTriangle");this.myTrxDateDDL.active?a.angle=90:a.angle=-90,this.myTrxDateDDL.active=!this.myTrxDateDDL.active}else"status"==t&&(a=this.myStatusSelect.getChildByName("iconTriangle"),this.myStatusDDL.active?a.angle=90:a.angle=-90,this.myStatusDDL.active=!this.myStatusDDL.active)},onDDLOptionDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=e.target.parent.name,i=e.target.getChildByName("label").getComponent(cc.Label).string;"ddl_trxDate_bg"==a?(this.myTrxDateSelect.getChildByName("lblTrxDate").getComponent(cc.Label).string=i,this.myTrxDateSelect.getChildByName("iconTriangle").angle=90,this.myTrxDateDDL.active=!1):(this.myStatusSelect.getChildByName("lblStatus").getComponent(cc.Label).string=i,this.myStatusSelect.getChildByName("iconTriangle").angle=90,this.myStatusDDL.active=!1)},callGetBalanceApi:function(){var e,t=this;return(e=r().mark(function e(){var i,c;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.default.showLoadingView("Loading",t),e.prev=1,e.next=4,a.default.getBalance(localStorage.getItem("token"));case 4:200==(i=e.sent).status&&(console.log(i),(c=o.default.getUserObject()).balance=i.data.balance,o.default.setUserObject(c),t.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string=n.default.showNumberWithDecimalAndComma(c.balance,2),t.mCallBack.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string=n.default.showNumberWithDecimalAndComma(c.balance,2),n.default.hideLoadingView(t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n.default.hideLoadingView(t);case 11:case"end":return e.stop()}},e,null,[[1,8]])}),function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function r(e){c(i,o,a,r,s,"next",e)}function s(e){c(i,o,a,r,s,"throw",e)}r(void 0)})})()},localizeUI:function(){this.mDepositLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"deposit"),this.mSureTechTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"suretech"),this.mDpayTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"dpay"),this.mHistoryTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"history"),this.mSupportTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"support"),this.mDescLabel.getComponent(cc.RichText).string=n.default.getLocalizedString(this.i18nJson,"desc"),this.mClickHereLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"clickHere"),this.mSetupLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"setup"),this.mHisStartDateLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"startDate"),this.mHisEndDateLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"endDate"),this.mStatusLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"status"),this.mStatusSelectLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"all"),this.mDateLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"date"),this.mTrxIDLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"trxID"),this.mBankLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"bank"),this.mAmtLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"amount"),this.mStatusHeaderLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"status"),this.mReasonLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"reason"),this.mAllLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"all"),this.mPendingLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"pending"),this.mApprovedLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"approved"),this.mRejectedLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"rejected"),this.mInProgressLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"progress"),this.mModifiedLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"modified"),this.mModifiedStatusLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"modifiedStatus"),this.mFailedLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"failed"),this.mSuccessLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"success"),this.mCancelledLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"cancel"),this.mUnknownLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"unknown"),this.mExpiredLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"expired"),this.mNoRecordsLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"noRecords")},updatePrefabSize:function(){var e=cc.view.getVisibleSize();this.myManageCardView&&this.myManageCardView.init(0,0,e.width,e.height)}}),cc._RF.pop()},{"../Services/UserService":"UserService",SharedData:"SharedData",SharedFunction:"SharedFunction"}],DeveloperLogo:[function(e,t){"use strict";cc._RF.push(t,"9f2b4rIap9MIpCRKPuNhqDY","DeveloperLogo");var n=o(e("SharedFunction"));function o(e){return e&&e.__esModule?e:{default:e}}o(e("SharedData")),cc.Class({extends:cc.Component,properties:{logoBG:{default:null,type:cc.Node},providerLogo:{default:null,type:cc.Node},mFocusTabImg:{default:null,type:cc.SpriteFrame},mNormalTabImg:{default:null,type:cc.SpriteFrame}},onLoad:function(){},init:function(e,t,n,o){var a=this;this.node.x=e,this.node.y=t,this.data=n,this.mCallBack=o,this.node.name=n.code,cc.loader.loadRes("images/providers/logo/"+this.data.code+"Logo.png",cc.SpriteFrame,function(e,t){a.providerLogo.getComponent(cc.Sprite).spriteFrame=t}),this.data.code==this.mCallBack.developerData.code&&this.onClick(null,null,!0)},onClick:function(e,t,o){var a=this;o||n.default.playButtonClickSound(),this.mCallBack.onDeveloperLogoButtonDidPressed(null,null,!0,this.data),this.logoBG.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.mCallBack.myDeveloperLabel.getComponent(cc.Label).string=this.data.name,setTimeout(function(){a.mCallBack.myTotalLabel.x=a.mCallBack.myDeveloperLabel.x+a.mCallBack.myDeveloperLabel.width+22},0)},unClick:function(){this.logoBG.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],DrawerCsItem:[function(e,t){"use strict";cc._RF.push(t,"a1b2cPU5fZ4kKvN7xI0VniQ","DrawerCsItem");var n,o=(n=e("SharedFunction"))&&n.__esModule?n:{default:n};e("SharedData"),cc.Class({extends:cc.Component,properties:{logoNode:{default:null,type:cc.Node},mCallBack:null,mData:null},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onItemClicked,this),this.node&&(this.node.width=40,this.node.height=40)},onDestroy:function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onItemClicked,this)},init:function(e,t){this.mData=e,this.mCallBack=t,this.logoNode&&e.logo&&this.loadLogoImage(e.logo)},loadLogoImage:function(e){var t=this;if(e.startsWith("http://")||e.startsWith("https://")){var n="https://api.codetabs.com/v1/proxy?quest="+encodeURIComponent(e);cc.assetManager.loadRemote(n,function(e,n){if(e)console.error("Failed to load image:",e);else if(t.logoNode&&cc.isValid(t.logoNode)){var o=t.logoNode.getComponent(cc.Sprite);o&&(o.type=cc.Sprite.Type.SIMPLE,o.spriteFrame=new cc.SpriteFrame(n),t.fitImageToNode(n.width,n.height))}else console.warn("logoNode is no longer valid, skipping image load")})}else cc.loader.loadRes(e,cc.SpriteFrame,function(e,n){if(e)console.error("Failed to load local image:",e);else if(t.logoNode&&cc.isValid(t.logoNode)){var o=t.logoNode.getComponent(cc.Sprite);o&&(o.spriteFrame=n,t.fitImageToNode(n.getRect().width,n.getRect().height))}else console.warn("logoNode is no longer valid, skipping image load")})},onItemClicked:function(){o.default.playButtonClickSound(),this.mData&&(this.mData.url&&(cc.sys.isBrowser?this.mData.openNewTab?window.open(this.mData.url,"_blank"):window.location.href=this.mData.url:cc.sys.openURL(this.mData.url)),this.mCallBack&&"function"==typeof this.mCallBack.onDrawerCsItemClicked&&this.mCallBack.onDrawerCsItemClicked(this.mData))},fitImageToNode:function(e,t){if(this.logoNode&&cc.isValid(this.logoNode)){var n=this.logoNode;if(n&&cc.isValid(n)){var o=e,a=t;if(o>40||a>40){var i=40/o,r=40/a,c=Math.min(i,r);o*=c,a*=c}n.width=o,n.height=a}else console.error("logoNode node is invalid")}else console.error("logoNode is null or invalid")},getData:function(){return this.mData}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],EditBasicInfo:[function(e,t){"use strict";cc._RF.push(t,"0181ba1PaZK4oPX2++76PgN","EditBasicInfo");var n=i(e("SharedFunction")),o=i(e("SharedData")),a=i(e("../Services/UserService"));function i(e){return e&&e.__esModule?e:{default:e}}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=u(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};s(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(N([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function o(a,i,r,c){var s=u(e[a],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,c)},function(e){o("throw",e,r,c)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,c)})}c(s.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=f,s(v,"constructor",f),s(f,"constructor",m),m.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new w(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},b(v),s(v,c,"Generator"),s(v,a,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=N,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function c(e,t,n,o,a,i,r){try{var c=e[i](r),s=c.value}catch(error){return void n(error)}c.done?t(s):Promise.resolve(s).then(o,a)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function r(e){c(i,o,a,r,s,"next",e)}function s(e){c(i,o,a,r,s,"throw",e)}r(void 0)})}}cc.Class({extends:cc.Component,properties:{mCallBack:null,myVerificationView:null,mBackground:{default:null,type:cc.Node},myUsernameInput:{default:null,type:cc.Node},myEmailInput:{default:null,type:cc.Node},myGenderSelect:{default:null,type:cc.Node},myGenderDDL:{default:null,type:cc.Node},myScrollView:{default:null,type:cc.Node},birthdayPicker:{type:e("SimpleBirthdayPicker"),default:null},calendarPicker:cc.Node,openCalendarButton:cc.Button,myBirthdayLabel:{default:null,type:cc.Node},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node},mEmailLabel:{default:null,type:cc.Node},mUsernameLabel:{default:null,type:cc.Node},mGenderLabel:{default:null,type:cc.Node},mBirthdayLabel:{default:null,type:cc.Node},mConfirmLabel:{default:null,type:cc.Node},myError1Label:{default:null,type:cc.Node},myError4Label:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI();var e=this;cc.resources.load("prefabs/calendar/CalendarPicker",cc.Prefab,function(t,n){t?console.error("Failed to load prefab:",t):(null==e.calendarPicker&&(e.calendarPicker=cc.instantiate(n),e.updatePrefabSize()),e.node.addChild(e.calendarPicker.getComponent("CalendarManager").node),e.calendarPicker.on("date-selected",e.onDateSelected,e),e.calendarPicker.on("date-cancel",e.onDateCancel,e))})},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},updateView:function(e){this.localizeUI(),this.mCallBack=e,this.mBackground.active=!0,this.node.opacity=255,this.myError1Label.active=!1,this.myGenderDDL.active=!1,this.myScrollView.active=!0;var t=o.default.getUserObject();console.log("userObj",t),this.myUsernameInput.getComponent(cc.EditBox).string=t.fullName,this.myEmailInput.getComponent(cc.EditBox).string=t.email,this.openCalendarButton.node.on("click",this.openCalendar,this),null!=this.calendarPicker&&(this.calendarPicker.getComponent("CalendarManager").hide(),this.calendarPicker.on("date-selected",this.onDateSelected,this),this.calendarPicker.on("date-cancel",this.onDateCancel,this));var n=this.mBackground.getChildByName("card_bg");n.setScale(0),cc.tween(n).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},setCallBack:function(e){this.mCallBack=e},openCalendar:function(){var e=this.calendarPicker.getComponent("CalendarManager");this.myScrollView.active=!1,e.show()},onDateSelected:function(e){var t=e.detail;this.myBirthdayLabel.getComponent(cc.Label).string=t.year+"-"+t.month+"-"+t.day,this.calendarPicker.getComponent("CalendarManager").hide(),this.myScrollView.active=!0;var n=t.date;cc.log("Selected date:",n.toString())},onDateCancel:function(){this.myScrollView.active=!0,cc.log("Calendar cancelled")},onBackButtonDidPressed:function(e,t,o){var a=this;o||n.default.playButtonClickSound();var i=this.mBackground.getChildByName("card_bg");cc.tween(i).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){a.mCallBack&&a.mCallBack.myCloseEditBasicInfoDidPressed()}).start()},onConfirmButtonDidPressed:function(e,t,a){a||n.default.playButtonClickSound();var i=o.default.getUserObject(),r=i.email,c=this.myUsernameInput.getComponent(cc.EditBox).string,s=this.myEmailInput.getComponent(cc.EditBox).string;0!=c.length?0!=s.length?c!=i.fullName||s!=i.email?(this.showLableError(this.myError1Label,""),c!=i.fullName&&localStorage.setItem("unverified_username",c),s!=r?(localStorage.setItem("unverified_email",s),this.showVerificationPage("profileEmailVerify")):this.updateUserProfile(null)):this.showLableError(this.myError1Label,n.default.getLocalizedString(this.i18nJson,"noChange")):this.showLableError(this.myError1Label,n.default.getLocalizedString(this.i18nJson,"emailHolder")):this.showLableError(this.myError4Label,n.default.getLocalizedString(this.i18nJson,"usernameHolder"))},onDDLDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=this.myGenderSelect.getChildByName("iconTriangle");this.myGenderDDL.active?a.angle=90:a.angle=-90,this.myGenderDDL.active=!this.myGenderDDL.active},onDDLOptionDidPressed:function(e,t,o){o||n.default.playButtonClickSound(),e.target.parent.name;var a=e.target.getChildByName("label").getComponent(cc.Label).string;this.myGenderSelect.getChildByName("lblGenderSelect").getComponent(cc.Label).string=a,this.myGenderSelect.getChildByName("iconTriangle").angle=90,this.myGenderDDL.active=!1},showLableError:function(e,t){this.myError1Label.active=!1,e&&(e.getComponent(cc.Label).string=t,e.active=!0,cc.tween(e).to(1/12,{scale:1.1}).to(1/12,{scale:1}).start())},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"title"),this.mEmailLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"email"),this.mUsernameLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"fullName"),this.mGenderLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"gender"),this.mBirthdayLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"birthday"),this.mConfirmLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirm")},showVerificationPage:function(e){var t=this;n.default.showLoadingView("",t),cc.resources.load("prefabs/verification/verification",cc.Prefab,function(o,a){if(o)return console.error("Failed to load prefab:",o),void n.default.hideLoadingView(t);null==t.myVerificationView&&(t.myVerificationView=cc.instantiate(a).getComponent("Verification"),t.updatePrefabSize()),n.default.hideLoadingView(t),t.myVerificationView.setCallBack(t),t.myVerificationView.updateView(t,e,"Register",""),t.node.addChild(t.myVerificationView.node),t.mBackground.active=!1})},onVerificationCloseButtonDidPressed:function(e,t,n){var o=this;return s(r().mark(function a(){return r().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("click"),o.node.removeChild(o.myVerificationView.node),o.mBackground.active=!0,"editBasicInfo"!==e||!n){a.next=8;break}return a.next=6,o.updateUserProfile(n);case 6:a.next=9;break;case 8:t&&o.showLableError(o.myError1Label,t);case 9:case"end":return a.stop()}},a)}))()},updateUserProfile:function(e){var t=this;return s(r().mark(function i(){var c,s,l,u,d,h,m,f,p,g,y,v,b;return r().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(c=t,s=localStorage.getItem("token")){i.next=5;break}return t.showLableError(t.myError1Label,"Authentication token not found"),i.abrupt("return");case 5:if(n.default.showLoadingView("",c),i.prev=6,l=o.default.getUserObject(),u={},null==e){i.next=21;break}if(d=localStorage.getItem("unverified_email")){i.next=15;break}return n.default.hideLoadingView(c),t.showLableError(t.myError1Label,"Email not found"),i.abrupt("return");case 15:u.email=d,u.emailOtp=e,(h=localStorage.getItem("unverified_username"))&&h!==l.fullName&&(u.fullName=h),i.next=27;break;case 21:if((m=localStorage.getItem("unverified_username"))&&m!==l.fullName){i.next=26;break}return n.default.hideLoadingView(c),t.showLableError(t.myError1Label,"No changes to update"),i.abrupt("return");case 26:u.fullName=m;case 27:return i.next=29,a.default.updateProfile(s,u);case 29:200===(f=i.sent).status&&!1!==f.success?(n.default.hideLoadingView(c),console.log("response",f),p=o.default.getUserObject(),f.data&&f.data.player&&(f.data.player.email&&(p.email=f.data.player.email),void 0!==f.data.player.emailVerified&&(p.emailVerified=f.data.player.emailVerified),f.data.player.emailVerifiedAt&&(p.emailVerifiedAt=f.data.player.emailVerifiedAt),f.data.player.fullName&&(p.fullName=f.data.player.fullName),o.default.setUserObject(p)),null!=e&&(g=localStorage.getItem("unverified_email"))&&(t.myEmailInput.getComponent(cc.EditBox).string=g,localStorage.removeItem("unverified_email")),(y=localStorage.getItem("unverified_username"))&&(t.myUsernameInput.getComponent(cc.EditBox).string=y,localStorage.removeItem("unverified_username")),t.mCallBack&&t.mCallBack.myCloseEditBasicInfoDidPressed("","",!0,!0)):(n.default.hideLoadingView(c),v=f.message||"Failed to update profile",t.showLableError(t.myError1Label,v)),i.next=39;break;case 33:i.prev=33,i.t0=i.catch(6),n.default.hideLoadingView(c),console.error("Update profile error:",i.t0),b=i.t0.message||"Failed to update profile",t.showLableError(t.myError1Label,b);case 39:case"end":return i.stop()}},i,null,[[6,33]])}))()},updatePrefabSize:function(){var e=cc.view.getVisibleSize();this.myVerificationView&&this.myVerificationView.init(0,0,e.width,e.height)}}),cc._RF.pop()},{"../Services/UserService":"UserService",SharedData:"SharedData",SharedFunction:"SharedFunction",SimpleBirthdayPicker:"SimpleBirthdayPicker"}],ForgotPassword:[function(e,t){"use strict";cc._RF.push(t,"5e1d4+qqeBLU7JbxWEKE4A/","ForgotPassword");var n=a(e("SharedFunction")),o=a(e("../Services/AuthServices"));function a(e){return e&&e.__esModule?e:{default:e}}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=u(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};s(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(N([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function o(a,i,r,c){var s=u(e[a],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,c)},function(e){o("throw",e,r,c)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,c)})}c(s.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=f,s(v,"constructor",f),s(f,"constructor",m),m.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,r,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new w(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},b(v),s(v,c,"Generator"),s(v,a,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=N,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function r(e,t,n,o,a,i,r){try{var c=e[i](r),s=c.value}catch(error){return void n(error)}c.done?t(s):Promise.resolve(s).then(o,a)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function c(e){r(i,o,a,c,s,"next",e)}function s(e){r(i,o,a,c,s,"throw",e)}c(void 0)})}}a(e("SharedData")),cc.Class({extends:cc.Component,properties:{mCallBack:null,myVerificationView:null,myResetPasswordView:null,mBackground:{default:null,type:cc.Node},mPhoneNumber:{default:null,type:cc.Node},myErrorLabel:{default:null,type:cc.Node},mPasswordInput:{default:null,type:cc.Node},mConfirmPasswordInput:{default:null,type:cc.Node},mCodeInput:{default:null,type:cc.Node},mIsRequestedTac:!1,mRequestTacButton:{default:null,type:cc.Node},mCountDownTimer:{default:60,type:cc.Float},mPhoneNoLabel:{default:null,type:cc.Node},mCodeLabel:{default:null,type:cc.Node},mCodeHolderLabel:{default:null,type:cc.Node},mPasswordLabel:{default:null,type:cc.Node},mPasswordHolderLabel:{default:null,type:cc.Node},mConfirmPasswordLabel:{default:null,type:cc.Node},mConfirmPasswordHolderLabel:{default:null,type:cc.Node},mConfirmLabel:{default:null,type:cc.Node},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node},mDescLabel:{default:null,type:cc.Node},mClickHereLabel:{default:null,type:cc.Node},mCustomerSupportLabel:{default:null,type:cc.Node},mNextLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},onDestroy:function(){},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},setCallBack:function(e,t){void 0===t&&(t="LOBBY"),this.mCallBack=e,this.isFrom=t},updateView:function(e){this.localizeUI(),this.mCallBack=e,this.mBackground.active=!0,this.myErrorLabel.active=!1,this.node.opacity=255;var t=this.mBackground.getChildByName("forgotpassword_bg");t.setScale(0),cc.tween(t).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},onRequestTacButtonDidPressed:function(){var e=this;return c(i().mark(function t(){var a,r;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.default.playButtonClickSound(),0!=(a=e.mPhoneNumber.getComponent(cc.EditBox).string).length){t.next=5;break}return e.showLableError(e.myErrorLabel,n.default.getLocalizedString(e.i18nJson,"mobileNoHolder")),t.abrupt("return");case 5:return n.default.showLoadingView("",e),t.prev=6,t.next=9,o.default.forgotPassword({username:a});case 9:(r=t.sent).success?e.showVerificationView(a,r.message,r):e.showLableError(e.myErrorLabel,r.message),n.default.hideLoadingView(e),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(6),e.showLableError(e.myErrorLabel,t.t0.message),n.default.hideLoadingView(e);case 18:case"end":return t.stop()}},t,null,[[6,14]])}))()},onVerificationCloseButtonDidPressed:function(e,t,n,o,a){this.node.removeChild(this.myVerificationView.node),console.log("callback"),"resetPassword"===e&&n?this.showResetPasswordView(n,o,a):this.mCallBack.onForgotPasswordViewCloseButtonDidPressed()},showResetPasswordView:function(e,t,o){var a=this;cc.resources.load("prefabs/resetpassword/resetpassword",cc.Prefab,function(i,r){if(i)return console.error("Failed to load resetpassword prefab:",i),void n.default.hideLoadingView(a);null==a.myResetPasswordView&&(a.myResetPasswordView=cc.instantiate(r).getComponent("ResetPassword"),a.updatePrefabSize(),a.myResetPasswordView.setCallBack(a)),a.myResetPasswordView.updateView(a,o,e,t),a.node.addChild(a.myResetPasswordView.node),a.mBackground.active=!1,n.default.hideLoadingView(a)})},showVerificationView:function(e,t,o){var a=this;cc.resources.load("prefabs/verification/verification",cc.Prefab,function(i,r){if(i)return console.error("Failed to load prefab:",i),void n.default.hideLoadingView(a);null==a.myVerificationView&&(a.myVerificationView=cc.instantiate(r).getComponent("Verification"),a.updatePrefabSize(),a.myVerificationView.setCallBack(a),a.myVerificationView.setForgetPasswordResponse(o),a.myVerificationView.setUsername(e)),a.myVerificationView.updateView(a,"forgotPasswordVerify","ForgotPassword",t),a.node.addChild(a.myVerificationView.node),a.mBackground.active=!1,n.default.hideLoadingView(a)})},onResetPasswordViewCloseButtonDidPressed:function(){this.myResetPasswordView&&this.node.removeChild(this.myResetPasswordView.node),this.mCallBack.onForgotPasswordViewCloseButtonDidPressed()},myCloseButtonDidPressed:function(){var e=this;n.default.playButtonClickSound();var t=this.mBackground.getChildByName("forgotpassword_bg");cc.tween(t).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){e.mCallBack&&e.mCallBack.onForgotPasswordViewCloseButtonDidPressed()}).start()},onSubmitButtonDidPressed:function(){var e=this;return c(i().mark(function t(){var o,a,r,c,s,l;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.default.playButtonClickSound(),o=e.mCodeInput.getChildByName("TEXT_LABEL").getComponent(cc.Label).string,a=e.mPasswordInput.getComponent(cc.EditBox).string,r=e.mConfirmPasswordInput.getComponent(cc.EditBox).string,!(o.length<4)){t.next=7;break}return n.default.showAlertView(n.default.getLocalizedString(e.i18nJson,"invalidCode"),e),t.abrupt("return");case 7:if(0!=a.length){t.next=10;break}return n.default.showAlertView(n.default.getLocalizedString(e.i18nJson,"newPasswordHolder"),e),t.abrupt("return");case 10:if(n.default.passwordRegexCheck(a)){t.next=13;break}return n.default.showAlertView(n.default.getLocalizedString(e.i18nJson,"invalidPassword"),e),t.abrupt("return");case 13:if(0!=r.length){t.next=16;break}return n.default.showAlertView(n.default.getLocalizedString(e.i18nJson,"confirmPasswordHolder"),e),t.abrupt("return");case 16:if(n.default.passwordRegexCheck(r)){t.next=19;break}return n.default.showAlertView(n.default.getLocalizedString(e.i18nJson,"invalidConfirmPassword"),e),t.abrupt("return");case 19:if(a==r){t.next=22;break}return n.default.showAlertView(n.default.getLocalizedString(e.i18nJson,"invalidBothPassword"),e),t.abrupt("return");case 22:return n.default.showLoadingView("",e),c=new ForgetPasswordScript,t.next=26,c.submitForgetPassword(e.mPhoneNumber,a,r,o);case 26:200==(s=t.sent).status&&(0==(l=s.result.submitForgetPassword).status?n.default.showAlertView(l.errorMessage,e):(e.mCodeInput.getChildByName("TEXT_LABEL").getComponent(cc.Label).string="",e.mPasswordInput.getComponent(cc.EditBox).string="",e.mConfirmPasswordInput.getComponent(cc.EditBox).string="",e.mCallBack&&e.mCallBack.callLoginApi("","",a,e.mPhoneNumber))),n.default.hideLoadingView(e);case 29:case"end":return t.stop()}},t)}))()},showLableError:function(e,t){this.myErrorLabel.active=!1,e&&(e.getComponent(cc.Label).string=t,e.active=!0,cc.tween(e).to(1/12,{scale:1.1}).to(1/12,{scale:1}).start())},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"title"),this.mDescLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"description"),this.mClickHereLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"clickHere"),this.mCustomerSupportLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"customerSupport"),this.mNextLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"next")},updatePrefabSize:function(){var e=cc.view.getVisibleSize();this.myVerificationView&&this.myVerificationView.init(0,0,e.width,e.height),this.myResetPasswordView&&this.myResetPasswordView.init(0,0,e.width,e.height)},onCustomerSupportClicked:function(){var e=this;n.default.playButtonClickSound(),this.closeForgotPasswordView(function(){e.closeLoginView(function(){e.openCustomerSupport()})})},closeForgotPasswordView:function(e){var t=this,n=this.mBackground.getChildByName("forgotpassword_bg");cc.tween(n).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){t.node.parent&&t.node.parent.removeChild(t.node),e&&e()}).start()},closeLoginView:function(e){if(this.mCallBack&&this.mCallBack.node&&"function"==typeof this.mCallBack.onForgotPasswordViewCloseButtonDidPressed&&this.mCallBack.node&&this.mCallBack.node.parent){var t=this.mCallBack.node,n=this.mCallBack.myLoginBG;return n&&cc.tween(n).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),void cc.tween(t).delay(1/6).to(1/6,{opacity:0}).call(function(){t.parent&&t.parent.removeChild(t),e&&e()}).start()}e&&e()},openCustomerSupport:function(){if(this.mCallBack){if("function"==typeof this.mCallBack.onCustomerSupportClicked)return void this.mCallBack.onCustomerSupportClicked();if("function"==typeof this.mCallBack.onSupportButtonDidPressed)return this.mCallBack.myBannerView&&this.mCallBack.myBannerView.node&&this.mCallBack.myBannerView.node.active&&this.mCallBack.myBannerView.hide(),void this.mCallBack.onSupportButtonDidPressed()}var e=this.findLobbyComponent();e?(e.myBannerView&&e.myBannerView.node&&e.myBannerView.node.active&&e.myBannerView.hide(),"function"==typeof e.onCustomerSupportClicked?e.onCustomerSupportClicked():"function"==typeof e.onSupportButtonDidPressed?e.onSupportButtonDidPressed():console.error("Lobby component found but does not have onCustomerSupportClicked or onSupportButtonDidPressed method")):console.error("Lobby component not found in scene and callback does not have required method")},findLobbyComponent:function(){var e=cc.director.getScene();return e?function t(n){if(n!==e){var o=n.getComponent("Lobby")||n.getComponent("lobby");if(o)return o}if(n.children&&n.children.length>0)for(var a=0;a<n.children.length;a++){var i=t(n.children[a]);if(i)return i}return null}(e):null}}),cc._RF.pop()},{"../Services/AuthServices":"AuthServices",SharedData:"SharedData",SharedFunction:"SharedFunction"}],GIFLoadInit:[function(e,t,n){"use strict";cc._RF.push(t,"0421d9/659B3LNCVV1HIMfm","GIFLoadInit"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./GIFParser");cc.assetManager.factory.register(".gif",function(e,t,n,o){console.log("Factory",e,t);var a=new cc.Asset;a._nativeAsset=t,o&&o(null,a)}),cc.assetManager.downloader.register(".gif",function(e,t,n){console.log("downloader",e),cc.assetManager.downloader._downloaders[".bin"](e,t,function(o,a){o||"string"!=typeof a?n(o,a):cc.assetManager.parser.parse(e,a,".bin",t,n)})}),cc.assetManager.parser.register(".gif",function(e,t,n){console.log("parser",e),(new o.GIFParser).handle(e,n)}),cc._RF.pop()},{"./GIFParser":"GIFParser"}],GIFParser:[function(e,t,n){"use strict";cc._RF.push(t,"bd3830c22NCQZ/PWJA9WQRs","GIFParser"),Object.defineProperty(n,"__esModule",{value:!0}),n.GIFParser=n.FileHead=n.FileType=void 0;var o,a=e("./LZW");(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PNG=1]="PNG",e[e.JPG=2]="JPG",e[e.GIF=3]="GIF",e[e.WEBP=4]="WEBP"})(o=n.FileType||(n.FileType={}));var i=function(){function e(){}return e.IMAGE_PNG="89504e47",e.IMAGE_JPG="ffd8ff",e.IMAGE_GIF="474946",e.RIFF="52494646",e.WEBP_RIFF=e.RIFF,e.WEBP_WEBP="57454250",e}();n.FileHead=i;var r=function(){function e(){this._offset=0,this._info={header:"",frames:[],comment:""},this._delays=[],this._spriteFrames=[],this._canvas=null,this._context=null,this.id="GIF",this.async=!0}return Object.defineProperty(e.prototype,"buffer",{get:function(){return this._buffer},set:function(e){this.clear(),this._buffer=e,this._view=new Uint8Array(e)},enumerable:!1,configurable:!0}),e.prototype.handle=function(e,t){this.buffer=e,this.getHeader(),this.getScrDesc(),this.getTexture(),0==this._spriteFrames.length?t(new Error("gif\u52a0\u8f7d\u5931\u8d25,\u5e27\u957f\u5ea6\u4e3a0")):t(null,{delays:this._delays,spriteFrames:this._spriteFrames,length:this._info.frames.length})},e.detectFormat=function(e){return-1!=e.indexOf(i.IMAGE_GIF)?o.GIF:-1!=e.indexOf(i.IMAGE_PNG)?o.PNG:-1!=e.indexOf(i.IMAGE_JPG)?o.JPG:-1!=e.indexOf(i.WEBP_RIFF)&&-1!=e.indexOf(i.WEBP_WEBP)?o.WEBP:o.UNKNOWN},e.bytes2HexString=function(e){for(var t="",n=0;n<e.length;n++){var o,a=e[n];1==(o=a<0?(255+a+1).toString(16):a.toString(16)).length&&(o="0"+o),t+=o}return t},e.prototype.getTexture=function(){for(var e=0,t=0,n=this._info.frames;t<n.length;t++){var o=n[t];this.decodeFrame2Texture(o,e++)}},e.prototype.getSpriteFrame=function(e){return this._spriteFrames[e]?this._spriteFrames[e]:this.decodeFrame2Texture(this._info.frames[e],e)},e.prototype.decodeFrame=function(e){var t=this,n=this._context.getImageData(e.img.x,e.img.y,e.img.w,e.img.h);return e.img.m?this._tab=e.img.colorTab:this._tab=this._info.colorTab,a.default.decode(e.img.srcBuf,e.img.codeSize).forEach(function(o,a){n.data[4*a]=t._tab[3*o],n.data[4*a+1]=t._tab[3*o+1],n.data[4*a+2]=t._tab[3*o+2],n.data[4*a+3]=255,e.ctrl.t&&o==e.ctrl.tranIndex&&(n.data[4*a+3]=0)}),n},e.prototype.mergeFrames=function(e,t){var n=t;if(e)for(var o=0;o<n.data.length;o+=4)0==n.data[o+3]&&(n.data[o]=this._lastData.data[o],n.data[o+1]=this._lastData.data[o+1],n.data[o+2]=this._lastData.data[o+2],n.data[o+3]=this._lastData.data[o+3]);return n},e.prototype.dataUrl2SpriteFrame=function(e){var t=new cc.Texture2D,n=new cc.SpriteFrame,o=new Image;return o.src=e,t.initWithElement(o),n.setTexture(t),n},e.prototype.date2SpriteFrame=function(e,t,n){var o=new cc.RenderTexture,a=new cc.SpriteFrame;return o.initWithData(e.data,cc.Texture2D.PixelFormat.RGBA8888,t,n),a.setTexture(o),a},e.prototype.putImageDataJSB=function(e,t,n,o){var a=this,i=function(){for(var o=0;o<e.height;o++)for(var i=0;i<e.width;i++){var r=4*o*e.width+4*i,c=4*(o+n)*a._lastData.width+4*(i+t);0!=e.data[r+3]&&(a._lastData.data[c]=e.data[r],a._lastData.data[c+1]=e.data[r+1],a._lastData.data[c+2]=e.data[r+2],a._lastData.data[c+3]=e.data[r+3])}},r=function(){for(var o=0;o<a._lastData.height;o++)for(var i=0;i<a._lastData.width;i++){var r=4*o*a._lastData.width+4*i,c=4*(o-n)*e.width+4*(i-t),s=!1;(i<t||i>t+e.width)&&(s=!0),(o<n||o>n+e.height)&&(s=!0),s?(a._lastData.data[r+0]=0,a._lastData.data[r+1]=0,a._lastData.data[r+2]=0,a._lastData.data[r+3]=0):(a._lastData.data[r+0]=e.data[c+0],a._lastData.data[r+1]=e.data[c+1],a._lastData.data[r+2]=e.data[c+2],a._lastData.data[r+3]=e.data[c+3])}};4==e.data[0]&&0==e.data[1]&&0==e.data[2]&&0==e.data[3]||(1==o.ctrl.disp||0==o.ctrl.disp?i():2==o.ctrl.disp?r():function(){for(var t=0,n=0;n<e.height;n+=2){for(var o=0,a=0;a<e.width;a++){var i=4*n*e.width+4*a;0==e.data[i+3]&&o++}if(o/e.width>.1&&t++,t/(e.height/2)>.6)return!0}return!1}()?r():i())},e.prototype.putImageDataWeb=function(e,t){var n;if(1==t.ctrl.disp||0==t.ctrl.disp){this._context.putImageData(e,t.img.x,t.img.y,0,0,t.img.w,t.img.h);var o=this._context.getImageData(0,0,this._canvas.width,this._canvas.height),a=this._lastData;n=this.mergeFrames(a,o)}else this._context.clearRect(0,0,this._canvas.width,this._canvas.height),this._context.putImageData(e,t.img.x,t.img.y,0,0,t.img.w,t.img.h),n=this._context.getImageData(0,0,this._canvas.width,this._canvas.height);return this._context.putImageData(n,0,0),this._lastData=n,this._canvas.toDataURL()},e.prototype.decodeFrame2Texture=function(e,t){this._context||(this._canvas=document.createElement("canvas"),this._context=this._canvas.getContext("2d"),this._canvas.width=e.img.w,this._canvas.height=e.img.h);var n=this.decodeFrame(e);this._delays[t]=e.ctrl.delay;var o=this.putImageDataWeb(n,e);return this._spriteFrames[t]=this.dataUrl2SpriteFrame(o),this._spriteFrames[t]},e.prototype.read=function(e){return this._view.slice(this._offset,this._offset+=e)},e.prototype.getHeader=function(){var e=this;this._info.header="",this.read(6).forEach(function(t){e._info.header+=String.fromCharCode(t)})},e.prototype.getScrDesc=function(){var e=this.read(7);this._info.w=e[0]+(e[1]<<8),this._info.h=e[2]+(e[3]<<8),this._info.m=1&e[4]>>7,this._info.cr=7&e[4]>>4,this._info.s=1&e[4]>>3,this._info.pixel=7&e[4],this._info.bgColor=e[5],this._info.radio=e[6],this._info.m&&(this._info.colorTab=this.read(3*(2<<this._info.pixel))),this.decode()},e.prototype.decode=function(){var e=[],t=this.read(1);switch(t[0]){case 33:this.extension();break;case 44:for(t=this.read(9),this._frame.img={x:t[0]+(t[1]<<8),y:t[2]+(t[3]<<8),w:t[4]+(t[5]<<8),h:t[6]+(t[7]<<8),colorTab:0},this._frame.img.m=1&t[8]>>7,this._frame.img.i=1&t[8]>>6,this._frame.img.s=1&t[8]>>5,this._frame.img.r=3&t[8]>>3,this._frame.img.pixel=7&t[8],this._frame.img.m&&(this._frame.img.colorTab=this.read(3*(2<<this._frame.img.pixel))),this._frame.img.codeSize=this.read(1)[0],e=[];;){if(!(t=this.read(1))[0]){this._frame.img.srcBuf=e,this.decode();break}this.read(t[0]).forEach(function(t){e.push(t)})}}},e.prototype.extension=function(){var e=this,t=this.read(1);switch(t[0]){case 255:if(11!=this.read(1)[0])throw new Error("\u89e3\u6790\u51fa\u9519");for(this._info.appVersion="",this.read(11).forEach(function(t){e._info.appVersion+=String.fromCharCode(t)});;){if(!(t=this.read(1))[0]){this.decode();break}this.read(t[0])}break;case 249:if(4!=this.read(1)[0])throw new Error("\u89e3\u6790\u51fa\u9519");if(t=this.read(4),this._frame={},this._frame.ctrl={disp:7&t[0]>>2,i:1&t[0]>>1,t:1&t[0],delay:t[1]+(t[2]<<8),tranIndex:t[3]},this._info.frames.push(this._frame),0!=this.read(1)[0])throw new Error("\u89e3\u6790\u51fa\u9519");this.decode();break;case 254:(t=this.read(1))[0]&&(this.read(t[0]).forEach(function(t){e._info.comment+=String.fromCharCode(t)}),0==this.read(1)[0]&&this.decode())}},e.prototype.clear=function(){this._tab=null,this._view=null,this._frame=null,this._offset=0,this._info={header:"",frames:[],comment:""},this._lastData=null,this._delays=[],this._spriteFrames=[],this._canvas=null,this._context=null},e}();n.GIFParser=r,cc._RF.pop()},{"./LZW":"LZW"}],GameContainer:[function(e,t){"use strict";cc._RF.push(t,"2692f0fCG5BApiVju8pJ4Vx","GameContainer");var n=a(e("SharedFunction")),o=a(e("../Services/GameService"));function a(e){return e&&e.__esModule?e:{default:e}}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=u(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};s(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(N([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function o(a,i,r,c){var s=u(e[a],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,c)},function(e){o("throw",e,r,c)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,c)})}c(s.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=f,s(v,"constructor",f),s(f,"constructor",m),m.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,r,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new w(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},b(v),s(v,c,"Generator"),s(v,a,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=N,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function r(e,t,n,o,a,i,r){try{var c=e[i](r),s=c.value}catch(error){return void n(error)}c.done?t(s):Promise.resolve(s).then(o,a)}var c=e("SharedData");cc.Class({extends:cc.Component,properties:{myGameImg:{default:null,type:cc.Node},myGameLabel:{default:null,type:cc.Node},myGameWebView:null},onLoad:function(){},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.gameData=n,this.mCallBack=o;var a=this;if(this.myGameLabel.getComponent(cc.Label).string=this.gameData.name,this.gameData.thumbnailUrl){var i="https://api.codetabs.com/v1/proxy?quest="+encodeURIComponent(this.gameData.thumbnailUrl);cc.assetManager.loadRemote(i,function(e,t){if(e)console.error("Failed to load image:",e);else{var n=new cc.SpriteFrame(t),o=a.myGameImg.getComponent(cc.Sprite);o&&(o.type=cc.Sprite.Type.SIMPLE,a.myGameImg.getComponent(cc.Sprite).spriteFrame=n,a.fitImageToNode(t.width,t.height))}})}},fitImageToNode:function(e,t){var n=this.myGameImg,o=e,a=t;if(o>210||a>118){var i=210/o,r=118/a,c=Math.min(i,r);o*=c,a*=c}n.width=o,n.height=a},onclick:function(){if(console.log("GameContainer: onclick",this.gameData),n.default.playButtonClickSound(),n.default.showLoadingView("",this.mCallBack||this),!this.gameData||!this.gameData._id)return console.error("GameContainer: Game data or game ID is missing"),void n.default.hideLoadingView(this.mCallBack||this);var e=localStorage.getItem("token");if(!e)return console.error("GameContainer: User is not logged in"),n.default.hideLoadingView(this.mCallBack||this),void(this.mCallBack&&"function"==typeof this.mCallBack.onLoginButtonDidPressed&&this.mCallBack.onLoginButtonDidPressed());var t=n.default.isMobile()?"mobile":"desktop",o=c.getCurrentLanguage()||"en";this.launchGame(this.gameData._id,o,t,e)},launchGame:function(e,t,a,c){var s,l=this;return(s=i().mark(function r(){var s;return i().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,o.default.launchGame(e,{lang:t,deviceType:a},c);case 3:(s=i.sent).success&&s.launchUrl?(n.default.hideLoadingView(l.mCallBack||l),l.loadGameWebView(s.launchUrl)):(console.error("GameContainer: Failed to launch game",s.message),n.default.hideLoadingView(l.mCallBack||l)),i.next=11;break;case 7:i.prev=7,i.t0=i.catch(0),console.error("GameContainer: Error launching game",i.t0),n.default.hideLoadingView(l.mCallBack||l);case 11:case"end":return i.stop()}},r,null,[[0,7]])}),function(){var e=this,t=arguments;return new Promise(function(n,o){var a=s.apply(e,t);function i(e){r(a,n,o,i,c,"next",e)}function c(e){r(a,n,o,i,c,"throw",e)}i(void 0)})})()},loadGameWebView:function(e){var t=this;cc.resources.load("prefabs/game/GameWebView",cc.Prefab,function(n,o){if(n)console.error("GameContainer: Failed to load GameWebView prefab:",n);else{null==t.myGameWebView&&(t.myGameWebView=cc.instantiate(o).getComponent("GameWebView"),t.myGameWebView.updatePrefabSize()),t.myGameWebView.init(e,t.mCallBack||t);var a=t.mCallBack?t.mCallBack.node:t.node.parent;a?a.addChild(t.myGameWebView.node):cc.director.getScene().addChild(t.myGameWebView.node)}})}}),cc._RF.pop()},{"../Services/GameService":"GameService",SharedData:"SharedData",SharedFunction:"SharedFunction"}],GameGroup:[function(e,t){"use strict";cc._RF.push(t,"1be052pJmBPFboIz0AnBBN2","GameGroup");var n=o(e("SharedFunction"));function o(e){return e&&e.__esModule?e:{default:e}}o(e("SharedData")),cc.Class({extends:cc.Component,properties:{gameGroupIcon:{default:null,type:cc.Node},gameGroupLabel:{default:null,type:cc.Node}},onLoad:function(){},init:function(e,t,n,o){var a=this;this.node.x=e,this.node.y=t,this.data=n,this.mCallBack=o,this.node.name=n.code,this.gameGroupLabel.getComponent(cc.Label).string=n.name,-43==t?(this.onClick(null,null,!0),this.gameGroupLabel.getComponent(cc.Label).fontSize=22):cc.loader.loadRes("images/lobby/"+this.data.code+"Off.png",cc.SpriteFrame,function(e,t){a.gameGroupIcon.getComponent(cc.Sprite).spriteFrame=t})},onClick:function(e,t,o){var a=this;o||n.default.playButtonClickSound(),this.mCallBack.onGameGroupButtonDidPressed(this.data),this.gameGroupLabel.getComponent(cc.Label).fontSize=22,cc.loader.loadRes("images/lobby/"+this.data.code+"On.png",cc.SpriteFrame,function(e,t){a.gameGroupIcon.getComponent(cc.Sprite).spriteFrame=t})},unClick:function(){var e=this;this.gameGroupLabel.getComponent(cc.Label).fontSize=18,cc.loader.loadRes("images/lobby/"+this.data.code+"Off.png",cc.SpriteFrame,function(t,n){e.gameGroupIcon.getComponent(cc.Sprite).spriteFrame=n})}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],GameList:[function(e,t){"use strict";cc._RF.push(t,"17f3bscjDxFbIO34OW2kqaB","GameList");var n=i(e("SharedFunction")),o=i(e("SharedData")),a=i(e("../Services/GameService"));function i(e){return e&&e.__esModule?e:{default:e}}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=u(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};s(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(N([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function o(a,i,r,c){var s=u(e[a],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,c)},function(e){o("throw",e,r,c)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,c)})}c(s.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=f,s(v,"constructor",f),s(f,"constructor",m),m.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new w(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},b(v),s(v,c,"Generator"),s(v,a,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=N,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function c(e,t,n,o,a,i,r){try{var c=e[i](r),s=c.value}catch(error){return void n(error)}c.done?t(s):Promise.resolve(s).then(o,a)}cc.Class({extends:cc.Component,properties:{mCallBack:null,mCurrentDeveloper:"",mLastSearch:"",mShowingGames:[],createdLogos:[],createdGames:[],mySearchInput:{default:null,type:cc.Node},myDeveloperLabel:{default:null,type:cc.Node},myTotalLabel:{default:null,type:cc.Node},myLogoScrollView:{default:null,type:cc.Node},myLogoScrollViewContent:{default:null,type:cc.Node},myGameScrollView:{default:null,type:cc.Node},myGameScrollViewContent:{default:null,type:cc.Node},mLogoTabPrefab:{default:null,type:cc.Prefab},mGamePrefab:{default:null,type:cc.Prefab},i18nJson:{default:null,type:cc.JsonAsset},mSearchGameNameLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o},updateView:function(e,t,n){this.localizeUI(),this.mCallBack=n,this.developerData=e,this.providerData=t,this.mCurrentDeveloper="",this.mLastSearch="",this.mShowingGames=[],this.mySearchInput.getComponent(cc.EditBox).string="",this.myDeveloperLabel.getComponent(cc.Label).string=this.developerData.name,this.node.active=!0,this.drawDeveloperLogo();var o=this.node.getComponent(cc.Widget);o.left=this.node.width,o.right=-1*this.node.width,cc.tween(o).to(1/6,{left:0,right:0}).start()},setCallBack:function(e){this.mCallBack=e},drawDeveloperLogo:function(){var e=o.default.getGameCategories();for(var t in e){var n=e[t];if(n.code==this.providerData.code){var a=n.developers;for(var i in a){var r=a[i],c=new cc.instantiate(this.mLogoTabPrefab).getComponent("DeveloperLogo");c.init(0,-34-84*parseInt(i),r,this),this.myLogoScrollViewContent.addChild(c.node),this.createdLogos.push(c)}this.myLogoScrollViewContent.height=68+84*(a.length-1);break}}},myBackButtonDidPressed:function(e,t,o){var a=this;o||n.default.playButtonClickSound();var i=this.node.getComponent(cc.Widget);cc.tween(i).to(1/6,{left:this.node.width,right:-1*this.node.width}).call(function(){a.createdLogos.forEach(function(e){e&&e.isValid&&e.node.removeFromParent()}),a.createdLogos=[]}).start(),this.mCallBack&&this.mCallBack.onGameListBackButtonDidPressed()},onDeveloperLogoButtonDidPressed:function(e,t,o,a){o||n.default.playButtonClickSound(),this.createdLogos.forEach(function(e){e&&e.isValid&&e.unClick()}),this.callCategoriesWithGamesApi({status:"active",categoryId:this.providerData._id,developerId:a._id}),this.mCurrentDeveloper=t},onSearchButtonDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=this.mySearchInput.getComponent(cc.EditBox).string;if(a!=this.mLastSearch){this.createdGames.forEach(function(e){e&&e.isValid&&e.node.removeFromParent()}),this.createdGames=[];var i=this.mShowingGames.filter(function(e){return e.name.includes(a)});this.myTotalLabel.getComponent(cc.Label).string=n.default.formatString(n.default.getLocalizedString(this.i18nJson,"totalGame"),i.length);var r=-89;for(var c in i){var s=i[c],l=226*(((parseInt(c)+1)%4==0?4:(parseInt(c)+1)%4)-1)-341,u=-89-160*(Math.ceil((parseInt(c)+1)/4)-1),d=new cc.instantiate(this.mGamePrefab).getComponent("GameContainer");d.init(l,u,s,this),r=u,this.myGameScrollViewContent.addChild(d.node),this.createdGames.push(d)}this.myGameScrollViewContent.height=-1*r+80,this.myGameScrollView.getComponent(cc.ScrollView).scrollToTop(0),this.mLastSearch=a}},callCategoriesWithGamesApi:function(e){var t,o=this;return(t=r().mark(function t(){var i,c,s,l,u,d,h,m,f,p,g;return r().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e),t.next=4,a.default.getCategoriesWithGames(e);case 4:if(i=t.sent,console.log("----------Game List getCategoriesWithGames-----------"),console.log(i),200==i.status&&0!=(c=i.data).length){for(h in o.createdGames.forEach(function(e){e&&e.isValid&&e.node.removeFromParent()}),o.createdGames=[],s=c[0],l=s.pagination,u=s.games,d=-89,o.myTotalLabel.getComponent(cc.Label).string=n.default.formatString(n.default.getLocalizedString(o.i18nJson,"totalGame"),l.total),o.mShowingGames=u,u)m=u[h],f=226*(((parseInt(h)+1)%4==0?4:(parseInt(h)+1)%4)-1)-341,p=-89-160*(Math.ceil((parseInt(h)+1)/4)-1),(g=new cc.instantiate(o.mGamePrefab).getComponent("GameContainer")).init(f,p,m,o),d=p,o.myGameScrollViewContent.addChild(g.node),o.createdGames.push(g);o.myGameScrollViewContent.height=-1*d+80,o.myGameScrollView.getComponent(cc.ScrollView).scrollToTop(0)}t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}},t,null,[[0,10]])}),function(){var e=this,n=arguments;return new Promise(function(o,a){var i=t.apply(e,n);function r(e){c(i,o,a,r,s,"next",e)}function s(e){c(i,o,a,r,s,"throw",e)}r(void 0)})})()},localizeUI:function(){this.myTotalLabel.getComponent(cc.Label).string=n.default.formatString(n.default.getLocalizedString(this.i18nJson,"totalGame"),0),this.mSearchGameNameLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"searchGameName")},updatePrefabSize:function(){cc.view.getVisibleSize()}}),cc._RF.pop()},{"../Services/GameService":"GameService",SharedData:"SharedData",SharedFunction:"SharedFunction"}],GameService:[function(e,t,n){"use strict";cc._RF.push(t,"362ecusv1tJiI5WAo6n6T/5","GameService");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{s(o.next(e))}catch(t){i(t)}}function c(e){try{s(o.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,c)}s((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(c){i=[6,c],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameService=void 0;var i=e("./NetworkService"),r=function(){function e(){}return e.getDashboard=function(){var e,t,n;return o(this,void 0,Promise,function(){var o,r,c;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,i.NetworkService.get(this.DASHBOARD_ENDPOINT,void 0,{headers:{"Content-Type":"application/json"}})];case 1:return o=a.sent(),r=(null===(e=o.data)||void 0===e?void 0:e.data)||o.data,[2,{status:o.status,success:null===(t=o.data)||void 0===t?void 0:t.success,message:(null===(n=o.data)||void 0===n?void 0:n.message)||o.message,data:r,tenantId:null==r?void 0:r.tenantId,tenantName:null==r?void 0:r.tenantName,settlementMode:null==r?void 0:r.settlementMode,settings:null==r?void 0:r.settings}];case 2:throw c=a.sent(),console.error("GameService.getDashboard error:",c),{status:c.status||500,data:c.data||null,message:c.message||"Failed to fetch dashboard settings",error:c};case 3:return[2]}})})},e.getDevelopers=function(e){var t,n,r,c;return o(this,void 0,Promise,function(){var o,s,l,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},(null==e?void 0:e.status)&&(o.status=e.status),[4,i.NetworkService.get(this.DEVELOPERS_ENDPOINT,Object.keys(o).length>0?o:void 0,{headers:{"Content-Type":"application/json"}})];case 1:return s=a.sent(),l=(null===(t=s.data)||void 0===t?void 0:t.data)||[],[2,{status:s.status,success:null===(n=s.data)||void 0===n?void 0:n.success,message:(null===(r=s.data)||void 0===r?void 0:r.message)||s.message,data:l,developers:l,count:null===(c=s.data)||void 0===c?void 0:c.count}];case 2:throw u=a.sent(),console.error("GameService.getDevelopers error:",u),{status:u.status||500,data:u.data||null,message:u.message||"Failed to fetch developers",error:u};case 3:return[2]}})})},e.getDeveloperById=function(e){var t,n,r;return o(this,void 0,Promise,function(){var o,c,s,l;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o=this.DEVELOPERS_ENDPOINT+"/"+e,[4,i.NetworkService.get(o,void 0,{headers:{"Content-Type":"application/json"}})];case 1:return c=a.sent(),s=null===(t=c.data)||void 0===t?void 0:t.data,[2,{status:c.status,success:null===(n=c.data)||void 0===n?void 0:n.success,message:(null===(r=c.data)||void 0===r?void 0:r.message)||c.message,data:s,developer:s}];case 2:throw l=a.sent(),console.error("GameService.getDeveloperById error:",l),{status:l.status||500,data:l.data||null,message:l.message||"Failed to fetch developer",error:l};case 3:return[2]}})})},e.getCategories=function(e){var t,n,r,c;return o(this,void 0,Promise,function(){var o,s,l,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},void 0!==(null==e?void 0:e.topLevel)&&(o.topLevel=e.topLevel),(null==e?void 0:e.status)&&(o.status=e.status),[4,i.NetworkService.get(this.CATEGORIES_ENDPOINT,Object.keys(o).length>0?o:void 0,{headers:{"Content-Type":"application/json"}})];case 1:return s=a.sent(),l=(null===(t=s.data)||void 0===t?void 0:t.data)||[],[2,{status:s.status,success:null===(n=s.data)||void 0===n?void 0:n.success,message:(null===(r=s.data)||void 0===r?void 0:r.message)||s.message,data:l,categories:l,count:null===(c=s.data)||void 0===c?void 0:c.count}];case 2:throw u=a.sent(),console.error("GameService.getCategories error:",u),{status:u.status||500,data:u.data||null,message:u.message||"Failed to fetch categories",error:u};case 3:return[2]}})})},e.getCategoriesWithProviders=function(e){var t,n,r,c;return o(this,void 0,Promise,function(){var o,s,l,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},(null==e?void 0:e.status)&&(o.status=e.status),(null==e?void 0:e.environment)&&(o.environment=e.environment),[4,i.NetworkService.get(this.CATEGORIES_WITH_PROVIDERS_ENDPOINT,Object.keys(o).length>0?o:void 0,{headers:{"Content-Type":"application/json"}})];case 1:return s=a.sent(),l=(null===(t=s.data)||void 0===t?void 0:t.data)||[],[2,{status:s.status,success:null===(n=s.data)||void 0===n?void 0:n.success,message:(null===(r=s.data)||void 0===r?void 0:r.message)||s.message,data:l,categories:l,count:null===(c=s.data)||void 0===c?void 0:c.count}];case 2:throw u=a.sent(),console.error("GameService.getCategoriesWithProviders error:",u),{status:u.status||500,data:u.data||null,message:u.message||"Failed to fetch categories with providers",error:u};case 3:return[2]}})})},e.getCategoriesWithGames=function(e){var t,n,r,c;return o(this,void 0,Promise,function(){var o,s,l,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},(null==e?void 0:e.status)&&(o.status=e.status),(null==e?void 0:e.environment)&&(o.environment=e.environment),(null==e?void 0:e.developerId)&&(o.developerId=e.developerId),(null==e?void 0:e.categoryId)&&(o.categoryId=e.categoryId),[4,i.NetworkService.get(this.CATEGORIES_WITH_GAMES_ENDPOINT,Object.keys(o).length>0?o:void 0,{headers:{"Content-Type":"application/json"}})];case 1:return s=a.sent(),l=(null===(t=s.data)||void 0===t?void 0:t.data)||[],[2,{status:s.status,success:null===(n=s.data)||void 0===n?void 0:n.success,message:(null===(r=s.data)||void 0===r?void 0:r.message)||s.message,data:l,categories:l,count:null===(c=s.data)||void 0===c?void 0:c.count}];case 2:throw u=a.sent(),console.error("GameService.getCategoriesWithGames error:",u),{status:u.status||500,data:u.data||null,message:u.message||"Failed to fetch categories with games",error:u};case 3:return[2]}})})},e.getCategoryById=function(e){var t,n,r;return o(this,void 0,Promise,function(){var o,c,s,l;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o=this.CATEGORIES_ENDPOINT+"/"+e,[4,i.NetworkService.get(o,void 0,{headers:{"Content-Type":"application/json"}})];case 1:return c=a.sent(),s=null===(t=c.data)||void 0===t?void 0:t.data,[2,{status:c.status,success:null===(n=c.data)||void 0===n?void 0:n.success,message:(null===(r=c.data)||void 0===r?void 0:r.message)||c.message,data:s,category:s}];case 2:throw l=a.sent(),console.error("GameService.getCategoryById error:",l),{status:l.status||500,data:l.data||null,message:l.message||"Failed to fetch category",error:l};case 3:return[2]}})})},e.getTags=function(e){var t,n,r,c;return o(this,void 0,Promise,function(){var o,s,l,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},void 0!==(null==e?void 0:e.code)&&(o.code=e.code),(null==e?void 0:e.status)&&(o.status=e.status),[4,i.NetworkService.get(this.TAGS_ENDPOINT,Object.keys(o).length>0?o:void 0,{headers:{"Content-Type":"application/json"}})];case 1:return s=a.sent(),l=(null===(t=s.data)||void 0===t?void 0:t.data)||[],[2,{status:s.status,success:null===(n=s.data)||void 0===n?void 0:n.success,message:(null===(r=s.data)||void 0===r?void 0:r.message)||s.message,data:l,tags:l,count:null===(c=s.data)||void 0===c?void 0:c.count}];case 2:throw u=a.sent(),console.error("GameService.getTags error:",u),{status:u.status||500,data:u.data||null,message:u.message||"Failed to fetch tags",error:u};case 3:return[2]}})})},e.getTagById=function(e){var t,n,r;return o(this,void 0,Promise,function(){var o,c,s,l;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o=this.TAGS_ENDPOINT+"/"+e,[4,i.NetworkService.get(o,void 0,{headers:{"Content-Type":"application/json"}})];case 1:return c=a.sent(),s=null===(t=c.data)||void 0===t?void 0:t.data,[2,{status:c.status,success:null===(n=c.data)||void 0===n?void 0:n.success,message:(null===(r=c.data)||void 0===r?void 0:r.message)||c.message,data:s,tag:s}];case 2:throw l=a.sent(),console.error("GameService.getTagById error:",l),{status:l.status||500,data:l.data||null,message:l.message||"Failed to fetch tag",error:l};case 3:return[2]}})})},e.getGames=function(e){var t,n,r,c;return o(this,void 0,Promise,function(){var o,s,l,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},void 0!==(null==e?void 0:e.status)&&(o.status=e.status),void 0!==(null==e?void 0:e.providerId)&&(o.providerId=e.providerId),void 0!==(null==e?void 0:e.categoryId)&&(o.categoryId=e.categoryId),void 0!==(null==e?void 0:e.developerId)&&(o.developerId=e.developerId),void 0!==(null==e?void 0:e.search)&&(o.search=e.search),void 0!==(null==e?void 0:e.page)&&(o.page=e.page),void 0!==(null==e?void 0:e.limit)&&(o.limit=e.limit),void 0!==(null==e?void 0:e.sort)&&(o.sort=e.sort),void 0!==(null==e?void 0:e.order)&&(o.order=e.order),[4,i.NetworkService.get(this.GAMES_ENDPOINT,Object.keys(o).length>0?o:void 0,{headers:{"Content-Type":"application/json"}})];case 1:return s=a.sent(),l=(null===(t=s.data)||void 0===t?void 0:t.data)||[],[2,{status:s.status,success:null===(n=s.data)||void 0===n?void 0:n.success,message:(null===(r=s.data)||void 0===r?void 0:r.message)||s.message,data:l,games:l,pagination:null===(c=s.data)||void 0===c?void 0:c.pagination}];case 2:throw u=a.sent(),console.error("GameService.getGames error:",u),{status:u.status||500,data:u.data||null,message:u.message||"Failed to fetch games",error:u};case 3:return[2]}})})},e.getGamesByCategory=function(e,t){var n,r,c,s,l;return o(this,void 0,Promise,function(){var o,u,d,h,m;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},void 0!==(null==t?void 0:t.status)&&(o.status=t.status),void 0!==(null==t?void 0:t.page)&&(o.page=t.page),void 0!==(null==t?void 0:t.limit)&&(o.limit=t.limit),u=this.GAMES_ENDPOINT+"/category/"+e,[4,i.NetworkService.get(u,Object.keys(o).length>0?o:void 0,{headers:{"Content-Type":"application/json"}})];case 1:return d=a.sent(),h=(null===(n=d.data)||void 0===n?void 0:n.data)||[],[2,{status:d.status,success:null===(r=d.data)||void 0===r?void 0:r.success,message:(null===(c=d.data)||void 0===c?void 0:c.message)||d.message,data:h,games:h,category:null===(s=d.data)||void 0===s?void 0:s.category,pagination:null===(l=d.data)||void 0===l?void 0:l.pagination}];case 2:throw m=a.sent(),console.error("GameService.getGamesByCategory error:",m),{status:m.status||500,data:m.data||null,message:m.message||"Failed to fetch games by category",error:m};case 3:return[2]}})})},e.getGamesByDeveloper=function(e,t){var n,r,c,s,l;return o(this,void 0,Promise,function(){var o,u,d,h,m;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},void 0!==(null==t?void 0:t.status)&&(o.status=t.status),void 0!==(null==t?void 0:t.page)&&(o.page=t.page),void 0!==(null==t?void 0:t.limit)&&(o.limit=t.limit),u=this.GAMES_ENDPOINT+"/developer/"+e,[4,i.NetworkService.get(u,Object.keys(o).length>0?o:void 0,{headers:{"Content-Type":"application/json"}})];case 1:return d=a.sent(),h=(null===(n=d.data)||void 0===n?void 0:n.data)||[],[2,{status:d.status,success:null===(r=d.data)||void 0===r?void 0:r.success,message:(null===(c=d.data)||void 0===c?void 0:c.message)||d.message,data:h,games:h,developer:null===(s=d.data)||void 0===s?void 0:s.developer,pagination:null===(l=d.data)||void 0===l?void 0:l.pagination}];case 2:throw m=a.sent(),console.error("GameService.getGamesByDeveloper error:",m),{status:m.status||500,data:m.data||null,message:m.message||"Failed to fetch games by developer",error:m};case 3:return[2]}})})},e.getGameById=function(e){var t,n,r;return o(this,void 0,Promise,function(){var o,c,s,l;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o=this.GAMES_ENDPOINT+"/"+e,[4,i.NetworkService.get(o,void 0,{headers:{"Content-Type":"application/json"}})];case 1:return c=a.sent(),s=null===(t=c.data)||void 0===t?void 0:t.data,[2,{status:c.status,success:null===(n=c.data)||void 0===n?void 0:n.success,message:(null===(r=c.data)||void 0===r?void 0:r.message)||c.message,data:s,game:s}];case 2:throw l=a.sent(),console.error("GameService.getGameById error:",l),{status:l.status||500,data:l.data||null,message:l.message||"Failed to fetch game",error:l};case 3:return[2]}})})},e.getHomepageData=function(){var e,t,n;return o(this,void 0,Promise,function(){var o,r,c;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,i.NetworkService.get(this.HOMEPAGE_DATA_ENDPOINT,void 0,{headers:{"Content-Type":"application/json"}})];case 1:return o=a.sent(),r=null===(e=o.data)||void 0===e?void 0:e.data,[2,{status:o.status,success:null===(t=o.data)||void 0===t?void 0:t.success,message:(null===(n=o.data)||void 0===n?void 0:n.message)||o.message,data:r,categories:null==r?void 0:r.categories,hotGames:null==r?void 0:r.hotGames}];case 2:throw c=a.sent(),console.error("GameService.getHomepageData error:",c),{status:c.status||500,data:c.data||null,message:c.message||"Failed to fetch homepage data",error:c};case 3:return[2]}})})},e.getGamesByTag=function(e,t){var n,r,c,s,l;return o(this,void 0,Promise,function(){var o,u,d,h,m;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},void 0!==(null==t?void 0:t.status)&&(o.status=t.status),void 0!==(null==t?void 0:t.page)&&(o.page=t.page),void 0!==(null==t?void 0:t.limit)&&(o.limit=t.limit),u=this.GAMES_ENDPOINT+"/tags/"+e,[4,i.NetworkService.get(u,Object.keys(o).length>0?o:void 0,{headers:{"Content-Type":"application/json"}})];case 1:return d=a.sent(),h=(null===(n=d.data)||void 0===n?void 0:n.data)||[],[2,{status:d.status,success:null===(r=d.data)||void 0===r?void 0:r.success,message:(null===(c=d.data)||void 0===c?void 0:c.message)||d.message,data:h,games:h,tag:null===(s=d.data)||void 0===s?void 0:s.tag,pagination:null===(l=d.data)||void 0===l?void 0:l.pagination}];case 2:throw m=a.sent(),console.error("GameService.getGamesByTag error:",m),{status:m.status||500,data:m.data||null,message:m.message||"Failed to fetch games by tag",error:m};case 3:return[2]}})})},e.launchGame=function(e,t,n){var r,c,s;return o(this,void 0,Promise,function(){var o,l,u,d;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o=this.GAMES_ENDPOINT+"/"+e+"/launch",[4,i.NetworkService.post(o,{lang:t.lang,deviceType:t.deviceType},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}})];case 1:return l=a.sent(),u=null===(r=l.data)||void 0===r?void 0:r.data,[2,{status:l.status,success:null===(c=l.data)||void 0===c?void 0:c.success,message:(null===(s=l.data)||void 0===s?void 0:s.message)||l.message,data:u,launchUrl:null==u?void 0:u.launchUrl,sessionId:null==u?void 0:u.sessionId,gameId:null==u?void 0:u.gameId,gameCode:null==u?void 0:u.gameCode,gameName:null==u?void 0:u.gameName,isDemo:null==u?void 0:u.isDemo,currency:null==u?void 0:u.currency}];case 2:throw d=a.sent(),console.error("GameService.launchGame error:",d),{status:d.status||500,data:d.data||null,message:d.message||"Failed to launch game",error:d};case 3:return[2]}})})},e.DASHBOARD_ENDPOINT="/api/public/v1/players/dashboard",e.DEVELOPERS_ENDPOINT="/api/public/v1/developers",e.CATEGORIES_ENDPOINT="/api/public/v1/categories",e.CATEGORIES_WITH_PROVIDERS_ENDPOINT="/api/public/v1/categories/main-with-providers",e.CATEGORIES_WITH_GAMES_ENDPOINT="/api/public/v1/categories/main-with-games",e.TAGS_ENDPOINT="/api/public/v1/tags",e.GAMES_ENDPOINT="/api/public/v1/games",e.HOMEPAGE_DATA_ENDPOINT="/api/public/v1/games/homepage-data",e}();n.GameService=r,n.default=r,cc._RF.pop()},{"./NetworkService":"NetworkService"}],GameType:[function(e,t){"use strict";cc._RF.push(t,"0c1cd/Sjj1Jf4tqOzg8SFtj","GameType");var n=a(e("SharedFunction")),o=a(e("../Services/GameService"));function a(e){return e&&e.__esModule?e:{default:e}}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=u(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};s(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(N([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function o(a,i,r,c){var s=u(e[a],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,c)},function(e){o("throw",e,r,c)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,c)})}c(s.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=f,s(v,"constructor",f),s(f,"constructor",m),m.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,r,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new w(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},b(v),s(v,c,"Generator"),s(v,a,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=N,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function r(e,t,n,o,a,i,r){try{var c=e[i](r),s=c.value}catch(error){return void n(error)}c.done?t(s):Promise.resolve(s).then(o,a)}var c=e("SharedData");cc.Class({extends:cc.Component,properties:{gameTypeAnimation:cc.Animation,gameTypeBG:{default:null,type:cc.Node},gameRect:{default:null,type:cc.Node},mBetNowLabel:{default:null,type:cc.Node},myGameWebView:null},onLoad:function(){},init:function(e,t,n,o,a,i){var r=this;if(this.node.x=e+10,this.node.y=t,this.node.opacity=0,this.data=n,this.isProvider=a,this.providerData=o,this.mCallBack=i,cc.tween(this.node).to(.5,{position:cc.v2(e,t)}).start(),cc.tween(this.node).to(.5,{opacity:255}).start(),this.playAnimation(),this.gameTypeBG&&this.data)if(this.isProvider&&this.data.logoUrl){var c="https://api.codetabs.com/v1/proxy?quest="+encodeURIComponent(this.data.logoUrl);cc.assetManager.loadRemote(c,function(e,t){if(e)console.error("Failed to load image:",e);else{var n=new cc.SpriteFrame(t),o=r.gameTypeBG.getComponent(cc.Sprite);o&&(o.type=cc.Sprite.Type.SIMPLE,r.gameTypeBG.getComponent(cc.Sprite).spriteFrame=n,r.fitImageToNode(t.width,t.height),r.gameRect.active=!0)}})}else if(this.data.thumbnailUrl){var s="https://api.codetabs.com/v1/proxy?quest="+encodeURIComponent(this.data.thumbnailUrl);cc.assetManager.loadRemote(s,function(e,t){if(e)console.error("Failed to load image:",e);else{var n=new cc.SpriteFrame(t),o=r.gameTypeBG.getComponent(cc.Sprite);o&&(o.type=cc.Sprite.Type.SIMPLE,r.gameTypeBG.getComponent(cc.Sprite).spriteFrame=n,r.fitImageToNode(t.width,t.height))}})}},playAnimation:function(){var e=this;if(!this.isProvider){var t=this;cc.resources.load("animations/gametype/"+this.data.game_code,cc.AnimationClip,function(n,o){if(!n){var a=t.gameTypeAnimation.getComponent(cc.Animation);a.addClip(o,t.data.game_code),a.play(t.data.game_code),t.gameTypeAnimation.on("stop",function(){t.gameTypeAnimation&&t.gameTypeAnimation.play(t.data.game_code)},e)}})}},fitImageToNode:function(e,t){var n=this.gameTypeBG,o=e,a=t;if(o>192||a>192){var i=192/o,r=192/a,c=Math.min(i,r);o*=c,a*=c}n.width=o,n.height=a},onClick:function(){if(n.default.playButtonClickSound(),this.isProvider)this.mCallBack.onDeveloperButtonDidPressed(this.data,this.providerData);else{if(n.default.showLoadingView("",this.mCallBack||this),!this.data)return console.error("GameType: Game data is missing",this.data),void n.default.hideLoadingView(this.mCallBack||this);var e=this.data.id||this.data._id;if(!e)return console.error("GameType: Game ID is missing. Data:",this.data),void n.default.hideLoadingView(this.mCallBack||this);var t=localStorage.getItem("token");if(!t)return n.default.hideLoadingView(this.mCallBack||this),void(this.mCallBack&&"function"==typeof this.mCallBack.onLoginButtonDidPressed&&this.mCallBack.onLoginButtonDidPressed());var o=n.default.isMobile()?"mobile":"desktop",a=c.getCurrentLanguage()||"en";this.launchGame(e,a,o,t)}},launchGame:function(e,t,a,c){var s,l=this;return(s=i().mark(function r(){var s;return i().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,o.default.launchGame(e,{lang:t,deviceType:a},c);case 3:(s=i.sent).success&&s.launchUrl?(n.default.hideLoadingView(l.mCallBack||l),l.loadGameWebView(s.launchUrl)):(console.error("GameType: Failed to launch game",s.message),n.default.hideLoadingView(l.mCallBack||l)),i.next=11;break;case 7:i.prev=7,i.t0=i.catch(0),console.error("GameType: Error launching game",i.t0),n.default.hideLoadingView(l.mCallBack||l);case 11:case"end":return i.stop()}},r,null,[[0,7]])}),function(){var e=this,t=arguments;return new Promise(function(n,o){var a=s.apply(e,t);function i(e){r(a,n,o,i,c,"next",e)}function c(e){r(a,n,o,i,c,"throw",e)}i(void 0)})})()},loadGameWebView:function(e){var t=this;cc.resources.load("prefabs/game/GameWebView",cc.Prefab,function(n,o){if(n)console.error("GameType: Failed to load GameWebView prefab:",n);else{null==t.myGameWebView&&(t.myGameWebView=cc.instantiate(o).getComponent("GameWebView"),t.myGameWebView.updatePrefabSize()),t.myGameWebView.init(e,t.mCallBack||t);var a=t.mCallBack?t.mCallBack.node:t.node.parent;a?a.addChild(t.myGameWebView.node):cc.director.getScene().addChild(t.myGameWebView.node)}})}}),cc._RF.pop()},{"../Services/GameService":"GameService",SharedData:"SharedData",SharedFunction:"SharedFunction"}],GameWebView:[function(e,t){"use strict";cc._RF.push(t,"bdb564BZDxHdZDb7k8PqzHp","GameWebView");var n,o=(n=e("SharedFunction"))&&n.__esModule?n:{default:n},a=e("SharedData");cc.Class({extends:cc.Component,properties:{mCallBack:null,mJs:null,mIsLoadUrl:!1,mIsInjected:!1,mWebView:{default:null,type:cc.Node},mProgressBar:{default:null,type:cc.ProgressBar},mPercentageLabel:{default:null,type:cc.Label},i18nJson:{default:null,type:cc.JsonAsset},mStatusLabel:{default:null,type:cc.Node},progress:0,isLobbyPreloaded:!1,closeGameTriggered:!1,gameUrl:""},onLoad:function(){cc.audioEngine.setVolume(0),this.mProgressBar.node.active=!1,o.default.stopLobbyBackgroundMusic();for(var e=a.getCachedGameList(),t=0;t<e.length;t++){var n=e[t];cc.resources.release(n,cc.SpriteFrame)}a.clearCachedGameList(),a.getIsApp()||(window.closeGameView=this.windowCloseGameView.bind(this)),cc.game.on(cc.game.EVENT_HIDE,this.onGameHide,this),cc.game.on(cc.game.EVENT_SHOW,this.onGameShow,this)},onDestroy:function(){this.stopDotAnimation(),cc.audioEngine.setVolume(1),cc.game.off(cc.game.EVENT_HIDE,this.onGameHide,this),cc.game.off(cc.game.EVENT_SHOW,this.onGameShow,this)},start:function(){var e=this;this.mWebView.getComponent(cc.WebView).setJavascriptInterfaceScheme("mygame"),this.mWebView.getComponent(cc.WebView).setOnJSCallback(function(t,n){n.includes("button_clicked")&&e.windowCloseGameView()})},update:function(e){this.mProgressBar.node.active&&(this.progress+=.1*e,this.progress=this.progress>.99?.99:this.progress,this.mProgressBar.progress=this.progress,this.mPercentageLabel.getComponent(cc.Label).string=Math.floor(100*this.progress)+"%",this.isLobbyPreloaded&&(this.progress=1,this.mProgressBar.progress=this.progress,this.mPercentageLabel.getComponent(cc.Label).string=Math.floor(100*this.progress)+"%",cc.director.loadScene("Lobby",function(){return o.default.playLobbyBackgroundMusicForExitsGame()})))},loadUrl:function(e){console.log("loadUrl",e),this.mIsLoadUrl=!0,this.mIsInjected=!1,this.mWebView.getComponent(cc.WebView).url=e,this.mWebView.getComponent(cc.WebView).node.on("loaded",this.onWebViewLoaded,this);var t=document.getElementById("Cocos2dGameContainer"),n=document.getElementById("overlay");t.appendChild(n),n.style.display="block"},onWebViewMessage:function(e){console.log("GameWebView: WebView message:",e),e.type===cc.WebView.EventType.MESSAGE&&console.log("GameWebView: WebView message:",e.message)},onWebViewURLChanged:function(e){console.log("GameWebView: WebView URL changed:",e.url)},init:function(e,t){this.mCallBack=t,this.gameUrl=e,this.loadUrl(this.gameUrl)},updatePrefabSize:function(){var e=cc.Canvas.instance.node;e&&(this.node.width=e.width,this.node.height=e.height)},stopLoading:function(){this.mWebView.getComponent(cc.WebView).url="about:blank"},onWebViewLoaded:function(){var e=this;console.log("GameWebView: WebView loaded"),this.mIsLoadUrl?(this.mWebView.opacity=255,setTimeout(function(){var t=e.mWebView.getComponent(cc.WebView);t?t.evaluateJS("\n                (function() {\n                    if (document.getElementById('injected-close-btn')) return;\n\n                    var btn = document.createElement('button');\n                    btn.id = 'injected-close-btn';\n                    btn.innerHTML = 'CLOSE X';\n                    btn.style.cssText = \"position:fixed; bottom:10px; right:10px; z-index:2147483647; background:red; color:white; padding:12px; border:none; font-weight:bold;\";\n\n                    btn.onclick = function() {\n                        window.location.href = 'mygame://button_clicked';\n                    };\n\n                    document.body.appendChild(btn);\n                })();\n            "):console.error("WebView component not found on this node!")},1e3)):0==this.mIsInjected&&(this.mIsInjected=!0,this.mWebView.getComponent(cc.WebView).evaluateJS(this.mJs))},windowCloseGameView:function(){var e=this;this.closeGameTriggered||(this.closeGameTriggered=!0,o.default.playButtonClickSound(),cc.director.preloadScene("Lobby",function(){e.isLobbyPreloaded=!0}),document.getElementById("overlay").style.display="none",this.stopLoading(),this.mProgressBar.node.active=!0,this.startDotAnimation())},startDotAnimation:function(){var e=this,t=0;this.dotInterval=setInterval(function(){var n=".".repeat(t=(t+1)%4);e.mStatusLabel.getComponent(cc.Label).string=""+o.default.getLocalizedString(e.i18nJson,"enter")+n},500)},stopDotAnimation:function(){clearInterval(this.dotInterval)},onGameHide:function(){setTimeout(function(){console.log("Game is hidden"),window.closeGameView=null,cc.audioEngine.setVolume(0),o.default.stopLobbyBackgroundMusic()},1)},onGameShow:function(){var e=this;setTimeout(function(){console.log("Game is shown"),window.closeGameView=e.windowCloseGameView.bind(e),cc.audioEngine.setVolume(0),o.default.stopLobbyBackgroundMusic()},1)}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],LZW:[function(e,t,n){"use strict";cc._RF.push(t,"2fc19S4+zlLIKvyuwfxi0/T","LZW"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.decode=function(e,t){var n=1<<t,o=n+1,a=t+1,i=[],r=0;function c(){var e;for(i=[],a=t+1,e=0;e<n;e++)i[e]=[e];i[n]=[],i[o]=null}function s(t){var n,o=0;for(n=0;n<t;n++)e[r>>3]&1<<(7&r)&&(o|=1<<n),r++;return o}return function(){for(var e,t,r=[];;)if(t=e,(e=s(a))!=n){if(e==o)break;if(e<i.length)t!==n&&i.push(i[t].concat(i[e][0]));else{if(e!==i.length)throw new Error("LZW\u89e3\u6790\u51fa\u9519");i.push(i[t].concat(i[t][0]))}r.push.apply(r,i[e]),i.length===1<<a&&a<12&&a++}else c();return r}()},e}();n.default=o,cc._RF.pop()},{}],Landing:[function(e,t){"use strict";cc._RF.push(t,"e378flsQLpOjbzAZ+r2CbnB","Landing");var n=a(e("SharedFunction")),o=a(e("SharedData"));function a(e){return e&&e.__esModule?e:{default:e}}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=u(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};s(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(N([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function o(a,i,r,c){var s=u(e[a],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,c)},function(e){o("throw",e,r,c)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,c)})}c(s.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=f,s(v,"constructor",f),s(f,"constructor",m),m.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,r,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new w(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},b(v),s(v,c,"Generator"),s(v,a,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=N,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function r(e,t,n,o,a,i,r){try{var c=e[i](r),s=c.value}catch(error){return void n(error)}c.done?t(s):Promise.resolve(s).then(o,a)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function c(e){r(i,o,a,c,s,"next",e)}function s(e){r(i,o,a,c,s,"throw",e)}c(void 0)})}}cc.Class({extends:cc.Component,properties:{mTickImage:{default:null,type:cc.Node},myLoginView:null,myRegisterView:null,mGuestLoginButton:{default:null,type:cc.Node},mLoginButton:{default:null,type:cc.Node},mTncLabel:{default:null,type:cc.Node},mVerifyPromoLabel:{default:null,type:cc.Node},mAgreementNode:{default:null,type:cc.Node},i18nJson:{default:null,type:cc.JsonAsset}},onLoad:function(){var e=this;cc.view.setResizeCallback(function(){e.updatePrefabSize()}),cc.sys.capabilities.opengl||(cc._renderType=cc.game.RENDER_TYPE_CANVAS,cc.game.CONFIG_KEY.renderMode=0),setTimeout(function(){""!=o.default.getLandingAlertMessage()&&(n.default.showAlertView(o.default.getLandingAlertMessage(),e),o.default.setLandingAlertMessage(""))},1)},onAgreementCheckBoxDidPressed:function(){n.default.playButtonClickSound(),this.mTickImage.active=!this.mTickImage.active},onGuestLoginButtonDidPressed:function(){if(n.default.playButtonClickSound(),this.mTickImage.active){n.default.showLoadingView("",this);var e=localStorage.getItem("username"),t=localStorage.getItem("password");e&&t?this.callLoginApi("",e,t,""):this.callRegisterApi(o.default.getReferral(),o.default.getAgentCode())}},callGetSplashDataApi:function(){var e=this;return c(i().mark(function t(){var a,r,c,s;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e,r=new SplashScript,t.next=4,r.getSplashData();case 4:if(403!=(c=t.sent).status){t.next=9;break}e.callRegisterApi(o.default.getReferral(),o.default.getAgentCode()),t.next=17;break;case 9:if(200!=c.status){t.next=17;break}return localStorage.setItem("from_index",JSON.stringify(c)),s=o.default.getCurrentLanguage(),t.next=14,r.setLocale(s);case 14:cc.director.loadScene("Lobby",function(){n.default.hideLoadingView(a)}),t.next=17;break;case 17:case"end":return t.stop()}},t)}))()},callRegisterApi:function(e,t){var o=this;return c(i().mark(function a(){var r;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,register(e,t);case 3:if(!(r=a.sent).status){a.next=11;break}return window.fbq&&window.fbq("track","CompleteRegistration",{customerId:r.account,currency:"php"}),localStorage.setItem("username",r.account),localStorage.setItem("password",r.password),a.next=10,o.callLoginApi("",r.account,r.password,"");case 10:return a.abrupt("return");case 11:if(!e&&!t){a.next=14;break}return o.callRegisterApi("",""),a.abrupt("return");case 14:if(!r.account||!r.message){a.next=17;break}return o.callLoginApi("",r.account,r.password,""),a.abrupt("return");case 17:n.default.showAlertView(r.message?r.message:"Gagal Masuk",o),a.next=23;break;case 20:a.prev=20,a.t0=a.catch(0),console.error("Landing","callRegisterApi Error:",a.t0);case 23:case"end":return a.stop()}},a,null,[[0,20]])}))()},callLoginApi:function(e,t,o,a){var r=this;return c(i().mark(function c(){return i().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,login(e,t,o,a);case 3:200==i.sent.status?(localStorage.setItem("username",t),localStorage.setItem("password",o),window.fbq&&window.fbq("trackCustom","login",{customerId:t+a}),r.callGetSplashDataApi()):(n.default.showAlertView(n.default.getLocalizedString(r.i18nJson,"invalidAccount"),r),n.default.hideLoadingView(r)),i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),console.error("Landing","callLoginApi Error:",i.t0);case 10:case"end":return i.stop()}},c,null,[[0,7]])}))()},callRegisterApi2:function(e,t){var o=this;return c(i().mark(function a(){var r;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,register(e,t);case 3:if(!(r=a.sent).status){a.next=8;break}return window.fbq&&window.fbq("track","CompleteRegistration",{customerId:r.account,currency:"php"}),o.callLoginApi2("",r.account,r.password,""),a.abrupt("return");case 8:if(!e&&!t){a.next=11;break}return o.callRegisterApi2("",""),a.abrupt("return");case 11:if(!r.account||!r.message){a.next=14;break}return o.callLoginApi2("",r.account,r.password,""),a.abrupt("return");case 14:n.default.showAlertView(r.message?r.message:"Gagal Masuk",o),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(0),console.error("Landing","callRegisterApi Error:",a.t0);case 20:case"end":return a.stop()}},a,null,[[0,17]])}))()},callLoginApi2:function(e,t,a,r){var s=this;return c(i().mark(function c(){var l,u,d,h;return i().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,login(e,t,a,r);case 3:if(200!=i.sent.status){i.next=12;break}return l=new LobbyScript,i.next=8,l.getProfile();case 8:200==(u=i.sent).status&&(localStorage.setItem("username",t),localStorage.setItem("password",a),window.fbq&&window.fbq("trackCustom","login",{customerId:t+r}),d=u.result,(h=d.getUserProfile).mainWallet=d.mainWallet,o.default.setUserObject(h)),i.next=13;break;case 12:n.default.showAlertView(n.default.getLocalizedString(s.i18nJson,"invalidAccount"),s);case 13:i.next=18;break;case 15:i.prev=15,i.t0=i.catch(0),console.error("Landing","callLoginApi Error:",i.t0);case 18:case"end":return i.stop()}},c,null,[[0,15]])}))()},onRegisterViewButtonDidPressed:function(){var e=this;return c(i().mark(function t(){var a,r,c,s;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((a=e).node.removeChild(a.myLoginView.node),n.default.showLoadingView("",a),r=localStorage.getItem("username"),c=localStorage.getItem("password"),!r||!c){t.next=10;break}return t.next=8,a.callLoginApi2("",r,c,"");case 8:t.next=12;break;case 10:return t.next=12,a.callRegisterApi2(o.default.getReferral(),o.default.getAgentCode());case 12:if(s=o.default.getUserObject(),n.default.hideLoadingView(a),s.username){t.next=17;break}return n.default.hideLoadingView(a),t.abrupt("return");case 17:cc.resources.load("prefabs/register/register",cc.Prefab,function(e,t){if(e)return console.error("Failed to load prefab:",e),void n.default.hideLoadingView(a);null==a.myRegisterView&&(a.myRegisterView=cc.instantiate(t).getComponent("Register"),a.updatePrefabSize(),a.myRegisterView.setCallBack(a)),a.myRegisterView.updateView(),a.node.addChild(a.myRegisterView.node)}),n.default.hideLoadingView(a);case 19:case"end":return t.stop()}},t)}))()},onRegisterViewDidClosed:function(){this.node.removeChild(this.myRegisterView.node),o.default.getVerificationStatus()&&(n.default.showLoadingView("",this),this.callGetSplashDataApi())},update:function(){},localizeUI:function(){this.mGuestLoginButton.getChildByName("container").getChildByName("label").getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"visitor"),this.mLoginButton.getChildByName("container").getChildByName("label").getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"account");var e=n.default.getLocalizedString(this.i18nJson,"tnc1"),t=n.default.getLocalizedString(this.i18nJson,"tnc2"),o=n.default.getLocalizedString(this.i18nJson,"tnc3");this.mTncLabel.getComponent(cc.RichText).string="<color=#ffffff>"+e+" </color><color=#196100>"+t+"</color><color=#ffffff> & </color><color=#196100>"+o+"</color>",this.mAgreementNode.getComponent(cc.Layout).updateLayout()},updatePrefabSize:function(){var e=cc.view.getVisibleSize();this.myLoginView&&this.myLoginView.init(0,0,e.width,e.height)},onCsButtonClicked:function(){window.open(o.default.getLiveChat(),"_blank").focus()}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],Language:[function(e,t){"use strict";cc._RF.push(t,"b17a6TzAq9JSLssp76FomcR","Language");var n=a(e("SharedFunction")),o=a(e("SharedData"));function a(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{mCallBack:null,defaultLanaguage:"en",createdButtons:[],mBackground:{default:null,type:cc.Node},myConfirmBtn:{default:null,type:cc.Node},myLanguageBorder:{default:null,type:cc.Node},myScrollView:{default:null,type:cc.Node},myScrollViewContent:{default:null,type:cc.Node},mLanguageLabelPrefab:{default:null,type:cc.Prefab},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node},mCountryLabel:{default:null,type:cc.Node},mLanguageLabel:{default:null,type:cc.Node},mConfirmLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},updateView:function(e){this.mCallBack=e,this.mBackground.active=!0,this.node.opacity=255,this.defaultLanaguage=o.default.getCurrentLanguage(),this.drawAvailableLanguage(),this.myScrollView.getComponent(cc.ScrollView).scrollToTop(0);var t=this.mBackground.getChildByName("language_bg");t.setScale(0),cc.tween(t).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},setCallBack:function(e){this.mCallBack=e},drawAvailableLanguage:function(){var e=JSON.parse(localStorage.getItem("from_index"));console.log(e);var t=e.settings.languages,n=-234;for(var o in t.supportedLanguages){var a=t.supportedLanguages[o];n=this.defaultLanaguage==a.code?-76*parseInt(o)-234:n;var i=new cc.instantiate(this.mLanguageLabelPrefab);i.name=a.code,i.setPosition(cc.v2(0,-76*parseInt(o)-234)),i.getComponent(cc.Label).string=a.nativeName,this.myScrollViewContent.addChild(i);var r=i.getComponent(cc.Button);this.rebindButtonClick(r,"onLanguageDidPressed",a.code),this.createdButtons.push(i)}this.myLanguageBorder.setPosition(cc.v2(0,n)),this.myConfirmBtn.y=-76*(t.supportedLanguages.length-1)-332,this.myScrollViewContent.height=384+76*(t.supportedLanguages.length-1)},rebindButtonClick:function(e,t,n){if(e){e.clickEvents=[];var o=new cc.Component.EventHandler;o.target=this.node,o.component="Language",o.handler=t,o.customEventData=n,e.clickEvents.push(o)}},myCloseButtonDidPressed:function(e,t,a){var i=this;a||n.default.playButtonClickSound(),"confirm"==t&&(o.default.setCurrentLanguage(this.defaultLanaguage),this.localizeUI(),this.mCallBack.localizeUI());var r=this.mBackground.getChildByName("language_bg");cc.tween(r).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){i.createdButtons.forEach(function(e){e&&e.isValid&&(e.node?e.node.removeFromParent():e.removeFromParent())}),i.createdButtons=[],i.mCallBack&&i.mCallBack.onLanguageCloseButtonDidPressed()}).start()},onLanguageDidPressed:function(e,t){n.default.playButtonClickSound(),cc.tween(this.myLanguageBorder).to(.1,{position:cc.v2(0,e.target.y)}).start(),this.defaultLanaguage=t},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"title"),this.mCountryLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"country"),this.mLanguageLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"language"),this.mConfirmLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirm")},updatePrefabSize:function(){cc.view.getVisibleSize()}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],LevelInfo:[function(e,t){"use strict";cc._RF.push(t,"fd94d9uD5hCN7bsURm8jXsD","LevelInfo");var n,o=(n=e("SharedFunction"))&&n.__esModule?n:{default:n};e("SharedData"),cc.Class({extends:cc.Component,properties:{myBorder:{default:null,type:cc.Node},myLevelImg:{default:null,type:cc.Node},myLevelLabel:{default:null,type:cc.Node},myDataLabel1:{default:null,type:cc.Node},myDataLabel2:{default:null,type:cc.Node},myDataLabel3:{default:null,type:cc.Node},myDataLabel4:{default:null,type:cc.Node},myDataLabel5:{default:null,type:cc.Node},myDataLabel6:{default:null,type:cc.Node},i18nJson:{default:null,type:cc.JsonAsset},mLabel1:{default:null,type:cc.Node},mLabel2:{default:null,type:cc.Node},mLabel3:{default:null,type:cc.Node},mLabel4:{default:null,type:cc.Node},mLabel5:{default:null,type:cc.Node},mLabel6:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},init:function(e,t,n,a){this.node.x=e,this.node.y=t,this.data=n,this.mCallBack=a;var i=this;cc.loader.loadRes("images/profile/VIP"+n.level+".png",cc.SpriteFrame,function(e,t){i.myLevelImg.getComponent(cc.Sprite).spriteFrame=t}),1==n.level&&(this.myBorder.active=!0),this.myLevelLabel.getComponent(cc.Label).string=n.name,this.myDataLabel1.getComponent(cc.Label).string=o.default.showNumberWithDecimalAndComma(n.dailyLimit,2),this.myDataLabel2.getComponent(cc.Label).string=o.default.showNumberWithDecimalAndComma(n.dailyTransaction,2),this.myDataLabel3.getComponent(cc.Label).string=o.default.showNumberWithDecimalAndComma(n.upgradeBonus,2),this.myDataLabel4.getComponent(cc.Label).string=o.default.showNumberWithDecimalAndComma(n.rescueBonus,2)+"%",this.myDataLabel5.getComponent(cc.Label).string=o.default.showNumberWithDecimalAndComma(n.birthdayBonus,2),this.myDataLabel6.getComponent(cc.Label).string=n.present},onInfoButtonDidPressed:function(){o.default.playButtonClickSound(),this.mCallBack.onShowHideLevelDetail(!0,this.data.level,this.data.name)},localizeUI:function(){this.mLabel1.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"label1"),this.mLabel2.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"label2"),this.mLabel3.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"label3"),this.mLabel4.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"label4"),this.mLabel5.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"label5"),this.mLabel6.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"label6")}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],LoadingView:[function(e,t){"use strict";cc._RF.push(t,"e594cUF5ElNjrTjSJxUI7jX","LoadingView"),cc.Class({extends:cc.Component,properties:{mCallBack:null,myLabel:{default:null,type:cc.Label},loadingAnimation:cc.Animation,mStatusMessage:""},onLoad:function(){},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.loadingAnimation.play("loading_view"),this.loadingAnimation.on("stop",function(){this.loadingAnimation&&this.loadingAnimation.play("loading_view")},this)},setText:function(e){void 0===e&&(e=""),this.mStatusMessage=e,""==this.mStatusMessage||this.dotInterval||this.startDotAnimation()},startDotAnimation:function(){var e=this,t=0;this.dotInterval=setInterval(function(){var n=".".repeat(t=(t+1)%4);e.myLabel.string=""+e.mStatusMessage+n},500)},stopDotAnimation:function(){clearInterval(this.dotInterval)},onDestroy:function(){this.stopDotAnimation()}}),cc._RF.pop()},{}],Lobby:[function(e,t){"use strict";cc._RF.push(t,"b8c13I+EnNHQb/qh+U39rfM","Lobby");var n=c(e("SharedFunction")),o=c(e("SharedData")),a=c(e("../Services/AuthServices")),i=c(e("../Services/UserService")),r=c(e("../Services/GameService"));function c(e){return e&&e.__esModule?e:{default:e}}function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(D){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=u(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};c(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(N([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function o(a,i,r,c){var s=u(e[a],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,c)},function(e){o("throw",e,r,c)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,c)})}c(s.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=f,c(v,"constructor",f),c(f,"constructor",m),m.displayName=c(f,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,r,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new w(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},b(v),c(v,r,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=N,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function l(e,t,n,o,a,i,r){try{var c=e[i](r),s=c.value}catch(error){return void n(error)}c.done?t(s):Promise.resolve(s).then(o,a)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function r(e){l(i,o,a,r,c,"next",e)}function c(e){l(i,o,a,r,c,"throw",e)}r(void 0)})}}cc.Class({extends:cc.Component,properties:{myLoginView:null,myRegistrationView:null,myLanguageView:null,mySettingsView:null,myDepositView:null,myPersonalView:null,myGameListView:null,myCustomerServiceView:null,myRebateView:null,myAnnouncement:null,mCurrentGameGroup:"",banners:[],mGameGroupList:[],createdGameGroup:[],createdGameType:[],isDrawerOpen:!1,mBackground:{default:null,type:cc.Node},myLoginBtn:{default:null,type:cc.Node},myRegisterBtn:{default:null,type:cc.Node},myPlayerNameLabel:{default:null,type:cc.Node},myCopyIDBG:{default:null,type:cc.Node},myPlayIdLabel:{default:null,type:cc.Node},myDepositBtn:{default:null,type:cc.Node},myWithdrawBtn:{default:null,type:cc.Node},myReferBtn:{default:null,type:cc.Node},myRebateBtn:{default:null,type:cc.Node},myMessageBtn:{default:null,type:cc.Node},mySupportBtn:{default:null,type:cc.Node},myMoreBtn:{default:null,type:cc.Node},myBalanceBG:{default:null,type:cc.Node},myDrawerBG:{default:null,type:cc.Node},myDrawerBGContent:{default:null,type:cc.Node},drawerCsItemPrefab:{default:null,type:cc.Prefab},createdDrawerCsItems:[],myGameScrollView:{default:null,type:cc.Node},myGameScrollContent:{default:null,type:cc.Node},myGameGroupScrollContent:{default:null,type:cc.Node},myLobbyFooter:{default:null,type:cc.Node},myHeaderProfileImg:{default:null,type:cc.Sprite},myNotificationBG:{default:null,type:cc.Node},myLobbyContainer:{default:null,type:cc.Node},myAnnouncementPrefab:{default:null,type:cc.Prefab},myGameGroupPrefab:{default:null,type:cc.Prefab},myBannerPrefab:{default:null,type:cc.Prefab},myBannerView:null,mSelectedTabbarIndex:0,myBannerContainer:{default:null,type:cc.Sprite},myBannerMoveTimer:{default:6,type:cc.Float},myBannerItemPrefabs:{default:null,type:cc.Prefab},myBannerCanMove:!1,myUserName:{default:null,type:cc.Node},myUserBalance:{default:null,type:cc.Node},myUserProfileImage:{default:null,type:cc.Node},myGridView:null,myGridScrollView:cc.ScrollView,myTopupView:null,myWithdrawView:null,myProfileView:null,myEventView:null,mEventPrefab:{default:null,type:cc.Prefab},myFollowUsView:null,mFollowUsPrefab:{default:null,type:cc.Prefab},myRegisterView:null,mDailyBonusView:null,mDailyBonusPrefab:{default:null,type:cc.Prefab},mWelcomeBonusView:null,mWelcomeBonusPrefab:{default:null,type:cc.Prefab},mGameView:null,mMailboxView:null,mReferralView:null,myTabbar:{default:null,type:cc.Sprite},myTabbarButtonPrefabs:{default:null,type:cc.Prefab},mVipImage:{default:null,type:cc.Node},mVipLabel:{default:null,type:cc.Node},mVipView:null,mRebateView:null,mPwaAndroidView:null,mPwaiOSView:null,mPwaButton:{default:null,type:cc.Node},mCarnivalView:null,mCarnivalPrefab:{default:null,type:cc.Prefab},mRedeemCodeView:null,mStartLabel:{default:null,type:cc.Node},mWinnerInfoView:{default:null,type:cc.Node},mWinnerInfoAvatar:{default:null,type:cc.Node},mWinnerInfoMultiplier:{default:null,type:cc.Node},mWinnerInfoName:{default:null,type:cc.Node},mWinnerInfoAmount:{default:null,type:cc.Node},mWinnerInfoGameImage:{default:null,type:cc.Node},mWinnerInfoNextShowTimer:5,mMailRedDot:{default:null,type:cc.Node},mDepositButton:{default:null,type:cc.Node},mWithdrawButton:{default:null,type:cc.Node},mVipButton:{default:null,type:cc.Node},mCsButton:{default:null,type:cc.Node},mMailButton:{default:null,type:cc.Node},mRebateButton:{default:null,type:cc.Node},mReferralButton:{default:null,type:cc.Node},mStartImage:{default:null,type:cc.Node},mMailBubble:{default:null,type:cc.Node},mEnStart:{default:null,type:cc.SpriteFrame},mIdStart:{default:null,type:cc.SpriteFrame},mTlStart:{default:null,type:cc.SpriteFrame},mLayout:{default:null,type:cc.Node},mEventButtonView:null,mEventButtonPrefab:{default:null,type:cc.Prefab},mCarnivalButtonView:null,mCarnivalButtonPrefab:{default:null,type:cc.Prefab},mFollowUsButtonView:null,mFollowUsButtonPrefab:{default:null,type:cc.Prefab},mAccumDepositButtonView:null,mAccumDepositButtonPrefab:{default:null,type:cc.Prefab},mWelcomeBonusButtonView:null,mWelcomeBonusButtonPrefab:{default:null,type:cc.Prefab},mVerifyButtonView:null,mVerifyButtonPrefab:{default:null,type:cc.Prefab},isVerifyOpen:!1,isWelcomeBonusOpen:!1,isDailyBonusOpen:!1,isFollowUsOpen:!1,isCarnivalOpen:!1,isEventOpen:!1,isDepositOpen:!1,isWithdrawOpen:!1,isVipOpen:!1,isMailboxOpen:!1,isRebateOpen:!1,isReferralOpen:!1,mNewPrizeAmount:0,mShowNewPrizeNotification:!1,i18nJson:{default:null,type:cc.JsonAsset},mLoginLabel:{default:null,type:cc.Node},mRegisterLabel:{default:null,type:cc.Node},mSettingLabel:{default:null,type:cc.Node},mDepositLabel:{default:null,type:cc.Node},mWithdrawLabel:{default:null,type:cc.Node},mReferLabel:{default:null,type:cc.Node},mRebateLabel:{default:null,type:cc.Node},mMessageLabel:{default:null,type:cc.Node},mSupportLabel:{default:null,type:cc.Node},mMoreLabel:{default:null,type:cc.Node},mNotificationLabel:{default:null,type:cc.Node}},onLoad:function(){var e=this;cc.resources.load("prefabs/LoadingView/LoadingView",cc.Prefab,function(e,t){n.default.setLoadingViewPrefabs(t)});var t=this;this.localizeUI(),document.getElementById("overlay")||cc.resources.load("images/login/close_btn",cc.SpriteFrame,function(e,t){if(!e&&t){var n=document.getElementById("Cocos2dGameContainer");(o=document.createElement("button")).id="overlay",o.style.backgroundImage="url('"+t.getTexture().nativeUrl+"')",o.style.backgroundSize="contain",o.style.backgroundRepeat="no-repeat",o.style.backgroundColor="transparent",o.style.border="none",o.style.width="50px",o.style.height="50px",o.style.position="fixed",o.style.bottom="10px",o.style.right="10px",o.style.zIndex="9999",o.style.display="none",o.onclick=function(){"function"==typeof window.closeGameView&&window.closeGameView()},n.appendChild(o)}else{var o,a=document.getElementById("Cocos2dGameContainer");(o=document.createElement("button")).id="overlay",o.innerHTML="Close Game",o.style.position="fixed",o.style.bottom="10px",o.style.right="10px",o.style.zIndex="9999",o.style.display="none",o.onclick=function(){"function"==typeof window.closeGameView&&window.closeGameView()},a.appendChild(o)}}),cc.view.setResizeCallback(function(){e.updatePrefabSize()}),this.handleSplashResponse(),o.default.getSelectedAvatar()==localStorage.getItem("selected_avatar")&&cc.loader.loadRes("images/profile/Avatar"+o.default.getSelectedAvatar()+".png",cc.SpriteFrame,function(e,n){t.myHeaderProfileImg.getComponent(cc.Sprite).spriteFrame=n}),this.createdDrawerCsItems=[],this.mGameGroupList=[{code:"hot",name:"Hot Game",iconName:"hot"},{code:"live",name:"Live Casino",iconName:"live"},{code:"slots",name:"Slots",iconName:"slots"},{code:"fishing",name:"Fishing",iconName:"hot"},{code:"sport",name:"Sports",iconName:"hot"},{code:"crash",name:"Crash",iconName:"hot"},{code:"others",name:"Others",iconName:"hot"},{code:"fast",name:"Fast Game",iconName:"hot"}],this.configureGameGroup(),this.playBtnAnimation(),n.default.playLobbyBackgroundMusic(),n.default.isLoggedIn()&&this.callGetProfileApi()},updateHeaderIcon:function(){var e=o.default.getPopoutItem();if(null!=e&&null!=this.mLayout){this.mLayout.removeAllChildren();for(var t=0;t<e.headerList.length;t++)switch(e.headerList[t]){case"promotions":var n=cc.instantiate(this.mEventButtonPrefab);this.mLayout.addChild(n),this.mEventButtonView=n.getComponent("LobbyEventButton"),this.mEventButtonView.setCallBack(this);break;case"mission":var a=o.default.getMissionDataObject();if(1==a.status&&null!=a.data){var i=cc.instantiate(this.mCarnivalButtonPrefab);this.mLayout.addChild(i),this.mCarnivalButtonView=i.getComponent("LobbyCarnivalButton"),this.mCarnivalButtonView.setCallBack(this)}break;case"follow_us":var r=cc.instantiate(this.mFollowUsButtonPrefab);this.mLayout.addChild(r),this.mFollowUsButtonView=r.getComponent("LobbyFollowUsButton"),this.mFollowUsButtonView.setCallBack(this);break;case"accum_depo":if(null!=o.default.getAccumulateDepositObject()){var c=cc.instantiate(this.mAccumDepositButtonPrefab);this.mLayout.addChild(c),this.mAccumDepositButtonView=c.getComponent("LobbyAccumDepositButton"),this.mAccumDepositButtonView.setCallBack(this)}break;case"welcome_bonus":if(null!=o.default.getWelcomeBonusObject()){var s=cc.instantiate(this.mWelcomeBonusButtonPrefab);this.mLayout.addChild(s),this.mWelcomeBonusButtonView=s.getComponent("LobbyWelcomeBonusButton"),this.mWelcomeBonusButtonView.setCallBack(this)}break;case"official_acc":if(!o.default.getVerificationStatus()){var l=cc.instantiate(this.mVerifyButtonPrefab);this.mLayout.addChild(l),this.mVerifyButtonView=l.getComponent("LobbyVerifyButton"),this.mVerifyButtonView.setCallBack(this)}}this.mLayout.getComponent(cc.Layout).updateLayout()}},autoShowDialog:function(){if(!n.default.getQueryParam("skip")){var e=o.default.getPopoutItem();if(null!=e&&0!=e.popoutList.length){var t=e.popoutList[0];switch(t.code){case"promotions":var a=n.default.getTodayData("openPromotionCount",0);if(a>=t.times)return e.popoutList.shift(),void this.autoShowDialog();n.default.setTodayData("openPromotionCount",a+1),this.onEventButtonDidPressed(),e.popoutList.shift();break;case"mission":var i=o.default.getMissionDataObject();if(0==i.status||null==i.data)return e.popoutList.shift(),void this.autoShowDialog();var r=n.default.getTodayData("openCarnivalCount",0);if(r>=t.times)return e.popoutList.shift(),void this.autoShowDialog();n.default.setTodayData("openCarnivalCount",r+1),this.onCarnivalButtonDidPressed(),e.popoutList.shift();break;case"follow_us":var c=n.default.getTodayData("openFollowUsCount",0);if(c>=t.times)return e.popoutList.shift(),void this.autoShowDialog();n.default.setTodayData("openFollowUsCount",c+1),this.onFollowUsButtonDidPressed(),e.popoutList.shift();break;case"accum_depo":if(null==o.default.getAccumulateDepositObject())return e.popoutList.shift(),void this.autoShowDialog();var s=n.default.getTodayData("openDailyBonusCount",0);if(s>=t.times)return e.popoutList.shift(),void this.autoShowDialog();n.default.setTodayData("openDailyBonusCount",s+1),this.onDailyBonusButtonDidPressed(),e.popoutList.shift();break;case"welcome_bonus":if(null==o.default.getWelcomeBonusObject())return e.popoutList.shift(),void this.autoShowDialog();var l=n.default.getTodayData("openWelcomeBonusCount",0);if(l>=t.times)return e.popoutList.shift(),void this.autoShowDialog();n.default.setTodayData("openWelcomeBonusCount",l+1),this.onWelcomeBonusButtonDidPressed(),e.popoutList.shift();break;case"official_acc":if(o.default.getVerificationStatus())return e.popoutList.shift(),void this.autoShowDialog();var u=n.default.getTodayData("openVerifyCount",0);if(u>=t.times)return e.popoutList.shift(),void this.autoShowDialog();n.default.setTodayData("openVerifyCount",u+1),this.onRegisterViewButtonDidPressed(),e.popoutList.shift()}}}},callback:function(e,t,n){console.log(t,n)},closeGameWebView:function(e){var t=this;return u(s().mark(function o(){return s().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return void 0===e&&(e=!1),console.log("closeGameWebView: "+e),n.default.playLobbyBackgroundMusicForExitsGame(),o.next=5,t.getWallet();case 5:e&&t.goToTopUpView();case 6:case"end":return o.stop()}},o)}))()},updateDeviceToken:function(e){return u(s().mark(function t(){var n,o;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new LobbyScript,t.next=3,n.updateDeviceToken(e);case 3:o=t.sent,console.log("updateDeviceToken",o);case 5:case"end":return t.stop()}},t)}))()},handleSplashResponse:function(){var e=JSON.parse(localStorage.getItem("from_index"));if(e.settings.banners.Home)for(var t in e.settings.banners.Home.mobile)this.banners.push(e.settings.banners.Home.mobile[t]);if(e.settings.banners.Register)for(var t in e.settings.banners.Register.mobile)this.banners.push(e.settings.banners.Register.mobile[t]);this.configureAnnouncement(),n.default.hideLoadingView(this),this.showBannerPopup(),this.loadDrawerCsItems()},showBannerPopup:function(){var e=o.default.getAnnouncement();if(e&&0!==e.length){var t=this;this.myBannerPrefab?this.instantiateAndShowBanner(e):cc.resources.load("prefabs/lobby/banner",cc.Prefab,function(n,o){n?console.error("Failed to load banner prefab:",n):(t.myBannerPrefab=o,t.instantiateAndShowBanner(e))})}},instantiateAndShowBanner:function(){if(this.myBannerPrefab){if(!this.myBannerView){var e=cc.instantiate(this.myBannerPrefab);if(this.myBannerView=e.getComponent("banner")||e.getComponent("Banner"),!this.myBannerView)return console.error("Banner component not found. Make sure banner.js is attached to the prefab root node."),void console.error("Available components:",e.getComponents(cc.Component).map(function(e){return e.constructor.name}));this.updatePrefabSize(),this.myBannerView.setCallBack(this),this.node.addChild(e)}this.myBannerView&&this.myBannerView.show()}},onBannerCloseButtonDidPressed:function(){this.myBannerView&&this.myBannerView.hide()},onAnnouncementClicked:function(){this.showBannerPopup()},configureVip:function(){var e,t=this,n=o.default.getVipList(),a=Math.min(null!=(e=n.list.findIndex(function(e){return e.isCurrentLevel}))?e:0,10),i=n.list.find(function(e){return e.isCurrentLevel});-1==a||null==i?(cc.loader.loadRes("images/lobby/vip_1.png",cc.SpriteFrame,function(e,n){t.mVipImage.getComponent(cc.Sprite).spriteFrame=n,t.mVipImage.active=!0}),this.mVipLabel.getComponent(cc.Label).string="VIP0"):(cc.loader.loadRes("images/lobby/vip_"+a+".png",cc.SpriteFrame,function(e,n){t.mVipImage.getComponent(cc.Sprite).spriteFrame=n,t.mVipImage.active=!0}),this.mVipLabel.getComponent(cc.Label).string=i.name||"VIP0")},configureUserProfile:function(){var e=this,t=o.default.getUserObject(),n=t.profilePic||"av1",a=t.username;this.myUserName.getComponent(cc.Label).string=t.fullName||a,cc.loader.loadRes("images/lobby/"+n+".png",cc.SpriteFrame,function(t,n){e.myUserProfileImage.getComponent(cc.Sprite).spriteFrame=n,e.myUserProfileImage.active=!0})},configureBanner:function(){var e=this,t=o.default.getBanner(),n=this.myBannerContainer.getComponent(cc.PageView);n.removeAllPages();for(var a=0;a<t.length;a++){var i=t[a],r=cc.instantiate(this.myBannerItemPrefabs).getComponent("LobbyBannerItem");r.setItem(i),r.setCallBack(this),n.addPage(r.node)}this.myBannerContainer.node.active=!0,this.myBannerMoveTimer=0,setTimeout(function(){e.myBannerCanMove=!0},1)},configureTabbar:function(){var e=o.default.getGameList();this.myTabbar.node.width=160*e.length-10;for(var t=0;t<e.length;t++){var n=cc.instantiate(this.myTabbarButtonPrefabs).getComponent("LobbyTabbutton");n.init(160*t-5,0,160,44),n.setCallBack(this),n.setData(t,e[t]),0==t?n.setBackground("tab_background_left"):t==e.length-1?n.setBackground("tab_background_right"):n.setBackground("tab_background_middle"),this.myTabbar.node.addChild(n.node)}this.myTabbar.node.active=!0,this.mSelectedTabbarIndex=0;var a=this;setTimeout(function(){a.onTabbarButtonDidPressed(a.mSelectedTabbarIndex,e[a.mSelectedTabbarIndex])},0)},onTabbarButtonDidPressed:function(e){this.mSelectedTabbarIndex=e;var t=this.myTabbar.node._children;if(0!=t.length){for(var n=0;n<t.length;n++){var o=t[n].getChildByName("tab_button"),a=t[n].getChildByName("image"),i=t[n].getChildByName("label");o.getComponent(cc.Sprite).spriteFrame=null,a.color=cc.color("#FBF5DA"),i.color=cc.color("#FBF5DA"),o.getComponent(cc.Button).interactable=!0}var r=t[e],c=r.getChildByName("tab_button");c.getComponent(cc.Button).interactable=!1,cc.loader.loadRes("images/lobby/tab_button.png",cc.SpriteFrame,function(e,t){c.getComponent(cc.Sprite).spriteFrame=t;var n=r.getChildByName("image"),o=r.getChildByName("label");n.color=cc.color("#FFFFFF"),o.color=cc.color("#FFFFFF")}),this.configureGridView()}},onBannerNextItem:function(){var e=this.myBannerContainer.getComponent(cc.PageView);null!=e&&e.setCurrentPageIndex((e.getCurrentPageIndex()+1)%e.getPages().length),this.myBannerMoveTimer=6},onBannerPrevItem:function(){var e=this.myBannerContainer.getComponent(cc.PageView);null!=e&&e.setCurrentPageIndex((e.getPages().length+e.getCurrentPageIndex()-1)%e.getPages().length),this.myBannerMoveTimer=6},configureGridView:function(){this.myGridView||(this.myGridView=this.myGridScrollView.getComponent("GridView"),this.myGridView.setCallBack(this),this.myGridView.init(this.mSelectedTabbarIndex)),this.myGridView.updateView(this.mSelectedTabbarIndex)},onBalanceButtonDidPressed:function(){n.default.playButtonClickSound(),this.goToTopUpView()},goToTopUpView:function(e){var t=this;return u(s().mark(function a(){var i,r,c;return s().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0===e&&(e=0),!t.isDepositOpen){a.next=3;break}return a.abrupt("return");case 3:if(t.isDepositOpen=!0,n.default.showLoadingView("",t),window.fbq&&window.fbq("trackCustom","deposit",{currency:"PHP",customerId:o.default.getUserObject().username}),0!=o.default.getPaymentsProviderObject().length){a.next=18;break}return i=new LobbyScript,a.next=10,i.getDeposit();case 10:if(401!=(r=a.sent).status&&403!=r.status){a.next=14;break}return n.default.logout(t),a.abrupt("return");case 14:if(200==r.status&&null!=r.result.paymentsProvider){a.next=17;break}return n.default.showAlertView(r.message,t),a.abrupt("return");case 17:o.default.setPaymentsProviderObject(r.result.paymentsProvider);case 18:if(0!=o.default.getPaymentsProviderObject().length){a.next=22;break}return n.default.showAlertView(n.default.getLocalizedString(t.i18nJson,"tryAgain"),t),n.default.hideLoadingView(t),a.abrupt("return");case 22:c=t,cc.resources.load("prefabs/topup/topup",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(c);null==c.myTopupView&&(c.myTopupView=cc.instantiate(o).getComponent("TopupView"),c.updatePrefabSize(),c.myTopupView.setCallBack(c)),c.myTopupView.updateView(e),c.node.addChild(c.myTopupView.node)}),n.default.hideLoadingView(t);case 25:case"end":return a.stop()}},a)}))()},onTopupViewDidClosed:function(){this.isDepositOpen=!1,this.mPwaButton.active=o.default.getAab()?"download"==o.default.guard():!o.default.getIsApp(),this.node.removeChild(this.myTopupView.node)},onWithdrawalButtonDidPressed:function(){if(!this.isWithdrawOpen)switch(this.isWithdrawOpen=!0,n.default.playButtonClickSound(),o.default.guard()){case"verification":this.onRegisterViewButtonDidPressed();break;case"proceed":window.fbq&&window.fbq("trackCustom","withdraw",{currency:"PHP",customerId:o.default.getUserObject().username}),this.getWithdrawalApi();break;case"alert":n.default.showAlertView(n.default.getLocalizedString(this.i18nJson,"topupToUnlock"),this);break;case"download":this.onPwaButtonDidPressed()}},getWallet:function(){var e=this;return u(s().mark(function t(){var o,a;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=new LobbyScript,t.next=3,o.getWallet();case 3:if(401!=(a=t.sent).status&&403!=a.status){t.next=7;break}return n.default.logout(e),t.abrupt("return");case 7:e.updateWallet(a.result.mainWallet);case 8:case"end":return t.stop()}},t)}))()},getWithdrawalApi:function(){var e=this;return u(s().mark(function t(){var a,i;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.default.showLoadingView("",e),a=new LobbyScript,t.next=4,a.getWithdraw();case 4:if(i=t.sent,n.default.hideLoadingView(e),401!=i.status&&403!=i.status){t.next=9;break}return n.default.logout(e),t.abrupt("return");case 9:200==i.status?(o.default.setWithdrawObject(i.result),e.updateWallet(i.result.mainWallet),e.gotoWithdrawView()):n.default.showAlertView(i.message,e),n.default.hideLoadingView(e);case 11:case"end":return t.stop()}},t)}))()},gotoWithdrawView:function(){var e=this;n.default.showLoadingView("",e),cc.resources.load("prefabs/withdraw/withdraw",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);e.myWithdrawView=cc.instantiate(o).getComponent("WithdrawView"),e.updatePrefabSize(),e.myWithdrawView.setCallBack(e),e.myWithdrawView.updateView(),e.node.addChild(e.myWithdrawView.node),n.default.hideLoadingView(e)})},onWithdrawCloseButtonDidPressed:function(){this.isWithdrawOpen=!1,this.node.removeChild(this.myWithdrawView.node),this.myWithdrawView.node.destroy(),this.myWithdrawView=null},onProfileButtonDidPressed:function(){var e=this;n.default.playButtonClickSound(),n.default.showLoadingView("",e);var t="prefabs/profile/profile",a="Profile";o.default.getVerificationStatus()&&(t="prefabs/verified_profile/verified_profile",a="VerifiedProfileView"),cc.resources.load(t,cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);e.myProfileView=cc.instantiate(o).getComponent(a),e.updatePrefabSize(),e.myProfileView.setCallBack(e),e.myProfileView.updateView(),e.node.addChild(e.myProfileView.node),n.default.hideLoadingView(e)})},onProfileViewDidClosed:function(){this.node.removeChild(this.myProfileView.node),this.myProfileView.node.destroy(),this.myProfileView=null},verifyBeforeLogout:function(){this.onProfileViewDidClosed(),this.onRegisterViewButtonDidPressed()},onEventButtonDidPressed:function(){var e=this;return u(s().mark(function t(){var a,i,r,c,l,u,d,h;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isEventOpen){t.next=2;break}return t.abrupt("return");case 2:e.isEventOpen=!0,n.default.playButtonClickSound(),n.default.showLoadingView("",e),e.mEventButtonView&&e.mEventButtonView.updateRedDot(),a=o.default.getPromotionObject(),i=a.findIndex(function(e){return"signin"==e.redirectUrl}),r=a.findIndex(function(e){return"funding"==e.redirectUrl}),(c=a.findIndex(function(e){return"weekcard"==e.redirectUrl}))>-1&&(1==(l=o.default.getWeekCardDataObject()).status&&l.data.setting.length>0?(u=l.data,a[c].navigateTo="getWeekCardData",a[c].data=u):a.splice(c,1)),r>-1&&(a[r].navigateTo="getReliefFundData",a[r].data=o.default.getReliefFundDataObject()),i>-1&&((d=o.default.getSignInRecordObject()).status?(a[i].navigateTo="signInRecord",a[i].data=d):a.splice(i,1)),(h=e).myEventView=cc.instantiate(e.mEventPrefab).getComponent("Event"),h.updatePrefabSize(),h.myEventView.setPromotionList(a),h.myEventView.setCallBack(h),h.myEventView.updateView(),h.node.addChild(h.myEventView.node),n.default.hideLoadingView(e);case 21:case"end":return t.stop()}},t)}))()},onEventViewDidClosed:function(){var e=this;this.isEventOpen=!1,this.node.removeChild(this.myEventView.node),this.myEventView.node.destroy(),this.myEventView=null,setTimeout(function(){return e.autoShowDialog()},1)},onFollowUsButtonDidPressed:function(){this.isFollowUsOpen||(this.isFollowUsOpen=!0,n.default.playButtonClickSound(),n.default.showLoadingView("",this),this.mFollowUsButtonView&&this.mFollowUsButtonView.updateRedDot(),this.myFollowUsView=cc.instantiate(this.mFollowUsPrefab).getComponent("FollowUs"),this.updatePrefabSize(),this.myFollowUsView.setCallBack(this),this.myFollowUsView.updateView(),this.node.addChild(this.myFollowUsView.node),n.default.hideLoadingView(this))},onFollowUsViewDidClosed:function(){var e=this;this.isFollowUsOpen=!1,this.node.removeChild(this.myFollowUsView.node),this.myFollowUsView.node.destroy(),this.myFollowUsView=null,setTimeout(function(){return e.autoShowDialog()},1)},onRegisterViewButtonDidPressed:function(){if(!this.isVerifyOpen){this.isVerifyOpen=!0;var e=this;n.default.showLoadingView("",e),cc.resources.load("prefabs/register/register",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);e.myRegisterView=cc.instantiate(o).getComponent("Register"),e.updatePrefabSize(),e.myRegisterView.setCallBack(e),e.myRegisterView.updateView(),e.node.addChild(e.myRegisterView.node),n.default.hideLoadingView(e)})}},onRegisterViewDidClosed:function(){var e=this;this.isVerifyOpen=!1,this.isWelcomeBonusOpen=!1,this.isDailyBonusOpen=!1,this.isFollowUsOpen=!1,this.isCarnivalOpen=!1,this.isEventOpen=!1,this.isDepositOpen=!1,this.isWithdrawOpen=!1,this.isVipOpen=!1,this.isMailboxOpen=!1,this.isRebateOpen=!1,this.isReferralOpen=!1,this.myProfileView&&this.myProfileView.updateViewWithoutAnimation(),this.updateAccountButtonStatus(),this.node.removeChild(this.myRegisterView.node),this.myRegisterView.node.destroy(),this.myRegisterView=null,setTimeout(function(){return e.autoShowDialog()},1)},updateAccountButtonStatus:function(){},onOfficialAccountButtonDidPressed:function(){n.default.playButtonClickSound(),o.default.getVerificationStatus()||this.onRegisterViewButtonDidPressed()},onGameItemDidPressed:function(e,t){switch(n.default.playButtonClickSound(),o.default.gameGuard()){case"verification":this.onRegisterViewButtonDidPressed();break;case"proceed":case"alert":this.handleGameItemDidPressed(e,t);break;case"download":this.onPwaButtonDidPressed()}},handleGameItemDidPressed:function(e,t){var a=this;return u(s().mark(function i(){var r,c,l,u,d,h,m,f,p,g,y;return s().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n.default.showLoadingView("",a),r=e[t],c=r.id,l=r.platformProductId,u=r.platformProductName,d=r.isHorizontal,h=new LobbyScript,i.next=9,h.playGame(c);case 9:if(401!=(m=i.sent).status&&403!=m.status){i.next=13;break}return n.default.logout(a),i.abrupt("return");case 13:200==m.status&&(window.fbq&&window.fbq("trackCustom","gameLaunch",{customerId:o.default.getUserObject().username,gameCategory:"slot",gameId:c,vendor:u}),f=JSON.parse(localStorage.getItem("gameHistory")||"[]"),-1!==(p=f.findIndex(function(e){return e.id===r.id}))&&f.splice(p,1),f.unshift(r),f.length>20&&f.pop(),localStorage.setItem("gameHistory",JSON.stringify(f)),f.length>0&&(a.mStartLabel.getComponent(cc.Label).string=f[0].name),1==m.result.playGame.status?((g=m.result.playGame.form).includes("<html")?(y="\n                                document.open();\n                                document.write(`"+g.replace(/`/g,"\\`")+"`);\n                                document.close();\n                            ",a.showGameViewWithInjectJs(y,l,d)):a.showGameViewWithUrl(g,l,d),n.default.hideLoadingView(a)):(n.default.hideLoadingView(a),n.default.showAlertView(m.result.playGame.message,a)));case 14:case"end":return i.stop()}},i)}))()},showGameViewWithInjectJs:function(e,t,a){n.default.stopLobbyBackgroundMusicForGame(),o.default.setGameViewData({js:e,platformId:t,isHorizontal:a,isLoadUrl:!1,url:""}),cc.director.loadScene("GameView")},showGameViewWithUrl:function(e,t,a){n.default.stopLobbyBackgroundMusicForGame(),o.default.getIsApp()?n.default.sendToApp(JSON.stringify({gameUrl:e,isFirstPartyGame:3238==t})):(o.default.setGameViewData({js:"",platformId:t,isHorizontal:a,isLoadUrl:!0,url:e}),cc.director.loadScene("GameView"))},onLogoutButtonDidPressed:function(){var e=this;return u(s().mark(function t(){return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.default.playButtonClickSound(),n.default.showLoadingView("",e),n.default.logout(e),n.default.hideLoadingView(e);case 4:case"end":return t.stop()}},t)}))()},onProfileDidChanged:function(){this.configureUserProfile()},onDailyBonusButtonDidPressed:function(){this.isDailyBonusOpen||(this.isDailyBonusOpen=!0,n.default.playButtonClickSound(),n.default.showLoadingView("",this),this.mAccumDepositButtonView&&this.mAccumDepositButtonView.updateRedDot(),this.mDailyBonusView=cc.instantiate(this.mDailyBonusPrefab).getComponent("DailyBonus"),this.updatePrefabSize(),this.mDailyBonusView.setCallBack(this),this.mDailyBonusView.updateView(),this.node.addChild(this.mDailyBonusView.node),n.default.hideLoadingView(this))},onDailyBonusViewCloseButtonDidPressed:function(e){var t=this;this.isDailyBonusOpen=!1,this.node.removeChild(this.mDailyBonusView.node),this.mDailyBonusView.node.destroy(),this.mDailyBonusView=null,e>0?this.goToTopUpView(e):setTimeout(function(){return t.autoShowDialog()},1)},onWelcomeBonusButtonDidPressed:function(){this.isWelcomeBonusOpen||(this.isWelcomeBonusOpen=!0,n.default.playButtonClickSound(),n.default.showLoadingView("",this),this.mWelcomeBonusButtonView&&this.mWelcomeBonusButtonView.updateRedDot(),this.mWelcomeBonusView=cc.instantiate(this.mWelcomeBonusPrefab).getComponent("WelcomeBonus"),this.updatePrefabSize(),this.mWelcomeBonusView.setCallBack(this),this.mWelcomeBonusView.updateView(),this.node.addChild(this.mWelcomeBonusView.node),n.default.hideLoadingView(this))},onWelcomeBonusViewCloseButtonDidPressed:function(){var e=this;this.isWelcomeBonusOpen=!1,this.node.removeChild(this.mWelcomeBonusView.node),this.mWelcomeBonusView.node.destroy(),this.mWelcomeBonusView=null,setTimeout(function(){return e.autoShowDialog()},1)},onWelcomeBonusViewDepositButtonDidPressed:function(e){this.isWelcomeBonusOpen=!1,this.node.removeChild(this.mWelcomeBonusView.node),this.goToTopUpView(e)},callMailBoxApi:function(){var e=this;return u(s().mark(function t(){var a,i,r,c,l,u,d,h,m,f,p;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=o.default.getUserObject().username){t.next=3;break}return t.abrupt("return");case 3:return a=e,i=new LobbyScript,t.next=7,i.getMailbox();case 7:if(401!=(r=t.sent).status&&403!=r.status){t.next=11;break}return n.default.logout(a),t.abrupt("return");case 11:200==r.status&&(c=r.result,l=c.getAccumulateDepositData.data,u=c.getMissionData,d=c.getDepositPromotion,h=!1,null==l&&null!=o.default.getAccumulateDepositObject()&&(h=!0),null!=l&&null==o.default.getAccumulateDepositObject()&&(h=!0),u.status!=o.default.getMissionDataObject().status&&(h=!0),null==u.data&&null!=o.default.getMissionDataObject().data&&(h=!0),null!=u.data&&null==o.default.getMissionDataObject().data&&(h=!0),null==d&&null!=o.default.getWelcomeBonusObject()&&(h=!0),null!=d&&null==o.default.getWelcomeBonusObject()&&(h=!0),h&&e.updateHeaderIcon(),o.default.setAccumulateDepositObject(l),o.default.setReliefFundDataObject(c.getReliefFundData),o.default.setMissionDataObject(u),o.default.setPaymentsProviderObject(c.paymentsProvider),o.default.setMailBox(c.mailBox),o.default.setWelcomeBonusObject(d),(m=o.default.getUserObject()).firstPasswordUpdate=c.getUserProfile.firstPasswordUpdate,m.phoneNumber=c.getUserProfile.phoneNumber,o.default.setUserObject(m),e.updateAccountButtonStatus(),e.updateWallet(c.mainWallet),e.updateMailRedDot(),f=e.checkForNewArriveMessage(),e.mMailBubble&&f&&(e.mMailBubble.active=!0,setTimeout(function(){a.mMailBubble&&(a.mMailBubble.active=!1)},5e3)),1==(p=c.getDepositNotify).status&&p.amount>0&&window.fbq&&(window.fbq("trackCustom","firstDepositArrival",{currency:"PHP",customerId:o.default.getUserObject().username,revenue:p.amount,value:p.amount}),window.fbq("track","Purchase",{currency:"PHP",customerId:o.default.getUserObject().username,revenue:p.amount,value:p.amount}))),setTimeout(function(){"function"==typeof a.callMailBoxApi&&a.callMailBoxApi()},5e3);case 13:case"end":return t.stop()}},t)}))()},onMailboxButtonDidPressed:function(){var e=this;return u(s().mark(function t(){var o;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isMailboxOpen){t.next=2;break}return t.abrupt("return");case 2:e.isMailboxOpen=!0,o=e,n.default.playButtonClickSound(),n.default.showLoadingView("",o),cc.resources.load("prefabs/mailbox/mailbox",cc.Prefab,function(e,t){if(e)return console.error("Failed to load prefab:",e),void n.default.hideLoadingView(o);null==o.mMailboxView&&(o.mMailboxView=cc.instantiate(t).getComponent("Mailbox"),o.updatePrefabSize(),o.mMailboxView.setCallBack(o)),o.mMailboxView.updateView(),o.node.addChild(o.mMailboxView.node),n.default.hideLoadingView(o)});case 7:case"end":return t.stop()}},t)}))()},onMailboxCloseButtonDidPressed:function(){this.isMailboxOpen=!1,this.node.removeChild(this.mMailboxView.node)},onReferralButtonDidPressed:function(){if(!this.isReferralOpen)switch(this.isReferralOpen=!0,n.default.playButtonClickSound(),o.default.guard()){case"verification":this.onRegisterViewButtonDidPressed();break;case"proceed":null==o.default.getReferralObject().getInviteRewardData?this.callGetReferralApi():this.gotoReferralView();break;case"alert":n.default.showAlertView(n.default.getLocalizedString(this.i18nJson,"topupToUnlock"),this);break;case"download":this.onPwaButtonDidPressed()}},gotoReferralView:function(){var e=this;n.default.showLoadingView("",e),cc.resources.load("prefabs/referral/referral",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);null==e.mReferralView&&(e.mReferralView=cc.instantiate(o).getComponent("ReferralView"),e.updatePrefabSize(),e.mReferralView.setCallBack(e)),e.mReferralView.updateView(),e.node.addChild(e.mReferralView.node),n.default.hideLoadingView(e)})},onReferralViewCloseButtonDidPressed:function(){this.isReferralOpen=!1,this.node.removeChild(this.mReferralView.node)},onCsButtonDidPressed:function(){n.default.playButtonClickSound(),window.open(o.default.getLiveChat(),"_blank").focus()},onRedeemCodeDidPressed:function(){var e=this;n.default.playButtonClickSound(),n.default.showLoadingView("",e),cc.resources.load("prefabs/profile/redeem_code",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);null==e.mRedeemCodeView&&(e.mRedeemCodeView=cc.instantiate(o).getComponent("RedeemCode"),e.updatePrefabSize(),e.mRedeemCodeView.setCallBack(e)),e.mRedeemCodeView.updateView(),e.node.addChild(e.mRedeemCodeView.node),n.default.hideLoadingView(e)})},onRedeemCodeViewDidClosed:function(){this.node.removeChild(this.mRedeemCodeView.node)},showWinnerInfoView:function(){var e=this,t=this,o=0;if(this.mWinnerInfoView.getChildByName("winner").active=!this.mShowNewPrizeNotification,this.mWinnerInfoView.getChildByName("prize").active=this.mShowNewPrizeNotification,this.mShowNewPrizeNotification)this.mWinnerInfoView.zIndex=9999,o=8,this.mWinnerInfoView.getChildByName("prize").getChildByName("amount_label").getComponent(cc.Label).string=n.default.numberWithCommas(this.mNewPrizeAmount);else{o=5,this.mWinnerInfoAvatar.active=!1,this.mWinnerInfoMultiplier.getComponent(cc.Label).string=n.default.getRandomNumber(30,500)+" X",this.mWinnerInfoName.getComponent(cc.Label).string=n.default.getRandomAlphaNumeric(7)+"...";var a="av"+n.default.getRandomNumber(1,17);cc.loader.loadRes("images/lobby/"+a+".png",cc.SpriteFrame,function(e,n){t.mWinnerInfoAvatar.getComponent(cc.Sprite).spriteFrame=n,t.mWinnerInfoAvatar.active=!0})}var i=cc.view.getVisibleSize().width/2,r=cc.view.getVisibleSize().width/2-400;cc.tween(this.mWinnerInfoView).to(.25,{position:cc.v2(r,220)},{easing:"cubicInOut"}).delay(o).to(.25,{position:cc.v2(i,220)},{easing:"cubicInOut"}).call(function(){e.mWinnerInfoView.getChildByName("prize").active&&(e.mShowNewPrizeNotification=!1),e.mWinnerInfoNextShowTimer=n.default.getRandomNumber(5,10)}).start()},callGetReferralApi:function(){var e=this;return u(s().mark(function t(){var a,i;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.default.showLoadingView("",e),a=new LobbyScript,t.next=5,a.getReferral();case 5:if(401!=(i=t.sent).status&&403!=i.status){t.next=9;break}return n.default.logout(e),t.abrupt("return");case 9:200==i.status?(o.default.setReferralObject(i.result),n.default.hideLoadingView(e),e.gotoReferralView()):n.default.showAlertView(i.message,e),n.default.hideLoadingView(e);case 11:case"end":return t.stop()}},t)}))()},onVipButtonDidPressed:function(){if(!this.isVipOpen)switch(this.isVipOpen=!0,n.default.playButtonClickSound(),o.default.guard()){case"verification":this.onRegisterViewButtonDidPressed();break;case"proceed":this.callGetVipApi();break;case"alert":n.default.showAlertView(n.default.getLocalizedString(this.i18nJson,"topupToUnlock"),this);break;case"download":this.onPwaButtonDidPressed()}},callGetVipApi:function(){var e=this;return u(s().mark(function t(){var a,i,r,c;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.default.showLoadingView("",e),a=new LobbyScript,t.next=4,a.getVip();case 4:if(401!=(i=t.sent).status&&403!=i.status){t.next=8;break}return n.default.logout(e),t.abrupt("return");case 8:200==i.status?(r=i.result,o.default.setVipList(r.vipList),c=e,cc.resources.load("prefabs/vip/vip",cc.Prefab,function(e,t){if(e)return console.error("Failed to load prefab:",e),void n.default.hideLoadingView(c);null==c.mVipView&&(c.mVipView=cc.instantiate(t).getComponent("VipVIew"),c.updatePrefabSize(),c.mVipView.setCallBack(c)),c.mVipView.updateView(r),c.node.addChild(c.mVipView.node)})):n.default.showAlertView(i.message,e),n.default.hideLoadingView(e);case 10:case"end":return t.stop()}},t)}))()},onVipViewCloseButtonDidPressed:function(e){this.isVipOpen=!1,this.node.removeChild(this.mVipView.node),e&&this.onStartButtonDidPressed()},onRebateButton2DidPressed:function(){if(!this.isRebateOpen)switch(this.isRebateOpen=!0,n.default.playButtonClickSound(),o.default.guard()){case"verification":this.onRegisterViewButtonDidPressed();break;case"proceed":this.showRebateView();break;case"alert":n.default.showAlertView(n.default.getLocalizedString(this.i18nJson,"topupToUnlock"),this);break;case"download":this.onPwaButtonDidPressed()}},showRebateView:function(){var e=this;return u(s().mark(function t(){var a,i,r;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.default.showLoadingView("",e),null!=o.default.getIncentiveDataObject()){t.next=14;break}return a=new LobbyScript,t.next=5,a.getRebate();case 5:if(401!=(i=t.sent).status&&403!=i.status){t.next=9;break}return n.default.logout(e),t.abrupt("return");case 9:if(200==i.status){t.next=13;break}return n.default.showAlertView(i.message,e),n.default.hideLoadingView(e),t.abrupt("return");case 13:o.default.setIncentiveDataObject(i.result.getIncentiveData);case 14:if(0!=o.default.getIncentiveDataObject().status){t.next=18;break}return n.default.showAlertView(o.default.getIncentiveDataObject().message,e),n.default.hideLoadingView(e),t.abrupt("return");case 18:r=e,cc.resources.load("prefabs/rebate/rebate",cc.Prefab,function(e,t){if(e)return console.error("Failed to load prefab:",e),void n.default.hideLoadingView(r);r.mRebateView=cc.instantiate(t).getComponent("RebateView"),r.updatePrefabSize(),r.mRebateView.setCallBack(r),r.mRebateView.updateView(),r.node.addChild(r.mRebateView.node)}),n.default.hideLoadingView(e);case 21:case"end":return t.stop()}},t)}))()},onRebate2CloseButtonDidPressed:function(){this.isRebateOpen=!1,this.node.removeChild(this.mRebateView.node),this.mRebateView.node.destroy(),this.mRebateView=null},onPwaButtonDidPressed:function(){n.default.playButtonClickSound(),"Android"==n.default.getMobileOperatingSystem()?this.gotoPwaAndroidView():this.gotoPwaiOSView()},gotoPwaAndroidView:function(){var e=this;n.default.showLoadingView("",e),cc.resources.load("prefabs/pwa/pwa_android",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);e.mPwaAndroidView=cc.instantiate(o).getComponent("PwaAndroidView"),e.updatePrefabSize(),e.mPwaAndroidView.setCallBack(e),e.mPwaAndroidView.updateView(),e.node.addChild(e.mPwaAndroidView.node),n.default.hideLoadingView(e)})},onPwaAndroidViewCloseButtonDidPressed:function(){this.node.removeChild(this.mPwaAndroidView.node),this.mPwaAndroidView.node.destroy(),this.mPwaAndroidView=null},gotoPwaiOSView:function(){var e=this;n.default.showLoadingView("",e),cc.resources.load("prefabs/pwa/pwa_ios",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);e.mPwaiOSView=cc.instantiate(o).getComponent("PwaIOSView"),e.updatePrefabSize(),e.mPwaiOSView.setCallBack(e),e.mPwaiOSView.updateView(),e.node.addChild(e.mPwaiOSView.node),n.default.hideLoadingView(e)})},onPwaiOSViewCloseButtonDidPressed:function(){this.node.removeChild(this.mPwaiOSView.node),this.mPwaiOSView.node.destroy(),this.mPwaiOSView=null},onStartButtonDidPressed:function(){switch(n.default.playButtonClickSound(),o.default.guard()){case"verification":case"proceed":case"alert":this.handleStartButtonDidPressed();break;case"download":this.onPwaButtonDidPressed()}},handleStartButtonDidPressed:function(){var e=this;return u(s().mark(function t(){var o,a,i,r,c,l;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=(o=JSON.parse(localStorage.getItem("gameHistory")||"[]")).length){t.next=3;break}return t.abrupt("return");case 3:return a=o[0],i=new LobbyScript,t.next=7,i.playGame(a.id);case 7:if(401!=(r=t.sent).status&&403!=r.status){t.next=11;break}return n.default.logout(e),t.abrupt("return");case 11:if(200==r.status){t.next=13;break}return t.abrupt("return");case 13:1==r.result.playGame.status?((c=r.result.playGame.form).includes("<html")?(l="\n                            document.open();\n                            document.write(`"+c.replace(/`/g,"\\`")+"`);\n                            document.close();\n                        ",e.showGameViewWithInjectJs(l,a.platformProductId,a.isHorizontal)):e.showGameViewWithUrl(c,a.platformProductId,a.isHorizontal),n.default.hideLoadingView(e)):(n.default.hideLoadingView(e),n.default.showAlertView(r.result.playGame.message,e));case 14:case"end":return t.stop()}},t)}))()},onCarnivalButtonDidPressed:function(){var e=this;return u(s().mark(function t(){var o;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isCarnivalOpen){t.next=2;break}return t.abrupt("return");case 2:e.isCarnivalOpen=!0,n.default.playButtonClickSound(),n.default.showLoadingView("",e),e.mCarnivalButtonView&&e.mCarnivalButtonView.updateRedDot(),null==(o=e).mCarnivalView&&(o.mCarnivalView=cc.instantiate(e.mCarnivalPrefab).getComponent("Carnival"),o.updatePrefabSize(),o.mCarnivalView.setCallBack(o)),o.mCarnivalView.updateView(),o.node.addChild(o.mCarnivalView.node),n.default.hideLoadingView(e);case 11:case"end":return t.stop()}},t)}))()},onCarnivalViewCloseButtonDidPressed:function(){var e=this;this.isCarnivalOpen=!1,this.node.removeChild(this.mCarnivalView.node),setTimeout(function(){return e.autoShowDialog()},1)},updateWallet:function(e){var t=o.default.getUserObject();t.mainWallet=e,o.default.setUserObject(t),this.myUserBalance&&(this.myUserBalance.getChildByName("loadingAnim").active=!1,this.myUserBalance.getChildByName("label").getComponent(cc.Label).string=n.default.numberWithCommas(t.mainWallet.amount))},updateMailRedDot:function(){if(null!=this.mMailRedDot){var e=o.default.getMailBox();if(e){var t=e.mail.filter(function(e){return e.isNewMessage}),n=e.prize.filter(function(e){return e.isNewMessage});this.mMailRedDot.active=t.length>0||n.length>0}else this.mMailRedDot.active=!1}},checkForNewArriveMessage:function(){var e=o.default.getMailBox();if(!e)return o.default.setNewMessageCount(0),!1;var t=e.mail.filter(function(e){return e.isNewMessage}),n=e.prize.filter(function(e){return e.isNewMessage});return o.default.getNewMessageCount()<t.length+n.length?(o.default.setNewMessageCount(t.length+n.length),!0):(o.default.setNewMessageCount(t.length+n.length),!1)},configureGameGroup:function(){this.callGetHomepageData()},configureHotGame:function(e){var t=this;cc.resources.load("prefabs/gametype/hotGameContainer",cc.Prefab,function(n,o){if(n)console.error("Failed to load prefab:",n);else{var a=30+200*Math.ceil(.5);t.myGameScrollContent.setContentSize(cc.size(a<830?830:a,400));for(var i=1;i<=1;i++){var r=new cc.instantiate(o).getComponent("GameType");r.init(102+200*(Math.ceil(i/2)-1),i%2==0?-100:100,{game_code:"SuperAce"},e,!1,t),t.myGameScrollContent.addChild(r.node),t.createdGameType.push(r)}}})},configureAnnouncement:function(){null!=this.myAnnouncement&&(this.myLobbyContainer.node.removeChild(this.myAnnouncement.node),this.myAnnouncement=null),this.myAnnouncement=cc.instantiate(this.myAnnouncementPrefab).getComponent("Announcement"),this.myAnnouncement.init(-19,221,522,32),this.myAnnouncement.updateView(-19,221,522,32),this.myAnnouncement.setCallBack(this),this.myLobbyContainer.addChild(this.myAnnouncement.node)},playBtnAnimation:function(){var e=[{btnName:"myReferBtn",animName:"refer"},{btnName:"myRebateBtn",animName:"rebate"},{btnName:"myMessageBtn",animName:"message"},{btnName:"mySupportBtn",animName:"support"},{btnName:"myMoreBtn",animName:"more"}];for(var t in e){var n=this[e[t].btnName];if(n){var o=n.getChildByName("img");if(o){var a=o.getComponent(cc.Animation);if(!a)continue;cc.resources.load("animations/lobby/"+e[t].animName,cc.AnimationClip,function(e,t){e||(this.anim.addClip(t,this.animName),this.anim.play(this.animName),this.anim.on("stop",function(){this.anim&&this.anim.play(this.animName)}.bind({anim:this.anim,animName:this.animName})))}.bind({anim:a,animName:e[t].animName}))}}}},onLoginButtonDidPressed:function(e,t,o){var a=this;o||n.default.playButtonClickSound(),n.default.showLoadingView("",a),cc.resources.load("prefabs/login/login",cc.Prefab,function(e,t){if(e)return console.error("Failed to load prefab:",e),void n.default.hideLoadingView(a);null==a.myLoginView&&(a.myLoginView=cc.instantiate(t).getComponent("Login"),a.updatePrefabSize()),a.myLoginView.updateView(a),a.node.addChild(a.myLoginView.node),n.default.hideLoadingView(a)})},onLoginCloseButtonDidPressed:function(){this.node.removeChild(this.myLoginView.node),n.default.isLoggedIn()&&this.callGetProfileApi()},onRegisterButtonDidPressed:function(){var e=this;n.default.playButtonClickSound(),n.default.showLoadingView("",e),cc.resources.load("prefabs/registration/registration",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);null==e.myRegistrationView&&(e.myRegistrationView=cc.instantiate(o).getComponent("Registration"),e.updatePrefabSize()),e.myRegistrationView.updateView(e),e.node.addChild(e.myRegistrationView.node),n.default.hideLoadingView(e)})},onRegisterCloseButtonDidPressed:function(){this.node.removeChild(this.myRegistrationView.node),n.default.isLoggedIn()&&this.callGetProfileApi()},onDrawerTriangleButtonDidPressed:function(){console.log("onDrawerTriangleButtonDidPressed"),n.default.playButtonClickSound();var e=this.myDrawerBG.getChildByName("triangleContainer").getChildByName("iconTriangle"),t=this.myDrawerBG.getComponent(cc.Widget);if(this.isDrawerOpen){e.angle=0;var o=-25;this.myDrawerBGContent&&(o=-1*this.myDrawerBGContent.width),cc.tween(t).to(.1,{right:o}).start()}else e.angle=-180,cc.tween(t).to(.1,{right:0}).start();this.isDrawerOpen=!this.isDrawerOpen},onCountryLanguageButtonDidPressed:function(){var e=this;n.default.playButtonClickSound(),cc.resources.load("prefabs/language/language",cc.Prefab,function(t,o){t?console.error("Failed to load prefab:",t):(null==e.myLanguageView&&(e.myLanguageView=cc.instantiate(o).getComponent("Language"),e.updatePrefabSize()),e.myLanguageView.updateView(e),e.node.addChild(e.myLanguageView.node),n.default.hideLoadingView(e))})},onLanguageCloseButtonDidPressed:function(){this.node.removeChild(this.myLanguageView.node)},onSettingButtonDidPressed:function(){var e=this;n.default.playButtonClickSound(),cc.resources.load("prefabs/settings/settings",cc.Prefab,function(t,o){t?console.error("Failed to load prefab:",t):(null==e.mySettingsView&&(e.mySettingsView=cc.instantiate(o).getComponent("Settings"),e.updatePrefabSize()),e.mySettingsView.updateView(e),e.node.addChild(e.mySettingsView.node),n.default.hideLoadingView(e))})},onSettingsCloseButtonDidPressed:function(){this.node.removeChild(this.mySettingsView.node)},onDepositButtonDidPressed:function(){var e=this;n.default.playButtonClickSound(),cc.resources.load("prefabs/deposit/deposit",cc.Prefab,function(t,o){t?console.error("Failed to load prefab:",t):(null==e.myDepositView&&(e.myDepositView=cc.instantiate(o).getComponent("Deposit"),e.updatePrefabSize()),e.myDepositView.updateView(e),e.node.addChild(e.myDepositView.node),e.myDrawerBG.active=!1,cc.tween(e.myLobbyContainer.getComponent(cc.Widget)).to(1/6,{left:-1*e.myLobbyContainer.width,right:e.myLobbyContainer.width}).start(),n.default.hideLoadingView(e))})},onDepositBackButtonDidPressed:function(){var e=this;cc.tween(this.myLobbyContainer.getComponent(cc.Widget)).to(1/6,{left:0,right:0}).call(function(){e.myDrawerBG.active=!0,e.node.removeChild(e.myDepositView.node)}).start()},onPersonalCenterButtonDidPressed:function(){var e=this;n.default.playButtonClickSound(),n.default.isLoggedIn()?(n.default.showLoadingView("",e),cc.resources.load("prefabs/personal/personalCenter",cc.Prefab,function(t,o){t?console.error("Failed to load prefab:",t):(null==e.myPersonalView&&(e.myPersonalView=cc.instantiate(o).getComponent("PersonalCenter"),e.updatePrefabSize()),e.myPersonalView.updateView(e),e.node.addChild(e.myPersonalView.node),e.myDrawerBG.active=!1,cc.tween(e.myLobbyContainer.getComponent(cc.Widget)).to(1/6,{left:-1*e.myLobbyContainer.width,right:e.myLobbyContainer.width}).start(),n.default.hideLoadingView(e))})):this.onLoginButtonDidPressed(null,null,!0)},onPersonalCenterBackButtonDidPressed:function(){var e=this,t=this;o.default.getSelectedAvatar()==localStorage.getItem("selected_avatar")&&cc.loader.loadRes("images/profile/Avatar"+o.default.getSelectedAvatar()+".png",cc.SpriteFrame,function(e,n){t.myHeaderProfileImg.getComponent(cc.Sprite).spriteFrame=n}),cc.tween(this.myLobbyContainer.getComponent(cc.Widget)).to(1/6,{left:0,right:0}).call(function(){e.myDrawerBG.active=!0,e.node.removeChild(e.myPersonalView.node)}).start()},onGameGroupButtonDidPressed:function(e){var t=this;if(e.code!=this.mCurrentGameGroup){if(this.createdGameGroup.forEach(function(e){e&&e.isValid&&e.unClick()}),this.createdGameType.forEach(function(e){e&&e.isValid&&e.node.removeFromParent()}),this.createdGameType=[],"hot"==e.code)this.callGetGamesByTagApi(e.id,{status:"active"});else{var n=o.default.getGameCategories();for(var a in n){var i=n[a];if(i.code==e.code){var r=i.developers;cc.resources.load("prefabs/provider/liveDeveloper",cc.Prefab,function(e,n){if(e)console.error("Failed to load prefab:",e);else for(var o in r){var a=r[o],c=new cc.instantiate(n).getComponent("GameType");c.init(104+208*(Math.ceil((parseInt(o)+1)/2)-1),(parseInt(o)+1)%2==0?-104:104,a,i,!0,t),t.myGameScrollContent.addChild(c.node),t.createdGameType.push(c)}});var c=30+200*Math.ceil(r.length/2);this.myGameScrollContent.setContentSize(cc.size(c<830?830:c,400));break}}}this.mCurrentGameGroup=e.code}},onDeveloperButtonDidPressed:function(e,t){var o=this;n.default.playButtonClickSound(),n.default.isLoggedIn()?(n.default.showLoadingView("",o),cc.resources.load("prefabs/provider/gameList",cc.Prefab,function(a,i){a?console.error("Failed to load prefab:",a):(null==o.myGameListView&&(o.myGameListView=cc.instantiate(i).getComponent("GameList"),o.updatePrefabSize()),o.myGameListView.updateView(e,t,o),o.node.addChild(o.myGameListView.node),o.myDrawerBG.active=!1,cc.tween(o.myLobbyContainer.getComponent(cc.Widget)).to(1/6,{left:-1*o.myLobbyContainer.width,right:o.myLobbyContainer.width}).start(),n.default.hideLoadingView(o))})):this.onLoginButtonDidPressed(null,null,!0)},onGameListBackButtonDidPressed:function(){var e=this;cc.tween(this.myLobbyContainer.getComponent(cc.Widget)).to(1/6,{left:0,right:0}).call(function(){e.myDrawerBG.active=!0,e.node.removeChild(e.myGameListView.node)}).start()},onSupportButtonDidPressed:function(){var e=this;n.default.playButtonClickSound(),n.default.showLoadingView("",e),cc.resources.load("prefabs/customerservice/customerservice",cc.Prefab,function(t,o){t?console.error("Failed to load prefab:",t):(null==e.myCustomerServiceView&&(e.myCustomerServiceView=cc.instantiate(o).getComponent("CustomerService"),e.updatePrefabSize()),e.myCustomerServiceView.updateView(e),e.node.addChild(e.myCustomerServiceView.node),e.myDrawerBG.active=!1,cc.tween(e.myLobbyContainer.getComponent(cc.Widget)).to(1/6,{left:-1*e.myLobbyContainer.width,right:e.myLobbyContainer.width}).start(),n.default.hideLoadingView(e))})},onCustomerSupportClicked:function(){this.myBannerView&&this.myBannerView.node&&this.myBannerView.node.active&&this.myBannerView.hide(),this.onSupportButtonDidPressed()},loadDrawerCsItems:function(){try{var e=JSON.parse(localStorage.getItem("from_index"));if(!e||!e.settings||!e.settings.contactUs)return console.log("No contactUs data found in dashboard settings for drawer"),void(this.myDrawerBGContent&&(this.myDrawerBGContent.active=!1));var t=e.settings.contactUs,n=this.filterActiveDrawerContacts(t);if(0===n.length)return console.log("No active contacts to display in drawer"),void(this.myDrawerBGContent&&(this.myDrawerBGContent.active=!1));n.sort(function(e,t){return void 0!==e.sequence&&void 0!==t.sequence?e.sequence-t.sequence:0}),this.createDrawerCsItems(n)}catch(error){console.error("Error loading drawer customer service items:",error)}},filterActiveDrawerContacts:function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];"active"!==o.status&&"Active"!==o.status||o.logo&&""!==o.logo.trim()&&t.push(o)}return t},createDrawerCsItems:function(e){if(this.drawerCsItemPrefab)if(this.myDrawerBGContent){if(this.clearDrawerCsItems(),0!==e.length){for(var t=0;t<e.length;t++){var n=e[t],o=cc.instantiate(this.drawerCsItemPrefab),a=o.getComponent("DrawerCsItem");if(a){var i=10+50*t;o.x=i,o.y=0,o.anchorX=0,a.init(n,this),this.myDrawerBGContent.addChild(o),this.createdDrawerCsItems.push(o)}else console.error("DrawerCsItem component not found on prefab"),o.destroy()}var r=10+40*e.length+10*e.length;this.myDrawerBGContent.width=r,this.myDrawerBG.width=r+25;var c=this.myDrawerBG.getComponent(cc.Widget);c.right=-1*r,c.updateAlignment()}}else console.error("Drawer BG Content node is not set");else console.error("DrawerCsItem prefab is not set")},clearDrawerCsItems:function(){this.myDrawerBGContent&&this.myDrawerBGContent.removeAllChildren(!0),this.createdDrawerCsItems=[]},onDrawerCsItemClicked:function(e){console.log("Drawer customer service item clicked:",e)},onCustomerServiceBackButtonDidPressed:function(){var e=this;cc.tween(this.myLobbyContainer.getComponent(cc.Widget)).to(1/6,{left:0,right:0}).call(function(){e.myDrawerBG.active=!0,e.node.removeChild(e.myCustomerServiceView.node)}).start()},onRebateButtonDidPressed:function(){var e=this;n.default.playButtonClickSound(),n.default.showLoadingView("",e),cc.resources.load("prefabs/rebate/rebate",cc.Prefab,function(t,o){t?console.error("Failed to load prefab:",t):(null==e.myRebateView&&(e.myRebateView=cc.instantiate(o).getComponent("Rebate"),e.updatePrefabSize()),e.myRebateView.updateView(e),e.node.addChild(e.myRebateView.node),e.myDrawerBG.active=!1,cc.tween(e.myLobbyContainer.getComponent(cc.Widget)).to(1/6,{left:-1*e.myLobbyContainer.width,right:e.myLobbyContainer.width}).start(),n.default.hideLoadingView(e))})},onRebateBackButtonDidPressed:function(){var e=this;cc.tween(this.myLobbyContainer.getComponent(cc.Widget)).to(1/6,{left:0,right:0}).call(function(){e.myDrawerBG.active=!0,e.node.removeChild(e.myRebateView.node)}).start()},callGetProfileApi:function(){var e=this;return u(s().mark(function t(){var a,r;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.default.showLoadingView("Loading",e),t.prev=1,t.next=4,i.default.getProfile(localStorage.getItem("token"));case 4:a=t.sent,console.log(a),200==a.status&&(o.default.setUserObject(a.player),e.myLoginBtn.active=!1,e.myRegisterBtn.active=!1,e.myCopyIDBG.active=!0,e.myBalanceBG.active=!0,e.myDepositBtn.active=!0,e.myWithdrawBtn.active=!0,(r=e.myPlayIdLabel.getComponent(cc.Label))&&(r.string=a.player._id,e.scheduleOnce(function(){if(e.myCopyIDBG&&e.myPlayIdLabel){var t=e.myPlayIdLabel.width+20,n=e.myCopyIDBG.x,o=e.myCopyIDBG.y,a=e.myCopyIDBG.height;e.myCopyIDBG.width=t,e.myCopyIDBG.x=n,e.myCopyIDBG.y=o,e.myCopyIDBG.height=a}},0)),e.myPlayerNameLabel.getComponent(cc.Label).string=a.player.username,e.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string=n.default.showNumberWithDecimalAndComma(a.player.balance,2),n.default.hideLoadingView(e)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n.default.hideLoadingView(e);case 12:case"end":return t.stop()}},t,null,[[1,9]])}))()},callLoginApi:function(e,t,o,i){var r=this;return u(s().mark(function c(){var l;return s().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n.default.showLoadingView("Loading",r),c.prev=1,c.next=4,a.default.login(e,t,o,i);case 4:l=c.sent,console.log(l),200==l.status&&(localStorage.setItem("verified_username",t),localStorage.setItem("verified_password",o),localStorage.setItem("token",l.token),n.default.hideLoadingView(r),r.callGetProfileApi()),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),n.default.hideLoadingView(r);case 12:case"end":return c.stop()}},c,null,[[1,9]])}))()},callGetDevelopersApi:function(e){return u(s().mark(function t(){var n;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.default.getDevelopers(e);case 3:n=t.sent,console.log("----------getDevelopers-----------"),console.log(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))()},callGetDeveloperByIDApi:function(e){return u(s().mark(function t(){var n;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.default.getDeveloperById(e);case 3:n=t.sent,console.log("----------getDeveloperById-----------"),console.log(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))()},callGetCategoriesApi:function(e){var t=this;return u(s().mark(function n(){var o,a,i,c,l;return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.default.getCategories(e);case 3:if(o=n.sent,console.log(o),e&&e.topLevel&&200==o.status){for(i in a=o.data)c=a[i],(l=new cc.instantiate(t.myGameGroupPrefab).getComponent("GameGroup")).init(0,-86*parseInt(i)-129,c,t),t.myGameGroupScrollContent.addChild(l.node);t.myGameGroupScrollContent.height=86+86*a.length}n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}},n,null,[[0,8]])}))()},callGetCategoryByIDApi:function(e){return u(s().mark(function t(){var n;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.default.getCategoryById(e);case 3:n=t.sent,console.log("----------getCategoryById-----------"),console.log(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))()},callCategoriesWithProvidersApi:function(e){var t=this;return u(s().mark(function n(){var a,i,c,l,u;return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=4,r.default.getCategoriesWithProviders(e);case 4:if(a=n.sent,console.log("----------getCategoriesWithProviders-----------"),console.log(a),200==a.status)for(c in i=a.data,o.default.setGameCategories(a.data),i)l=i[c],(u=new cc.instantiate(t.myGameGroupPrefab).getComponent("GameGroup")).init(0,-86*parseInt(c)-129,l,t),t.myGameGroupScrollContent.addChild(u.node),t.createdGameGroup.push(u),t.myGameGroupScrollContent.height=86+86*i.length;n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}},n,null,[[0,10]])}))()},callCategoriesWithGamesApi:function(e){return u(s().mark(function t(){var n;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.default.getCategoriesWithGames(e);case 3:n=t.sent,console.log("----------getCategoriesWithGames-----------"),console.log(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))()},callGetTagsApi:function(e){var t=this;return u(s().mark(function n(){var o,a,i,c,l;return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.default.getTags(e);case 3:if(o=n.sent,console.log("----------getTags-----------"),console.log(o),200==o.status)for(i in a=o.data)c=a[i],(l=new cc.instantiate(t.myGameGroupPrefab).getComponent("GameGroup")).init(0,-43,c,t),t.myGameGroupScrollContent.addChild(l.node),t.createdGameGroup.push(l);n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}},n,null,[[0,9]])}))()},callGetTagByIDApi:function(e){return u(s().mark(function t(){var n;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.default.getTagById(e);case 3:n=t.sent,console.log("----------getTagById-----------"),console.log(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))()},callGetGamesApi:function(e){return u(s().mark(function t(){var n;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.default.getGames(e);case 3:n=t.sent,console.log("----------getGames-----------"),console.log(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))()},callGetGameByIDApi:function(e){return u(s().mark(function t(){var n;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.default.getGameById(e);case 3:n=t.sent,console.log("----------getGameById-----------"),console.log(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))()},callGetGameByCategoryApi:function(e,t,n){return u(s().mark(function o(){var a;return s().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,r.default.getGamesByCategory(e,t);case 3:a=o.sent,console.log("----------getGamesByCategory----------- : "+n),console.log(a),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),console.log(o.t0);case 11:case"end":return o.stop()}},o,null,[[0,8]])}))()},callGetGameByDeveloperApi:function(e,t,n){return u(s().mark(function o(){var a;return s().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,r.default.getGamesByDeveloper(e,t);case 3:a=o.sent,console.log("----------getGamesByDeveloper----------- : "+n),console.log(a),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),console.log(o.t0);case 11:case"end":return o.stop()}},o,null,[[0,8]])}))()},callGetHomepageData:function(){var e=this;return u(s().mark(function t(){var n,a,i,c,l,u,d;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,r.default.getHomepageData();case 4:if(n=t.sent,console.log("----------getHomepageData-----------"),console.log(n),200==n.status&&(a=!1,(i=n.data).hotGames&&(a=!0,i[u],(c=new cc.instantiate(e.myGameGroupPrefab).getComponent("GameGroup")).init(0,-43,i.hotGames.tag,e),e.myGameGroupScrollContent.addChild(c.node),e.createdGameGroup.push(c)),i.categories))for(u in l=i.categories,o.default.setGameCategories(l),l)d=l[u],(c=new cc.instantiate(e.myGameGroupPrefab).getComponent("GameGroup")).init(0,(a?-129:-43)+-86*parseInt(u),d,e),e.myGameGroupScrollContent.addChild(c.node),e.createdGameGroup.push(c),e.myGameGroupScrollContent.height=(a?86:0)+86*l.length;t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}},t,null,[[0,10]])}))()},callGetGamesByTagApi:function(e,t){var n=this;return u(s().mark(function o(){var a,i;return s().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,a=n,o.next=4,r.default.getGamesByTag(e,t);case 4:i=o.sent,console.log("----------getGamesByTag-----------"),console.log(i),i.data&&i.data.length>0&&cc.resources.load("prefabs/gametype/hotGameContainer",cc.Prefab,function(e,t){if(e)console.error("Failed to load prefab:",e);else{var n=i.data,o=30+200*Math.ceil(n.length/2);for(var r in a.myGameScrollContent.setContentSize(cc.size(o<830?830:o,400)),n){var c=n[r],s=new cc.instantiate(t).getComponent("GameType");s.init(102+200*(Math.ceil((parseInt(r)+1)/2)-1),(parseInt(r)+1)%2==0?-100:100,c,i.tag,!1,a),a.myGameScrollContent.addChild(s.node),a.createdGameType.push(s)}}}),o.next=13;break;case 10:o.prev=10,o.t0=o.catch(0),console.log(o.t0);case 13:case"end":return o.stop()}},o,null,[[0,10]])}))()},onCopyIdButtonDidPressed:function(){var e=this;return u(s().mark(function t(){var a;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=o.default.getUserObject(),n.default.playButtonClickSound(),!o.default.getIsApp()){t.next=6;break}n.default.sendToApp(JSON.stringify({copyToClipboard:a.username})),t.next=10;break;case 6:return t.next=8,n.default.copyToClipboard(a.username);case 8:t.sent?e.showNotification(n.default.getLocalizedString(e.i18nJson,"saveToClipboard")):e.showNotification(n.default.getLocalizedString(e.i18nJson,"saveToClipboardFailed"));case 10:case"end":return t.stop()}},t)}))()},showNotification:function(e){var t=this;this.mNotificationLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,e),cc.Tween.stopAllByTarget(this.myNotificationBG),this.myNotificationBG.active=!0,this.myNotificationBG.opacity=0,cc.tween(this.myNotificationBG).to(1/3,{opacity:255}).delay(2).to(1/3,{opacity:0}).call(function(){t.myNotificationBG.active=!1}).start()},updatePrefabSize:function(){var e=cc.view.getVisibleSize();this.myLoginView&&this.myLoginView.init(0,0,e.width,e.height),this.myRegistrationView&&this.myRegistrationView.init(0,0,e.width,e.height),this.myLanguageView&&this.myLanguageView.init(0,0,e.width,e.height),this.mySettingsView&&this.mySettingsView.init(0,0,e.width,e.height),this.myDepositView&&this.myDepositView.init(1136,0,e.width,e.height),this.myPersonalView&&this.myPersonalView.init(1136,0,e.width,e.height),this.myGameListView&&this.myGameListView.init(1136,0,e.width,e.height),this.myCustomerServiceView&&this.myCustomerServiceView.init(1136,0,e.width,e.height),this.myRebateView&&this.myRebateView.init(1136,0,e.width,e.height),this.myProfileView&&this.myProfileView.init(0,0,e.width,e.height),this.myEventView&&this.myEventView.init(0,0,e.width,e.height),this.myFollowUsView&&this.myFollowUsView.init(0,0,e.width,e.height),this.myRegisterView&&this.myRegisterView.init(0,0,e.width,e.height),this.mGameView&&this.mGameView.init(0,0,e.width,e.height),this.mDailyBonusView&&this.mDailyBonusView.init(0,0,e.width,e.height),this.mWelcomeBonusView&&this.mWelcomeBonusView.init(0,0,e.width,e.height),this.mMailboxView&&this.mMailboxView.init(0,0,e.width,e.height),this.mReferralView&&this.mReferralView.init(0,0,e.width,e.height),this.mRedeemCodeView&&this.mRedeemCodeView.init(0,0,e.width,e.height),this.mVipView&&this.mVipView.init(0,0,e.width,e.height),this.mRebateView&&this.mRebateView.init(0,0,e.width,e.height),this.mPwaAndroidView&&this.mPwaAndroidView.init(0,0,e.width,e.height),this.mPwaiOSView&&this.mPwaiOSView.init(0,0,e.width,e.height)},localizeUI:function(){this.mLoginLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"login"),this.mRegisterLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"register"),this.mSettingLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"settings"),this.mDepositLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"deposit"),this.mWithdrawLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"withdraw"),this.mReferLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"refer"),this.mRebateLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"rebate"),this.mMessageLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"message"),this.mSupportLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"support"),this.mMoreLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"more")}}),cc._RF.pop()},{"../Services/AuthServices":"AuthServices","../Services/GameService":"GameService","../Services/UserService":"UserService",SharedData:"SharedData",SharedFunction:"SharedFunction"}],Login:[function(e,t){"use strict";cc._RF.push(t,"3183eTQg7hJIah8iTsnJbHX","Login");var n=a(e("SharedFunction")),o=(a(e("SharedData")),a(e("../Services/AuthServices")));function a(e){return e&&e.__esModule?e:{default:e}}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=u(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};s(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(N([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function o(a,i,r,c){var s=u(e[a],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,c)},function(e){o("throw",e,r,c)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,c)})}c(s.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=f,s(v,"constructor",f),s(f,"constructor",m),m.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,r,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new w(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},b(v),s(v,c,"Generator"),s(v,a,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=N,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function r(e,t,n,o,a,i,r){try{var c=e[i](r),s=c.value}catch(error){return void n(error)}c.done?t(s):Promise.resolve(s).then(o,a)}cc.Class({extends:cc.Component,properties:{mCallBack:null,myRegistrationView:null,myForgotPasswordView:null,mBackground:{default:null,type:cc.Node},myLoginBG:{default:null,type:cc.Node},myUsernameInput:{default:null,type:cc.Node},myPasswordInput:{default:null,type:cc.Node},myError1Label:{default:null,type:cc.Node},myError2Label:{default:null,type:cc.Node},mRmbTick:{default:null,type:cc.Node},myShowPassBtn:{default:null,type:cc.Node},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node},mUsernameLabel:{default:null,type:cc.Node},mPasswordLabel:{default:null,type:cc.Node},mRememberLabel:{default:null,type:cc.Node},mForgetLabel:{default:null,type:cc.Node},mConfirmLabel:{default:null,type:cc.Node},mNewLabel:{default:null,type:cc.Node},mRegisterLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o,this.myForgotPasswordView&&this.myForgotPasswordView.init(0,0,this.node.width,this.node.height)},updateView:function(e){this.localizeUI(),this.mCallBack=e,this.mBackground.active=!0,this.myError1Label.active=!1,this.myError2Label.active=!1,this.node.opacity=255,localStorage.getItem("rmb_username")?(this.mRmbTick.active=!0,this.myUsernameInput.getComponent(cc.EditBox).string=localStorage.getItem("rmb_username")):this.mRmbTick.active=!1,this.myLoginBG.setScale(0),cc.tween(this.myLoginBG).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},setCallBack:function(e,t){void 0===t&&(t="LOBBY"),this.mCallBack=e,this.isFrom=t},onToggleRmbChkBox:function(){n.default.playButtonClickSound(),this.mRmbTick.active=!this.mRmbTick.active},onRegisterButtonDidPressed:function(){var e=this;n.default.playButtonClickSound(),n.default.showLoadingView("",e),cc.resources.load("prefabs/registration/registration",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);null==e.myRegistrationView&&(e.myRegistrationView=cc.instantiate(o).getComponent("Registration"),e.updatePrefabSize()),e.myRegistrationView.updateView(e),e.node.addChild(e.myRegistrationView.node),e.mBackground.active=!1,n.default.hideLoadingView(e)})},onRegisterCloseButtonDidPressed:function(e){"lobby"==e?this.mCallBack.onRegisterCloseButtonDidPressed():(this.node.removeChild(this.myRegistrationView.node),this.mBackground.active=!0,this.mBackground.opacity=0,cc.tween(this.mBackground).to(1/6,{opacity:255}).start())},onForgotButtonDidPressed:function(){var e=this;n.default.playButtonClickSound(),cc.resources.load("prefabs/forgotpassword/forgotpassword",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);null==e.myForgotPasswordView&&(e.myForgotPasswordView=cc.instantiate(o).getComponent("ForgotPassword"),e.updatePrefabSize()),e.myForgotPasswordView.updateView(e),e.node.addChild(e.myForgotPasswordView.node),e.mBackground.active=!1,n.default.hideLoadingView(e)})},onForgotPasswordViewCloseButtonDidPressed:function(){this.node.removeChild(this.myForgotPasswordView.node),this.mBackground.active=!0,this.mBackground.opacity=0,cc.tween(this.mBackground).to(1/6,{opacity:255}).start()},onTogglePassBtnDidPress:function(){n.default.playButtonClickSound();var e=this.myShowPassBtn,t=this.myPasswordInput,o=(t.getComponent(cc.EditBox).string,t.getComponent(cc.EditBox).inputFlag);o==cc.EditBox.InputFlag.PASSWORD||null==o?(cc.loader.loadRes("images/login/iconShow.png",cc.SpriteFrame,function(t,n){e.getComponent(cc.Sprite).spriteFrame=n}),t.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.DEFAULT):(cc.loader.loadRes("images/login/iconHide.png",cc.SpriteFrame,function(t,n){e.getComponent(cc.Sprite).spriteFrame=n}),t.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.PASSWORD)},myCloseButtonDidPressed:function(e,t,o){var a=this;o||n.default.playButtonClickSound(),cc.tween(this.myLoginBG).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){a.mCallBack&&a.mCallBack.onLoginCloseButtonDidPressed()}).start()},onLoginButtonDidPressed:function(){n.default.playButtonClickSound();var e=this.myUsernameInput.getComponent(cc.EditBox).string,t=this.myPasswordInput.getComponent(cc.EditBox).string;0!=e.length?0!=t.length?n.default.RangeCheck(t)?this.callLoginApi("",e,t,""):this.showLableError(this.myError2Label,n.default.getLocalizedString(this.i18nJson,"invalidPassword")):this.showLableError(this.myError2Label,n.default.getLocalizedString(this.i18nJson,"passwordHolder")):this.showLableError(this.myError1Label,n.default.getLocalizedString(this.i18nJson,"usernameHolder"))},showLableError:function(e,t){this.myError1Label.active=!1,this.myError2Label.active=!1,e&&(e.getComponent(cc.Label).string=t,e.active=!0,cc.tween(e).to(1/12,{scale:1.1}).to(1/12,{scale:1}).start())},callLoginApi:function(e,t,a,c){var s,l=this;return(s=i().mark(function r(){var s;return i().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n.default.showLoadingView("Loading",l),i.prev=1,i.next=4,o.default.login(e,t,a,c);case 4:s=i.sent,console.log(s),200==s.status&&(localStorage.setItem("verified_username",t),localStorage.setItem("verified_password",a),localStorage.setItem("token",s.token),l.mRmbTick.active?localStorage.setItem("rmb_username",t):localStorage.removeItem("rmb_username"),l.myCloseButtonDidPressed("","",!0),n.default.hideLoadingView(l)),i.next=13;break;case 9:i.prev=9,i.t0=i.catch(1),l.showLableError(l.myError2Label,n.default.getLocalizedString(l.i18nJson,i.t0.message)),n.default.hideLoadingView(l);case 13:case"end":return i.stop()}},r,null,[[1,9]])}),function(){var e=this,t=arguments;return new Promise(function(n,o){var a=s.apply(e,t);function i(e){r(a,n,o,i,c,"next",e)}function c(e){r(a,n,o,i,c,"throw",e)}i(void 0)})})()},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"login"),this.mUsernameLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"username"),this.mPasswordLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"password"),this.mRememberLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"rememberMe"),this.mForgetLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"forgotpassword"),this.mConfirmLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirm"),this.mNewLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"newMember"),this.mRegisterLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"registerHere")},updatePrefabSize:function(){var e=cc.view.getVisibleSize();this.myRegistrationView&&this.myRegistrationView.init(0,0,e.width,e.height),this.myForgotPasswordView&&this.myForgotPasswordView.init(0,0,e.width,e.height)}}),cc._RF.pop()},{"../Services/AuthServices":"AuthServices",SharedData:"SharedData",SharedFunction:"SharedFunction"}],ManageCard:[function(e,t){"use strict";cc._RF.push(t,"a4192YBxJ1Gm5zxiUVxFnLz","ManageCard");var n=o(e("SharedFunction"));function o(e){return e&&e.__esModule?e:{default:e}}o(e("SharedData")),cc.Class({extends:cc.Component,properties:{mCallBack:null,mMaxCard:3,mCardList:[],createdRows:[],mBackground:{default:null,type:cc.Node},myCloseBtn:{default:null,type:cc.Node},myBackBtn:{default:null,type:cc.Node},myAddAccBtn:{default:null,type:cc.Node},myAccNameInput:{default:null,type:cc.Node},myAccNumInput:{default:null,type:cc.Node},myNotificationBG:{default:null,type:cc.Node},myBankSelect:{default:null,type:cc.Node},myBankDDL:{default:null,type:cc.Node},myMainContainer:{default:null,type:cc.Node},myAddCardContainer:{default:null,type:cc.Node},myManageScrollView:{default:null,type:cc.Node},myManageScrollContent:{default:null,type:cc.Node},myScrollView:{default:null,type:cc.Node},mCardRowPrefab:{default:null,type:cc.Prefab},mAddOnImg:{default:null,type:cc.SpriteFrame},mAddOffImg:{default:null,type:cc.SpriteFrame},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node},mHeaderBankLabel:{default:null,type:cc.Node},mHeaderAccNameLabel:{default:null,type:cc.Node},mHeaderAccNumLabel:{default:null,type:cc.Node},mHeaderActionLabel:{default:null,type:cc.Node},mNoBankLabel:{default:null,type:cc.Node},mAddAccLabel:{default:null,type:cc.Node},mWarningLabel:{default:null,type:cc.Node},mDescLabel:{default:null,type:cc.Node},mBankLabel:{default:null,type:cc.Node},mBankSelectLabel:{default:null,type:cc.Node},mAccNameLabel:{default:null,type:cc.Node},mAccNumLabel:{default:null,type:cc.Node},mConfirmLabel:{default:null,type:cc.Node},mNagadLabel:{default:null,type:cc.Node},mRocketLabel:{default:null,type:cc.Node},mBkashLabel:{default:null,type:cc.Node},mNotificationLabel:{default:null,type:cc.Node},myError1Label:{default:null,type:cc.Node},myError2Label:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},updateView:function(e){this.localizeUI(),this.mCallBack=e;var t=JSON.parse(localStorage.getItem("from_index"));this.mMaxCard=t.settings.limits.maxBankCards,this.mCardList=[],this.showCardList(),this.mBackground.active=!0,this.node.opacity=255,this.myAddCardContainer.active=!1,this.myMainContainer.active=!0,this.myBackBtn.active=!1,this.myCloseBtn.active=!0,this.myError1Label.active=!1,this.myError2Label.active=!1,this.myAccNameInput.getComponent(cc.EditBox).string="",this.myAccNumInput.getComponent(cc.EditBox).string="",this.myBankDDL.active=!1,this.myScrollView.getComponent(cc.ScrollView).scrollToTop(0);var n=this.mBackground.getChildByName("card_bg");n.setScale(0),cc.tween(n).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},setCallBack:function(e){this.mCallBack=e},myCloseButtonDidPressed:function(e,t,o){var a=this;o||n.default.playButtonClickSound();var i=this.mBackground.getChildByName("card_bg");cc.tween(i).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){a.createdRows.forEach(function(e){e&&e.isValid&&e.removeFromParent()}),a.createdRows=[],a.mCallBack&&a.mCallBack.myCloseManageCardDidPressed()}).start()},myAddAccButtonDidPressed:function(e,t,o){o||n.default.playButtonClickSound(),Object.keys(this.mCardList).length<this.mMaxCard?(this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"addBank"),this.myError1Label.active=!1,this.myError2Label.active=!1,this.mBankSelectLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"nagad"),this.myAccNameInput.getComponent(cc.EditBox).string="",this.myAccNumInput.getComponent(cc.EditBox).string="",this.myScrollView.getComponent(cc.ScrollView).scrollToTop(0),this.myCloseBtn.active=!1,this.myBackBtn.active=!0,this.myMainContainer.active=!1,this.myAddCardContainer.active=!0):this.showNotification("cardLimit")},onBackButtonDidPressed:function(e,t,o){o||n.default.playButtonClickSound(),this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"manageBank"),this.myError1Label.active=!1,this.myError2Label.active=!1,this.myAccNameInput.getComponent(cc.EditBox).string="",this.myAccNumInput.getComponent(cc.EditBox).string="",this.myBackBtn.active=!1,this.myCloseBtn.active=!0,this.myAddCardContainer.active=!1,this.myMainContainer.active=!0},onConfirmButtonDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=this.myAccNameInput.getComponent(cc.EditBox).string,i=this.myAccNumInput.getComponent(cc.EditBox).string;0!=a.length?0!=i.length||this.showLableError(this.myError2Label,n.default.getLocalizedString(this.i18nJson,"accNumHolder")):this.showLableError(this.myError1Label,n.default.getLocalizedString(this.i18nJson,"accNameHolder"))},onDDLDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=this.myBankSelect.getChildByName("iconTriangle");this.myBankDDL.active?a.angle=90:a.angle=-90,this.myBankDDL.active=!this.myBankDDL.active},onDDLOptionDidPressed:function(e,t,o){o||n.default.playButtonClickSound(),e.target.parent.name;var a=e.target.getChildByName("label").getComponent(cc.Label).string;this.myBankSelect.getChildByName("lblBankSelect").getComponent(cc.Label).string=a,this.myBankSelect.getChildByName("iconTriangle").angle=90,this.myBankDDL.active=!1},showCardList:function(){var e=Object.keys(this.mCardList).length;if(e>0)for(var t in this.mNoBankLabel.active=!1,this.mCardList){var n=this.mCardList[t],o=new cc.instantiate(this.mCardRowPrefab);o.name="cardRow"+(parseInt(t)+1),o.setPosition(cc.v2(-2,-52*parseInt(t)-27)),o.getChildByName("lblBank").getComponent(cc.Label).string=n.bank,o.getChildByName("lblAccName").getComponent(cc.Label).string=n.name,o.getChildByName("lblAccNumber").getComponent(cc.Label).string=n.number,this.myManageScrollContent.addChild(o),this.createdRows.push(o)}else this.mNoBankLabel.active=!0;e>=this.mMaxCard?this.myAddAccBtn.getComponent(cc.Sprite).spriteFrame=this.mAddOffImg:this.myAddAccBtn.getComponent(cc.Sprite).spriteFrame=this.mAddOnImg,this.myAddAccBtn.y=-47*e-84,this.mAddAccLabel.y=-47*e-82,this.mWarningLabel.y=-47*e-126,this.myManageScrollContent.height=159+47*e},showNotification:function(e){var t=this;this.mNotificationLabel.getComponent(cc.Label).string=n.default.formatString(n.default.getLocalizedString(this.i18nJson,e),this.mMaxCard),cc.Tween.stopAllByTarget(this.myNotificationBG),this.myNotificationBG.active=!0,this.myNotificationBG.opacity=0,cc.tween(this.myNotificationBG).to(1/3,{opacity:255}).delay(2).to(1/3,{opacity:0}).call(function(){t.myNotificationBG.active=!1}).start()},showLableError:function(e,t){this.myError1Label.active=!1,this.myError2Label.active=!1,e&&(this.myScrollView.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,-1*e.y-120),.1,!1),e.getComponent(cc.Label).string=t,e.active=!0,cc.tween(e).to(1/12,{scale:1.1}).to(1/12,{scale:1}).start())},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"manageBank"),this.mHeaderBankLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"bankOrWallet"),this.mHeaderAccNameLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"accName"),this.mHeaderAccNumLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"accNumber"),this.mHeaderActionLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"action"),this.mNoBankLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"noBank"),this.mAddAccLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"addAcc"),this.mWarningLabel.getComponent(cc.Label).string="*"+n.default.formatString(n.default.getLocalizedString(this.i18nJson,"cardLimit"),this.mMaxCard),this.mNotificationLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"success"),this.mDescLabel.getComponent(cc.RichText).string=n.default.getLocalizedString(this.i18nJson,"desc"),this.mBankLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"bankOrWallet"),this.mAccNameLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"accName"),this.mAccNumLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"accNumber"),this.mBankSelectLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"nagad"),this.mConfirmLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirm"),this.mNagadLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"nagad"),this.mRocketLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"rocket"),this.mBkashLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"bkash")},updatePrefabSize:function(){cc.view.getVisibleSize()}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],NetworkService:[function(e,t,n){"use strict";cc._RF.push(t,"4734fKyHGVKw55OmhLxvwb4","NetworkService");var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{s(o.next(e))}catch(t){i(t)}}function c(e){try{s(o.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,c)}s((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(c){i=[6,c],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkService=void 0;var r=e("SharedData"),c=function(){function e(){}return e.getBaseUrl=function(){try{if(r&&"function"==typeof r.getApiUrl)return r.getApiUrl()||"";console.warn("NetworkService: SharedData.getApiUrl is not a function")}catch(error){console.warn("NetworkService: Error accessing SharedData.getApiUrl:",error)}return""},e.buildQueryString=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&null!==e[n]&&void 0!==e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},e.buildFormData=function(e){return this.buildQueryString(e)},e.request=function(e,t){var n=this;return void 0===t&&(t={}),new Promise(function(o,a){var i=t.method||"GET",r=t.timeout||n.DEFAULT_TIMEOUT,c=n.getBaseUrl(),s=e.startsWith("http")?e:""+c+e,l=new XMLHttpRequest;if(l.timeout=r,l.open(i,s,!0),t.headers)for(var u in t.headers)l.setRequestHeader(u,t.headers[u]);else"GET"===i?l.setRequestHeader("Content-Type","text/plain"):l.setRequestHeader("Content-Type","application/x-www-form-urlencoded");l.onreadystatechange=function(){if(4===l.readyState)if(l.status>=200&&l.status<=207)try{var e=l.responseText?JSON.parse(l.responseText):{};o({status:l.status,data:e,message:e.message||e.msg||""})}catch(error){o({status:l.status,data:l.responseText,message:""})}else try{var t=l.responseText?JSON.parse(l.responseText):{};a({status:l.status,data:t,message:t.message||t.msg||"HTTP Error "+l.status,error:l.responseText})}catch(error){a({status:l.status,data:null,message:"HTTP Error "+l.status,error:l.responseText})}},l.ontimeout=function(){a({status:0,data:null,message:"Request timeout",error:"Request timeout"})},l.onerror=function(){a({status:0,data:null,message:"Network error",error:"Network error occurred"})},l.send()})},e.get=function(e,t,n){return a(this,void 0,Promise,function(){var a,r;return i(this,function(){return a=e,t&&(r=this.buildQueryString(t),a=e+(e.includes("?")?"&":"?")+r),[2,this.request(a,o(o({},n),{method:"GET"}))]})})},e.post=function(e,t,n){return a(this,void 0,Promise,function(){var a,r,c,s=this;return i(this,function(){return a=o(o({},n),{method:"POST"}),r=a.headers&&"application/json"===a.headers["Content-Type"],t?(c=r?JSON.stringify(t):this.buildFormData(t),[2,new Promise(function(t,n){var o=a.timeout||s.DEFAULT_TIMEOUT,i=s.getBaseUrl(),r=e.startsWith("http")?e:""+i+e,l=new XMLHttpRequest;if(l.timeout=o,l.open("POST",r,!0),a.headers)for(var u in a.headers)l.setRequestHeader(u,a.headers[u]);else l.setRequestHeader("Content-Type","application/x-www-form-urlencoded");l.onreadystatechange=function(){if(4===l.readyState)if(l.status>=200&&l.status<=207)try{var e=l.responseText?JSON.parse(l.responseText):{};t({status:l.status,data:e,message:e.message||e.msg||""})}catch(error){t({status:l.status,data:l.responseText,message:""})}else try{var o=l.responseText?JSON.parse(l.responseText):{};n({status:l.status,data:o,message:o.message||o.msg||"HTTP Error "+l.status,error:l.responseText})}catch(error){n({status:l.status,data:null,message:"HTTP Error "+l.status,error:l.responseText})}},l.ontimeout=function(){n({status:0,data:null,message:"Request timeout",error:"Request timeout"})},l.onerror=function(){n({status:0,data:null,message:"Network error",error:"Network error occurred"})},l.send(c)})]):[2,this.request(e,a)]})})},e.put=function(e,t,n){return a(this,void 0,Promise,function(){var a,r,c,s=this;return i(this,function(){return a=o(o({},n),{method:"PUT"}),r=a.headers&&"application/json"===a.headers["Content-Type"],t?(c=r?JSON.stringify(t):this.buildFormData(t),[2,new Promise(function(t,n){var o=a.timeout||s.DEFAULT_TIMEOUT,i=s.getBaseUrl(),r=e.startsWith("http")?e:""+i+e,l=new XMLHttpRequest;if(l.timeout=o,l.open("PUT",r,!0),a.headers)for(var u in a.headers)l.setRequestHeader(u,a.headers[u]);else l.setRequestHeader("Content-Type","application/x-www-form-urlencoded");l.onreadystatechange=function(){if(4===l.readyState)if(l.status>=200&&l.status<=207)try{var e=l.responseText?JSON.parse(l.responseText):{};t({status:l.status,data:e,message:e.message||e.msg||""})}catch(error){t({status:l.status,data:l.responseText,message:""})}else try{var o=l.responseText?JSON.parse(l.responseText):{};n({status:l.status,data:o,message:o.message||o.msg||"HTTP Error "+l.status,error:l.responseText})}catch(error){n({status:l.status,data:null,message:"HTTP Error "+l.status,error:l.responseText})}},l.ontimeout=function(){n({status:0,data:null,message:"Request timeout",error:"Request timeout"})},l.onerror=function(){n({status:0,data:null,message:"Network error",error:"Network error occurred"})},l.send(c)})]):[2,this.request(e,a)]})})},e.delete=function(e,t){return a(this,void 0,Promise,function(){return i(this,function(){return[2,this.request(e,o(o({},t),{method:"DELETE"}))]})})},e.DEFAULT_TIMEOUT=3e4,e}();n.NetworkService=c,cc._RF.pop()},{SharedData:"SharedData"}],PersonalCenter:[function(e,t){"use strict";cc._RF.push(t,"cf40a7jRtZNNrZd4n5Wk9/O","PersonalCenter");var n=c(e("SharedFunction")),o=c(e("SharedData")),a=c(e("../Services/TransactionService")),i=c(e("../Services/UserService")),r=c(e("../Services/WalletService"));function c(e){return e&&e.__esModule?e:{default:e}}function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(D){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=u(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};c(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(N([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function o(a,i,r,c){var s=u(e[a],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,c)},function(e){o("throw",e,r,c)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,c)})}c(s.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=f,c(v,"constructor",f),c(f,"constructor",m),m.displayName=c(f,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,r,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new w(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},b(v),c(v,r,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=N,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function l(e,t,n,o,a,i,r){try{var c=e[i](r),s=c.value}catch(error){return void n(error)}c.done?t(s):Promise.resolve(s).then(o,a)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function r(e){l(i,o,a,r,c,"next",e)}function c(e){l(i,o,a,r,c,"throw",e)}r(void 0)})}}cc.Class({extends:cc.Component,properties:{mCallBack:null,myEditInfoView:null,myVIPLevelView:null,myChangeAvatarView:null,myVerificationView:null,myManageCardView:null,calendarPicker:null,calenderTarget:null,mAccDetailSelectedType:"debit",mCurrentFocusTab:"UserInfo",mBetRecordFocusTab:"",mHistoryFocusTab:"",mMaxCard:3,mCardList:[],mBetRecordTabList:[],mHistoryTabList:[],createdUnselectedTab:[],createdBetPlatformDDLSelect:[],createdHistoryDDLSelect:[],createdRows:[],createdTrxRows:[],walletLedgerRows:[],myUserInfoTabBtn:{default:null,type:cc.Node},myBettingRecordTabBtn:{default:null,type:cc.Node},myAccountDetailsTabBtn:{default:null,type:cc.Node},myCardWalletTabBtn:{default:null,type:cc.Node},myHistoryTabBtn:{default:null,type:cc.Node},myAddAccBtn:{default:null,type:cc.Node},myPlayerNameLabel:{default:null,type:cc.Node},mNotificationLabel:{default:null,type:cc.Node},myBalanceBG:{default:null,type:cc.Node},myNotificationBG:{default:null,type:cc.Node},myFullContainer:{default:null,type:cc.Node},myCutContainer:{default:null,type:cc.Node},myTrxContainer:{default:null,type:cc.Node},myCardContainer:{default:null,type:cc.Node},myNoCardContainer:{default:null,type:cc.Node},myHvCardContainer:{default:null,type:cc.Node},myRecordContainer:{default:null,type:cc.Node},myHistoryContainer:{default:null,type:cc.Node},myAccDetailTypeSelect:{default:null,type:cc.Node},myAccDetailTypeDDL:{default:null,type:cc.Node},myBetPlatformSelect:{default:null,type:cc.Node},myHistoryTrxSelect:{default:null,type:cc.Node},myHistoryTrxDDL:{default:null,type:cc.Node},myHisStatSelect:{default:null,type:cc.Node},myUserInfoScrollView:{default:null,type:cc.Node},myCutConScrollView:{default:null,type:cc.Node},myCutConScrollContent:{default:null,type:cc.Node},myWalletScrollContent:{default:null,type:cc.Node},myTrxScrollView:{default:null,type:cc.Node},myTrxScrollContent:{default:null,type:cc.Node},myBetPlatformScrollView:{default:null,type:cc.Node},myBetPlatformScrollViewView:{default:null,type:cc.Node},myBetPlatformScrollContent:{default:null,type:cc.Node},myHisStatScrollView:{default:null,type:cc.Node},myHisStatScrollViewView:{default:null,type:cc.Node},myHisStatScrollContent:{default:null,type:cc.Node},myVerifyBtn:{default:null,type:cc.Node},mFocusTabImg:{default:null,type:cc.SpriteFrame},mNormalTabImg:{default:null,type:cc.SpriteFrame},mAddOnImg:{default:null,type:cc.SpriteFrame},mAddOffImg:{default:null,type:cc.SpriteFrame},myHeaderProfileImg:{default:null,type:cc.Sprite},myUserInfoProfileImg:{default:null,type:cc.Sprite},myAccountTxt:{default:null,type:cc.Node},myUsernameTxt:{default:null,type:cc.Node},myEmailTxt:{default:null,type:cc.Node},myCodeTxt:{default:null,type:cc.Node},myMobileTxt:{default:null,type:cc.Node},myGenderTxt:{default:null,type:cc.Node},myBirthdayTxt:{default:null,type:cc.Node},myBetStartDateTxt:{default:null,type:cc.Node},myBetEndDateTxt:{default:null,type:cc.Node},myAccStartDateTxt:{default:null,type:cc.Node},myAccEndDateTxt:{default:null,type:cc.Node},myUnselectedTabPrefab:{default:null,type:cc.Prefab},myDDLSelectPrefab:{default:null,type:cc.Prefab},mCardRowPrefab:{default:null,type:cc.Prefab},mTrxRowPrefab:{default:null,type:cc.Prefab},i18nJson:{default:null,type:cc.JsonAsset},mPersonalCenterLabel:{default:null,type:cc.Node},mNoBankLabel:{default:null,type:cc.Node},mAddAccLabel:{default:null,type:cc.Node},mWarningLabel:{default:null,type:cc.Node},mUserInfoTabLabel:{default:null,type:cc.Node},mBetRecordTabLabel:{default:null,type:cc.Node},mAccDetailsTabLabel:{default:null,type:cc.Node},mBankWalletTabLabel:{default:null,type:cc.Node},mHistoryTabLabel:{default:null,type:cc.Node},mLevelPriviledgedLabel:{default:null,type:cc.Node},mCurrentMemberLabel:{default:null,type:cc.Node},mBasicInfoLabel:{default:null,type:cc.Node},mAccountLabel:{default:null,type:cc.Node},mUsernameLabel:{default:null,type:cc.Node},mEmailLabel:{default:null,type:cc.Node},mMobileNumberLabel:{default:null,type:cc.Node},mGenderLabel:{default:null,type:cc.Node},mBirthdayLabel:{default:null,type:cc.Node},mVIPLevelLabel:{default:null,type:cc.Node},mVerifyLabel:{default:null,type:cc.Node},mRecordConStartDateLabel:{default:null,type:cc.Node},mRecordConEndDateLabel:{default:null,type:cc.Node},mRecordConPlatformLabel:{default:null,type:cc.Node},mTrxConStartDateLabel:{default:null,type:cc.Node},mTrxConEndDateLabel:{default:null,type:cc.Node},mTrxConTypeLabel:{default:null,type:cc.Node},mTrxConPlaceBetLabel:{default:null,type:cc.Node},mTrxConWinLabel:{default:null,type:cc.Node},mTrxConBuyInLabel:{default:null,type:cc.Node},mTrxConPayoutLabel:{default:null,type:cc.Node},mTrxConCancelLabel:{default:null,type:cc.Node},mTrxConRollbackLabel:{default:null,type:cc.Node},mTrxConRefundLabel:{default:null,type:cc.Node},mTrxConDateLabel:{default:null,type:cc.Node},mTrxConDescLabel:{default:null,type:cc.Node},mTrxConInLabel:{default:null,type:cc.Node},mTrxConOutLabel:{default:null,type:cc.Node},mTrxConBalanceLabel:{default:null,type:cc.Node},mDescLabel:{default:null,type:cc.Node},mClickHereLabel:{default:null,type:cc.Node},mSetupLabel:{default:null,type:cc.Node},mBankWalletLabel:{default:null,type:cc.Node},mAccNameLabel:{default:null,type:cc.Node},mAccNumberLabel:{default:null,type:cc.Node},mRecordDateLabel:{default:null,type:cc.Node},mRecordBetSlipIDLabel:{default:null,type:cc.Node},mRecordGameLabel:{default:null,type:cc.Node},mRecordStakeLabel:{default:null,type:cc.Node},mRecordResultLabel:{default:null,type:cc.Node},mRecordWinLossLabel:{default:null,type:cc.Node},mValidStakeLabel:{default:null,type:cc.Node},mHisDateLabel:{default:null,type:cc.Node},mHisTrxIDLabel:{default:null,type:cc.Node},mHisBankLabel:{default:null,type:cc.Node},mHisAmtLabel:{default:null,type:cc.Node},mHisStatusHeaderLabel:{default:null,type:cc.Node},mHisReasonLabel:{default:null,type:cc.Node},mNoRecords1Label:{default:null,type:cc.Node},mNoRecords2Label:{default:null,type:cc.Node},mNoRecords3Label:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI();var e=this;cc.resources.load("prefabs/calendar/CalendarPicker",cc.Prefab,function(t,n){t?console.error("Failed to load prefab:",t):(null==e.calendarPicker&&(e.calendarPicker=cc.instantiate(n),e.updatePrefabSize()),e.node.addChild(e.calendarPicker.getComponent("CalendarManager").node),e.calendarPicker.on("date-selected",e.onDateSelected,e),e.calendarPicker.on("date-cancel",e.onDateCancel,e))})},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o},updateView:function(e){var t=this;this.localizeUI(),this.mCallBack=e,this.mCurrentFocusTab="UserInfo";var a=JSON.parse(localStorage.getItem("from_index")),i=a.settings.verification;this.mMaxCard=a.settings.limits.maxBankCards;var r=o.default.getUserObject();this.myPlayerNameLabel.getComponent(cc.Label).string=r.fullName,this.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string=n.default.showNumberWithDecimalAndComma(r.balance,2),this.myAccountTxt.getComponent(cc.Label).string=r.fullName,this.myUsernameTxt.getComponent(cc.Label).string=r.username,this.myEmailTxt.getComponent(cc.Label).string=r.email,this.myCodeTxt.getComponent(cc.Label).string=o.default.getPhoneCode();var c;c=o.default.getCurrentEnv()==o.default.getAvailableEnvironment().ENV_DEVELOPMENT?r.phone.replace("+888","").replace(o.default.getPhoneCode(),""):r.phone.replace(o.default.getPhoneCode(),""),this.myMobileTxt.getComponent(cc.Label).string=c,localStorage.setItem("unverified_phoneNum",c),o.default.getSelectedAvatar()==localStorage.getItem("selected_avatar")&&cc.loader.loadRes("images/profile/Avatar"+o.default.getSelectedAvatar()+".png",cc.SpriteFrame,function(e,n){t.myHeaderProfileImg.getComponent(cc.Sprite).spriteFrame=n,t.myUserInfoProfileImg.getComponent(cc.Sprite).spriteFrame=n}),this.mBetRecordTabList=o.default.getGameCategories(),this.mHistoryTabList=[{name:"Deposit",statusList:"All,Pending,Approved,Rejected,In Progress,Modified,Modified Status,Failed,Success,Cancelled,Unknown,Expired"},{name:"Withdrawal",statusList:"All,Pending,Approved,Rejected,In Progress"},{name:"Transfer",statusList:"All,Success,Failed,Pending"},{name:"Promotion",statusList:"All,Pending,Approved,Rejected,In Progress,Modified,Modified Status,Failed,Success,Cancelled,Unknown,Expired."}],this.mCardList=[],this.showCardList(),this.node.active=!0,r.phoneVerified?this.myVerifyBtn.active=!1:!r.phoneVerified&&i.phoneVerification.enabled&&(this.myVerifyBtn.active=!0),this.onPersonalTabDidPressed("","UserInfo",!0),null!=this.calendarPicker&&(this.calendarPicker.getComponent("CalendarManager").hide(),this.calendarPicker.on("date-selected",this.onDateSelected,this),this.calendarPicker.on("date-cancel",this.onDateCancel,this));var s=this.node.getComponent(cc.Widget);s.left=this.node.width,s.right=-1*this.node.width,cc.tween(s).to(1/6,{left:0,right:0}).start()},setCallBack:function(e){this.mCallBack=e},openCalendar:function(e,t){this.calenderTarget=t;var n="";"betStartDate"==t?n=this.myBetStartDateTxt.getComponent(cc.Label).string:"betEndDate"==t?n=this.myBetEndDateTxt.getComponent(cc.Label).string:"accStartDate"==t?n=this.myAccStartDateTxt.getComponent(cc.Label).string:"accEndDate"==t&&(n=this.myAccEndDateTxt.getComponent(cc.Label).string);var o=n.split("-"),a=this.calendarPicker.getComponent("CalendarManager");3==o.length?a.show(new Date(o[0],o[1]-1,o[2])):a.show()},onDateSelected:function(e){var t=e.detail,n=t.year+"-"+t.month+"-"+t.day;"betStartDate"==this.calenderTarget?this.myBetStartDateTxt.getComponent(cc.Label).string=n:"betEndDate"==this.calenderTarget?this.myBetEndDateTxt.getComponent(cc.Label).string=n:"accStartDate"==this.calenderTarget?this.myAccStartDateTxt.getComponent(cc.Label).string=n:"accEndDate"==this.calenderTarget&&(this.myAccEndDateTxt.getComponent(cc.Label).string=n),this.calendarPicker.getComponent("CalendarManager").hide(),"accStartDate"!=this.calenderTarget&&"accEndDate"!=this.calenderTarget||this.callGetTransactionApi()},onDateCancel:function(){cc.log("Calendar cancelled")},myBackButtonDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=this.node.getComponent(cc.Widget);cc.tween(a).to(1/6,{left:this.node.width,right:-1*this.node.width}).start(),this.mCallBack&&this.mCallBack.onPersonalCenterBackButtonDidPressed()},onPersonalTabDidPressed:function(e,t,o){if(o||n.default.playButtonClickSound(),this.myUserInfoTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myBettingRecordTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myAccountDetailsTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myCardWalletTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myHistoryTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myUserInfoTabBtn.getChildByName("lblUserInfo").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myUserInfoTabBtn.getChildByName("lblUserInfo").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myBettingRecordTabBtn.getChildByName("lblBettingRecord").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myBettingRecordTabBtn.getChildByName("lblBettingRecord").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myAccountDetailsTabBtn.getChildByName("lblAccDetails").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myAccountDetailsTabBtn.getChildByName("lblAccDetails").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myCardWalletTabBtn.getChildByName("lblCardWallet").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myCardWalletTabBtn.getChildByName("lblCardWallet").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myFullContainer.active=!1,this.myUserInfoScrollView.active=!1,this.myTrxContainer.active=!1,this.myCardContainer.active=!1,this.myCutContainer.active=!1,this.myRecordContainer.active=!1,this.myHistoryContainer.active=!1,this.mCurrentFocusTab!=t&&(this.createdUnselectedTab.forEach(function(e){e&&e.isValid&&(e.unselect(),e.node.removeFromParent())}),this.createdUnselectedTab=[]),"BettingRecord"==t||"History"==t){var a=this.mBetRecordTabList;for(var i in"History"==t&&(a=this.mHistoryTabList),a){var r=60+128*parseInt(i),c=new cc.instantiate(this.myUnselectedTabPrefab).getComponent("UnselectedTab");c.init(r,-22,a[i].name,t,this),this.myCutConScrollContent.addChild(c.node),this.createdUnselectedTab.push(c)}this.myCutConScrollContent.width=120+128*(a.length-1),this.myCutConScrollView.getComponent(cc.ScrollView).scrollToLeft(0)}"UserInfo"==t?(this.myUserInfoTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myUserInfoTabBtn.getChildByName("lblUserInfo").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myUserInfoTabBtn.getChildByName("lblUserInfo").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myUserInfoScrollView.getComponent(cc.ScrollView).scrollToTop(0),this.myFullContainer.active=!0,this.myUserInfoScrollView.active=!0):"BettingRecord"==t?(this.myBettingRecordTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myBettingRecordTabBtn.getChildByName("lblBettingRecord").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myBettingRecordTabBtn.getChildByName("lblBettingRecord").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myCutContainer.active=!0,this.myRecordContainer.active=!0):"AccDetails"==t?(this.myAccountDetailsTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myAccountDetailsTabBtn.getChildByName("lblAccDetails").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myAccountDetailsTabBtn.getChildByName("lblAccDetails").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myFullContainer.active=!0,this.myTrxContainer.active=!0,this.callGetWalletLedgerApi(1,20)):"CardWallet"==t?(this.myCardWalletTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myCardWalletTabBtn.getChildByName("lblCardWallet").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myCardWalletTabBtn.getChildByName("lblCardWallet").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myFullContainer.active=!0,this.myCardContainer.active=!0,0==Object.keys(this.mCardList).length?(this.myHvCardContainer.active=!1,this.myNoCardContainer.active=!0):(this.myNoCardContainer.active=!1,this.myHvCardContainer.active=!0)):"History"==t&&(this.myHistoryTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myHistoryTabBtn.getChildByName("lblHistory").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myCutContainer.active=!0,this.myHistoryContainer.active=!0),this.mCurrentFocusTab=t},onEditBasicInfoDidPressed:function(){n.default.playButtonClickSound();var e=this;n.default.showLoadingView("",e),cc.resources.load("prefabs/personal/editBasicInfo",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);null==e.myEditInfoView&&(e.myEditInfoView=cc.instantiate(o).getComponent("EditBasicInfo"),e.updatePrefabSize()),e.myEditInfoView.setCallBack(e),e.myEditInfoView.updateView(e),e.node.addChild(e.myEditInfoView.node),n.default.hideLoadingView(e)})},myCloseEditBasicInfoDidPressed:function(e,t,a,i){if(this.node.removeChild(this.myEditInfoView.node),i){var r=o.default.getUserObject();this.myPlayerNameLabel.getComponent(cc.Label).string=r.fullName,this.myAccountTxt.getComponent(cc.Label).string=r.fullName,this.myEmailTxt.getComponent(cc.Label).string=r.email,this.showNotification(n.default.getLocalizedString(this.i18nJson,"updateSuccess"))}},onVIPLevelDidPressed:function(){n.default.playButtonClickSound();var e=this;n.default.showLoadingView("",e),cc.resources.load("prefabs/vip/viplevel",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);null==e.myVIPLevelView&&(e.myVIPLevelView=cc.instantiate(o).getComponent("VIPLevel"),e.updatePrefabSize()),e.myVIPLevelView.updateView(e),e.node.addChild(e.myVIPLevelView.node),n.default.hideLoadingView(e)})},myCloseVIPLevelDidPressed:function(){this.node.removeChild(this.myVIPLevelView.node)},onChangeAvatarDidPressed:function(){var e=this;n.default.showLoadingView("",e),cc.resources.load("prefabs/avatar/avatarList",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);null==e.myChangeAvatarView&&(e.myChangeAvatarView=cc.instantiate(o).getComponent("AvatarList"),e.updatePrefabSize()),e.myChangeAvatarView.updateView(e),e.node.addChild(e.myChangeAvatarView.node),n.default.hideLoadingView(e)})},myCloseChangeAvatarDidPressed:function(){var e=this;o.default.getSelectedAvatar()==localStorage.getItem("selected_avatar")&&cc.loader.loadRes("images/profile/Avatar"+o.default.getSelectedAvatar()+".png",cc.SpriteFrame,function(t,n){e.myHeaderProfileImg.getComponent(cc.Sprite).spriteFrame=n,e.myUserInfoProfileImg.getComponent(cc.Sprite).spriteFrame=n}),this.node.removeChild(this.myChangeAvatarView.node)},onVerifyButtonDidPressed:function(){n.default.playButtonClickSound();var e=this;n.default.showLoadingView("",e),cc.resources.load("prefabs/verification/verification",cc.Prefab,function(t,o){if(t)return console.error("Failed to load prefab:",t),void n.default.hideLoadingView(e);null==e.myVerificationView&&(e.myVerificationView=cc.instantiate(o).getComponent("Verification"),e.updatePrefabSize()),n.default.hideLoadingView(e),e.myVerificationView.updateView(e,"phoneVerify","PersonalCenter",""),e.node.addChild(e.myVerificationView.node)})},onVerificationCloseButtonDidPressed:function(e){this.node.removeChild(this.myVerificationView.node),"personalCenter"==e&&this.showNotification("Verified")},onManageCardDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=this;n.default.showLoadingView("",a),cc.resources.load("prefabs/deposit/manageCard",cc.Prefab,function(e,t){if(e)return console.error("Failed to load prefab:",e),void n.default.hideLoadingView(a);null==a.myManageCardView&&(a.myManageCardView=cc.instantiate(t).getComponent("ManageCard"),a.updatePrefabSize()),a.myManageCardView.updateView(a),a.node.addChild(a.myManageCardView.node),n.default.hideLoadingView(a)})},myCloseManageCardDidPressed:function(){this.node.removeChild(this.myManageCardView.node)},onTabDidPressed:function(e,t){if("History"==this.mCurrentFocusTab&&null==t||"History"==t){if(this.myHisStatScrollView.active&&this.onDDLDidPressed(null,"historyStatus",!0),this.mHistoryFocusTab!=e){this.createdHistoryDDLSelect.forEach(function(e){e&&e.isValid&&e.node.removeFromParent()}),this.createdHistoryDDLSelect=[],this.myHisStatSelect.getChildByName("lblStatus").getComponent(cc.Label).string="All";var n=this.mHistoryTabList.find(function(t){return t.name===e}).statusList.split(",");for(var o in n){var a=n[o],i=-25-46*parseInt(o);(d=new cc.instantiate(this.myDDLSelectPrefab).getComponent("DDLSelect")).init(0,i,a,this),this.myHisStatScrollContent.addChild(d.node),this.createdHistoryDDLSelect.push(d)}var r=s=50+46*(n.length-1);s=s>440?440:s,this.myHisStatScrollView.height=s,this.myHisStatScrollViewView.height=s,this.myHisStatScrollContent.height=r,this.myHisStatScrollView.getComponent(cc.ScrollView).scrollToTop(0)}this.mHistoryFocusTab=e}else if("BettingRecord"==this.mCurrentFocusTab&&null==t||"BettingRecord"==t){if(this.myBetPlatformScrollView.active&&this.onDDLDidPressed(null,"betPlatform",!0),this.mBetRecordFocusTab!=e)for(var o in this.createdBetPlatformDDLSelect.forEach(function(e){e&&e.isValid&&e.node.removeFromParent()}),this.createdBetPlatformDDLSelect=[],this.mBetRecordTabList){var c=this.mBetRecordTabList[o];if(c.name==e){var s,l=c.developers;for(var u in l){var d,h=l[u];"0"==u&&(this.myBetPlatformSelect.getChildByName("lblPlatform").getComponent(cc.Label).string=h.name),i=-25-46*parseInt(u),(d=new cc.instantiate(this.myDDLSelectPrefab).getComponent("DDLSelect")).init(0,i,h.name,this),this.myBetPlatformScrollContent.addChild(d.node),this.createdBetPlatformDDLSelect.push(d)}r=s=50+46*(l.length-1),s=s>440?440:s,this.myBetPlatformScrollView.height=s,this.myBetPlatformScrollViewView.height=s,this.myBetPlatformScrollContent.height=r,this.myBetPlatformScrollView.getComponent(cc.ScrollView).scrollToTop(0);break}}this.mBetRecordFocusTab=e}this.createdUnselectedTab.forEach(function(e){e&&e.isValid&&e.unselect()})},onDDLDidPressed:function(e,t,o){if(o||n.default.playButtonClickSound(),"recordTrxDate"==t||"historyTrxDate"==t){var a=this.myTrxDateSelect,i=this.myTrxDateDDL;"recordTrxDate"==t?(a=this.myRecordTrxSelect,i=this.myRecordTrxDDL):"historyTrxDate"==t&&(a=this.myHistoryTrxSelect,i=this.myHistoryTrxDDL);var r=a.getChildByName("iconTriangle");i.active?r.angle=90:r.angle=-90,i.active=!i.active}else"accType"==t?(r=this.myAccDetailTypeSelect.getChildByName("iconTriangle"),this.myAccDetailTypeDDL.active?r.angle=90:r.angle=-90,this.myAccDetailTypeDDL.active=!this.myAccDetailTypeDDL.active):"betPlatform"==t?(r=this.myBetPlatformSelect.getChildByName("iconTriangle"),this.myBetPlatformScrollView.active?r.angle=90:r.angle=-90,this.myBetPlatformScrollView.active=!this.myBetPlatformScrollView.active):"historyStatus"==t&&(r=this.myHisStatSelect.getChildByName("iconTriangle"),this.myHisStatScrollView.active?r.angle=90:r.angle=-90,this.myHisStatScrollView.active=!this.myHisStatScrollView.active)},onDDLOptionDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=e.target.parent.name;console.log(a);var i=e.target.getChildByName("label").getComponent(cc.Label).string;if("ddl_type_bg"==a||"ddl_historyTrxDate_bg"==a||"betPlatformContent"==a||"historyStatusContent"==a){var r=this.myAccDetailTypeSelect,c=this.myAccDetailTypeDDL,s="lblType";"ddl_type_bg"==a?(r=this.myAccDetailTypeSelect,c=this.myAccDetailTypeDDL,s="lblType",this.mAccDetailSelectedType=t):"ddl_historyTrxDate_bg"==a?(r=this.myHistoryTrxSelect,c=this.myHistoryTrxDDL,s="lblTrxDate"):"betPlatformContent"==a?(r=this.myBetPlatformSelect,c=this.myBetPlatformScrollView,s="lblPlatform"):"historyStatusContent"==a&&(r=this.myHisStatSelect,c=this.myHisStatScrollView,s="lblStatus"),r.getChildByName(s).getComponent(cc.Label).string=i,r.getChildByName("iconTriangle").angle=90,c.active=!1}},showCardList:function(){var e=Object.keys(this.mCardList).length;if(e>0)for(var t in this.mNoBankLabel.active=!1,this.mCardList){var n=this.mCardList[t],o=new cc.instantiate(this.mCardRowPrefab);o.name="cardRow"+(parseInt(t)+1),o.setPosition(cc.v2(-2,-52*parseInt(t)-27)),o.getChildByName("lblBank").getComponent(cc.Label).string=n.bank,o.getChildByName("lblAccName").getComponent(cc.Label).string=n.name,o.getChildByName("lblAccNumber").getComponent(cc.Label).string=n.number,this.myWalletScrollContent.addChild(o),this.createdRows.push(o)}else this.mNoBankLabel.active=!0;e>=this.mMaxCard?this.myAddAccBtn.getComponent(cc.Sprite).spriteFrame=this.mAddOffImg:this.myAddAccBtn.getComponent(cc.Sprite).spriteFrame=this.mAddOnImg,this.myAddAccBtn.y=-47*e-84,this.mAddAccLabel.y=-47*e-82,this.mWarningLabel.y=-47*e-126,this.myWalletScrollContent.height=159+47*e},showNotification:function(e){var t=this;this.mNotificationLabel.getComponent(cc.Label).string=e,cc.Tween.stopAllByTarget(this.myNotificationBG),this.myNotificationBG.active=!0,this.myNotificationBG.opacity=0,cc.tween(this.myNotificationBG).to(1/3,{opacity:255}).delay(2).to(1/3,{opacity:0}).call(function(){t.myNotificationBG.active=!1}).start()},callGetTransactionApi:function(){var e=this;return u(s().mark(function t(){var o,i,r,c,l,u,d;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=localStorage.getItem("token"),i={type:e.mAccDetailSelectedType,startDate:e.myAccStartDateTxt.getComponent(cc.Label).string,endDate:e.myAccEndDateTxt.getComponent(cc.Label).string},t.prev=2,t.next=5,a.default.getTransactions(o,i);case 5:if(r=t.sent,console.log("----------getTransactions-----------"),console.log(r),200==r.status)if(e.createdTrxRows.forEach(function(e){e&&e.isValid&&e.removeFromParent()}),e.createdTrxRows=[],(c=r.transactions).length>0)for(l in e.mNoRecords1Label.active=!1,c)u=c[l],(d=new cc.instantiate(e.mTrxRowPrefab)).name="trxRow"+(parseInt(l)+1),d.setPosition(cc.v2(0,-40*parseInt(l)-30)),d.getChildByName("lblDate").getComponent(cc.Label).string=n.default.getLocalDate(u.date),d.getChildByName("lblDesc").getComponent(cc.Label).string=u.action,d.getChildByName("lblIn").getComponent(cc.Label).string=u.balanceAfter>u.balanceBefore?n.default.showNumberWithDecimalAndComma(u.balanceAfter-u.balanceBefore,2):"-",d.getChildByName("lblOut").getComponent(cc.Label).string=u.balanceBefore>u.balanceAfter?n.default.showNumberWithDecimalAndComma(u.balanceBefore-u.balanceAfter,2):"-",d.getChildByName("lblBalance").getComponent(cc.Label).string=n.default.showNumberWithDecimalAndComma(u.balanceAfter,2),e.myTrxScrollContent.addChild(d),e.createdTrxRows.push(d);else e.mNoRecords1Label.active=!0;t.next=16;break;case 11:t.prev=11,t.t0=t.catch(2),e.createdTrxRows.forEach(function(e){e&&e.isValid&&e.removeFromParent()}),e.createdTrxRows=[],console.log(t.t0);case 16:case"end":return t.stop()}},t,null,[[2,11]])}))()},callGetBalanceApi:function(){var e=this;return u(s().mark(function t(){var a,r;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.default.showLoadingView("Loading",e),t.prev=1,t.next=4,i.default.getBalance(localStorage.getItem("token"));case 4:200==(a=t.sent).status&&(console.log(a),(r=o.default.getUserObject()).balance=a.data.balance,o.default.setUserObject(r),e.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string=n.default.showNumberWithDecimalAndComma(r.balance,2),e.mCallBack.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string=n.default.showNumberWithDecimalAndComma(r.balance,2),n.default.hideLoadingView(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n.default.hideLoadingView(e);case 11:case"end":return t.stop()}},t,null,[[1,8]])}))()},callGetWalletLedgerApi:function(e,t){var o=this;return u(s().mark(function a(){var i,c,l,u,d,h,m,f,p,g;return s().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("----------callGetWalletLedgerApi-----------"),i=localStorage.getItem("token"),c=1,l=20,null!=e&&(c=e),null!=t&&(l=t),u={currency:"BDT",page:c,limit:l},a.prev=7,a.next=10,r.default.getWalletLedger(i,u);case 10:if(200==(d=a.sent).status)if(o.walletLedgerRows.forEach(function(e){e&&e.isValid&&e.removeFromParent()}),o.walletLedgerRows=[],(h=d.data.entries).length>0){for(m in o.mNoRecords1Label.active=!1,h)f=h[m],(p=new cc.instantiate(o.mTrxRowPrefab)).name="trxRow"+(parseInt(m)+1),p.setPosition(cc.v2(0,-40*parseInt(m)-30)),p.getChildByName("lblDate").getComponent(cc.Label).string=n.default.getLocalDate(f.createdAt),p.getChildByName("lblDesc").getComponent(cc.Label).string=f.transactionDescription,p.getChildByName("lblIn").getComponent(cc.Label).string="credit"==f.transactionType?n.default.showNumberWithDecimalAndComma(f.amount,2):"-",p.getChildByName("lblOut").getComponent(cc.Label).string="debit"==f.transactionType?n.default.showNumberWithDecimalAndComma(f.amount,2):"-",p.getChildByName("lblBalance").getComponent(cc.Label).string=n.default.showNumberWithDecimalAndComma(f.balanceAfter,2),o.myTrxScrollContent.addChild(p),o.walletLedgerRows.push(p);h.length>0&&(g=-40*(h.length-1)-30,o.myTrxScrollContent.height=Math.abs(g)+30,o.myTrxScrollView.getComponent(cc.ScrollView).scrollToTop(0))}else o.mNoRecords1Label.active=!0;a.next=19;break;case 14:a.prev=14,a.t0=a.catch(7),o.walletLedgerRows.forEach(function(e){e&&e.isValid&&e.removeFromParent()}),o.walletLedgerRows=[],console.log(a.t0);case 19:case"end":return a.stop()}},a,null,[[7,14]])}))()},localizeUI:function(){this.mWarningLabel.getComponent(cc.Label).string="*"+n.default.formatString(n.default.getLocalizedString(this.i18nJson,"cardLimit"),this.mMaxCard),this.myAccDetailTypeSelect.getChildByName("lblType").getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"placeBet"),this.mPersonalCenterLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"title"),this.mNoBankLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"noBank"),this.mAddAccLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"addAcc"),this.mUserInfoTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"userInfo"),this.mBetRecordTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"betRecord"),this.mAccDetailsTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"accDetails"),this.mBankWalletTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"bankCardOrEWallet"),this.mHistoryTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"history"),this.mLevelPriviledgedLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"lvlPriviledge"),this.mCurrentMemberLabel.getComponent(cc.Label).string=n.default.formatString(n.default.getLocalizedString(this.i18nJson,"currentMember"),"New Player","2026-02-02)"),this.mBasicInfoLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"basicInfo"),this.mAccountLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"account"),this.mUsernameLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"username"),this.mEmailLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"email"),this.mMobileNumberLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"mobileNumber"),this.mGenderLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"gender"),this.mBirthdayLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"birthday"),this.mVIPLevelLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"VIPLevels"),this.mVerifyLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"verify"),this.mRecordConStartDateLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"startDate"),this.mRecordConEndDateLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"endDate"),this.mRecordConPlatformLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"gamingPlatform"),this.mTrxConStartDateLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"startDate"),this.mTrxConEndDateLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"endDate"),this.mTrxConTypeLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"type"),this.mTrxConPlaceBetLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"placeBet"),this.mTrxConWinLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"win"),this.mTrxConBuyInLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"buyIn"),this.mTrxConPayoutLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"payout"),this.mTrxConCancelLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"cancel"),this.mTrxConRollbackLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"rollback"),this.mTrxConRefundLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"refund"),this.mTrxConDateLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"date"),this.mTrxConDescLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"description"),this.mTrxConInLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"in"),this.mTrxConOutLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"out"),this.mTrxConBalanceLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"balance"),this.mDescLabel.getComponent(cc.RichText).string=n.default.getLocalizedString(this.i18nJson,"desc2"),this.mClickHereLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"clickHere"),this.mSetupLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"setup"),this.mBankWalletLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"bankOrWallet"),this.mAccNameLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"accName"),this.mAccNumberLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"accNumber"),this.mRecordDateLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"date"),this.mRecordBetSlipIDLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"betSlip"),this.mRecordGameLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"game"),this.mRecordStakeLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"stake"),this.mRecordResultLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"results"),this.mRecordWinLossLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"winLoss"),this.mValidStakeLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"validStake"),this.mHisDateLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"date"),this.mHisTrxIDLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"trxID"),this.mHisBankLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"bank"),this.mHisAmtLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"amount"),this.mHisStatusHeaderLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"status"),this.mHisReasonLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"reason"),this.mNoRecords1Label.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"noRecord"),this.mNoRecords2Label.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"noRecord"),this.mNoRecords3Label.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"noRecord")},updatePrefabSize:function(){var e=cc.view.getVisibleSize();this.myEditInfoView&&this.myEditInfoView.init(0,0,e.width,e.height),this.myVIPLevelView&&this.myVIPLevelView.init(0,0,e.width,e.height),this.myChangeAvatarView&&this.myChangeAvatarView.init(0,0,e.width,e.height),this.myVerificationView&&this.myVerificationView.init(0,0,e.width,e.height)}}),cc._RF.pop()},{"../Services/TransactionService":"TransactionService","../Services/UserService":"UserService","../Services/WalletService":"WalletService",SharedData:"SharedData",SharedFunction:"SharedFunction"}],Rebate:[function(e,t){"use strict";cc._RF.push(t,"f67e6yAlOJAUKIOqx9/jSg4","Rebate");var n=i(e("SharedFunction")),o=i(e("SharedData")),a=i(e("../Services/UserService"));function i(e){return e&&e.__esModule?e:{default:e}}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=u(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};s(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(N([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function o(a,i,r,c){var s=u(e[a],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,c)},function(e){o("throw",e,r,c)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,c)})}c(s.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=f,s(v,"constructor",f),s(f,"constructor",m),m.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new w(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},b(v),s(v,c,"Generator"),s(v,a,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=N,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function c(e,t,n,o,a,i,r){try{var c=e[i](r),s=c.value}catch(error){return void n(error)}c.done?t(s):Promise.resolve(s).then(o,a)}cc.Class({extends:cc.Component,properties:{mCallBack:null,calendarPicker:null,calenderTarget:null,mCurrentFocusTab:"MyRebate",mPayoutFocusTab:"",mPayoutTabList:[],createdUnselectedTab:[],createdTrxRows:[],myMyRebateTabBtn:{default:null,type:cc.Node},myPayoutTabBtn:{default:null,type:cc.Node},myTransactionTabBtn:{default:null,type:cc.Node},myRebateTableTabBtn:{default:null,type:cc.Node},myPlayerNameLabel:{default:null,type:cc.Node},myBalanceBG:{default:null,type:cc.Node},myHalfContainer:{default:null,type:cc.Node},myCutContainer:{default:null,type:cc.Node},myFullContainer:{default:null,type:cc.Node},myPayoutContainer:{default:null,type:cc.Node},myRebateTableContainer:{default:null,type:cc.Node},myTrxTypeSelect:{default:null,type:cc.Node},myTrxTypeDDL:{default:null,type:cc.Node},myCutConScrollView:{default:null,type:cc.Node},myCutConScrollContent:{default:null,type:cc.Node},myTrxScrollView:{default:null,type:cc.Node},myTrxScrollContent:{default:null,type:cc.Node},mFocusTabImg:{default:null,type:cc.SpriteFrame},mNormalTabImg:{default:null,type:cc.SpriteFrame},myHeaderProfileImg:{default:null,type:cc.Sprite},myPayoutStartDateTxt:{default:null,type:cc.Node},myPayoutEndDateTxt:{default:null,type:cc.Node},myTrxStartDateTxt:{default:null,type:cc.Node},myTrxEndDateTxt:{default:null,type:cc.Node},myUnselectedTabPrefab:{default:null,type:cc.Prefab},mTrxRowPrefab:{default:null,type:cc.Prefab},i18nJson:{default:null,type:cc.JsonAsset},mRebateLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI();var e=this;cc.resources.load("prefabs/calendar/CalendarPicker",cc.Prefab,function(t,n){t?console.error("Failed to load prefab:",t):(null==e.calendarPicker&&(e.calendarPicker=cc.instantiate(n),e.updatePrefabSize()),e.node.addChild(e.calendarPicker.getComponent("CalendarManager").node),e.calendarPicker.on("date-selected",e.onDateSelected,e),e.calendarPicker.on("date-cancel",e.onDateCancel,e))})},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o},updateView:function(e){var t=this;this.localizeUI(),this.mCallBack=e,this.mCurrentFocusTab="MyRebate";var a=o.default.getUserObject();this.myPlayerNameLabel.getComponent(cc.Label).string=a.fullName,this.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string=n.default.showNumberWithDecimalAndComma(a.balance,2),o.default.getSelectedAvatar()==localStorage.getItem("selected_avatar")&&cc.loader.loadRes("images/profile/Avatar"+o.default.getSelectedAvatar()+".png",cc.SpriteFrame,function(e,n){t.myHeaderProfileImg.getComponent(cc.Sprite).spriteFrame=n}),this.mPayoutTabList=o.default.getGameCategories(),this.onRebateTabDidPressed("","MyRebate",!0),null!=this.calendarPicker&&(this.calendarPicker.getComponent("CalendarManager").hide(),this.calendarPicker.on("date-selected",this.onDateSelected,this),this.calendarPicker.on("date-cancel",this.onDateCancel,this));var i=this.node.getComponent(cc.Widget);i.left=this.node.width,i.right=-1*this.node.width,cc.tween(i).to(1/6,{left:0,right:0}).start()},setCallBack:function(e){this.mCallBack=e},openCalendar:function(e,t){this.calenderTarget=t;var n="";"payoutStartDate"==t?n=this.myPayoutStartDateTxt.getComponent(cc.Label).string:"payoutEndDate"==t?n=this.myPayoutEndDateTxt.getComponent(cc.Label).string:"trxStartDate"==t?n=this.myTrxStartDateTxt.getComponent(cc.Label).string:"trxEndDate"==t&&(n=this.myTrxEndDateTxt.getComponent(cc.Label).string);var o=n.split("-"),a=this.calendarPicker.getComponent("CalendarManager");console.log(o),3==o.length?a.show(new Date(o[0],o[1]-1,o[2])):a.show()},onDateSelected:function(e){var t=e.detail,n=t.year+"-"+t.month+"-"+t.day;"payoutStartDate"==this.calenderTarget?this.myPayoutStartDateTxt.getComponent(cc.Label).string=n:"payoutEndDate"==this.calenderTarget?this.myPayoutEndDateTxt.getComponent(cc.Label).string=n:"trxStartDate"==this.calenderTarget?this.myTrxStartDateTxt.getComponent(cc.Label).string=n:"trxEndDate"==this.calenderTarget&&(this.myTrxEndDateTxt.getComponent(cc.Label).string=n),this.calendarPicker.getComponent("CalendarManager").hide()},onDateCancel:function(){cc.log("Calendar cancelled")},myBackButtonDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=this.node.getComponent(cc.Widget);cc.tween(a).to(1/6,{left:this.node.width,right:-1*this.node.width}).start(),this.mCallBack&&this.mCallBack.onRebateBackButtonDidPressed()},onRebateTabDidPressed:function(e,t,o){if(o||n.default.playButtonClickSound(),this.myMyRebateTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myPayoutTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myTransactionTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myRebateTableTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myMyRebateTabBtn.getChildByName("lblMyRebate").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myMyRebateTabBtn.getChildByName("lblMyRebate").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myPayoutTabBtn.getChildByName("lblPayout").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myPayoutTabBtn.getChildByName("lblPayout").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myTransactionTabBtn.getChildByName("lblTransaction").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myTransactionTabBtn.getChildByName("lblTransaction").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myRebateTableTabBtn.getChildByName("lblRebateTable").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myRebateTableTabBtn.getChildByName("lblRebateTable").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myHalfContainer.active=!1,this.myCutContainer.active=!1,this.myPayoutContainer.active=!1,this.myRebateTableContainer.active=!1,this.myFullContainer.active=!1,this.mCurrentFocusTab!=t&&(this.createdUnselectedTab.forEach(function(e){e&&e.isValid&&(e.unselect(),e.node.removeFromParent())}),this.createdUnselectedTab=[]),"Payout"==t||"RebateTable"==t){var a=this.mPayoutTabList;for(var i in a){var r=60+128*parseInt(i),c=new cc.instantiate(this.myUnselectedTabPrefab).getComponent("UnselectedTab");c.init(r,-22,a[i].name,t,this),this.myCutConScrollContent.addChild(c.node),this.createdUnselectedTab.push(c)}this.myCutConScrollContent.width=120+128*(a.length-1),this.myCutConScrollView.getComponent(cc.ScrollView).scrollToLeft(0)}"MyRebate"==t?(this.myMyRebateTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myMyRebateTabBtn.getChildByName("lblMyRebate").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myMyRebateTabBtn.getChildByName("lblMyRebate").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myHalfContainer.active=!0):"Payout"==t?(this.myPayoutTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myPayoutTabBtn.getChildByName("lblPayout").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myPayoutTabBtn.getChildByName("lblPayout").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myCutContainer.active=!0,this.myPayoutContainer.active=!0):"Transaction"==t?(this.myTransactionTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myTransactionTabBtn.getChildByName("lblTransaction").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myTransactionTabBtn.getChildByName("lblTransaction").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myFullContainer.active=!0):"RebateTable"==t&&(this.myRebateTableTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myRebateTableTabBtn.getChildByName("lblRebateTable").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myRebateTableTabBtn.getChildByName("lblRebateTable").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myCutContainer.active=!0,this.myRebateTableContainer.active=!0),this.mCurrentFocusTab=t},onTabDidPressed:function(e){this.mPayoutFocusTab=e,this.createdUnselectedTab.forEach(function(e){e&&e.isValid&&e.unselect()})},onDDLDidPressed:function(e,t,o){if(o||n.default.playButtonClickSound(),"trxType"==t){var a=this.myTrxTypeSelect.getChildByName("iconTriangle");this.myTrxTypeDDL.active?a.angle=90:a.angle=-90,this.myTrxTypeDDL.active=!this.myTrxTypeDDL.active}},onDDLOptionDidPressed:function(e,t,o){o||n.default.playButtonClickSound();var a=e.target.parent.name,i=e.target.getChildByName("label").getComponent(cc.Label).string;if("ddl_type_bg"==a){var r=this.myTrxTypeSelect,c=this.myTrxTypeDDL,s="lblType";"ddl_type_bg"==a&&(r=this.myTrxTypeSelect,c=this.myTrxTypeDDL,s="lblType",this.mAccDetailSelectedType=t),r.getChildByName(s).getComponent(cc.Label).string=i,r.getChildByName("iconTriangle").angle=90,c.active=!1}},showNotification:function(e){var t=this;this.mNotificationLabel.getComponent(cc.Label).string=e,cc.Tween.stopAllByTarget(this.myNotificationBG),this.myNotificationBG.active=!0,this.myNotificationBG.opacity=0,cc.tween(this.myNotificationBG).to(1/3,{opacity:255}).delay(2).to(1/3,{opacity:0}).call(function(){t.myNotificationBG.active=!1}).start()},callGetBalanceApi:function(){var e,t=this;return(e=r().mark(function e(){var i,c;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.default.showLoadingView("Loading",t),e.prev=1,e.next=4,a.default.getBalance(localStorage.getItem("token"));case 4:200==(i=e.sent).status&&(console.log(i),(c=o.default.getUserObject()).balance=i.data.balance,o.default.setUserObject(c),t.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string=n.default.showNumberWithDecimalAndComma(c.balance,2),t.mCallBack.myBalanceBG.getChildByName("lblBalance").getComponent(cc.Label).string=n.default.showNumberWithDecimalAndComma(c.balance,2),n.default.hideLoadingView(t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n.default.hideLoadingView(t);case 11:case"end":return e.stop()}},e,null,[[1,8]])}),function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function r(e){c(i,o,a,r,s,"next",e)}function s(e){c(i,o,a,r,s,"throw",e)}r(void 0)})})()},localizeUI:function(){this.mRebateLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"rebate")},updatePrefabSize:function(){cc.view.getVisibleSize()}}),cc._RF.pop()},{"../Services/UserService":"UserService",SharedData:"SharedData",SharedFunction:"SharedFunction"}],Registration:[function(e,t){"use strict";cc._RF.push(t,"932cfVmHUdKuYaszcQGcfBS","Registration");var n=i(e("SharedData")),o=i(e("SharedFunction")),a=i(e("../Services/AuthServices"));function i(e){return e&&e.__esModule?e:{default:e}}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=u(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};s(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(N([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function o(a,i,r,c){var s=u(e[a],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,c)},function(e){o("throw",e,r,c)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,c)})}c(s.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=f,s(v,"constructor",f),s(f,"constructor",m),m.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new w(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},b(v),s(v,c,"Generator"),s(v,a,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=N,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function c(e,t,n,o,a,i,r){try{var c=e[i](r),s=c.value}catch(error){return void n(error)}c.done?t(s):Promise.resolve(s).then(o,a)}cc.Class({extends:cc.Component,properties:{mCallBack:null,showEmailInput:!0,myVerificationView:null,mBackground:{default:null,type:cc.Node},myScrollView:{default:null,type:cc.Node},mUsernameInput:{default:null,type:cc.Node},mFullNameInput:{default:null,type:cc.Node},mEmailInput:{default:null,type:cc.Node},mMobileNoPrefixLabel:{default:null,type:cc.Node},mMobileNoInput:{default:null,type:cc.Node},mPasswordInput:{default:null,type:cc.Node},mConfirmPassInput:{default:null,type:cc.Node},mReferalCodeInput:{default:null,type:cc.Node},myError1Label:{default:null,type:cc.Node},myError2Label:{default:null,type:cc.Node},myError3Label:{default:null,type:cc.Node},myError4Label:{default:null,type:cc.Node},myError5Label:{default:null,type:cc.Node},myError6Label:{default:null,type:cc.Node},myError7Label:{default:null,type:cc.Node},myShowPassBtn:{default:null,type:cc.Node},myShowConPassBtn:{default:null,type:cc.Node},mSelectedTabIndex:0,mUserIdLabel:{default:null,type:cc.Node},mBackgroundAnimation:{default:null,type:cc.Node},mContainer:{default:null,type:cc.Node},mPhoneButton:{default:null,type:cc.Node},mSMSButton:{default:null,type:cc.Node},mWhatsappButton:{default:null,type:cc.Node},mPhoneNumberLabel:{default:null,type:cc.Node},mCodeInput:{default:null,type:cc.Node},mIsRequestedTac:!1,mRequestTacButton:{default:null,type:cc.Node},mCountDownTimer:{default:6,type:cc.Float},mNewPasswordInput:{default:null,type:cc.EditBox},mConfirmPasswordInput:{default:null,type:cc.EditBox},mRewardLabel:{default:null,type:cc.Node},mOneLabel:{default:null,type:cc.Node},mInviteLabel:{default:null,type:cc.Node},mVoiceLabel:{default:null,type:cc.Node},mPhoneNoLabel:{default:null,type:cc.Node},mPhoneNoHolderLabel:{default:null,type:cc.Node},mPhoneNoHintLabel:{default:null,type:cc.Node},mCodeLabel:{default:null,type:cc.Node},mCodeHolderLabel:{default:null,type:cc.Node},mSendLabel:{default:null,type:cc.Node},mContinueLabel:{default:null,type:cc.Node},mNewPassLabel:{default:null,type:cc.Node},mNewPassHolderLabel:{default:null,type:cc.Node},mConPassLabel:{default:null,type:cc.Node},mConPassHolderLabel:{default:null,type:cc.Node},mPhoneCodeLabel:{default:null,type:cc.Node},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node},mUsernameLabel:{default:null,type:cc.Node},mFullNameLabel:{default:null,type:cc.Node},mEmailLabel:{default:null,type:cc.Node},mMobileNoLabel:{default:null,type:cc.Node},mPasswordLabel:{default:null,type:cc.Node},mConfirmPassLabel:{default:null,type:cc.Node},mReferalCodeLabel:{default:null,type:cc.Node},mRegisterLabel:{default:null,type:cc.Node},mHvAccountLabel:{default:null,type:cc.Node},mLoginHereLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},updateView:function(e){this.localizeUI(),this.mCallBack=e,this.mBackground.active=!0,this.myError1Label.active=!1,this.myError2Label.active=!1,this.myError3Label.active=!1,this.myError4Label.active=!1,this.myError5Label.active=!1,this.myError6Label.active=!1,this.myError7Label.active=!1,this.node.opacity=255,this.mMobileNoPrefixLabel.getComponent(cc.Label).string=n.default.getPhoneCode(),this.showEmailInput?(this.mEmailLabel.active=!0,this.mEmailInput.parent.active=!0,this.mPasswordLabel.y=-562,this.mConfirmPassLabel.y=-689,this.mReferalCodeLabel.y=-813,this.mPasswordInput.parent.y=-565,this.mConfirmPassInput.parent.y=-689,this.mReferalCodeInput.parent.y=-813,this.myError5Label.y=-627,this.myError6Label.y=-751,this.myError7Label.y=-875,this.mRegisterLabel.parent.y=-937,this.mHvAccountLabel.y=-1008.824,this.mLoginHereLabel.y=-1007.108,this.myScrollView.getChildByName("view").getChildByName("content").height=1034):(this.mEmailLabel.active=!1,this.mEmailInput.parent.active=!1,this.myError4Label.active=!1,this.mPasswordLabel.y=-438,this.mConfirmPassLabel.y=-562,this.mReferalCodeLabel.y=-689,this.mPasswordInput.parent.y=-441,this.mConfirmPassInput.parent.y=-565,this.mReferalCodeInput.parent.y=-689,this.myError5Label.y=-503,this.myError6Label.y=-627,this.myError7Label.y=-751,this.mRegisterLabel.parent.y=-813,this.mHvAccountLabel.y=-884.824,this.mLoginHereLabel.y=-883.108,this.myScrollView.getChildByName("view").getChildByName("content").height=910);var t=this.mBackground.getChildByName("registration_bg");t.setScale(0),cc.tween(t).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},setCallBack:function(e,t){void 0===t&&(t="LOBBY"),this.mCallBack=e,this.isFrom=t},onTogglePassBtnDidPress:function(e,t){o.default.playButtonClickSound();var n=this.myShowPassBtn,a=this.mPasswordInput;"ConfirmPassword"==t&&(n=this.myShowConPassBtn,a=this.mConfirmPassInput),a.getComponent(cc.EditBox).string;var i=a.getComponent(cc.EditBox).inputFlag;i==cc.EditBox.InputFlag.PASSWORD||null==i?(cc.loader.loadRes("images/login/iconShow.png",cc.SpriteFrame,function(e,t){n.getComponent(cc.Sprite).spriteFrame=t}),a.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.DEFAULT):(cc.loader.loadRes("images/login/iconHide.png",cc.SpriteFrame,function(e,t){n.getComponent(cc.Sprite).spriteFrame=t}),a.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.PASSWORD)},myCloseButtonDidPressed:function(e,t,n,a){var i=this;n||o.default.playButtonClickSound();var r=this.mBackground.getChildByName("registration_bg");cc.tween(r).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){i.mCallBack&&i.mCallBack.onRegisterCloseButtonDidPressed(a)}).start()},onRegisterButtonDidPressed:function(){o.default.playButtonClickSound();var e=this.mUsernameInput.getComponent(cc.EditBox).string,t=this.mFullNameInput.getComponent(cc.EditBox).string,a=this.mMobileNoInput.getComponent(cc.EditBox).string,i=this.mEmailInput.getComponent(cc.EditBox).string,r=this.mPasswordInput.getComponent(cc.EditBox).string,c=this.mConfirmPassInput.getComponent(cc.EditBox).string,s=this.mReferalCodeInput.getComponent(cc.EditBox).string;if(0!=e.length)if(0!=t.length)if(0!=a.length){if(this.showEmailInput){if(0==i.length)return void this.showLableError(this.myError4Label,o.default.getLocalizedString(this.i18nJson,"emailHolder"));if(!o.default.EmailCheck(i))return void this.showLableError(this.myError4Label,o.default.getLocalizedString(this.i18nJson,"invalidEamil"))}if(0!=r.length)if(o.default.RangeCheck(r))if(0!=c.length)if(o.default.RangeCheck(c))if(r==c){localStorage.setItem("unverified_username",e),localStorage.setItem("unverified_fullName",t),localStorage.setItem("unverified_phoneNum",a),localStorage.setItem("unverified_password",r),localStorage.setItem("unverified_referal",s),localStorage.setItem("unverified_email",i);var l=JSON.parse(localStorage.getItem("from_index")).settings.verification;l.phoneVerification.enabled&&"onRegister"==l.phoneVerification.required?this.showVerificationPage("phoneVerify"):l.emailVerification.enabled&&"onRegister"==l.emailVerification.required?this.showVerificationPage("emailVerify"):this.callRegisterApi(e,t,n.default.getPhoneCode()+a,r,s,i)}else this.showLableError(this.myError6Label,o.default.getLocalizedString(this.i18nJson,"invalidBothPassword"));else this.showLableError(this.myError6Label,o.default.getLocalizedString(this.i18nJson,"invalidConfirmPassword"));else this.showLableError(this.myError6Label,o.default.getLocalizedString(this.i18nJson,"confirmPasswordHolder"));else this.showLableError(this.myError5Label,o.default.getLocalizedString(this.i18nJson,"invalidPassword"));else this.showLableError(this.myError5Label,o.default.getLocalizedString(this.i18nJson,"passwordHolder"))}else this.showLableError(this.myError3Label,o.default.getLocalizedString(this.i18nJson,"mobileNoHolder"));else this.showLableError(this.myError2Label,o.default.getLocalizedString(this.i18nJson,"fullNameHolder"));else this.showLableError(this.myError1Label,o.default.getLocalizedString(this.i18nJson,"usernameHolder"))},callRegisterApi:function(e,t,n,i,s,l){var u,d=this;return(u=r().mark(function c(){var u;return r().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.default.register({fullName:t,username:e,email:l,password:i,phone:n,referralCode:s});case 3:u=r.sent,console.log(u),201==u.status?(localStorage.setItem("verified_username",e),localStorage.setItem("verified_password",i),localStorage.setItem("token",u.token),d.myCloseButtonDidPressed("","",!0,"lobby")):d.showLableError(d.myError7Label,u.message),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),d.showLableError(d.myError7Label,r.t0.message),o.default.hideLoadingView(d);case 12:case"end":return r.stop()}},c,null,[[0,8]])}),function(){var e=this,t=arguments;return new Promise(function(n,o){var a=u.apply(e,t);function i(e){c(a,n,o,i,r,"next",e)}function r(e){c(a,n,o,i,r,"throw",e)}i(void 0)})})()},showVerificationPage:function(e){var t=this;o.default.showLoadingView("",t),cc.resources.load("prefabs/verification/verification",cc.Prefab,function(n,a){if(n)return console.error("Failed to load prefab:",n),void o.default.hideLoadingView(t);null==t.myVerificationView&&(t.myVerificationView=cc.instantiate(a).getComponent("Verification"),t.updatePrefabSize()),o.default.hideLoadingView(t),t.myVerificationView.updateView(t,e,"Register",""),t.node.addChild(t.myVerificationView.node),t.mBackground.active=!1})},showLableError:function(e,t){this.myError1Label.active=!1,this.myError2Label.active=!1,this.myError3Label.active=!1,this.myError4Label.active=!1,this.myError5Label.active=!1,this.myError6Label.active=!1,this.myError7Label.active=!1,e&&(this.myScrollView.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,-1*e.y-131),.1,!1),e.getComponent(cc.Label).string=t,e.active=!0,cc.tween(e).to(1/12,{scale:1.1}).to(1/12,{scale:1}).start())},onVerificationCloseButtonDidPressed:function(e,t){this.node.removeChild(this.myVerificationView.node),"emailVerify"!=e?"registerPage"==e?(this.showLableError(this.myError7Label,t),this.mBackground.active=!0):this.mCallBack.onRegisterCloseButtonDidPressed(e):this.showVerificationPage("emailVerify")},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"title"),this.mUsernameLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"username"),this.mFullNameLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"fullname"),this.mEmailLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"email"),this.mMobileNoLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"mobileno"),this.mPasswordLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"password"),this.mConfirmPassLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"confirmPassword"),this.mReferalCodeLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"referalcode"),this.mRegisterLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"register"),this.mHvAccountLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"hvAccount"),this.mLoginHereLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"loginhere")},updatePrefabSize:function(){var e=cc.view.getVisibleSize();this.myVerificationView&&this.myVerificationView.init(0,0,e.width,e.height)}}),cc._RF.pop()},{"../Services/AuthServices":"AuthServices",SharedData:"SharedData",SharedFunction:"SharedFunction"}],ResetPassword:[function(e,t){"use strict";cc._RF.push(t,"43be0+hhopIQqJqZFWkh6X8","ResetPassword");var n=a(e("SharedFunction")),o=(a(e("SharedData")),a(e("../Services/AuthServices")));function a(e){return e&&e.__esModule?e:{default:e}}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=u(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};s(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(N([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function o(a,i,r,c){var s=u(e[a],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,c)},function(e){o("throw",e,r,c)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,c)})}c(s.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=f,s(v,"constructor",f),s(f,"constructor",m),m.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,r,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new w(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},b(v),s(v,c,"Generator"),s(v,a,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=N,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function r(e,t,n,o,a,i,r){try{var c=e[i](r),s=c.value}catch(error){return void n(error)}c.done?t(s):Promise.resolve(s).then(o,a)}cc.Class({extends:cc.Component,properties:{mCallBack:null,mBackground:{default:null,type:cc.Node},myErrorLabel:{default:null,type:cc.Node},myError2Label:{default:null,type:cc.Node},mPasswordInput:{default:null,type:cc.Node},mConfirmPasswordInput:{default:null,type:cc.Node},mPasswordLabel:{default:null,type:cc.Node},mPasswordHolderLabel:{default:null,type:cc.Node},mConfirmPasswordLabel:{default:null,type:cc.Node},mConfirmPasswordHolderLabel:{default:null,type:cc.Node},mConfirmLabel:{default:null,type:cc.Node},mTitleLabel:{default:null,type:cc.Node},mDescLabel:{default:null,type:cc.Node},i18nJson:{default:null,type:cc.JsonAsset},myShowPassBtn:{default:null,type:cc.Node},myConfirmShowPassBtn:{default:null,type:cc.Node},mUsername:"",mOtp:"",mPasswordResetType:"sms"},onLoad:function(){this.localizeUI()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},setCallBack:function(e,t){void 0===t&&(t="LOBBY"),this.mCallBack=e,this.isFrom=t},updateView:function(e,t,n,o){void 0===o&&(o="reset"),this.localizeUI(),this.mCallBack=e,this.mUsername=t,this.mOtp=n||localStorage.getItem("reset_password_otp")||"",this.mPasswordResetType=o,this.mBackground.active=!0,this.myErrorLabel&&(this.myErrorLabel.active=!1),this.myError2Label&&(this.myError2Label.active=!1),this.node.opacity=255,this.mPasswordInput&&(this.mPasswordInput.getComponent(cc.EditBox).string=""),this.mConfirmPasswordInput&&(this.mConfirmPasswordInput.getComponent(cc.EditBox).string="");var a=this.mBackground.getChildByName("resetpassword_bg");a&&(a.setScale(0),cc.tween(a).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start())},myCloseButtonDidPressed:function(){var e=this;n.default.playButtonClickSound();var t=this.mBackground.getChildByName("resetpassword_bg");t&&cc.tween(t).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){e.mCallBack&&e.mCallBack.onResetPasswordViewCloseButtonDidPressed()}).start()},onSubmitButtonDidPressed:function(){var e,t=this;return(e=i().mark(function e(){var a,r,c,s,l,u;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.default.playButtonClickSound(),a=t.mPasswordInput.getComponent(cc.EditBox).string,r=t.mConfirmPasswordInput.getComponent(cc.EditBox).string,0!=a.length){e.next=6;break}return t.showLableError(t.myErrorLabel,n.default.getLocalizedString(t.i18nJson,"newPasswordHolder")),e.abrupt("return");case 6:if(0!=r.length){e.next=9;break}return t.showLableError(t.myError2Label||t.myErrorLabel,n.default.getLocalizedString(t.i18nJson,"confirmPasswordHolder")),e.abrupt("return");case 9:if(a==r){e.next=12;break}return t.showLableError(t.myError2Label||t.myErrorLabel,n.default.getLocalizedString(t.i18nJson,"invalidBothPassword")),e.abrupt("return");case 12:return n.default.showLoadingView("",t),e.prev=13,c={username:t.mUsername,otp:t.mOtp,newPassword:a,type:t.mPasswordResetType},e.next=17,o.default.resetPassword(c);case 17:200==(s=e.sent).status||s.success?(s.message||n.default.getLocalizedString(t.i18nJson,"resetSuccess"),t.mPasswordInput.getComponent(cc.EditBox).string="",t.mConfirmPasswordInput.getComponent(cc.EditBox).string="",n.default.showAlertView(s.message||n.default.getLocalizedString(t.i18nJson,"resetSuccess"),t,function(){t.mCallBack&&t.mCallBack.onResetPasswordViewCloseButtonDidPressed()})):(l=s.message||n.default.getLocalizedString(t.i18nJson,"resetSuccess"),t.showLableError(t.myError2Label||t.myErrorLabel,n.default.getLocalizedString(t.i18nJson,l))),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(13),u=e.t0.message||n.default.getLocalizedString(t.i18nJson,"resetFailed"),t.showLableError(t.myError2Label||t.myErrorLabel,n.default.getLocalizedString(t.i18nJson,u));case 25:n.default.hideLoadingView(t);case 26:case"end":return e.stop()}},e,null,[[13,21]])}),function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function c(e){r(i,o,a,c,s,"next",e)}function s(e){r(i,o,a,c,s,"throw",e)}c(void 0)})})()},onTogglePassBtnDidPress:function(){n.default.playButtonClickSound();var e=this.myShowPassBtn,t=this.myConfirmShowPassBtn,o=this.mPasswordInput,a=this.mConfirmPasswordInput,i=(o.getComponent(cc.EditBox).string,o.getComponent(cc.EditBox).inputFlag);i==cc.EditBox.InputFlag.PASSWORD||null==i?(cc.loader.loadRes("images/login/iconShow.png",cc.SpriteFrame,function(n,o){e.getComponent(cc.Sprite).spriteFrame=o,t.getComponent(cc.Sprite).spriteFrame=o}),o.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.DEFAULT,a.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.DEFAULT):(cc.loader.loadRes("images/login/iconHide.png",cc.SpriteFrame,function(n,o){e.getComponent(cc.Sprite).spriteFrame=o,t.getComponent(cc.Sprite).spriteFrame=o}),o.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.PASSWORD,a.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.PASSWORD)},showLableError:function(e,t){this.myErrorLabel&&(this.myErrorLabel.active=!1),this.myError2Label&&(this.myError2Label.active=!1),e&&(e.getComponent(cc.Label).string=t,e.active=!0,cc.tween(e).to(1/12,{scale:1.1}).to(1/12,{scale:1}).start())},localizeUI:function(){this.mTitleLabel&&(this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"title")||"Reset Password"),this.mDescLabel&&(this.mDescLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"description")||"Please enter your new password below."),this.mPasswordLabel&&(this.mPasswordLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"password")||"Password"),this.mConfirmPasswordLabel&&(this.mConfirmPasswordLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirmPassword")||"Confirm Password"),this.mConfirmLabel&&(this.mConfirmLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirm")||"Confirm"),this.mPasswordHolderLabel&&(this.mPasswordHolderLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"newPasswordHolder")||"Enter New Password"),this.mConfirmPasswordHolderLabel&&(this.mConfirmPasswordHolderLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirmPasswordHolder")||"Enter Confirm Password")},updatePrefabSize:function(){var e=cc.view.getVisibleSize();this.mBackground&&(this.mBackground.width=e.width,this.mBackground.height=e.height)}}),cc._RF.pop()},{"../Services/AuthServices":"AuthServices",SharedData:"SharedData",SharedFunction:"SharedFunction"}],Settings:[function(e,t){"use strict";cc._RF.push(t,"88701VNBb1MI4ehKc6MODZ0","Settings");var n=i(e("SharedFunction")),o=i(e("SharedData")),a=i(e("../Services/UserService"));function i(e){return e&&e.__esModule?e:{default:e}}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=u(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};s(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(N([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function o(a,i,r,c){var s=u(e[a],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,c)},function(e){o("throw",e,r,c)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,c)})}c(s.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=f,s(v,"constructor",f),s(f,"constructor",m),m.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new w(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},b(v),s(v,c,"Generator"),s(v,a,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=N,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function c(e,t,n,o,a,i,r){try{var c=e[i](r),s=c.value}catch(error){return void n(error)}c.done?t(s):Promise.resolve(s).then(o,a)}cc.Class({extends:cc.Component,properties:{mCallBack:null,mCurrentFocusTab:"Sound",mBackground:{default:null,type:cc.Node},myScrollView:{default:null,type:cc.Node},mySoundTabBtn:{default:null,type:cc.Node},myChangePassTabBtn:{default:null,type:cc.Node},myVersionTabBtn:{default:null,type:cc.Node},myLogoutTabBtn:{default:null,type:cc.Node},myMusicBtn:{default:null,type:cc.Node},myMuteBtn:{default:null,type:cc.Node},mySoundBtn:{default:null,type:cc.Node},myShowCurrPassBtn:{default:null,type:cc.Node},myShowNewPassBtn:{default:null,type:cc.Node},myShowConPassBtn:{default:null,type:cc.Node},myCurrPassInput:{default:null,type:cc.Node},myNewPassInput:{default:null,type:cc.Node},myConPassInput:{default:null,type:cc.Node},myMainContainer:{default:null,type:cc.Node},myLogoutContainer:{default:null,type:cc.Node},mySoundContainer:{default:null,type:cc.Node},myChangePassContainer:{default:null,type:cc.Node},myVersionContainer:{default:null,type:cc.Node},mFocusTabImg:{default:null,type:cc.SpriteFrame},mNormalTabImg:{default:null,type:cc.SpriteFrame},mOnSwitchImg:{default:null,type:cc.SpriteFrame},mOffSwitchImg:{default:null,type:cc.SpriteFrame},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node},mSoundTabLabel:{default:null,type:cc.Node},mChangePassTabLabel:{default:null,type:cc.Node},mVersionTabLabel:{default:null,type:cc.Node},mLogoutTabLabel:{default:null,type:cc.Node},mMusicLabel:{default:null,type:cc.Node},mMuteLabel:{default:null,type:cc.Node},mSoundLabel:{default:null,type:cc.Node},mMusicSwitchLabel:{default:null,type:cc.Node},mMuteSwitchLabel:{default:null,type:cc.Node},mSoundSwitchLabel:{default:null,type:cc.Node},mCurrentPassLabel:{default:null,type:cc.Node},mNewPassLabel:{default:null,type:cc.Node},mConfirmPassLabel:{default:null,type:cc.Node},myError1Label:{default:null,type:cc.Node},myError2Label:{default:null,type:cc.Node},myError3Label:{default:null,type:cc.Node},mConfirmLabel:{default:null,type:cc.Node},mLogoutLabel:{default:null,type:cc.Node},mDescLabel:{default:null,type:cc.Node},mNoLabel:{default:null,type:cc.Node},mYesLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},updateView:function(e){this.localizeUI(),this.mCallBack=e,this.mCurrentFocusTab="Sound",this.mBackground.active=!0,this.node.opacity=255,this.myLogoutContainer.active=!1,this.myMainContainer.active=!0,this.myError1Label.active=!1,this.myError2Label.active=!1,this.myError3Label.active=!1,this.onSettingsTabDidPressed("","Sound",!0),!o.default.getMuteStatus()&&o.default.getPlayBackgroundMusicSoundStatus()?(this.myMusicBtn.getComponent(cc.Sprite).spriteFrame=this.mOnSwitchImg,this.myMusicBtn.getChildByName("btnSwitch").setPosition(cc.v2(28,0)),this.myMusicBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25,1))):(this.myMusicBtn.getComponent(cc.Sprite).spriteFrame=this.mOffSwitchImg,this.myMusicBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28,0)),this.myMusicBtn.getChildByName("lblSwitch").setPosition(cc.v2(19,1))),!o.default.getMuteStatus()&&o.default.getPlayButtonClickSoundStatus()?(this.mySoundBtn.getComponent(cc.Sprite).spriteFrame=this.mOnSwitchImg,this.mySoundBtn.getChildByName("btnSwitch").setPosition(cc.v2(28,0)),this.mySoundBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25,1))):(this.mySoundBtn.getComponent(cc.Sprite).spriteFrame=this.mOffSwitchImg,this.mySoundBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28,0)),this.mySoundBtn.getChildByName("lblSwitch").setPosition(cc.v2(19,1))),o.default.getMuteStatus()?(this.myMuteBtn.getComponent(cc.Sprite).spriteFrame=this.mOnSwitchImg,this.myMuteBtn.getChildByName("btnSwitch").setPosition(cc.v2(28,0)),this.myMuteBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25,1))):(this.myMuteBtn.getComponent(cc.Sprite).spriteFrame=this.mOffSwitchImg,this.myMuteBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28,0)),this.myMuteBtn.getChildByName("lblSwitch").setPosition(cc.v2(19,1))),n.default.isLoggedIn()?(this.myVersionTabBtn.y=-43,this.myChangePassTabBtn.active=!0,this.myLogoutTabBtn.active=!0):(this.myVersionTabBtn.y=49,this.myChangePassTabBtn.active=!1,this.myLogoutTabBtn.active=!1),this.myCurrPassInput.getComponent(cc.EditBox).string="",this.myNewPassInput.getComponent(cc.EditBox).string="",this.myConPassInput.getComponent(cc.EditBox).string="";var t=this;cc.loader.loadRes("images/login/iconHide.png",cc.SpriteFrame,function(e,n){t.myShowCurrPassBtn.getComponent(cc.Sprite).spriteFrame=n,t.myShowNewPassBtn.getComponent(cc.Sprite).spriteFrame=n,t.myShowConPassBtn.getComponent(cc.Sprite).spriteFrame=n});var a=this.mBackground.getChildByName("settings_bg");a.setScale(0),cc.tween(a).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},setCallBack:function(e){this.mCallBack=e},myCloseButtonDidPressed:function(e,t,o){var a=this;o||n.default.playButtonClickSound();var i=this.mBackground.getChildByName("settings_bg");cc.tween(i).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){a.mCallBack&&a.mCallBack.onSettingsCloseButtonDidPressed()}).start()},onSettingsTabDidPressed:function(e,t,o){o||n.default.playButtonClickSound(),this.mySoundTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myChangePassTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.myVersionTabBtn.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg,this.mySoundTabBtn.getChildByName("lblSound").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.mySoundTabBtn.getChildByName("lblSound").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myChangePassTabBtn.getChildByName("lblChangePassword").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myChangePassTabBtn.getChildByName("lblChangePassword").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.myVersionTabBtn.getChildByName("lblVersion").getComponent(cc.LabelOutline).color=new cc.color("#014D92"),this.myVersionTabBtn.getChildByName("lblVersion").getComponent(cc.LabelShadow).color=new cc.color("#01277E"),this.mySoundContainer.active=!1,this.myChangePassContainer.active=!1,this.myVersionContainer.active=!1,"Sound"==t?(this.mySoundTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.mySoundTabBtn.getChildByName("lblSound").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.mySoundTabBtn.getChildByName("lblSound").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.mySoundContainer.active=!0):"ChangePassword"==t?(this.myChangePassTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myChangePassTabBtn.getChildByName("lblChangePassword").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myChangePassTabBtn.getChildByName("lblChangePassword").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myChangePassContainer.active=!0):"Version"==t&&(this.myVersionTabBtn.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.myVersionTabBtn.getChildByName("lblVersion").getComponent(cc.LabelOutline).color=new cc.color("#7F0794"),this.myVersionTabBtn.getChildByName("lblVersion").getComponent(cc.LabelShadow).color=new cc.color("#6B017E"),this.myVersionContainer.active=!0),this.mCurrentFocusTab=t},onLogoutTabDidPressed:function(){n.default.playButtonClickSound(),this.myMainContainer.active=!1,this.myLogoutContainer.active=!0},onLogoutDecisionDidPressed:function(e,t){n.default.playButtonClickSound(),"No"==t?(this.myLogoutContainer.active=!1,this.myMainContainer.active=!0):(n.default.logout(),cc.director.loadScene("Splash"))},onTogglePassBtnDidPress:function(e,t){n.default.playButtonClickSound();var o=this.myShowCurrPassBtn,a=this.myCurrPassInput;"NewPassword"==t?(o=this.myShowNewPassBtn,a=this.myNewPassInput):"ConfirmPassword"==t&&(o=this.myShowConPassBtn,a=this.myConPassInput);var i=a.getComponent(cc.EditBox).inputFlag;i==cc.EditBox.InputFlag.PASSWORD||null==i?(cc.loader.loadRes("images/login/iconShow.png",cc.SpriteFrame,function(e,t){o.getComponent(cc.Sprite).spriteFrame=t}),a.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.DEFAULT):(cc.loader.loadRes("images/login/iconHide.png",cc.SpriteFrame,function(e,t){o.getComponent(cc.Sprite).spriteFrame=t}),a.getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.PASSWORD)},onToggleSoundSettingDidPress:function(e,t){"Music"==t?o.default.getMuteStatus()||(o.default.getPlayBackgroundMusicSoundStatus()?(n.default.stopLobbyBackgroundMusic(),o.default.setPlayBackgroundMusicSoundStatus(!1),this.myMusicBtn.getComponent(cc.Sprite).spriteFrame=this.mOffSwitchImg,this.myMusicBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28,0)),this.myMusicBtn.getChildByName("lblSwitch").setPosition(cc.v2(19,1))):(o.default.setPlayBackgroundMusicSoundStatus(!0),n.default.playLobbyBackgroundMusic(),this.myMusicBtn.getComponent(cc.Sprite).spriteFrame=this.mOnSwitchImg,this.myMusicBtn.getChildByName("btnSwitch").setPosition(cc.v2(28,0)),this.myMusicBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25,1)))):"Sound"==t?o.default.getMuteStatus()||(o.default.getPlayButtonClickSoundStatus()?(o.default.setPlayButtonClickSoundStatus(!1),this.mySoundBtn.getComponent(cc.Sprite).spriteFrame=this.mOffSwitchImg,this.mySoundBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28,0)),this.mySoundBtn.getChildByName("lblSwitch").setPosition(cc.v2(19,1))):(o.default.setPlayButtonClickSoundStatus(!0),this.mySoundBtn.getComponent(cc.Sprite).spriteFrame=this.mOnSwitchImg,this.mySoundBtn.getChildByName("btnSwitch").setPosition(cc.v2(28,0)),this.mySoundBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25,1)))):"Mute"==t&&(o.default.getMuteStatus()?(o.default.setMuteStatus(!1),this.myMuteBtn.getComponent(cc.Sprite).spriteFrame=this.mOffSwitchImg,this.myMuteBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28,0)),this.myMuteBtn.getChildByName("lblSwitch").setPosition(cc.v2(19,1)),o.default.getPlayBackgroundMusicSoundStatus()&&(n.default.playLobbyBackgroundMusic(),this.myMusicBtn.getComponent(cc.Sprite).spriteFrame=this.mOnSwitchImg,this.myMusicBtn.getChildByName("btnSwitch").setPosition(cc.v2(28,0)),this.myMusicBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25,1))),o.default.getPlayButtonClickSoundStatus()&&(this.mySoundBtn.getComponent(cc.Sprite).spriteFrame=this.mOnSwitchImg,this.mySoundBtn.getChildByName("btnSwitch").setPosition(cc.v2(28,0)),this.mySoundBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25,1)))):(o.default.setMuteStatus(!0),this.myMuteBtn.getComponent(cc.Sprite).spriteFrame=this.mOnSwitchImg,this.myMuteBtn.getChildByName("btnSwitch").setPosition(cc.v2(28,0)),this.myMuteBtn.getChildByName("lblSwitch").setPosition(cc.v2(-25,1)),o.default.getPlayBackgroundMusicSoundStatus()&&(n.default.stopLobbyBackgroundMusic(),this.myMusicBtn.getComponent(cc.Sprite).spriteFrame=this.mOffSwitchImg,this.myMusicBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28,0)),this.myMusicBtn.getChildByName("lblSwitch").setPosition(cc.v2(19,1))),o.default.getPlayButtonClickSoundStatus()&&(this.mySoundBtn.getComponent(cc.Sprite).spriteFrame=this.mOffSwitchImg,this.mySoundBtn.getChildByName("btnSwitch").setPosition(cc.v2(-28,0)),this.mySoundBtn.getChildByName("lblSwitch").setPosition(cc.v2(19,1)))))},onConfirmChangePassBtnDidPress:function(){var e,t=this;return(e=r().mark(function e(){var o,i,c,s,l,u;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.default.playButtonClickSound(),o=t.myCurrPassInput.getComponent(cc.EditBox).string,i=t.myNewPassInput.getComponent(cc.EditBox).string,c=t.myConPassInput.getComponent(cc.EditBox).string,0!=o.length){e.next=7;break}return t.showLableError(t.myError1Label,n.default.getLocalizedString(t.i18nJson,"currentPasswordHolder")),e.abrupt("return");case 7:if(n.default.RangeCheck(o)){e.next=10;break}return t.showLableError(t.myError1Label,n.default.getLocalizedString(t.i18nJson,"invalidCurrentPassword")),e.abrupt("return");case 10:if(0!=i.length){e.next=13;break}return t.showLableError(t.myError2Label,n.default.getLocalizedString(t.i18nJson,"newPasswordHolder")),e.abrupt("return");case 13:if(n.default.RangeCheck(i)){e.next=16;break}return t.showLableError(t.myError2Label,n.default.getLocalizedString(t.i18nJson,"invalidNewPassword")),e.abrupt("return");case 16:if(0!=c.length){e.next=19;break}return t.showLableError(t.myError3Label,n.default.getLocalizedString(t.i18nJson,"confirmPasswordHolder")),e.abrupt("return");case 19:if(n.default.RangeCheck(c)){e.next=22;break}return t.showLableError(t.myError3Label,n.default.getLocalizedString(t.i18nJson,"invalidConfirmPassword")),e.abrupt("return");case 22:if(i==c){e.next=25;break}return t.showLableError(t.myError3Label,n.default.getLocalizedString(t.i18nJson,"invalidBothPassword")),e.abrupt("return");case 25:return e.prev=26,s=localStorage.getItem("token"),l={currentPassword:o,newPassword:i},e.next=31,a.default.changePassword(s,l);case 31:u=e.sent,console.log(u),Object.keys(u).length>0&&(200==u.status&&(localStorage.setItem("verified_password",i),t.myCurrPassInput.getComponent(cc.EditBox).string="",t.myNewPassInput.getComponent(cc.EditBox).string="",t.myConPassInput.getComponent(cc.EditBox).string="",t.myError1Label.active=!1,t.myError2Label.active=!1,t.myError3Label.active=!1),t.showLableError(t.myError3Label,u.message)),e.next=40;break;case 36:e.prev=36,e.t0=e.catch(26),t.showLableError(t.myError3Label,e.t0.message),n.default.hideLoadingView(t);case 40:case"end":return e.stop()}},e,null,[[26,36]])}),function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function r(e){c(i,o,a,r,s,"next",e)}function s(e){c(i,o,a,r,s,"throw",e)}r(void 0)})})()},showLableError:function(e,t){this.myError1Label.active=!1,this.myError2Label.active=!1,this.myError3Label.active=!1,e&&(this.myScrollView.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,-1*e.y-160),.1,!1),e.getComponent(cc.Label).string=t,e.active=!0,cc.tween(e).to(1/12,{scale:1.1}).to(1/12,{scale:1}).start())},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"title"),this.mSoundTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"sound"),this.mChangePassTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"changePassword"),this.mVersionTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"version"),this.mLogoutTabLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"logout"),this.mMusicLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"music"),this.mMuteLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"mute"),this.mSoundLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"sound"),this.mMusicSwitchLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,!o.default.getMuteStatus()&&o.default.getPlayBackgroundMusicSoundStatus()?"on":"off"),this.mSoundSwitchLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,o.default.getMuteStatus()&&o.default.getPlayButtonClickSoundStatus()?"on":"off"),this.mMuteSwitchLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,o.default.getMuteStatus()?"on":"off"),this.mCurrentPassLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"currentPassword"),this.mNewPassLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"newPassword"),this.mConfirmPassLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirmPassword"),this.mConfirmLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"confirm"),this.mLogoutLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"logout"),this.mDescLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"logoutDesc"),this.mNoLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"no"),this.mYesLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"yes")},updatePrefabSize:function(){cc.view.getVisibleSize()}}),cc._RF.pop()},{"../Services/UserService":"UserService",SharedData:"SharedData",SharedFunction:"SharedFunction"}],SharedData:[function(e,t){"use strict";cc._RF.push(t,"8a39ahuQfJK6ZZhZLQy8PFQ","SharedData");var n={},o={},a={},i=[],r={},c=null,s={},l={},u={},d={},h={},m={},f=null,p=null,g={},y=[],v={},b={},w="0",C="",L=!1,S=!1,B="",N="",P="",D="",x="",k="",V="",T="",E="+880",I={},_=0,F="",A=[],G={},O=[],R=[],M=null;n.showTopupOnLobbyLoad=!1,n.getCurrentEnv=function(){return n.getAvailableEnvironment().ENV_DEVELOPMENT},n.getAvailableEnvironment=function(){return{ENV_DEVELOPMENT:"development",ENV_STAGING:"staging",ENV_PRODUCTION:"production"}},n.getApiUrl=function(){return n.getCurrentEnv()==n.getAvailableEnvironment().ENV_DEVELOPMENT?"https://aics.pusingzai.com":""},n.getTimeZone=function(){return"+8"},n.setCurrentLanguage=function(e){var t=null!=e?e:"en";localStorage.setItem("current_language",t)},n.getCurrentLanguage=function(){return null==localStorage.getItem("current_language")&&localStorage.setItem("current_language","en"),localStorage.getItem("current_language")},n.setPhoneCode=function(e){E=e},n.getPhoneCode=function(){return E},n.getCurrency=function(){return"BDT"},n.getPrefix=function(){return""},n.getVerificationStatus=function(){return!!o.hasOwnProperty("firstPasswordUpdate")&&!!o.hasOwnProperty("phoneNumber")&&""!=o.phoneNumber&&0!=o.firstPasswordUpdate},n.setPopoutItem=function(e){M=e},n.getPopoutItem=function(){return M},n.setWithdrawObject=function(e){u=e},n.getWithdrawObject=function(){return u},n.setReferralObject=function(e){g=e},n.getReferralObject=function(){return g},n.setPaymentsProviderObject=function(e){y=e},n.getPaymentsProviderObject=function(){return y},n.setVipList=function(e){v=e},n.getVipList=function(){return v},n.setVerifyPromo=function(e){var t=0;1==e.status&&null!=e.amount&&""!=e.amount&&(t=e.amount),w=t},n.getVerifyPromo=function(){return w},n.setAab=function(e){L=1==e},n.getAab=function(){return L},n.setIsApp=function(e){S=1==e},n.getIsApp=function(){return S},n.setVersion=function(e){B=null!=e?e:""},n.getVersion=function(){return B},n.setBundleId=function(e){N=null!=e?e:""},n.getBundleId=function(){return""==N?"h5":N},n.setUuid=function(e){P=null!=e?e:""},n.getUuid=function(){return P},n.setDevice=function(e){D=null!=e?e:""},n.getDevice=function(){return D},n.setReferral=function(e){x=null!=e?e:""},n.getReferral=function(){return x},n.setAgentCode=function(e){k=null!=e?e:""},n.getAgentCode=function(){return k},n.setFbclid=function(e){V=null!=e?e:""},n.getFbclid=function(){return V},n.setMetaId=function(e){T=null!=e?e:""},n.getMetaId=function(){return T},n.guard=function(){var e=n.getAab(),t=n.getVerificationStatus(),o=n.getUserObject(),a=""!=(null==o?void 0:o.firstDepositDate);return e?t?a?"download":"alert":"verification":t?"proceed":"verification"},n.gameGuard=function(){var e=n.getAab(),t=n.getVerificationStatus(),o=n.getUserObject(),a=""!=(null==o?void 0:o.firstDepositDate);return e?t?a?"download":"proceed":a?"verification":"proceed":t?"proceed":a?"verification":"proceed"},n.setUserObject=function(e){o=e},n.getUserObject=function(){return o.username&&(o.username=o.username.replace(n.getPrefix(),"")),o},n.setGameCategories=function(e){b=e},n.getGameCategories=function(){return b},n.setSelectedAvatar=function(e){localStorage.setItem("selected_avatar",e)},n.getSelectedAvatar=function(){return null==localStorage.getItem("selected_avatar")?1:localStorage.getItem("selected_avatar")},n.setPlayButtonClickSoundStatus=function(e){localStorage.setItem("playSound",e)},n.getPlayButtonClickSoundStatus=function(){var e=localStorage.getItem("playSound");return null==e||"true"==e},n.setPlayBackgroundMusicSoundStatus=function(e){localStorage.setItem("playMusic",e)},n.getPlayBackgroundMusicSoundStatus=function(){var e=localStorage.getItem("playMusic");return null==e||"true"==e},n.setMuteStatus=function(e){localStorage.setItem("Mute",e)},n.getMuteStatus=function(){var e=localStorage.getItem("Mute");return null!=e&&"true"==e},n.setGameList=function(e){for(var t=0;t<e.length;t++){var n=e[t],o=n.list;n.custom_list=[];for(var a=[],r=0;r<o.length;r++){var c=o[r];"square"==c.imageSize?(a.push(c),a.length>=2?(n.custom_list.push(a),a=[]):r==o.length-1&&(n.custom_list.push(a),a=[])):(a.push(c),n.custom_list.push(a),a=[])}e[t]=n}i=e},n.getGameList=function(){return i},n.setSocialMediaObject=function(e){a=e},n.getSocialMediaObject=function(){return a},n.setLiveChat=function(e){C=e},n.getLiveChat=function(){return C},n.setAccumulateDepositObject=function(e){r=e},n.getAccumulateDepositObject=function(){return r},n.setWelcomeBonusObject=function(e){c=e},n.getWelcomeBonusObject=function(){return c},n.setPromotionObject=function(e){s=e},n.getPromotionObject=function(){return s},n.setMissionDataObject=function(e){l=e},n.getMissionDataObject=function(){return l},n.setWeekCardDataObject=function(e){d=e},n.getWeekCardDataObject=function(){return d},n.setReliefFundDataObject=function(e){h=e},n.getReliefFundDataObject=function(){return h},n.setSignInRecordObject=function(e){m=e},n.getSignInRecordObject=function(){return m},n.setSignInViewInfoObject=function(e){f=e},n.getSignInViewInfoObject=function(){return f},n.setIncentiveDataObject=function(e){p=e},n.getIncentiveDataObject=function(){return p},n.setGameViewData=function(e){I=e},n.getGameViewData=function(){return I},n.setNewMessageCount=function(e){_=e},n.getNewMessageCount=function(){return _},n.setLandingAlertMessage=function(e){F=e},n.getLandingAlertMessage=function(){return F},n.setAnnouncement=function(e){A=e},n.getAnnouncement=function(){return A},n.setMailBox=function(e){G=e},n.getMailBox=function(){return G},n.setBanner=function(e){O=e},n.getBanner=function(){return O},n.addCachedGameList=function(e){R.push(e)},n.getCachedGameList=function(){return R},n.clearCachedGameList=function(){R=[]},t.exports=n,cc._RF.pop()},{}],SharedFunction:[function(e,t){"use strict";cc._RF.push(t,"23b74OhfdpP6aZ59+eHb9i6","SharedFunction");var n,o=(n=e("SharedData"))&&n.__esModule?n:{default:n};function a(){a=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=u(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};s(p,i,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(N([])));y&&y!==t&&n.call(y,i)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function o(a,i,r,c){var s=u(e[a],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,c)},function(e){o("throw",e,r,c)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,c)})}c(s.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=f,s(v,"constructor",f),s(f,"constructor",m),m.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,r,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new w(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},b(v),s(v,c,"Generator"),s(v,i,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=N,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function i(e,t,n,o,a,i,r){try{var c=e[i](r),s=c.value}catch(error){return void n(error)}c.done?t(s):Promise.resolve(s).then(o,a)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var r=e.apply(t,n);function c(e){i(r,o,a,c,s,"next",e)}function s(e){i(r,o,a,c,s,"throw",e)}c(void 0)})}}var c={},s=null,l=null,u=null,d=null;c.isMobile=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},c.getMobileOperatingSystem=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?"Windows Phone":/android/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":"unknown"},c.callingAPI=function(t,n,o,a){var i=e("SharedData").getApiUrl()+n,r="";for(var c in o)r+=(""==r?"":"&")+c+"="+o[c];"GET"==t&&(i=i+"?"+r);var s=cc.loader.getXMLHttpRequest();s.open(t,i),"GET"==t?(s.setRequestHeader("Content-Type","text/plain"),s.send()):(s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send(r)),s.onreadystatechange=function(){4==s.readyState&&s.status>=200&&s.status<=207?a(JSON.parse(s.responseText)):a(s.responseText)}},c.pad=function(e){return e<10?"0"+e:e},c.chour=function(e){return 0==e?e+12:(e>12&&(e-=12),e)},c.showNumberWithDecimal=function(e,t){return parseFloat(Math.round(e*Math.pow(10,t))/Math.pow(10,t)).toFixed(t)},c.showNumberWithComma=function(e){return parseInt(e).toLocaleString()},c.numberWithCommas=function(e){var t=e.toString().replace(/,/g,"");return o.default.getCurrency()+" "+Number.parseFloat(t).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})},c.showNumberWithDecimalAndComma=function(e,t){return parseFloat(Math.round(e*Math.pow(10,t))/Math.pow(10,t)).toFixed(t).toLocaleString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},c.getActualWidth=function(e){return e*(cc.view.getFrameSize().width/640)},c.getActualHeight=function(e){return e*(cc.view.getFrameSize().height/1136)},c.getScale=function(e,t){var n=cc.view.getFrameSize().width,o=cc.view.getFrameSize().height,a=e,i=t;e>n&&t>o&&(a=e/2,i=t/2);var r=n/a,c=o/i;return n>o?r.toFixed(1)==c.toFixed(1)?1:n/o>e/t?1:1-(r>c?r-c:c-r):Math.min(r,c)},c.setCookie=function(e,t,n){var o=new Date;o.setTime(o.getTime()+864e5*n);var a="expires="+o.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"},c.getCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var a=n[o];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""},c.playButtonClickSound=function(){o.default.getPlayButtonClickSoundStatus()&&!o.default.getMuteStatus()&&cc.loader.loadRes("sounds/button_click",cc.AudioClip,function(e,t){cc.audioEngine.play(t,!1,1)})},c.playLobbyBackgroundMusic=function(){cc.audioEngine.stopAll(),o.default.getPlayBackgroundMusicSoundStatus()&&!o.default.getMuteStatus()&&cc.loader.loadRes("sounds/background_music",cc.AudioClip,function(e,t){cc.audioEngine.play(t,!0,1)})},c.stopLobbyBackgroundMusic=function(){cc.audioEngine.stopAll()},c.playLobbyBackgroundMusicForExitsGame=function(){this.playLobbyBackgroundMusic()},c.getRandomArbitrary=function(e,t){return Math.random()*(t-e)+e},c.setLoadingViewPrefabs=function(e){l=e},c.showLoadingView=function(e,t){void 0===e&&(e="");var n=function(){(s=cc.instantiate(l).getComponent("LoadingView")).init(0,0,1136,640),s.setText(e),t.node.addChild(s.node)};null==l?cc.resources.load("prefabs/LoadingView/LoadingView",cc.Prefab,function(e,t){e?console.error("Failed to load loadingView prefab:",e):(l=t,n())}):n()},c.updateLoadingView=function(e){void 0===e&&(e=""),null!=s&&s.setText(e)},c.hideLoadingView=function(e){null!=s&&null!=e&&null!=e.node&&e.node.removeChild(s.node)},c.setAlertViewPrefabs=function(e){d=e},c.showAlertView=function(e,t,n){void 0===e&&(e="");var o=function(){(u=cc.instantiate(d).getComponent("AlertView")).init(0,0,1136,640),u.setText(e),u.setTitle("Alert"),n&&"function"==typeof n&&u.setCallback(n),t.node.addChild(u.node)};null==d?cc.resources.load("prefabs/AlertView/AlertView",cc.Prefab,function(e,t){e?console.error("Failed to load alertView prefab:",e):(d=t,o())}):o()},c.hideAlertView=function(e){null!=u&&e.node.removeChild(u.node)},c.loadImgRes=function(e,t){cc.loader.loadRes(e,cc.SpriteFrame,function(e,n){e?cc.error(e.message||e):t.spriteFrame=n})},c.getQueryParam=function(e){return new URLSearchParams(window.location.search).get(e)},c.logout=function(){var e=r(a().mark(function e(t){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("from_index"),localStorage.removeItem("token"),localStorage.removeItem("verified_username"),localStorage.removeItem("verified_password"),c.hideLoadingView(t);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),c.isLoggedIn=function(){return null!=localStorage.getItem("verified_username")&&""!=localStorage.getItem("verified_username")&&null!=localStorage.getItem("verified_password")&&""!=localStorage.getItem("verified_password")&&null!=localStorage.getItem("token")&&""!=localStorage.getItem("token")},c.getTonightMidnight=function(){var e=new Date;return e.setHours(24,0,0,0),e.getTime()},c.setTodayData=function(e,t){var n={value:t,expiry:this.getTonightMidnight()};localStorage.setItem(e,JSON.stringify(n))},c.getTodayData=function(e,t){void 0===t&&(t=null);var n=localStorage.getItem(e);if(!n)return t;try{var o=JSON.parse(n);return(new Date).getTime()>o.expiry?(localStorage.removeItem(e),t):o.value}catch(error){return console.error("Error parsing stored item:",error),t}},c.getRandomAlphaNumeric=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="",o=t.length,a=0;a<e;a++)n+=t.charAt(Math.floor(Math.random()*o));return n},c.getRandomNumber=function(e,t){return parseInt(Math.random()*(t-e)+e)},c.getLocalizedString=function(e,t){var n=o.default.getCurrentLanguage();if(e&&e.json){var a=e.json[n];return a&&a[t]?a[t]:(console.warn('Missing localization for key: "'+t+'" in language: "'+n+'"'),t)}return console.error("Localization data is not loaded."),t},c.getDateRange=function(e){var t=new Date,n=new Date;n.setDate(t.getDate()-e);var o=function(e){return e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0")};return{from:o(n),to:o(t)}},c.getLocalDate=function(e){var t=new Date(e);return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+" "+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")+":"+String(t.getSeconds()).padStart(2,"0")},c.RangeCheck=function(e){return/^.{6,}$/.test(e)},c.EmailCheck=function(e){return/^(?=.*@)(?=.*\.).+$/.test(e)},c.passwordRegexCheck=function(e){return/^[a-zA-Z0-9]{6,20}$/.test(e)},c.usernameRegexCheck=function(e){return/^[a-z0-9]{6,12}$/.test(e)},c.tacCodeRegexCheck=function(e){return/^\d{4}$/.test(e)},c.formatString=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return e.replace(/\{(\d+)\}/g,function(e,t){return void 0!==n[t]?n[t]:e})},c.sendToApp=function(e){window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.send&&window.webkit.messageHandlers.send.postMessage({json:e}),window.android&&"function"==typeof window.android.send&&(console.log(JSON.stringify(window.android)),console.log(typeof window.android.send),window.android.send(e))},c.copyToClipboard=function(){var e=r(a().mark(function e(t){var n;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!navigator.clipboard){e.next=7;break}return e.next=4,navigator.clipboard.writeText(t);case 4:return e.abrupt("return",!0);case 7:return(n=document.createElement("textarea")).value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),e.abrupt("return",!0);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(0),e.t0 instanceof Error?alert("Failed to copy text: "+e.t0.message):alert("Failed to copy text: Unknown error"),e.abrupt("return",!1);case 20:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}(),t.exports=c,cc._RF.pop()},{SharedData:"SharedData"}],SimpleBirthdayPicker:[function(e,t){"use strict";cc._RF.push(t,"b4a39RLbABM5YcD+cVKKA8Q","SimpleBirthdayPicker"),cc.Class({extends:cc.Component,properties:{prevYearBtn:cc.Node,yearLabel:cc.Label,nextYearBtn:cc.Node,prevMonthBtn:cc.Node,monthLabel:cc.Label,nextMonthBtn:cc.Node,prevDayBtn:cc.Node,dayLabel:cc.Label,nextDayBtn:cc.Node,minYear:{default:1900,tooltip:"\u53ef\u9009\u7684\u6700\u5c0f\u5e74\u4efd"},maxYear:{default:0,tooltip:"\u53ef\u9009\u7684\u6700\u5927\u5e74\u4efd\uff080\u8868\u793a\u5f53\u524d\u5e74\u4efd\uff09"},_selectedYear:2e3,_selectedMonth:1,_selectedDay:1},onLoad:function(){0===this.maxYear&&(this.maxYear=(new Date).getFullYear()),this.initDate(),this.initEvents(),this.updateDisplay()},initDate:function(){this._selectedYear=2e3,this._selectedMonth=1,this._selectedDay=1},initEvents:function(){this.prevYearBtn.on("click",this.onPrevYear,this),this.nextYearBtn.on("click",this.onNextYear,this),this.prevMonthBtn.on("click",this.onPrevMonth,this),this.nextMonthBtn.on("click",this.onNextMonth,this),this.prevDayBtn.on("click",this.onPrevDay,this),this.nextDayBtn.on("click",this.onNextDay,this),this.addLongPressSupport()},onPrevYear:function(){this._selectedYear>this.minYear&&(this._selectedYear--,this.updateDayRange(),this.updateDisplay(),this.playButtonEffect(this.prevYearBtn))},onNextYear:function(){this._selectedYear<this.maxYear&&(this._selectedYear++,this.updateDayRange(),this.updateDisplay(),this.playButtonEffect(this.nextYearBtn))},onPrevMonth:function(){this._selectedMonth>1?this._selectedMonth--:(this._selectedMonth=12,this._selectedYear>this.minYear&&this._selectedYear--),this.updateDayRange(),this.updateDisplay(),this.playButtonEffect(this.prevMonthBtn)},onNextMonth:function(){this._selectedMonth<12?this._selectedMonth++:(this._selectedMonth=1,this._selectedYear<this.maxYear&&this._selectedYear++),this.updateDayRange(),this.updateDisplay(),this.playButtonEffect(this.nextMonthBtn)},onPrevDay:function(){var e=this.getDaysInMonth();if(!(this._selectedDay>1))return this._selectedDay=e,void this.onPrevMonth();this._selectedDay--,this.updateDisplay(),this.playButtonEffect(this.prevDayBtn)},onNextDay:function(){var e=this.getDaysInMonth();if(!(this._selectedDay<e))return this._selectedDay=1,void this.onNextMonth();this._selectedDay++,this.updateDisplay(),this.playButtonEffect(this.nextDayBtn)},getDaysInMonth:function(){return new Date(this._selectedYear,this._selectedMonth,0).getDate()},updateDayRange:function(){var e=this.getDaysInMonth();this._selectedDay>e&&(this._selectedDay=e)},updateDisplay:function(){this.yearLabel.string=this._selectedYear+"\u5e74",this.monthLabel.string=this._selectedMonth+"\u6708",this.dayLabel.string=this._selectedDay+"\u65e5"},playButtonEffect:function(e){cc.tween(e).to(.1,{scale:.9}).to(.1,{scale:1}).start()},addLongPressSupport:function(){var e=this;[{node:this.prevYearBtn,action:"onPrevYear"},{node:this.nextYearBtn,action:"onNextYear"},{node:this.prevMonthBtn,action:"onPrevMonth"},{node:this.nextMonthBtn,action:"onNextMonth"},{node:this.prevDayBtn,action:"onPrevDay"},{node:this.nextDayBtn,action:"onNextDay"}].forEach(function(t){var n=null,o=!1;t.node.on(cc.Node.EventType.TOUCH_START,function(){n=setTimeout(function(){o=!0,e.schedule(function(){o&&e[t.action]()},.1)},500)}),t.node.on(cc.Node.EventType.TOUCH_END,function(){n&&(clearTimeout(n),n=null),o=!1,e.unscheduleAllCallbacks()}),t.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){n&&(clearTimeout(n),n=null),o=!1,e.unscheduleAllCallbacks()})})},getBirthday:function(){return new Date(this._selectedYear,this._selectedMonth-1,this._selectedDay)},getBirthdayString:function(e){void 0===e&&(e="YYYY-MM-DD");var t=this._selectedYear.toString(),n=this._selectedMonth.toString().padStart(2,"0"),o=this._selectedDay.toString().padStart(2,"0");return e.replace("YYYY",t).replace("MM",n).replace("DD",o).replace("YY",t.slice(-2)).replace("M",this._selectedMonth.toString()).replace("D",this._selectedDay.toString())},setBirthday:function(e,t,n){if(void 0!==e){if(e<this.minYear||e>this.maxYear)return cc.warn("\u5e74\u4efd "+e+" \u8d85\u51fa\u8303\u56f4 ["+this.minYear+", "+this.maxYear+"]"),!1;this._selectedYear=e}if(void 0!==t){if(t<1||t>12)return cc.warn("\u6708\u4efd "+t+" \u65e0\u6548\uff0c\u5e94\u4e3a 1-12"),!1;this._selectedMonth=t}if(void 0!==n){var o=this.getDaysInMonth();if(n<1||n>o)return cc.warn("\u65e5\u671f "+n+" \u65e0\u6548\uff0c\u672c\u6708\u5929\u6570\u4e3a "+o),!1;this._selectedDay=n}return this.updateDisplay(),!0},setBirthdayFromDate:function(e){return e instanceof Date?this.setBirthday(e.getFullYear(),e.getMonth()+1,e.getDate()):(cc.error("\u53c2\u6570\u5fc5\u987b\u662fDate\u5bf9\u8c61"),!1)},reset:function(){this.initDate(),this.updateDisplay()},checkLimits:function(){return{yearMin:this._selectedYear<=this.minYear,yearMax:this._selectedYear>=this.maxYear,monthMin:this._selectedMonth<=1,monthMax:this._selectedMonth>=12,dayMin:this._selectedDay<=1,dayMax:this._selectedDay>=this.getDaysInMonth()}}}),cc._RF.pop()},{}],Splash:[function(e,t){"use strict";cc._RF.push(t,"ac950Z2/3NP/INGeuWmFOi0","Splash");var n,o=c(e("../lib/SharedFunction")),a=c(e("../lib/SharedData")),i=c(e("../Services/AuthServices")),r=c(e("../Services/GameService"));function c(e){return e&&e.__esModule?e:{default:e}}function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(D){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=u(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};c(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(N([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function o(a,i,r,c){var s=u(e[a],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,c)},function(e){o("throw",e,r,c)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,c)})}c(s.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=f,c(v,"constructor",f),c(f,"constructor",m),m.displayName=c(f,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,r,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new w(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},b(v),c(v,r,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=N,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function l(e,t,n,o,a,i,r){try{var c=e[i](r),s=c.value}catch(error){return void n(error)}c.done?t(s):Promise.resolve(s).then(o,a)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function r(e){l(i,o,a,r,c,"next",e)}function c(e){l(i,o,a,r,c,"throw",e)}r(void 0)})}}var d,h=cc.Enum({CHECKMAINTENANCE:0,GETINITDATA:1,LOGIN:2,GETDATA:3,SUCCESS:4,PRELOAD:5});cc.Class({extends:cc.Component,properties:(n={myLoginView:null,myLanguageView:null,mProgressBar:{default:null,type:cc.ProgressBar},mLoginBtn:{default:null,type:cc.Node},mStatusLabel:{default:null,type:cc.Node},mVersionLabel:{default:null,type:cc.Node},mPercentageLabel:{default:null,type:cc.Label},mCsButton:{default:null,type:cc.Node},progressMode:{default:h.CHECKMAINTENANCE,type:h}},n.mVersionLabel={default:null,type:cc.Label},n.i18nJson={default:null,type:cc.JsonAsset},n.mDescLabel={default:null,type:cc.Node},n.mMaintenanceView=null,n.mMaintenanceViewPrefab={default:null,type:cc.Prefab},n.connectServerDesc="",n.loginDesc="",n.updateDesc="",n.enterDesc="",n),onLoad:function(){var e=this;this.progress=0,this.mProgressBar.progress=this.progress,this.maintenanceModeComplete=!1,this.getInitDataComplete=!1,this.loginComplete=!1,this.getDataComplete=!1,this.mStatusMessage="",this.mNextScene="Lobby",this.isLobbyPreloaded=!1,this.isLandingPreloaded=!1,cc.director.preloadScene(this.mNextScene,function(){e.isLobbyPreloaded=!0}),cc.resources.load("prefabs/LoadingView/LoadingView",cc.Prefab,function(e,t){e&&console.error("Failed to load prefab:",e),o.default.setLoadingViewPrefabs(t)}),cc.resources.load("prefabs/AlertView/AlertView",cc.Prefab,function(e,t){e&&console.error("Failed to load prefab:",e),o.default.setAlertViewPrefabs(t)})},onDestroy:function(){this.stopDotAnimation()},startDotAnimation:function(){var e=this,t=0;this.dotInterval=setInterval(function(){var n=".".repeat(t=(t+1)%4);e.mStatusLabel.getComponent(cc.Label).string=""+e.mStatusMessage+n},500)},stopDotAnimation:function(){clearInterval(this.dotInterval)},onLoginButtonDidPressed:function(e,t,n){void 0===n&&(n=!1);var a=this;n||o.default.playButtonClickSound(),cc.resources.load("prefabs/login/login",cc.Prefab,function(e,t){if(e)return console.error("Failed to load prefab:",e),void o.default.hideLoadingView(a);null==a.myLoginView&&(a.myLoginView=cc.instantiate(t).getComponent("Login"),a.updatePrefabSize(),a.myLoginView.setCallBack(a)),a.myLoginView.updateView(a),a.node.addChild(a.myLoginView.node),o.default.hideLoadingView(a)})},onLoginCloseButtonDidPressed:function(){this.node.removeChild(this.myLoginView.node)},onLanguageCloseButtonDidPressed:function(){this.node.removeChild(this.myLanguageView.node),this.progressMode=h.GETDATA},update:(d=u(s().mark(function e(t){var n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.progressMode,e.next=e.t0===h.CHECKMAINTENANCE?3:e.t0===h.GETINITDATA?5:e.t0===h.LOGIN?11:e.t0===h.GETDATA?21:e.t0===h.SUCCESS?24:27;break;case 3:return this.maintenanceModeComplete||(this.maintenanceModeComplete=!0,this.progressMode=h.GETINITDATA),e.abrupt("break",27);case 5:if(this.mProgressBar.progress<.2&&(this.progress+=.1*t),this.getInitDataComplete){e.next=10;break}return this.getInitDataComplete=!0,e.next=10,this.callGetSplashDataApi();case 10:return e.abrupt("break",27);case 11:if(this.mProgressBar.progress<.5&&(this.progress+=.1*t),this.loginComplete){e.next=20;break}if(this.loginComplete=!0,!localStorage.getItem("verified_username")||!localStorage.getItem("verified_password")){e.next=18;break}return e.next=17,this.callLoginApi("",localStorage.getItem("verified_username"),localStorage.getItem("verified_password"),"");case 17:return e.abrupt("return");case 18:n=this,cc.resources.load("prefabs/language/language",cc.Prefab,function(e,t){e?console.error("Failed to load prefab:",e):(null==n.myLanguageView&&(n.myLanguageView=cc.instantiate(t).getComponent("Language"),n.updatePrefabSize()),n.myLanguageView.updateView(n),n.node.addChild(n.myLanguageView.node))});case 20:return e.abrupt("break",27);case 21:return this.mProgressBar.progress<.7&&(this.progress+=.1*t),this.getDataComplete||(this.getDataComplete=!0,this.progress=.7,this.progressMode=h.SUCCESS),e.abrupt("break",27);case 24:return this.mProgressBar.progress<.99&&(this.progress+=.1*t),"Lobby"==this.mNextScene&&this.isLobbyPreloaded&&1!=this.progress&&(this.progress=1,cc.director.loadScene(this.mNextScene)),e.abrupt("break",27);case 27:this.progress=this.progress>1?1:this.progress,this.mProgressBar.progress=this.progress;case 29:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)}),callGetSplashDataApi:function(){var e=this;return u(s().mark(function t(){var n;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.default.getDashboard();case 2:200==(n=t.sent).status&&(a.default.setPhoneCode(n.settings.regional.phonePrefix),a.default.setCurrentLanguage(null==localStorage.getItem("current_language")?n.settings.languages.defaultLanguage:localStorage.getItem("current_language")),a.default.setAnnouncement(n.settings.announcements),localStorage.setItem("from_index",JSON.stringify(n))),e.progressMode=h.LOGIN;case 5:case"end":return t.stop()}},t)}))()},callLoginApi:function(e,t,n,o){var a=this;return u(s().mark(function r(){var c,l;return s().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i.default.login(e,t,n,o);case 3:if(200!=(c=r.sent).status){r.next=12;break}return localStorage.setItem("verified_username",t),localStorage.setItem("verified_password",n),localStorage.setItem("token",c.token),a.progressMode=h.GETDATA,r.abrupt("return");case 12:console.log("else");case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(0),console.error("callLoginApi Error:",r.t0);case 18:localStorage.setItem("verified_username",""),localStorage.setItem("verified_password",""),localStorage.setItem("token",""),l=a,cc.resources.load("prefabs/language/language",cc.Prefab,function(e,t){e?console.error("Failed to load prefab:",e):(null==l.myLanguageView&&(l.myLanguageView=cc.instantiate(t).getComponent("Language"),l.updatePrefabSize()),l.myLanguageView.updateView(l),l.node.addChild(l.myLanguageView.node))});case 23:case"end":return r.stop()}},r,null,[[0,15]])}))()},onCsButtonClicked:function(){window.open(a.default.getLiveChat(),"_blank").focus()},localizeUI:function(){},updatePrefabSize:function(){var e=cc.view.getVisibleSize();this.myLanguageView&&this.myLanguageView.init(0,0,e.width,e.height)}}),cc._RF.pop()},{"../Services/AuthServices":"AuthServices","../Services/GameService":"GameService","../lib/SharedData":"SharedData","../lib/SharedFunction":"SharedFunction"}],TransactionService:[function(e,t,n){"use strict";cc._RF.push(t,"2cb43AvNY9G+aWS8t85u0H8","TransactionService");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{s(o.next(e))}catch(t){i(t)}}function c(e){try{s(o.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,c)}s((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(c){i=[6,c],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TransactionService=void 0;var i=e("./NetworkService"),r=function(){function e(){}return e.getTransactions=function(e,t){var n,r,c;return void 0===t&&(t={}),o(this,void 0,Promise,function(){var o,s,l,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},void 0!==t.page&&null!==t.page&&(o.page=t.page),void 0!==t.limit&&null!==t.limit&&(o.limit=t.limit),void 0!==t.type&&null!==t.type&&(o.type=t.type),void 0!==t.startDate&&null!==t.startDate&&(o.startDate=t.startDate),void 0!==t.endDate&&null!==t.endDate&&(o.endDate=t.endDate),[4,i.NetworkService.get(this.GET_TRANSACTIONS_ENDPOINT,o,{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}})];case 1:return s=a.sent(),l=(null===(n=s.data)||void 0===n?void 0:n.data)||s.data,[2,{status:s.status,success:null===(r=s.data)||void 0===r?void 0:r.success,message:(null===(c=s.data)||void 0===c?void 0:c.message)||s.message,data:l,transactions:null==l?void 0:l.transactions,summary:null==l?void 0:l.summary,pagination:null==l?void 0:l.pagination}];case 2:throw u=a.sent(),console.error("TransactionService.getTransactions error:",u),{status:u.status||500,data:u.data||null,message:u.message||"Failed to fetch game transactions",error:u};case 3:return[2]}})})},e.getTransactionById=function(e,t){var n,r,c;return o(this,void 0,Promise,function(){var o,s,l,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o=this.GET_TRANSACTION_BY_ID_ENDPOINT+"/"+t,[4,i.NetworkService.get(o,void 0,{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}})];case 1:return s=a.sent(),l=(null===(n=s.data)||void 0===n?void 0:n.data)||s.data,[2,{status:s.status,success:null===(r=s.data)||void 0===r?void 0:r.success,message:(null===(c=s.data)||void 0===c?void 0:c.message)||s.message,data:l,transaction:l}];case 2:throw u=a.sent(),console.error("TransactionService.getTransactionById error:",u),{status:u.status||500,data:u.data||null,message:u.message||"Failed to fetch transaction",error:u};case 3:return[2]}})})},e.GET_TRANSACTIONS_ENDPOINT="/api/public/v1/game-transactions",e.GET_TRANSACTION_BY_ID_ENDPOINT="/api/public/v1/game-transactions",e}();n.TransactionService=r,n.default=r,cc._RF.pop()},{"./NetworkService":"NetworkService"}],TwoFAService:[function(e,t,n){"use strict";cc._RF.push(t,"1c6c0+15LFC5bGvYIr6QmuW","TwoFAService");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{s(o.next(e))}catch(t){i(t)}}function c(e){try{s(o.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,c)}s((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(c){i=[6,c],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TwoFAService=void 0;var i=e("./NetworkService"),r=function(){function e(){}return e.setup2FA=function(e){var t,n,r,c,s;return o(this,void 0,Promise,function(){var o,l;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,i.NetworkService.post(this.SETUP_2FA_ENDPOINT,void 0,{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}})];case 1:return[2,{status:(o=a.sent()).status,success:null===(t=o.data)||void 0===t?void 0:t.success,message:(null===(n=o.data)||void 0===n?void 0:n.message)||o.message,secret:null===(r=o.data)||void 0===r?void 0:r.secret,qrCode:null===(c=o.data)||void 0===c?void 0:c.qrCode,manualEntryKey:null===(s=o.data)||void 0===s?void 0:s.manualEntryKey,data:o.data}];case 2:throw l=a.sent(),console.error("TwoFAService.setup2FA error:",l),{status:l.status||500,data:l.data||null,message:l.message||"Failed to setup 2FA",error:l};case 3:return[2]}})})},e.SETUP_2FA_ENDPOINT="/api/public/v1/players/twofa/setup",e}();n.TwoFAService=r,n.default=r,cc._RF.pop()},{"./NetworkService":"NetworkService"}],UnselectedTab:[function(e,t){"use strict";cc._RF.push(t,"2b9c0UBfQVI6aGaHgYGuQP9","UnselectedTab");var n,o=(n=e("SharedFunction"))&&n.__esModule?n:{default:n};e("SharedData"),cc.Class({extends:cc.Component,properties:{mFocusTabImg:{default:null,type:cc.SpriteFrame},mNormalTabImg:{default:null,type:cc.SpriteFrame},myBG:{default:null,type:cc.Sprite},myLabel:{default:null,type:cc.Node}},onLoad:function(){},init:function(e,t,n,o,a){this.node.x=e,this.node.y=t,this.name=n,this.mCallBack=a,this.myLabel.getComponent(cc.Label).string=n,60==e&&(this.myBG.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg,this.onclick(null,null,!0,o))},onclick:function(e,t,n,a){n||o.default.playButtonClickSound(),this.mCallBack.onTabDidPressed(this.name,a),this.myBG.getComponent(cc.Sprite).spriteFrame=this.mFocusTabImg},unselect:function(){this.myBG.getComponent(cc.Sprite).spriteFrame=this.mNormalTabImg}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],UserService:[function(e,t,n){"use strict";cc._RF.push(t,"7c098SRQltBqLB4ZNjmu8kV","UserService");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{s(o.next(e))}catch(t){i(t)}}function c(e){try{s(o.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,c)}s((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(c){i=[6,c],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.UserService=void 0;var i=e("./NetworkService"),r=function(){function e(){}return e.getProfile=function(e){var t,n,r;return o(this,void 0,Promise,function(){var o,c,s;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,i.NetworkService.get(this.GET_USER_PROFILE_ENDPOINT,void 0,{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}})];case 1:return o=a.sent(),c=(null===(t=o.data)||void 0===t?void 0:t.data)||o.data,[2,{status:o.status,success:null===(n=o.data)||void 0===n?void 0:n.success,message:(null===(r=o.data)||void 0===r?void 0:r.message)||o.message,data:c,player:null==c?void 0:c.player}];case 2:throw s=a.sent(),console.error("UserService.getProfile error:",s),{status:s.status||500,data:s.data||null,message:s.message||"Failed to fetch user profile",error:s};case 3:return[2]}})})},e.updateProfile=function(e,t){var n,r,c;return o(this,void 0,Promise,function(){var o,s,l,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={},void 0!==t.fullName&&null!==t.fullName&&(o.fullName=t.fullName),void 0!==t.email&&null!==t.email&&(o.email=t.email),void 0!==t.phone&&null!==t.phone&&(o.phone=t.phone),void 0!==t.emailOtp&&null!==t.emailOtp&&(o.emailOtp=t.emailOtp),void 0!==t.phoneOtp&&null!==t.phoneOtp&&(o.phoneOtp=t.phoneOtp),[4,i.NetworkService.put(this.UPDATE_USER_PROFILE_ENDPOINT,o,{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}})];case 1:return s=a.sent(),l=(null===(n=s.data)||void 0===n?void 0:n.data)||s.data,[2,{status:s.status,success:null===(r=s.data)||void 0===r?void 0:r.success,message:(null===(c=s.data)||void 0===c?void 0:c.message)||s.message,data:l,player:null==l?void 0:l.player}];case 2:throw u=a.sent(),console.error("UserService.updateProfile error:",u),{status:u.status||500,data:u.data||null,message:u.message||"Failed to update user profile",error:u};case 3:return[2]}})})},e.changePassword=function(e,t){var n,r;return o(this,void 0,Promise,function(){var o,c,s;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={currentPassword:t.currentPassword,newPassword:t.newPassword},[4,i.NetworkService.put(this.CHANGE_PASSWORD_ENDPOINT,o,{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}})];case 1:return[2,{status:(c=a.sent()).status,success:null===(n=c.data)||void 0===n?void 0:n.success,message:(null===(r=c.data)||void 0===r?void 0:r.message)||c.message,data:c.data}];case 2:throw s=a.sent(),console.error("UserService.changePassword error:",s),{status:s.status||500,data:s.data||null,message:s.message||"Failed to change password",error:s};case 3:return[2]}})})},e.getBalance=function(e){var t,n,r;return o(this,void 0,Promise,function(){var o,c,s;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,i.NetworkService.get(this.GET_BALANCE_ENDPOINT,void 0,{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}})];case 1:return o=a.sent(),c=(null===(t=o.data)||void 0===t?void 0:t.data)||o.data,[2,{status:o.status,success:null===(n=o.data)||void 0===n?void 0:n.success,message:(null===(r=o.data)||void 0===r?void 0:r.message)||o.message,data:c,balance:null==c?void 0:c.balance,currency:null==c?void 0:c.currency}];case 2:throw s=a.sent(),console.error("UserService.getBalance error:",s),{status:s.status||500,data:s.data||null,message:s.message||"Failed to fetch balance",error:s};case 3:return[2]}})})},e.GET_USER_PROFILE_ENDPOINT="/api/public/v1/players/me",e.UPDATE_USER_PROFILE_ENDPOINT="/api/public/v1/players/me",e.CHANGE_PASSWORD_ENDPOINT="/api/public/v1/players/me/password",e.GET_BALANCE_ENDPOINT="/api/public/v1/players/balance",e}();n.UserService=r,n.default=r,cc._RF.pop()},{"./NetworkService":"NetworkService"}],VIPLevel:[function(e,t){"use strict";cc._RF.push(t,"9c785ctUdJOQr3YTXa98kNg","VIPLevel");var n=o(e("SharedFunction"));function o(e){return e&&e.__esModule?e:{default:e}}o(e("SharedData")),cc.Class({extends:cc.Component,properties:{mCallBack:null,mLevelList:[],createdInfos:[],mBackground:{default:null,type:cc.Node},myScrollView:{default:null,type:cc.Node},myScrollContent:{default:null,type:cc.Node},mySummaryContainer:{default:null,type:cc.Node},myDetailContainer:{default:null,type:cc.Node},myLevelInfoPrefab:{default:null,type:cc.Prefab},myRichText:{default:null,type:cc.Node},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI()},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},updateView:function(e){this.localizeUI(),this.mCallBack=e,this.mBackground.active=!0,this.node.opacity=255,this.myDetailContainer.active=!1,this.mySummaryContainer.active=!0,this.mLevelList=[{name:"New Player",level:1,dailyLimit:0,dailyTransaction:0,upgradeBonus:0,rescueBonus:3,birthdayBonus:288,present:"No"},{name:"Silver Card",level:2,dailyLimit:0,dailyTransaction:0,upgradeBonus:888,rescueBonus:4,birthdayBonus:688,present:"No"},{name:"Gold Card",level:3,dailyLimit:0,dailyTransaction:0,upgradeBonus:1888,rescueBonus:5,birthdayBonus:1288,present:"No"},{name:"Platinum Card",level:4,dailyLimit:0,dailyTransaction:0,upgradeBonus:3888,rescueBonus:6,birthdayBonus:2888,present:"No"},{name:"Ruby Card",level:5,dailyLimit:0,dailyTransaction:0,upgradeBonus:8888,rescueBonus:7,birthdayBonus:6888,present:"No"},{name:"Diamond Card",level:6,dailyLimit:0,dailyTransaction:0,upgradeBonus:38888,rescueBonus:8,birthdayBonus:28888,present:"No"}],this.drawLevelInfo();var t=this.mBackground.getChildByName("card_bg");t.setScale(0),cc.tween(t).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},setCallBack:function(e){this.mCallBack=e},drawLevelInfo:function(){for(var e in this.mLevelList){var t=this.mLevelList[e],n=new cc.instantiate(this.myLevelInfoPrefab).getComponent("LevelInfo");n.init(147+280*parseInt(e),0,t,this),this.myScrollContent.addChild(n.node),this.createdInfos.push(n)}this.myScrollContent.width=14+279*this.mLevelList.length,this.myScrollView.getComponent(cc.ScrollView).scrollToLeft(0)},onCloseButtonDidPressed:function(e,t,o){var a=this;if(o||n.default.playButtonClickSound(),this.mySummaryContainer.active){var i=this.mBackground.getChildByName("card_bg");cc.tween(i).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){a.createdInfos.forEach(function(e){e&&e.isValid&&e.node.removeFromParent()}),a.createdInfos=[],a.mCallBack&&a.mCallBack.myCloseVIPLevelDidPressed()}).start()}else this.myDetailContainer.active&&this.onShowHideLevelDetail(!1)},onShowHideLevelDetail:function(e,t,o){var a=this,i=this.mBackground.getChildByName("card_bg");cc.tween(i).to(1/6,{scale:1.1}).to(1/6,{scale:0}).call(function(){e?(a.mTitleLabel.getComponent(cc.Label).string="VIP "+t+" - "+o,a.mySummaryContainer.active=!1,a.myDetailContainer.active=!0):(a.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(a.i18nJson,"title"),a.myDetailContainer.active=!1,a.mySummaryContainer.active=!0)}).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=n.default.getLocalizedString(this.i18nJson,"title")},updatePrefabSize:function(){cc.view.getVisibleSize()}}),cc._RF.pop()},{SharedData:"SharedData",SharedFunction:"SharedFunction"}],Verification:[function(e,t){"use strict";cc._RF.push(t,"de2a1Z9xx5PgYodxpTIQLcI","Verification");var n=i(e("SharedData")),o=i(e("SharedFunction")),a=i(e("../Services/AuthServices"));function i(e){return e&&e.__esModule?e:{default:e}}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),r=new B(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(a,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=u(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var d={};function h(){}function m(){}function f(){}var p={};s(p,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(N([])));y&&y!==t&&n.call(y,a)&&(p=y);var v=f.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function o(a,i,r,c){var s=u(e[a],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,r,c)},function(e){o("throw",e,r,c)}):t.resolve(d).then(function(e){l.value=e,r(l)},function(e){return o("throw",e,r,c)})}c(s.arg)}var a;this._invoke=function(e,n){function i(){return new t(function(t,a){o(e,n,t,a)})}return a=a?a.then(i,i):i()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=f,s(v,"constructor",f),s(f,"constructor",m),m.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new w(l(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},b(v),s(v,c,"Generator"),s(v,a,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=N,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function c(e,t,n,o,a,i,r){try{var c=e[i](r),s=c.value}catch(error){return void n(error)}c.done?t(s):Promise.resolve(s).then(o,a)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function r(e){c(i,o,a,r,s,"next",e)}function s(e){c(i,o,a,r,s,"throw",e)}r(void 0)})}}cc.Class({extends:cc.Component,properties:{mCallBack:null,verifyType:null,mInitSource:"Register",mIsRequestedTac:!1,mForgotUsername:"",isFromEditBasicInfo:!1,mForgetPasswordResponse:{default:{}},mBackground:{default:null,type:cc.Node},myVerifyBox1:{default:null,type:cc.EditBox},myVerifyBox2:{default:null,type:cc.EditBox},myVerifyBox3:{default:null,type:cc.EditBox},myVerifyBox4:{default:null,type:cc.EditBox},myVerifyBox5:{default:null,type:cc.EditBox},myVerifyBox6:{default:null,type:cc.EditBox},myErrorLabel:{default:null,type:cc.Node},mCountDownTimer:{default:30,type:cc.Float},myCDLabel:{default:null,type:cc.Node},myNoCodeLabel:{default:null,type:cc.Node},myResendLabel:{default:null,type:cc.Node},mDescLabel:{default:null,type:cc.Node},mSelectedTabIndex:0,mUserIdLabel:{default:null,type:cc.Node},mBackgroundAnimation:{default:null,type:cc.Node},mContainer:{default:null,type:cc.Node},mPhoneButton:{default:null,type:cc.Node},mSMSButton:{default:null,type:cc.Node},mWhatsappButton:{default:null,type:cc.Node},mPhoneNumberLabel:{default:null,type:cc.Node},mCodeInput:{default:null,type:cc.Node},mRequestTacButton:{default:null,type:cc.Node},mNewPasswordInput:{default:null,type:cc.EditBox},mConfirmPasswordInput:{default:null,type:cc.EditBox},mRewardLabel:{default:null,type:cc.Node},mOneLabel:{default:null,type:cc.Node},mInviteLabel:{default:null,type:cc.Node},mVoiceLabel:{default:null,type:cc.Node},mPhoneNoLabel:{default:null,type:cc.Node},mPhoneNoHolderLabel:{default:null,type:cc.Node},mPhoneNoHintLabel:{default:null,type:cc.Node},mCodeLabel:{default:null,type:cc.Node},mCodeHolderLabel:{default:null,type:cc.Node},mSendLabel:{default:null,type:cc.Node},mContinueLabel:{default:null,type:cc.Node},mNewPassLabel:{default:null,type:cc.Node},mNewPassHolderLabel:{default:null,type:cc.Node},mConPassLabel:{default:null,type:cc.Node},mConPassHolderLabel:{default:null,type:cc.Node},mPhoneCodeLabel:{default:null,type:cc.Node},i18nJson:{default:null,type:cc.JsonAsset},mTitleLabel:{default:null,type:cc.Node},mNoCodeLabel:{default:null,type:cc.Node},mResendLabel:{default:null,type:cc.Node},mVerifyLabel:{default:null,type:cc.Node},mHvAccountLabel:{default:null,type:cc.Node},mLoginHereLabel:{default:null,type:cc.Node}},onLoad:function(){this.localizeUI();for(var e=1;e<=5;e++)this["myVerifyBox"+e].node.on("editing-did-began",function(){this._this["myVerifyBox"+this.count].string=""}.bind({_this:this,count:e})),this["myVerifyBox"+e].node.on("text-changed",function(){this._this["myVerifyBox"+this.count].string.length>=1&&this._this["myVerifyBox"+(this.count+1)].focus()}.bind({_this:this,count:e}))},updateView:function(e,t,a,i){this.localizeUI(),"profileEmailVerify"==t?(this.isFromEditBasicInfo=!0,this.mHvAccountLabel.active=!1,this.mLoginHereLabel.active=!1):(this.mHvAccountLabel.active=!0,this.mLoginHereLabel.active=!0),this.mCallBack=e,this.verifyType=this.isFromEditBasicInfo?"emailVerify":t,this.mInitSource=a,this.mBackground.active=!0,this.myErrorLabel.active=!1,this.myCDLabel.active=!0,this.myNoCodeLabel.active=!1,this.myResendLabel.active=!1,this.node.opacity=255,this.mCountDownTimer=30,this.mIsRequestedTac=!1;for(var r=1;r<=6;r++)this["myVerifyBox"+r].getComponent(cc.EditBox).string="";if("phoneVerify"==this.verifyType){var c=localStorage.getItem("unverified_phoneNum");this.mDescLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"verificationSent")+" "+n.default.getPhoneCode()+" "+c.substring(0,4)+" XXXX",this.onRequestTacButtonDidPressed("","",!0)}if("emailVerify"==this.verifyType){var s=localStorage.getItem("unverified_email");this.mDescLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"verificationSent")+" "+s.substring(0,1)+"XXXX"+s.substring(s.indexOf("@")),this.onRequestTacButtonDidPressed("","",!0)}"forgotPasswordVerify"==this.verifyType&&(this.mDescLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,i),this.myCDLabel.active=!0,this.myNoCodeLabel.active=!1,this.myResendLabel.active=!1,this.mIsRequestedTac=!0,this.myResendLabel.getComponent(cc.Button).interactable=!1);var l=this.mBackground.getChildByName("verification_bg");l.setScale(0),cc.tween(l).to(1/3,{scale:1}).to(1/12,{scale:.95}).to(1/12,{scale:1}).start()},setForgetPasswordResponse:function(e){this.mForgetPasswordResponse=e},setUsername:function(e){this.mForgotUsername=e},init:function(e,t,n,o){this.node.x=e,this.node.y=t,this.node.width=n,this.node.height=o,this.mBackground.width=n,this.mBackground.height=o},setCallBack:function(e,t){void 0===t&&(t="LOBBY"),this.mCallBack=e,this.isFrom=t},onTabbarButtonDidPressed:function(e,t){o.default.playButtonClickSound(),this.mSelectedTabIndex=t;var n=new cc.Color(255,255,255),a=new cc.Color(253,238,193);this.mPhoneButton.getComponent(cc.Button).interactable=!0,this.mSMSButton.getComponent(cc.Button).interactable=!0,this.mWhatsappButton.getComponent(cc.Button).interactable=!0,this.mPhoneButton.getChildByName("effect").active=!1,this.mSMSButton.getChildByName("effect").active=!1,this.mWhatsappButton.getChildByName("effect").active=!1,this.mPhoneButton.getChildByName("label").color=a,this.mSMSButton.getChildByName("label").color=a,this.mWhatsappButton.getChildByName("label").color=a,0==t?(this.mPhoneButton.getComponent(cc.Button).interactable=!1,this.mPhoneButton.getChildByName("effect").active=!0,this.mPhoneButton.getChildByName("label").color=n):1==t?(this.mSMSButton.getComponent(cc.Button).interactable=!1,this.mSMSButton.getChildByName("effect").active=!0,this.mSMSButton.getChildByName("label").color=n):(this.mWhatsappButton.getComponent(cc.Button).interactable=!1,this.mWhatsappButton.getChildByName("effect").active=!0,this.mWhatsappButton.getChildByName("label").color=n)},myCloseButtonDidPressedForgotPassword:function(e,t,n,a,i,r,c){var s=this;n||o.default.playButtonClickSound();var l=this.mBackground.getChildByName("verification_bg");cc.tween(l).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){s.mCallBack&&s.mCallBack.onVerificationCloseButtonDidPressed(a,i,r,c,s.mForgotUsername)}).start()},myCloseButtonDidPressed:function(e,t,n,a,i,r){var c=this;n||o.default.playButtonClickSound();var s=this.mBackground.getChildByName("verification_bg");cc.tween(s).to(1/6,{scale:1.1}).to(1/6,{scale:0}).start(),cc.tween(this.node).delay(1/6).to(1/6,{opacity:0}).call(function(){c.mCallBack&&c.mCallBack.onVerificationCloseButtonDidPressed(a,i,r)}).start()},onRequestForgotPasswordTacButtonDidPressed:function(e,t,n){var i=this;return s(r().mark(function e(){var t;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n||o.default.playButtonClickSound(),o.default.showLoadingView("",i),e.prev=3,e.next=6,a.default.forgotPassword({username:i.mForgotUsername});case 6:(200==(t=e.sent).status||t.success)&&(i.myCDLabel.active=!0,i.myNoCodeLabel.active=!1,i.myResendLabel.active=!1,i.mIsRequestedTac=!0,i.myResendLabel.getComponent(cc.Button).interactable=!1,o.default.hideLoadingView(i)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),i.showLableError(i.myErrorLabel,e.t0.message),o.default.hideLoadingView(i);case 14:case"end":return e.stop()}},e,null,[[3,10]])}))()},onRequestTacButtonDidPressed:function(e,t,i){var c=this;return s(r().mark(function s(){var l;return r().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("forgotPasswordVerify"!=c.verifyType){r.next=3;break}return c.onRequestForgotPasswordTacButtonDidPressed(e,t,i),r.abrupt("return");case 3:return i||o.default.playButtonClickSound(),o.default.showLoadingView("",c),r.prev=6,r.next=9,a.default.sendOtp({identifier:"phoneVerify"==c.verifyType?n.default.getPhoneCode()+localStorage.getItem("unverified_phoneNum"):localStorage.getItem("unverified_email"),type:"phoneVerify"==c.verifyType?"sms":"email",purpose:"register"});case 9:l=r.sent,Object.keys(l).length>0&&(200==l.status?(c.myCDLabel.active=!0,c.myNoCodeLabel.active=!1,c.myResendLabel.active=!1,c.mIsRequestedTac=!0,c.myResendLabel.getComponent(cc.Button).interactable=!1,o.default.hideLoadingView(c)):c.showLableError(c.myErrorLabel,l.message)),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(6),c.showLableError(c.myErrorLabel,r.t0.message),o.default.hideLoadingView(c);case 17:case"end":return r.stop()}},s,null,[[6,13]])}))()},onVerifyPhoneSubmitDidPressed:function(e,t,i){var c=this;return s(r().mark(function e(){var t,s,l,u,d,h;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i||o.default.playButtonClickSound(),t="",s=1;case 3:if(!(s<=6)){e.next=14;break}if(""==(l=c["myVerifyBox"+s].getComponent(cc.EditBox).string)){e.next=9;break}t+=l,e.next=11;break;case 9:return c.showLableError(c.myErrorLabel,o.default.getLocalizedString(c.i18nJson,"invalidOTP")),e.abrupt("return");case 11:s++,e.next=3;break;case 14:return o.default.showLoadingView("",c),e.prev=15,u={},"forgotPasswordVerify"==c.verifyType?(u.identifier=c.mForgetPasswordResponse.contact,u.type=c.mForgetPasswordResponse.type,u.code=t,u.testOnly=!0):(u.identifier="phoneVerify"==c.verifyType?n.default.getPhoneCode()+localStorage.getItem("unverified_phoneNum"):localStorage.getItem("unverified_email"),u.type="phoneVerify"==c.verifyType?"sms":"email",u.code=t,u.testOnly=!0),e.next=20,a.default.verifyOtp(u);case 20:if(200!=e.sent.status){e.next=50;break}if(!c.isFromEditBasicInfo){e.next=26;break}return c.myCloseButtonDidPressed("","",!0,"editBasicInfo",null,t),o.default.hideLoadingView(c),e.abrupt("return");case 26:if("ForgotPassword"!=c.mInitSource){e.next=33;break}return localStorage.setItem("reset_password_otp",t),c.myCloseButtonDidPressedForgotPassword("","",!0,"resetPassword",null,t,c.mForgetPasswordResponse.type),o.default.hideLoadingView(c),e.abrupt("return");case 33:if("PersonalCenter"!=c.mInitSource){e.next=38;break}return localStorage.setItem("verify_personal_otp",t),c.myCloseButtonDidPressed("","",!0,"personalCenter",null,t),o.default.hideLoadingView(c),e.abrupt("return");case 38:if(d=JSON.parse(localStorage.getItem("from_index")),h=d.settings.verification,"phoneVerify"!=c.verifyType||!h.emailVerification.enabled||"onRegister"!=h.emailVerification.required){e.next=47;break}return localStorage.setItem("unverified_phoneotp",t),c.myCloseButtonDidPressed("","",!0,"emailVerify"),o.default.hideLoadingView(c),e.abrupt("return");case 47:c.callRegisterApi(localStorage.getItem("unverified_username"),localStorage.getItem("unverified_fullName"),n.default.getPhoneCode()+localStorage.getItem("unverified_phoneNum"),localStorage.getItem("unverified_password"),localStorage.getItem("unverified_referal"),localStorage.getItem("unverified_email"),"phoneVerify"==c.verifyType?t:localStorage.getItem("unverified_phoneotp"),"phoneVerify"==c.verifyType?"":t);case 48:e.next=51;break;case 50:c.showLableError(c.myErrorLabel,error.message);case 51:e.next=57;break;case 53:e.prev=53,e.t0=e.catch(15),c.showLableError(c.myErrorLabel,e.t0.message),o.default.hideLoadingView(c);case 57:case"end":return e.stop()}},e,null,[[15,53]])}))()},callRegisterApi:function(e,t,n,i,c,l,u,d){var h=this;return s(r().mark(function s(){var m;return r().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.default.register({fullName:t,username:e,email:l,password:i,phone:n,referralCode:c,phoneOtp:u,emailOtp:d});case 3:201==(m=r.sent).status?(localStorage.setItem("verified_username",e),localStorage.setItem("verified_password",i),localStorage.setItem("token",m.token),h.myCloseButtonDidPressed("","",!0,"lobby")):h.showLableError(h.myErrorLabel,m.message),o.default.hideLoadingView(h),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),400==r.t0.status?h.myCloseButtonDidPressed("","",!0,"registerPage",r.t0.message):h.showLableError(h.myErrorLabel,r.t0.message),o.default.hideLoadingView(h);case 12:case"end":return r.stop()}},s,null,[[0,8]])}))()},showLableError:function(e,t){this.myErrorLabel.active=!1,e&&(e.getComponent(cc.Label).string=t,e.active=!0,cc.tween(e).to(1/12,{scale:1.1}).to(1/12,{scale:1}).start())},update:function(e){this.mIsRequestedTac&&(this.mCountDownTimer-=e,this.myCDLabel.getComponent(cc.Label).string=parseInt(this.mCountDownTimer)+" Secs",this.mCountDownTimer<=1&&(this.myCDLabel.active=!1,this.myNoCodeLabel.active=!0,this.myResendLabel.active=!0,this.mCountDownTimer=30,this.mIsRequestedTac=!1,this.myResendLabel.getComponent(cc.Button).interactable=!0))},localizeUI:function(){this.mTitleLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"title"),this.mNoCodeLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"nocode"),this.mResendLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"resend"),this.mVerifyLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"verify"),this.mHvAccountLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"hvAccount"),this.mLoginHereLabel.getComponent(cc.Label).string=o.default.getLocalizedString(this.i18nJson,"loginhere")}}),cc._RF.pop()},{"../Services/AuthServices":"AuthServices",SharedData:"SharedData",SharedFunction:"SharedFunction"}],WalletService:[function(e,t,n){"use strict";cc._RF.push(t,"f4fe2hRp0lMBp0ehscfy9KY","WalletService");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function r(e){try{s(o.next(e))}catch(t){i(t)}}function c(e){try{s(o.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,c)}s((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(c){i=[6,c],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.WalletService=void 0;var i=e("./NetworkService"),r=function(){function e(){}return e.getWalletLedger=function(e,t){var n,r,c;return o(this,void 0,Promise,function(){var o,s,l,u;return a(this,function(a){switch(a.label){case 0:if(a.trys.push([0,2,,3]),!t.currency)throw new Error("Currency parameter is required");return(o={}).currency=t.currency,void 0!==t.page&&null!==t.page&&(o.page=t.page),void 0!==t.limit&&null!==t.limit&&(o.limit=t.limit),[4,i.NetworkService.get(this.GET_WALLET_LEDGER_ENDPOINT,o,{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}})];case 1:return s=a.sent(),l=(null===(n=s.data)||void 0===n?void 0:n.data)||s.data,[2,{status:s.status,success:null===(r=s.data)||void 0===r?void 0:r.success,message:(null===(c=s.data)||void 0===c?void 0:c.message)||s.message,data:l,entries:null==l?void 0:l.entries,pagination:null==l?void 0:l.pagination}];case 2:throw u=a.sent(),console.error("WalletService.getWalletLedger error:",u),{status:u.status||500,data:u.data||null,message:u.message||"Failed to fetch wallet ledger",error:u};case 3:return[2]}})})},e.GET_WALLET_LEDGER_ENDPOINT="/api/public/v1/wallet-ledger",e}();n.WalletService=r,n.default=r,cc._RF.pop()},{"./NetworkService":"NetworkService"}]},{},["AlertView","Avatar","AvatarList","CalendarManager","SimpleBirthdayPicker","CustomerService","CustomerServiceItem","Deposit","ManageCard","DeveloperLogo","GameContainer","GameList","GameType","GameWebView","Language","LoadingView","Settings","Landing","AnnounceItem","Announcement","AnnouncementDetail","Banner","DrawerCsItem","GameGroup","Lobby","ForgotPassword","Login","ResetPassword","DDLSelect","EditBasicInfo","PersonalCenter","UnselectedTab","Rebate","Registration","AuthServices","GameService","NetworkService","TransactionService","TwoFAService","UserService","WalletService","Splash","LevelInfo","VIPLevel","Verification","SharedData","SharedFunction","CCGIF","GIFLoadInit","GIFParser","LZW"]);